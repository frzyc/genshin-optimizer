"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[49],{38860:(e,t,a)=>{a.d(t,{mY:()=>W,N5:()=>N,Y4:()=>M,mW:()=>$});var r=a(31461),n=a(47746),i=a(10180),l=a(30609),s=a(66198),o=a(80422),c=a(67550),d=a(38951),u=a(2784),h=a(21548),Z=a(74637),f=a(58918),y=a(19807),p=a(25434),m=a(69190),g=a(36893),b=a(2344),v=a(94380),S=a(83993),x=a(82056),w=a(52903);function k({value:e,image:t="",text:a,theme:r,isSelected:n,addlElement:i,props:l}){return(0,w.BX)(v.Z,Object.assign({value:e},l,{children:[(0,w.tZ)(S.Z,{children:t}),(0,w.tZ)(x.Z,{primaryTypographyProps:{style:{fontWeight:n?r.typography.fontWeightMedium:r.typography.fontWeightRegular}},children:a}),i&&i]}),e)}var K=a(19665),P=a(71765),B=a(52972),C=a(28165);const A=["allArtifactKeysWithGrouper","selectedArtifactKeys","setArtifactKeys","getName","getImage","label"],X=["artSetKeys","setArtSetKeys"],I=["mainStatKeys","setMainStatKeys"],O=["substatKeys","setSubstatKeys"],E=["allArtifactKeysWithGrouper","selectedArtifactKey","setArtifactKey","getName","getImage","label","disable","showDefault","defaultText","defaultIcon"],G=["artSetKey","setArtSetKey","label"];function R(e){let{allArtifactKeysWithGrouper:t,selectedArtifactKeys:a,setArtifactKeys:o,getName:c,getImage:d,label:h}=e,Z=(0,r.Z)(e,A);const f=(0,n.Z)(),p=(0,u.useMemo)((()=>t.map((({key:e,grouper:t})=>({key:e,label:c(e),grouper:t})))),[t,c]);return(0,w.tZ)(i.Z,Object.assign({autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,options:p,value:a.map((e=>({key:e,label:c(e)}))),onChange:(e,t)=>{o(t.map((e=>e.key)))},getOptionLabel:e=>e.label,isOptionEqualToValue:(e,t)=>e.key===t.key,renderInput:e=>(0,w.tZ)(l.Z,Object.assign({},e,{label:h,variant:"filled",InputLabelProps:{style:{color:f.palette.text.primary}},color:a.length?"success":"primary",type:"search"})),renderOption:(e,t)=>(0,w.tZ)(k,{value:t.key,image:(0,w.tZ)(b.Z,{color:y.ZP.getVariant(t.key),children:d(t.key)}),text:(0,w.tZ)(b.Z,{color:y.ZP.getVariant(t.key),children:t.label}),theme:f,isSelected:a.includes(t.key),props:e},t.key),renderTags:(e,t)=>e.map(((e,a)=>{const r=g.Kj.find((t=>e.key===`${t}_dmg_`)),n=r||void 0;return(0,C.az)(s.Z,Object.assign({},t({index:a}),{key:e.key,icon:d(e.key),label:e.label,color:n}))}))},Z))}function N(e){let{artSetKeys:t,setArtSetKeys:a}=e,n=(0,r.Z)(e,X);const i=(0,p.Z)((()=>Z.y.getAll),[]),{t:l}=(0,h.$G)(["artifact","artifactNames_gen"]);if(!i)return null;const s=Object.entries(Z.y.setKeysByRarities(i)).flatMap((([e,t])=>t.map((t=>({key:t,grouper:+e}))))).sort(L);return(0,w.tZ)(R,Object.assign({allArtifactKeysWithGrouper:s,selectedArtifactKeys:t,setArtifactKeys:a,getName:e=>l(`artifactNames_gen:${e}`),getImage:e=>i(e).defIcon,label:l("artifact:autocompleteLabels.sets"),groupBy:e=>{var t,a;return null!=(t=null==(a=e.grouper)?void 0:a.toString())?t:""},renderGroup:e=>e.group&&(0,w.BX)(o.Z,{component:c.Z,children:[(0,w.BX)(d.Z,{sx:{top:"-1em"},children:[e.group," ",(0,w.tZ)(P.q,{stars:+e.group})]},`${e.group}Header`),e.children]},e.group)},n))}function W(e){let{mainStatKeys:t,setMainStatKeys:a}=e,n=(0,r.Z)(e,I);const{t:i}=(0,h.$G)("artifact");return(0,w.tZ)(R,Object.assign({allArtifactKeysWithGrouper:m.r.map((e=>({key:e}))),selectedArtifactKeys:t,setArtifactKeys:a,getName:e=>y.ZP.getArtStr(e),getImage:e=>B.Z[e],label:i("autocompleteLabels.mainStats")},n))}function $(e){let{substatKeys:t,setSubstatKeys:a}=e,n=(0,r.Z)(e,O);const{t:i}=(0,h.$G)("artifact");return(0,w.tZ)(R,Object.assign({allArtifactKeysWithGrouper:m._.map((e=>({key:e}))),selectedArtifactKeys:t,setArtifactKeys:a,getName:e=>y.ZP.getArtStr(e),getImage:e=>B.Z[e],label:i("autocompleteLabels.substats")},n))}function j(e){let{allArtifactKeysWithGrouper:t,selectedArtifactKey:a,setArtifactKey:l,getName:s,getImage:o,label:c,disable:d=(()=>!1),showDefault:h=!1,defaultText:Z="",defaultIcon:f=""}=e,y=(0,r.Z)(e,E);const p=(0,n.Z)(),m=(0,u.useMemo)((()=>(h?[{key:"",label:Z}]:[]).concat(t.map((({key:e,grouper:t})=>({key:e,label:s(e),grouper:t}))))),[t,s,Z,h]);return(0,w.tZ)(i.Z,Object.assign({autoHighlight:!0,options:m,clearIcon:a?void 0:"",value:{key:a,label:s(a)},onChange:(e,t,a)=>("change"!==e.type||"clear"!==a)&&l(t?t.key:""),getOptionLabel:e=>e.label?e.label:Z,isOptionEqualToValue:(e,t)=>e.key===t.key,getOptionDisabled:e=>d(e.key),renderInput:e=>(0,w.tZ)(K.Z,Object.assign({},e,{label:c,startAdornment:o(a),hasValue:!!a})),renderOption:(e,t)=>(0,w.tZ)(k,{value:t.key,image:o(t.key),text:t.label,theme:p,isSelected:a===t.key,props:e},t.key)},y))}function M(e){let{artSetKey:t,setArtSetKey:a,label:n=""}=e,i=(0,r.Z)(e,G);const l=(0,p.Z)((()=>Z.y.getAll),[]),{t:s}=(0,h.$G)(["artifact","artifactNames_gen"]);if(n=n||s("artifact:autocompleteLabels.set"),!l)return null;const u=Object.entries(Z.y.setKeysByRarities(l)).flatMap((([e,t])=>t.map((t=>({key:t,grouper:+e}))))).sort(L);return(0,w.tZ)(j,Object.assign({allArtifactKeysWithGrouper:u,selectedArtifactKey:t,setArtifactKey:a,getName:e=>e&&s(`artifactNames_gen:${e}`),getImage:e=>e?l(e).defIcon:(0,w.tZ)(w.HY,{}),label:n,groupBy:e=>{var t,a;return null!=(t=null==(a=e.grouper)?void 0:a.toString())?t:""},renderGroup:e=>e.group&&(0,w.BX)(o.Z,{component:c.Z,children:[(0,w.BX)(d.Z,{sx:{top:"-1em"},children:[e.group," ",(0,w.tZ)(P.q,{stars:+e.group})]},`${e.group}Header`),e.children]},e.group)},i))}function L(e,t){if(e.grouper>t.grouper)return-1;if(e.grouper<t.grouper)return 1;const a=f.Z.t(`artifactNames_gen:${e.key}`),r=f.Z.t(`artifactNames_gen:${t.key}`);return a<r?-1:a>r?1:0}},52267:(e,t,a)=>{a.r(t),a.d(t,{default:()=>tt});var r=a(9725),n=a(67732),i=a(67651),l=a(73673),s=a(92252),o=a(32510),c=a(85219),d=a(65992),u=a(47746),h=a(86432),Z=a(79906),f=a(42523),y=a(7671),p=a(41075),m=a(67550),g=a(38553),b=a(83249),v=a(62197),S=a(94380),x=a(72841),w=a(107),k=a(2784),K=a(21548),P=a(38860),B=a(31461),C=a(36893),A=a(45475),X=a(71765),I=a(52903);let O,E=e=>e;const G=["rarity","onChange","filter"];function R(e){let{rarity:t,onChange:a,filter:r}=e,n=(0,B.Z)(e,G);const{t:i}=(0,K.$G)("artifact");return(0,I.tZ)(A.Z,Object.assign({},n,{title:t?(0,I.tZ)(X.q,{stars:t}):i(O||(O=E`editor.rarity`)),color:t?"success":"primary",children:[5,4,3].map((e=>(0,I.tZ)(S.Z,{disabled:!r(e),onClick:()=>a(e),children:(0,I.tZ)(X.q,{stars:e})},e)))}))}var N=a(83993),W=a(82056),$=a(56961),j=a(9510);let M,L=e=>e;const T=["slotKey","onChange","hasUnselect"];function V(e){let{slotKey:t="",onChange:a,hasUnselect:r=!1}=e,n=(0,B.Z)(e,T);const{t:i}=(0,K.$G)(["artifact","ui"]);return(0,I.BX)(A.Z,Object.assign({title:i(t?`artifact:slotName:${t}`:"artifact:slot"),color:t?"success":"primary",startIcon:t?(0,j.Ir)(t):void 0},n,{children:[r&&(0,I.BX)(S.Z,{selected:""===t,disabled:""===t,onClick:()=>a(""),children:[(0,I.tZ)(N.Z,{children:(0,I.tZ)(o.Z,{})}),(0,I.tZ)(W.Z,{children:i(M||(M=L`ui:unselect`))})]}),r&&(0,I.tZ)($.Z,{}),C.eV.map((e=>(0,I.BX)(S.Z,{selected:t===e,disabled:t===e,onClick:()=>a(e),children:[(0,I.tZ)(N.Z,{children:(0,j.Ir)(e)}),(0,I.tZ)(W.Z,{children:i(`artifact:slotName:${e}`)})]},e)))]}))}var U=a(87985),D=a(67937),H=a(72055),z=a(30609);const Y=["value","onChange","disabled","float"];function _(e){let{value:t,onChange:a,disabled:r=!1,float:n=!1}=e,i=(0,B.Z)(e,Y);const[l,s]=(0,k.useState)(""),o=(0,k.useCallback)((()=>{if(""===l)return a(0);const e=n?parseFloat:parseInt;a(e(l))}),[a,l,n]);return(0,k.useEffect)((()=>{var e;return s(null!=(e=null==t?void 0:t.toString())?e:"")}),[t,s]),(0,I.tZ)(z.Z,Object.assign({value:l,"aria-label":"custom-input",type:"number",onChange:e=>s(e.target.value),onBlur:o,disabled:r,onKeyDown:e=>"Enter"===e.key&&o()},i))}var F=a(26578),q=a(98927),J=a(34612),Q=a(52972),ee=a(54878),te=a(74637),ae=a(36999),re=a(51650),ne=a(19807),ie=a(36617),le=a(25434),se=a(69190);const oe=JSON.parse('{"5":{"def_":{"24.0":"24.1"},"critRate_":{"8.5":"8.6","19.5":"19.4","23.0":"22.9"}}}');var ce=a(41015),de=a(85563),ue=a(82334),he=a(45220);function Ze({efficiency:e,max:t=!1,t:a,valid:r}){const n=t?"maxSubEff":"curSubEff";return(0,I.tZ)(D.Z,{sx:{py:1,px:2},children:(0,I.BX)(p.ZP,{container:!0,spacing:1,children:[(0,I.tZ)(p.ZP,{item:!0,children:a(`editor.${n}`)}),(0,I.tZ)(p.ZP,{item:!0,flexGrow:1,children:(0,I.tZ)(ue.Z,{title:(0,I.BX)("span",{children:[(0,I.tZ)(v.Z,{variant:"h6",children:a(`editor.${n}`)}),(0,I.tZ)(v.Z,{children:(0,I.tZ)(K.cC,{t:a,i18nKey:`editor.${n}Desc`})})]})})}),(0,I.tZ)(p.ZP,{item:!0,xs:"auto",children:(0,I.tZ)(he.Z,{valid:r,max:900,value:r?e:"ERR"})})]})})}var fe=a(89343),ye=a(83673),pe=a(87051);let me,ge,be,ve,Se,xe,we,ke=e=>e;function Ke({index:e,artifact:t,setSubstat:a}){var r;const{t:n}=(0,K.$G)("artifact"),{mainStatKey:i="",rarity:l=5}=null!=t?t:{},{key:s="",value:o=0,rolls:c=[],efficiency:d=0}=null!=(r=null==t?void 0:t.substats[e])?r:{},u=c.reduce(((e,t)=>e+t),0),h=ne.ZP.unit(s),Z=c.length;let f="",y=[],x=0;if(t){const e=t.rarity,{numUpgrades:a,high:r}=ee.ZP.rollInfo(e);x=a+r-3-Z,y=s?ee.ZP.getSubstatRollData(s,e):[]}const w=7-y.length;return!Z&&s&&o&&(f=f||n(me||(me=ke`editor.substat.error.noCalc`))),x<0&&(f=f||n("editor.substat.error.noOverRoll",{value:x+Z})),(0,I.BX)(D.Z,{children:[(0,I.tZ)(m.Z,{sx:{display:"flex"},children:(0,I.BX)(g.Z,{size:"small",sx:{width:"100%",display:"flex"},children:[(0,I.BX)(A.Z,{startIcon:s?Q.Z[s]:void 0,title:s?ne.ZP.getArtStr(s):n("editor.substat.substatFormat",{value:e+1}),disabled:!t,color:s?"success":"primary",sx:{whiteSpace:"nowrap"},children:[s&&(0,I.tZ)(S.Z,{onClick:()=>a(e,{key:"",value:0}),children:n(ge||(ge=ke`editor.substat.noSubstat`))}),se._.filter((e=>i!==e)).map((t=>(0,I.BX)(S.Z,{selected:s===t,disabled:s===t,onClick:()=>a(e,{key:t,value:0}),children:[(0,I.tZ)(N.Z,{children:Q.Z[t]}),(0,I.tZ)(W.Z,{children:ne.ZP.getArtStr(t)})]},t)))]}),(0,I.tZ)(fe.CC,{sx:{flexBasis:30,flexGrow:1},children:(0,I.tZ)(fe.ZP,{float:"%"===h,placeholder:n(be||(be=ke`editor.substat.selectSub`)),value:s?o:void 0,onChange:t=>a(e,{key:s,value:null!=t?t:0}),disabled:!s,error:!!f,sx:{px:1},inputProps:{sx:{textAlign:"right"}}})}),!!y.length&&(0,I.tZ)(pe.Z,{children:n(ve||(ve=ke`editor.substat.nextRolls`))}),y.map(((t,r)=>{var n,i,c;let d=(0,ne.qs)(u+t,h);return d=null!=(n=null==(i=oe[l])||null==(c=i[s])?void 0:c[d])?n:d,(0,I.tZ)(b.Z,{color:`roll${(0,ce.uZ)(w+r,1,6)}`,disabled:o&&!Z||x<=0,onClick:()=>a(e,{key:s,value:parseFloat(d)}),children:d},r)}))]})}),(0,I.tZ)(m.Z,{sx:{p:1},children:f?(0,I.tZ)(ye.Z,{color:"error",children:n(Se||(Se=ke`ui:error`))}):(0,I.BX)(p.ZP,{container:!0,children:[(0,I.tZ)(p.ZP,{item:!0,children:(0,I.tZ)(ye.Z,{color:0===Z?"secondary":`roll${(0,ce.uZ)(Z,1,6)}`,children:Z?n("editor.substat.RollCount",{count:Z}):n(xe||(xe=ke`editor.substat.noRoll`))})}),(0,I.tZ)(p.ZP,{item:!0,flexGrow:1,children:!!c.length&&[...c].sort().map(((e,t)=>(0,I.tZ)(v.Z,{component:"span",color:`roll${(0,ce.uZ)(w+y.indexOf(e),1,6)}.main`,sx:{ml:1},children:(0,ne.qs)(e,h)},`${t}.${e}`)))}),(0,I.tZ)(p.ZP,{item:!0,xs:"auto",flexShrink:1,children:(0,I.tZ)(v.Z,{children:(0,I.BX)(K.cC,{t:n,i18nKey:"editor.substat.eff",color:"text.secondary",children:["Efficiency: ",(0,I.tZ)(he.Z,{valid:!0,max:100*Z,value:d||n(we||(we=ke`editor.substat.noStat`))})]})})})]})})]})}const Pe=a.p+"8e6fecde6da1a4ee.png",Be=a.p+"5573acbcba497db1.png";function Ce({modalShow:e,hide:t}){return(0,I.tZ)(q.Z,{open:e,onClose:t,children:(0,I.BX)(U.Z,{children:[(0,I.tZ)(y.Z,{sx:{py:1},children:(0,I.BX)(p.ZP,{container:!0,children:[(0,I.tZ)(p.ZP,{item:!0,flexGrow:1,children:(0,I.tZ)(v.Z,{variant:"subtitle1",children:"How do Upload Screenshots for parsing"})}),(0,I.tZ)(p.ZP,{item:!0,children:(0,I.tZ)(H.Z,{onClick:t})})]})}),(0,I.tZ)($.Z,{}),(0,I.BX)(y.Z,{children:[(0,I.BX)(w.Z,{variant:"outlined",severity:"warning",children:["NOTE: Artifact Scanning currently only work for ",(0,I.tZ)("strong",{children:"ENGLISH"})," artifacts."]}),(0,I.BX)(p.ZP,{container:!0,spacing:1,mt:1,children:[(0,I.tZ)(p.ZP,{item:!0,xs:8,md:4,children:(0,I.tZ)(m.Z,{component:"img",alt:"snippet of the screen to take",src:Be,width:"100%",height:"auto"})}),(0,I.BX)(p.ZP,{item:!0,xs:12,md:8,children:[(0,I.tZ)(v.Z,{gutterBottom:!0,children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),(0,I.tZ)(v.Z,{variant:"h5",children:"Where to snip the screenshot."}),(0,I.BX)(v.Z,{gutterBottom:!0,children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. ",(0,I.tZ)("b",{children:"Only artifact from this screen can be scanned."})]}),(0,I.tZ)(v.Z,{variant:"h6",children:"Single artifact"}),(0,I.BX)(v.Z,{gutterBottom:!0,children:["To take a screenshot, in Windows, the shortcut is ",(0,I.tZ)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),(0,I.tZ)(v.Z,{variant:"h6",children:"Multiple artifacts"}),(0,I.BX)(v.Z,{gutterBottom:!0,children:["To take advantage of batch uploads, you can use a tool like ",(0,I.tZ)("a",{href:"https://picpick.app/",target:"_blank",rel:"noreferrer",children:"PicPick"})," to create a macro to easily to screenshot a region to screenshot multiple artifacts at once."]}),(0,I.tZ)(v.Z,{variant:"h5",children:"What to include in the screenshot."}),(0,I.tZ)(v.Z,{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]}),(0,I.BX)(p.ZP,{item:!0,xs:12,md:7,children:[(0,I.tZ)(v.Z,{variant:"h5",children:"Adding Screenshot to Genshin Optimizer"}),(0,I.tZ)(v.Z,{children:"At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard."}),(0,I.tZ)(v.Z,{gutterBottom:!0,children:'You can click on the box next to "Browse" to browse the files in your harddrive for multiple screenshots.'}),(0,I.BX)(v.Z,{children:["For single screenshots from the snippets, just press ",(0,I.tZ)("strong",{children:"Ctrl + V"})," to paste from your clipboard."]}),(0,I.BX)(v.Z,{gutterBottom:!0,children:["You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",(0,I.tZ)("b",{children:"Artifact Editor"}),"."]}),(0,I.tZ)(v.Z,{variant:"h5",children:"Finishing the Artifact"}),(0,I.BX)(v.Z,{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",(0,I.tZ)("strong",{children:"Add Artifact"})," to finish editing the artifact."]})]}),(0,I.tZ)(p.ZP,{item:!0,xs:8,md:5,children:(0,I.tZ)(m.Z,{component:"img",alt:"main screen after importing stats",src:Pe,width:"100%",height:"auto"})})]})]}),(0,I.tZ)($.Z,{}),(0,I.tZ)(y.Z,{sx:{py:1},children:(0,I.tZ)(H.Z,{large:!0,onClick:t})})]})})}var Ae=a(24370),Xe=a(2344);const Ie={r:255,g:204,b:50},Oe=new class{constructor(e,t){this.data={},this.init=void 0,this.deinit=void 0,this.init=e,this.deinit=t}async borrow(e,t){this.data[e]||(this.data[e]={value:this.init(e),refCount:0});const a=this.data[e];a.refCount+=1;const r=await t(a.value);return a.refCount-=1,a.refCount||(delete this.data[e],this.deinit(e,a.value)),r}}((async e=>{const t=(0,Ae.createScheduler)(),a=Array(2).fill(0).map((async a=>{const r=await(0,Ae.createWorker)({errorHandler:console.error});await r.load(),await r.loadLanguage(e),await r.initialize(e),t.addWorker(r)}));return await Promise.any(a),t}),((e,t)=>{t.then((e=>e.terminate()))})),Ee=(e,t)=>{switch(t.type){case"upload":return{processed:e.processed,outstanding:[...e.outstanding,...t.files]};case"processing":return{processed:e.processed,outstanding:[...e.outstanding]};case"processed":return e.outstanding[0].file===t.file?{processed:[...e.processed,t.result],outstanding:e.outstanding.slice(1)}:e;case"pop":return{processed:e.processed.slice(1),outstanding:e.outstanding};case"clear":return{processed:[],outstanding:[]}}};function Ge(e){if(e.result)return;const{file:t,fileName:a}=e;e.imageURL=Re(t),e.result=e.imageURL.then((async e=>{const r=await te.y.getAll,n=await async function(e){const t=await(d=e,new Promise((e=>{const t=new Image;t.onload=({target:t})=>e(function(e){const t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.width,t.height=e.height,a.drawImage(e,0,0,e.width,e.height),a.getImageData(0,0,e.width,e.height)}(t)),t.src=d}))),a=t.width,r=Math.floor(t.height/2),n={rectangle:{top:r,left:0,width:a,height:r}},i=[Ne($e(t,[140,140,140],[255,255,255],{mode:"bw",region:"top"})),Ne($e(t,[30,50,80],[160,160,160],{region:"bot"}),n),Ne($e(t,[30,160,30],[200,255,200],{mode:"bw",region:"bot"}),n)],l=function(e,t,a){const r=e;let n=0,i=0;const l=new Set([]);for(let s=0;s<a;s++){let e=0,a=!1;for(let n=0;n<t;n++){const i=4*(s*t+n);We({r:r[i],g:r[i+1],b:r[i+2]},Ie)?a||(a=!0,e++):a=!1}n!==e?(n=e,i=1):n&&(i++,i>=10&&l.add((0,ce.uZ)(n,3,5)))}return l}(t.data,t.width,t.height),[s,o,c]=await Promise.all(i);var d;return{whiteTexts:s,substatTexts:o,artifactSetTexts:c,rarities:l}}(e),[i,l]=function(e,t,a,r,n,i,l){const s=[...new Set([...a,"EmblemOfSeveredFate"])];let o=-1,c=[{setKey:"EmblemOfSeveredFate",rarity:3,level:0,slotKey:"flower",mainStatKey:"hp",substats:[],location:"",lock:!1,exclude:!1}];const d=(0,ce.O)(C.En,(t=>{let r=0;if(a.size){r+=[...a].reduce(((a,r)=>a+(e(r).rarity.includes(t)?1:0)),0)/a.size}if(n.length){r+=n.reduce(((e,a)=>e+(ee.ZP.getSubstatRolls(a.key,a.value,t).length?1:0)),0)/n.length*2}return r}));for(const S of C.eV)for(const t of ee.ZP.slotMainStats(S)){const n=(r.has(S)?1:0)+(i.has(t)?1:0),u=l.filter((e=>"%"!==e.unit||"%"===ne.ZP.unit(t))).map((e=>e.mainStatValue));for(const[r,i]of Object.entries(d)){const l=parseInt(r),d=s.filter((t=>e(t).rarity.includes(l))),h=n+i;if(!(h+2<o)){for(const e of u){const r=ee.ZP.mainStatValues(l,t),n=Math.max(0,r.findIndex((t=>t>=e))),i=h+(r[n]===e?1:0);for(const e of d){const r=i+(a.has(e)?1:0);r>=o&&(r>o&&(c=[]),o=r,c.push({setKey:e,rarity:l,level:n,slotKey:S,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1}))}}if(h>=o){const e=0;for(const r of d){const n=h+(a.has(r)?1:0);n>o&&(c=[]),o=n,c.push({setKey:r,rarity:l,level:e,slotKey:S,mainStatKey:t,substats:[],location:"",lock:!1,exclude:!1})}}}}}const u={},h={setKey:new Set,rarity:new Set,level:new Set,slotKey:new Set,mainStatKey:new Set,mainStatVal:new Set},Z=c[0],f=ee.ZP.mainStatValue(Z.mainStatKey,Z.rarity,Z.level);Z.substats=n.filter(((e,t)=>e.key!==Z.mainStatKey&&n.slice(0,t).every((t=>t.key!==e.key))));for(let S=Z.substats.length;S<4;S++)Z.substats.push({key:"",value:0});for(const S of c)h.setKey.add(S.setKey),h.rarity.add(S.rarity),h.level.add(S.level),h.slotKey.add(S.slotKey),h.mainStatKey.add(S.mainStatKey);function y(e,t,a){return(0,I.BX)(I.HY,{children:["Unknown ",t," : Set to ",(0,I.tZ)(Xe.Z,{color:"error",children:a(e)})]})}function p(e,t,a,r){return(0,I.BX)(I.HY,{children:["Ambiguous ",a," ",(0,I.tZ)(Xe.Z,{color:"error",children:r(e)})," : May also be ",t.filter((t=>t!==e)).map(((e,t)=>(0,I.BX)(I.HY,{children:[(0,I.tZ)("b",{children:t>0?"/":""}),(0,I.tZ)(Xe.Z,{color:"warning",children:r(e)})]})))]})}function m(e,t,a){return(0,I.BX)(I.HY,{children:["Detected ",t," ",(0,I.tZ)(Xe.Z,{color:"success",children:a(e)})]})}function g(e,t,a){return(0,I.BX)(I.HY,{children:["Inferred ",t," ",(0,I.tZ)(Xe.Z,{color:"warning",children:a(e)})]})}function b(e,t,a,r){const n=new Set([...h[e]].filter((e=>t.has(e))));n.size>1?u[e]=p(Z[e],[...t],a,r):1===n.size?u[e]=m(Z[e],a,r):h[e].size>1?u[e]=y(Z[e],a,r):u[e]=g(Z[e],a,r)}b("setKey",a,"Set",(t=>e(t).name)),b("rarity",t,"Rarity",(e=>(0,I.BX)(I.HY,{children:[e," ",1!==e?"Stars":"Star"]}))),b("slotKey",r,"Slot",(e=>(0,I.tZ)(I.HY,{children:ee.ZP.slotName(e)}))),b("mainStatKey",i,"Main Stat",(e=>(0,I.tZ)(I.HY,{children:ne.ZP.getStr(e)}))),u.substats=(0,I.tZ)(I.HY,{children:Z.substats.filter((e=>""!==e.key)).map(((e,t)=>(0,I.tZ)("div",{children:m(e,"Sub Stat",(e=>(0,I.BX)(I.HY,{children:[ne.ZP.getStr(e.key),"+",(0,ne.qs)(e.value,ne.ZP.unit(e.key)),ne.ZP.unit(e.key)]})))},t)))});const v=e=>(0,I.BX)(I.HY,{children:[(0,ne.qs)(e,ne.ZP.unit(Z.mainStatKey)),ne.ZP.unit(Z.mainStatKey)]});l.find((e=>e.mainStatValue===f))?i.has(Z.mainStatKey)?(u.level=m(Z.level,"Level",(e=>"+"+e)),u.mainStatVal=m(f,"Main Stat value",v)):(u.level=g(Z.level,"Level",(e=>"+"+e)),u.mainStatVal=g(f,"Main Stat value",v)):(u.level=y(Z.level,"Level",(e=>"+"+e)),u.mainStatVal=y(f,"Main Stat value",v));return[Z,u]}(r,n.rarities,function(e,t){const a=new Set([]);for(const r of e)for(const e of C.q2)(0,ce.UX)(r.replace(/\W/g,""),t(e).nameRaw.replace(/\W/g,""))<=2&&a.add(e);return a}(n.artifactSetTexts,r),function(e){const t=new Set;for(const a of e)for(const e of C.eV)(0,ce.UX)(a.replace(/\W/g,""),ee.ZP.slotName(e).replace(/\W/g,""))<=2&&t.add(e);return t}(n.whiteTexts),function(e){const t=[];for(let a of e)a=a.replace(/^[\W]+/,"").replace(/\n/,""),se._.forEach((e=>{const r=ne.ZP.getStr(e),n=("%"===ne.ZP.unit(e)?new RegExp(r+"\\s*\\+\\s*(\\d+[\\.|,]+\\d)%","im"):new RegExp(r+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(a);n&&t.push({key:e,value:parseFloat(n[1].replace(/,/g,".").replace(/\.{2,}/g,"."))})}));return t.slice(0,4)}(n.substatTexts),function(e){const t=new Set([]);for(const i of e)for(const e of se.r){var a,r,n;i.toLowerCase().includes(null!=(a=null==(r=ne.ZP.getStr(e))?void 0:r.toLowerCase())?a:"")&&t.add(e),e.includes("_bonu")&&(0,ce.UX)(i.replace(/\W/g,""),(null!=(n=ne.ZP.getStr(e))?n:"").replace(/\W/g,""))<=1&&t.add(e)}return t}(n.whiteTexts),function(e){const t=[];for(const a of e){let e=/(\d+[,|\\.]+\d)%/,r=e.exec(a);r&&t.push({mainStatValue:parseFloat(r[1].replace(/,/g,".").replace(/\.{2,}/g,".")),unit:"%"}),e=/(\d+[,|\\.]\d{3}|\d{2,3})/,r=e.exec(a),r&&t.push({mainStatValue:parseInt(r[1].replace(/[,|\\.]+/g,""))})}return t}(n.whiteTexts));return{file:t,result:{fileName:a,imageURL:e,artifact:i,texts:l}}}))}const Re=e=>new Promise((t=>{const a=new FileReader;a.onloadend=({target:e})=>t(e.result),a.readAsDataURL(e)}));async function Ne(e,t){const a=function(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}(e);return(await Oe.borrow("eng",(async e=>await(await e).addJob("recognize",a,t)))).data.lines.map((e=>e.text))}function We(e,t,a=5){const r=(e,t)=>Math.abs(e-t)<=a;return r(e.r,t.r)&&r(e.g,t.g)&&r(e.b,t.b)}function $e(e,t,a,r){const{region:n="all",mode:i="color"}=r,l=Uint8ClampedArray.from(e.data),s="top"===n,o="bot"===n,c="all"===n,d="bw"===i,u="invert"===i,h=Math.floor(e.width*(e.height/2)*4);for(let Z=0;Z<l.length;Z+=4){const e=l[Z],r=l[Z+1],n=l[Z+2];(c||s&&Z<h||o&&Z>h)&&e>=t[0]&&e<=a[0]&&r>=t[1]&&r<=a[1]&&n>=t[2]&&n<=a[2]?d?l[Z]=l[Z+1]=l[Z+2]=0:u&&(l[Z]=255-e,l[Z+1]=255-r,l[Z+2]=255-n):l[Z]=l[Z+1]=l[Z+2]=255}return new ImageData(l,e.width,e.height)}let je,Me,Le,Te,Ve,Ue,De,He,ze,Ye,_e,Fe,qe=e=>e;const Je=new Set(se._);function Qe(e,t){switch(t.type){case"reset":return;case"substat":{const{index:a,substat:r}=t,n=r.key?e.substats.findIndex((e=>e.key===r.key)):-1;return-1===n||n===a?e.substats[a]=r:[e.substats[a],e.substats[n]]=[e.substats[n],e.substats[a]],Object.assign({},e)}case"overwrite":return t.artifact;case"update":return Object.assign({},e,t.artifact)}}const et=(0,d.ZP)("input")({display:"none"});function tt({artifactIdToEdit:e="",cancelEdit:t,allowUpload:a=!1,allowEmpty:d=!1,disableSet:B=!1,disableSlot:X=!1}){var O,E;const{t:G}=(0,K.$G)("artifact"),N=(0,le.Z)((()=>te.y.getAll),[]),{database:W}=(0,k.useContext)(re.t),[$,j]=(0,k.useState)(!1),[M,L]=(0,ie.Z)();(0,k.useEffect)((()=>W.arts.followAny(L)),[W,L]);const[T,z]=(0,k.useReducer)(Qe,void 0),Y=(0,k.useMemo)((()=>T&&(0,ae.BG)(T)),[T]),[se,oe]=(0,k.useState)(!1),[{processed:ue,outstanding:he},fe]=(0,k.useReducer)(Ee,{processed:[],outstanding:[]}),ye=ue[0],pe=he[0],me=(0,le.Z)((()=>null==pe?void 0:pe.imageURL),[null==pe?void 0:pe.imageURL]),ge=(0,le.Z)((()=>null==pe?void 0:pe.result),[null==pe?void 0:pe.result]),be=ue.length+he.length,ve=null!=(O=null==ye?void 0:ye.imageURL)?O:me,{artifact:Se,texts:xe}=null!=ye?ye:{},we=!(null==Y||!Y.location)||X;(0,k.useEffect)((()=>{!Y&&Se&&z({type:"overwrite",artifact:Se})}),[Y,Se,z]),(0,k.useEffect)((()=>{const e=Math.min(16-ue.length,3,he.length),t=e&&!he[0].result;he.slice(0,e).forEach(Ge),t&&fe({type:"processing"})}),[ue.length,he]),(0,k.useEffect)((()=>{ge&&fe(Object.assign({type:"processed"},ge))}),[ge,fe]);const ke=(0,k.useCallback)((e=>{j(!0),fe({type:"upload",files:e.map((e=>({file:e,fileName:e.name})))})}),[fe,j]),Pe=(0,k.useCallback)((()=>fe({type:"clear"})),[fe]);(0,k.useEffect)((()=>{const e=e=>ke(e.clipboardData.files);return a&&window.addEventListener("paste",e),()=>{a&&window.removeEventListener("paste",e)}}),[ke,a]);const Be=(0,k.useCallback)((e=>{ke(e.target.files),e.target.value=null}),[ke]),{old:Ae,oldType:Xe}=(0,k.useMemo)((()=>{var t;const a=M&&e&&W.arts.get(e);if(a)return{old:a,oldType:"edit"};if(void 0===Y)return{old:void 0,oldType:""};const{duplicated:r,upgraded:n}=M&&W.arts.findDups(Y);return{old:null!=(t=r[0])?t:n[0],oldType:0!==r.length?"duplicate":"upgrade"}}),[Y,e,W,M]),{artifact:Ie,errors:Oe}=(0,k.useMemo)((()=>{if(!Y)return{artifact:void 0,errors:[]};const t=(0,ae.m1)(Y,e);return Ae&&(t.artifact.location=Ae.location,t.artifact.exclude=Ae.exclude),t}),[Y,e,Ae]);(0,k.useEffect)((()=>{"new"===e&&(j(!0),z({type:"reset"}));const t=e&&M&&W.arts.get(e);t&&(j(!0),z({type:"overwrite",artifact:(0,ce.I8)(t)}))}),[e,W,M]);const Re=Y?null==N?void 0:N(Y.setKey):void 0,Ne=(0,k.useCallback)((()=>{null==t||t(),fe({type:"pop"}),z({type:"reset"})}),[t,z]),We=(0,k.useCallback)((e=>{var t,a;const r=e.setKey?N(e.setKey):Re;function n(e,t,a){return e&&t.includes(e)?e:null!=a?a:t[0]}e.setKey&&(e.rarity=n(null==Y?void 0:Y.rarity,r.rarity,Math.max(...r.rarity)),e.slotKey=n(null==Y?void 0:Y.slotKey,r.slots)),e.rarity&&(e.level=null!=(t=null==Y?void 0:Y.level)?t:0),e.level&&(e.level=(0,ce.uZ)(e.level,0,4*(null!=(a=e.rarity)?a:Y.rarity))),e.slotKey&&(e.mainStatKey=n(null==Y?void 0:Y.mainStatKey,ee.ZP.slotMainStats(e.slotKey))),e.mainStatKey&&(e.substats=[0,1,2,3].map((t=>Y&&Y.substats[t].key!==e.mainStatKey?Y.substats[t]:{key:"",value:0}))),z({type:"update",artifact:e})}),[Y,N,Re,z]),$e=(0,k.useCallback)(((e,t)=>{z({type:"substat",index:e,substat:t})}),[z]),tt=!Oe.length,{rarity:at=5,level:rt=0,slotKey:nt="flower"}=null!=Y?Y:{},{currentEfficiency:it=0,maxEfficiency:lt=0}=Ie?ee.ZP.getArtifactEfficiency(Ie,Je):{},st=ue.length||he.length,ot=(0,k.useCallback)((e=>{st&&e.preventDefault(),j(!1),t()}),[st,j,t]),ct=(0,u.Z)(),dt=(0,h.Z)(ct.breakpoints.up("md")),ut=Y?C.Kj.find((e=>Y.mainStatKey.includes(e))):void 0,ht=Y?null!=ut?ut:"success":"primary",Zt=(0,k.useCallback)((e=>We({setKey:e})),[We]),ft=(0,k.useCallback)((e=>""===e||!(!we||"circlet"===nt||"PrayersForDestiny"!==e&&"PrayersForIllumination"!==e&&"PrayersForWisdom"!==e&&"PrayersToSpringtime"!==e)),[we,nt]);return(0,I.tZ)(q.Z,{open:$,onClose:ot,children:(0,I.tZ)(k.Suspense,{fallback:(0,I.tZ)(Z.Z,{variant:"rectangular",sx:{width:"100%",height:$?"100%":64}}),children:(0,I.BX)(U.Z,{children:[(0,I.tZ)(Ce,{modalShow:se,hide:()=>oe(!1)}),(0,I.tZ)(f.Z,{title:(0,I.tZ)(K.cC,{t:G,i18nKey:"editor.title",children:"Artifact Editor"}),action:(0,I.tZ)(H.Z,{disabled:!!st,onClick:ot})}),(0,I.BX)(y.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,I.BX)(p.ZP,{container:!0,spacing:1,columns:{xs:1,md:2},children:[(0,I.BX)(p.ZP,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[(0,I.BX)(m.Z,{sx:{display:"flex",gap:1,mb:1},children:[(0,I.tZ)(P.Y4,{disabled:B,showDefault:!0,disableClearable:!0,size:"small",artSetKey:null!=(E=null==Y?void 0:Y.setKey)?E:"",setArtSetKey:Zt,sx:e=>({flexGrow:1,".MuiFilledInput-root":{borderBottomRightRadius:e.shape.borderRadius,borderBottomLeftRadius:e.shape.borderRadius}}),defaultText:G("editor.unknownSetName"),disable:ft}),(0,I.tZ)(R,{rarity:Y?at:void 0,onChange:e=>We({rarity:e}),filter:e=>{var t;return!(null==Re||null==(t=Re.rarity)||null==t.includes||!t.includes(e))},disabled:!Re})]}),(0,I.BX)(m.Z,{component:"div",display:"flex",children:[(0,I.tZ)(_,{id:"filled-basic",label:"Level",variant:"filled",sx:{flexShrink:1,flexGrow:1,mr:1,my:0},margin:"dense",size:"small",value:rt,disabled:!Re,placeholder:"0~"+4*at,onChange:e=>We({level:e})}),(0,I.BX)(g.Z,{children:[(0,I.tZ)(b.Z,{onClick:()=>We({level:rt-1}),disabled:!Re||0===rt,children:"-"}),at?[...Array(at+1).keys()].map((e=>4*e)).map((e=>(0,I.tZ)(b.Z,{onClick:()=>We({level:e}),disabled:!Re||rt===e,children:e},e))):null,(0,I.tZ)(b.Z,{onClick:()=>We({level:rt+1}),disabled:!Re||rt===4*at,children:"+"})]})]}),(0,I.BX)(m.Z,{component:"div",display:"flex",children:[(0,I.tZ)(V,{disabled:we||!Re,slotKey:nt,onChange:e=>We({slotKey:e})}),(0,I.tZ)(D.Z,{sx:{p:1,ml:1,flexGrow:1},children:(0,I.tZ)(k.Suspense,{fallback:(0,I.tZ)(Z.Z,{width:"60%"}),children:(0,I.tZ)(v.Z,{color:"text.secondary",children:null!=Re&&Re.getSlotName(Y.slotKey)?(0,I.BX)("span",{children:[(0,I.tZ)(F.Z,{src:Re.slotIcons[Y.slotKey]})," ",null==Re?void 0:Re.getSlotName(Y.slotKey)]}):G(Me||(Me=qe`editor.unknownPieceName`))})})})]}),(0,I.BX)(m.Z,{component:"div",display:"flex",children:[(0,I.tZ)(A.Z,{startIcon:null!=Y&&Y.mainStatKey?Q.Z[Y.mainStatKey]:void 0,title:(0,I.tZ)("b",{children:Y?ne.ZP.getArtStr(Y.mainStatKey):G(Le||(Le=qe`mainStat`))}),disabled:!Re,color:ht,children:ee.ZP.slotMainStats(nt).map((e=>(0,I.tZ)(S.Z,{selected:(null==Y?void 0:Y.mainStatKey)===e,disabled:(null==Y?void 0:Y.mainStatKey)===e,onClick:()=>We({mainStatKey:e}),children:(0,I.tZ)(J._,{statKey:e})},e)))}),(0,I.tZ)(D.Z,{sx:{p:1,ml:1,flexGrow:1},children:(0,I.tZ)(v.Z,{color:"text.secondary",children:Y?`${(0,ne.qs)(ee.ZP.mainStatValue(Y.mainStatKey,at,rt),ne.ZP.unit(Y.mainStatKey))}${ne.ZP.unit(Y.mainStatKey)}`:G(Te||(Te=qe`mainStat`))})})]}),(0,I.tZ)(Ze,{valid:tt,efficiency:it,t:G}),it!==lt&&(0,I.tZ)(Ze,{max:!0,valid:tt,efficiency:lt,t:G}),a&&(0,I.tZ)(D.Z,{children:(0,I.tZ)(y.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:(0,I.BX)(k.Suspense,{fallback:(0,I.tZ)(Z.Z,{width:"100%",height:"100"}),children:[(0,I.BX)(p.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,I.tZ)(p.ZP,{item:!0,flexGrow:1,children:(0,I.BX)("label",{htmlFor:"contained-button-file",children:[(0,I.tZ)(et,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:Be}),(0,I.tZ)(b.Z,{component:"span",startIcon:(0,I.tZ)(i.Z,{}),children:"Upload Screenshot (or Ctrl-V)"})]})}),(0,I.tZ)(p.ZP,{item:!0,children:(0,I.tZ)(b.Z,{color:"info",sx:{px:2,minWidth:0},onClick:()=>oe(!0),children:(0,I.tZ)(v.Z,{children:(0,I.tZ)(n.G,{icon:r.Fuz})})})})]}),ve&&(0,I.tZ)(m.Z,{display:"flex",justifyContent:"center",children:(0,I.tZ)(m.Z,{component:"img",src:ve,width:"100%",maxWidth:350,height:"auto",alt:"Screenshot to parse for artifact values"})}),be>0&&(0,I.tZ)(U.Z,{sx:{pl:2},children:(0,I.BX)(p.ZP,{container:!0,spacing:1,alignItems:"center",children:[!ye&&pe&&(0,I.tZ)(p.ZP,{item:!0,children:(0,I.tZ)(x.Z,{size:"1em"})}),(0,I.tZ)(p.ZP,{item:!0,flexGrow:1,children:(0,I.tZ)(v.Z,{children:(0,I.BX)("span",{children:["Screenshots in file-queue: ",(0,I.tZ)("b",{children:be})]})})}),(0,I.tZ)(p.ZP,{item:!0,children:(0,I.tZ)(b.Z,{size:"small",color:"error",onClick:Pe,children:"Clear file-queue"})})]})})]})})})]}),(0,I.BX)(p.ZP,{item:!0,xs:1,display:"flex",flexDirection:"column",gap:1,children:[[0,1,2,3].map((e=>(0,I.tZ)(Ke,{index:e,artifact:Ie,setSubstat:$e},e))),xe&&(0,I.tZ)(D.Z,{children:(0,I.BX)(y.Z,{children:[(0,I.tZ)("div",{children:xe.slotKey}),(0,I.tZ)("div",{children:xe.mainStatKey}),(0,I.tZ)("div",{children:xe.mainStatVal}),(0,I.tZ)("div",{children:xe.rarity}),(0,I.tZ)("div",{children:xe.level}),(0,I.tZ)("div",{children:xe.substats}),(0,I.tZ)("div",{children:xe.setKey})]})})]})]}),Ae&&(0,I.BX)(p.ZP,{container:!0,sx:{justifyContent:"space-around"},spacing:1,children:[(0,I.tZ)(p.ZP,{item:!0,xs:12,md:5.5,lg:4,children:(0,I.BX)(D.Z,{children:[(0,I.tZ)(v.Z,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:G("edit"!==Xe?"duplicate"===Xe?Ve||(Ve=qe`editor.dupArt`):Ue||(Ue=qe`editor.upArt`):De||(De=qe`editor.beforeEdit`))}),(0,I.tZ)(de.Z,{artifactObj:Ae})]})}),dt&&(0,I.tZ)(p.ZP,{item:!0,md:1,display:"flex",alignItems:"center",justifyContent:"center",children:(0,I.tZ)(D.Z,{sx:{display:"flex"},children:(0,I.tZ)(l.Z,{sx:{fontSize:40}})})}),(0,I.tZ)(p.ZP,{item:!0,xs:12,md:5.5,lg:4,children:(0,I.BX)(D.Z,{children:[(0,I.tZ)(v.Z,{sx:{textAlign:"center"},py:1,variant:"h6",color:"text.secondary",children:G(He||(He=qe`editor.preview`))}),(0,I.tZ)(de.Z,{artifactObj:Ie})]})})]}),!tt&&(0,I.tZ)(w.Z,{variant:"filled",severity:"error",children:Oe.map(((e,t)=>(0,I.tZ)("div",{children:e},t)))}),(0,I.BX)(p.ZP,{container:!0,spacing:2,children:[(0,I.tZ)(p.ZP,{item:!0,children:"edit"===Xe?(0,I.tZ)(b.Z,{startIcon:(0,I.tZ)(s.Z,{}),onClick:()=>{W.arts.set(Ae.id,T),d?Ne():(j(!1),t())},disabled:!T||!tt,color:"primary",children:G(ze||(ze=qe`editor.btnSave`))}):(0,I.tZ)(b.Z,{startIcon:(0,I.tZ)(s.Z,{}),onClick:()=>{W.arts.new(Y),d?Ne():(j(!1),t())},disabled:!Y||!tt,color:"duplicate"===Xe?"warning":"primary",children:G(Ye||(Ye=qe`editor.btnAdd`))})}),(0,I.tZ)(p.ZP,{item:!0,flexGrow:1,children:d&&(0,I.tZ)(b.Z,{startIcon:(0,I.tZ)(o.Z,{}),disabled:!Y,onClick:()=>{window.confirm(G(je||(je=qe`editor.clearPrompt`)))&&Ne()},color:"error",children:G(_e||(_e=qe`editor.btnClear`))})}),(0,I.tZ)(p.ZP,{item:!0,children:!1}),Ae&&"edit"!==Xe&&(0,I.tZ)(p.ZP,{item:!0,children:(0,I.tZ)(b.Z,{startIcon:(0,I.tZ)(c.Z,{}),onClick:()=>{W.arts.set(Ae.id,T),d?Ne():j(!1)},disabled:!T||!tt,color:"success",children:G(Fe||(Fe=qe`editor.btnUpdate`))})})]})]})]})})})}}}]);