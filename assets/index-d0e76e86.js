import{cn as Fh,p as G,ar as d,o as $,bH as u,f as v,bL as b,c$ as Nh,cN as Wh,h as Hh}from"./index-a0df4292.js";import{x as Gh,p as e,$ as g,i as w,R as h,L as f,s as P,a5 as a,y as i,r as Zo,W as Kh,Z as m,a0 as p,Q as t,a1 as _,P as c,V as l,a6 as y,k as te,N as S,a7 as Ke,M as Yo,a2 as ae,J as x,t as es,a4 as Ta,a8 as O,a9 as Lh}from"./index-8755f429.js";import{I as qh,C as Ce}from"./ColoredText-66f104b5.js";import{S as Vh}from"./SqBadge-5156a512.js";const ns=class{constructor(n,k,W,M){this.passiveDescription=ra=>this.hasRefinement?this.tr(`passiveDescription.${ra}`):"",this.rarity=W.rarity,this.weaponType=W.weaponType,this.key=n,this.sheet=k,this.data=M}static trm(n){return g("weapon",n)[1]}static tr(n){return g("weapon",n)[0]}static getAllDataOfType(n){return v8[n]}get tr(){return ns.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=ns;s.getWeaponsOfType=(n,k)=>Object.fromEntries(Object.entries(n).filter(([W,M])=>M.weaponType===k));s.getLevelString=n=>Fh(n.level,n.ascension);function o(n,k){const W=s.tr(n);return{title:W("passiveName"),icon:M=>G(qh,{size:2,src:Gh(n,M.get(e.weapon.asc).value>=2)}),action:k&&G(Vh,{color:"success",children:k}),description:M=>W(`passiveDescription.${M.get(e.weapon.refinement).value-1}`)}}function r(n,k,W={},M={}){const ra={base:{},premod:{},total:{},weapon:{key:w(n),type:w(k.weaponType)},display:{[`weapon:${n}`]:M}},{mainStat:se,subStat:H}=k,ia=[ra];if(se.type!=="atk"&&se.type!=="def"&&se.type!=="hp")throw new Error("Main stat type must be `atk`");const Ih=h(P(i(se.base,a(e.weapon.lvl,d.weapon.expCurve[se.curve])),a(e.weapon.asc,k.ascensionBonus.atk??[])),f.info(se.type));if(ia.push({base:{[se.type]:e.weapon.main},weapon:{main:Ih}}),H){if(H.type==="atk"||H.type==="def"||H.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const jh=h(i(H.base,a(e.weapon.lvl,d.weapon.expCurve[H.curve])),f.info(H.type));ia.push({premod:{[H.type]:e.weapon.sub},weapon:{sub:jh}})}return Zo([...ia,Kh(W,n)])}const Le="AlleyHunter",ts=d.weapon.data[Le],[,zh]=g("weapon",Le),Uh=[-1,.02,.025,.03,.035,.04],[Jh,as]=m(Le,"OppidanAmbush"),os=p(as,{...$(u(1,10),n=>i(a(e.weapon.refinement,Uh),n))},_),Qh=r(Le,ts,{premod:{all_dmg_:os}}),Xh={document:[{value:as,path:Jh,header:o(Le,t("conditional")),name:zh("condName"),states:Object.fromEntries(u(1,10).map(n=>[n,{name:t("seconds",{count:n}),fields:[{node:os}]}]))}]},Zh=new s(Le,Xh,ts,Qh),de="AmosBow",ss=d.weapon.data[de],[,Yh]=g("weapon",de),cs=[-1,.12,.15,.18,.21,.24],e1=[-1,.08,.1,.12,.14,.16],[n1,Ra]=m(de,"StrongWilled"),ds=a(e.weapon.refinement,cs,f.info("normal_dmg_")),rs=a(e.weapon.refinement,cs,f.info("charged_dmg_")),is=a(e.weapon.refinement,e1),ms=p(Ra,{...$(u(1,5),n=>i(is,n))},_,f.info("normal_dmg_")),ls=p(Ra,{...$(u(1,5),n=>i(is,n))},_,f.info("charged_dmg_")),t1=r(de,ss,{premod:{normal_dmg_:P(ds,ms),charged_dmg_:P(rs,ls)}}),a1={document:[{header:o(de,t("base")),fields:[{node:ds},{node:rs}]},{value:Ra,path:n1,header:o(de,t("stacks")),name:Yh("condName"),states:$(u(1,5),n=>({name:t("seconds",{count:n/10}),fields:[{node:ms},{node:ls}]}))}]},o1=new s(de,a1,ss,t1),re="AquaSimulacra",$s=d.weapon.data[re],[,s1]=g("weapon",re),c1=[-1,.16,.2,.24,.28,.32],d1=[-1,.2,.25,.3,.35,.4],[r1,ps]=m(re,"passive"),hs=a(e.weapon.refinement,c1),us=c(ps,"on",a(e.weapon.refinement,d1)),i1=r(re,$s,{premod:{hp_:hs,all_dmg_:us}}),m1={document:[{header:o(re,t("base")),fields:[{node:hs}]},{value:ps,path:r1,header:o(re,t("conditional")),name:s1("condName"),states:{on:{fields:[{node:us}]}}}]},l1=new s(re,m1,$s,i1),gn="BlackcliffWarbow",_s=d.weapon.data[gn],$1=[-1,.12,.15,.18,.21,.24],[p1,fs]=m(gn,"PressTheAdvantage"),gs=p(fs,{...$(u(1,3),n=>i(a(e.weapon.refinement,$1),n))},_),h1=r(gn,_s,{premod:{atk_:gs}}),u1={document:[{value:fs,path:p1,header:o(gn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(u(1,3).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:gs},{text:l("duration"),value:30,unit:"s"}]}]))}]},_1=new s(gn,u1,_s,h1),wn="CompoundBow",ws=d.weapon.data[wn],f1=[-1,.04,.05,.06,.07,.08],g1=[-1,.012,.015,.018,.021,.024],[w1,Ca]=m(wn,"InfusionArrow"),ks=p(Ca,{...$(u(1,4),n=>i(a(e.weapon.refinement,f1),n))},_),vs=p(Ca,{...$(u(1,4),n=>i(a(e.weapon.refinement,g1),n))},_),k1=r(wn,ws,{premod:{atk_:ks,atkSPD_:vs}}),v1={document:[{value:Ca,path:w1,header:o(wn,t("stacks")),name:t("hitOp.normalOrCharged"),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:ks},{node:vs}]}]))}]},y1=new s(wn,v1,ws,k1),ie="ElegyForTheEnd",[,P1]=g("weapon",ie),ys=d.weapon.data[ie],S1=[-1,60,75,90,105,120],b1=[-1,100,125,150,175,200],O1=[-1,.2,.25,.3,.35,.4],[B1,Ia]=m(ie,"ThePartingRefrain"),Ps=a(e.weapon.refinement,S1,f.info("eleMas")),Ss=c(Ia,"on",a(e.weapon.refinement,b1,f.info("eleMas"))),bs=c(Ia,"on",a(e.weapon.refinement,O1)),A1=r(ie,ys,{premod:{eleMas:Ps},teamBuff:{premod:{atk_:bs,eleMas:Ss}}}),E1={document:[{header:o(ie,t("base")),fields:[{node:Ps}]},{value:Ia,path:B1,teamBuff:!0,header:o(ie,t("conditional")),name:P1("condName"),states:{on:{fields:[{node:Ss},{node:bs},{text:l("duration"),value:12,unit:"s"}]}}}]},x1=new s(ie,E1,ys,A1),kn="EndOfTheLine",Os=d.weapon.data[kn],M1=[-1,.8,1,1.2,1.4,1.6],Bs=c(e.weapon.key,kn,y(i(a(e.weapon.refinement,M1,{unit:"%"}),e.total.atk),"elemental")),D1=r(kn,Os,void 0,{dmg:Bs}),T1={document:[{header:o(kn,t("base")),fields:[{node:h(Bs,{name:t("dmg")})}]}]},R1=new s(kn,T1,Os,D1),qe="FadingTwilight",As=d.weapon.data[qe],[,qo]=g("weapon",qe),[C1,Es]=m(qe,"state"),xs={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Ms=p(Es,xs,_),I1=r(qe,As,{premod:{all_dmg_:Ms}}),j1={document:[{value:Es,path:C1,header:o(qe,t("conditional")),name:qo("condName"),states:Object.fromEntries(Object.keys(xs).map(n=>[n,{name:qo(`states.${n}`),fields:[{node:Ms}]}]))}]},F1=new s(qe,j1,As,I1),Ct="FavoniusWarbow",Ds=d.weapon.data[Ct],N1=r(Ct,Ds),W1={document:[{header:o(Ct),fields:[]}]},H1=new s(Ct,W1,Ds,N1),me="Hamayumi",Ts=d.weapon.data[me],[,G1]=g("weapon",me),Rs=[-1,.16,.2,.24,.28,.32],Cs=[-1,.12,.15,.18,.21,.24],Is=a(e.weapon.refinement,Rs,f.info("normal_dmg_")),js=a(e.weapon.refinement,Cs,f.info("charged_dmg_")),[K1,ja]=m(me,"FullDraw"),Fs=c(ja,"on",a(e.weapon.refinement,Rs,f.info("normal_dmg_"))),Ns=c(ja,"on",a(e.weapon.refinement,Cs,f.info("charged_dmg_"))),L1=r(me,Ts,{premod:{normal_dmg_:P(Is,Fs),charged_dmg_:P(js,Ns)}}),q1={document:[{header:o(me,t("base")),fields:[{node:Is},{node:js}]},{value:ja,path:K1,name:G1("condName"),header:o(me,t("conditional")),states:{on:{fields:[{node:Fs},{node:Ns}]}}}]},V1=new s(me,q1,Ts,L1),Fa="HuntersBow",Na=d.weapon.data[Fa],z1=r(Fa,Na),U1={...Na,document:[]},J1=new s(Fa,U1,Na,z1),Ie="HuntersPath",Ws=d.weapon.data[Ie],Q1=[-1,.12,.15,.18,.21,.24],Hs=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,Q1,{unit:"%"})])),X1=[-1,1.6,2,2.4,2.8,3.2],[Z1,Gs]=m(Ie,"passive"),Ks=c(Gs,"on",i(a(e.weapon.refinement,X1,{unit:"%"}),e.total.eleMas)),Y1=r(Ie,Ws,{premod:{...Hs,charged_dmgInc:Ks}}),eu={document:[{header:o(Ie,t("base")),fields:Object.values(Hs).map(n=>({node:n}))},{value:Gs,path:Z1,header:o(Ie,t("conditional")),name:t("hitOp.charged"),states:{on:{fields:[{node:Ks},{text:l("duration"),value:10,unit:"s"},{text:t("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},nu=new s(Ie,eu,Ws,Y1),vn="IbisPiercer",Ls=d.weapon.data[vn],qs=u(1,2),tu=[-1,40,50,60,70,80],[au,Vs]=m(vn,"passiveStacks"),zs=p(Vs,$(qs,n=>i(a(e.weapon.refinement,tu),n)),_),ou=r(vn,Ls,{premod:{eleMas:zs}}),su={document:[{value:Vs,path:au,header:o(vn,t("stacks")),name:t("hitOp.charged"),states:Object.fromEntries(qs.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:zs},{text:l("duration"),value:6,unit:"s"}]}]))}]},cu=new s(vn,su,Ls,ou),le="KingsSquire",Us=d.weapon.data[le],[du,Js]=m(le,"passive"),ru=[-1,60,80,100,120,140],Qs=c(Js,"on",a(e.weapon.refinement,ru)),iu=[-1,1,1.2,1.4,1.6,1.8],Xs=c(e.weapon.key,le,y(i(a(e.weapon.refinement,iu,{unit:"%"}),e.total.atk),"elemental")),mu=r(le,Us,{premod:{eleMas:Qs}},{dmg:Xs}),lu={document:[{header:o(le,t("base")),fields:[{node:h(Xs,{name:t("dmg")})}]},{value:Js,path:du,header:o(le,t("conditional")),name:t("afterUse.skillOrBurst"),states:{on:{fields:[{node:Qs},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},$u=new s(le,lu,Us,mu),yn="Messenger",Zs=d.weapon.data[yn],pu=[-1,1,1.25,1.5,1.75,2],Ys=c(e.weapon.key,yn,y(i(a(e.weapon.refinement,pu),e.total.atk),"elemental",{hit:{ele:w("physical")}})),hu=r(yn,Zs,void 0,{dmg:Ys}),uu={document:[{header:o(yn,t("base")),fields:[{node:h(Ys,{name:t("dmg")})}]}]},_u=new s(yn,uu,Zs,hu),$e="MitternachtsWaltz",ec=d.weapon.data[$e],fu=[-1,.2,.25,.3,.35,.4],gu=[-1,.2,.25,.3,.35,.4],[wu,nc]=m($e,"EvernightDuetSkill"),[ku,tc]=m($e,"EvernightDuetNormal"),ac=c(nc,"on",a(e.weapon.refinement,fu)),oc=c(tc,"on",a(e.weapon.refinement,gu)),vu=r($e,ec,{premod:{skill_dmg_:ac,normal_dmg_:oc}}),yu={document:[{value:tc,path:ku,header:o($e,t("conditional")),name:t("hitOp.skill"),states:{on:{fields:[{node:oc},{text:l("duration"),value:5,unit:"s"}]}}},{value:nc,path:wu,header:o($e,t("conditional")),name:t("hitOp.normal"),states:{on:{fields:[{node:ac},{text:l("duration"),value:5,unit:"s"}]}}}]},Pu=new s($e,yu,ec,vu),Ve="MouunsMoon",sc=d.weapon.data[Ve],[,Su]=g("weapon",Ve),[bu,cc]=m(Ve,"WatatsumiWavewalker"),dc=b(4,36).map(n=>n*10),Ou=[-1,.0012,.0015,.0018,.0021,.0024],Bu=[-1,.4,.5,.6,.7,.8],rc=p(cc,Object.fromEntries(dc.map(n=>[n,te(i(a(e.weapon.refinement,Ou,{unit:"%"}),n),a(e.weapon.refinement,Bu,{unit:"%"}))])),_),Au=r(Ve,sc,{premod:{burst_dmg_:rc}}),Eu={document:[{value:cc,path:bu,header:o(Ve,t("conditional")),name:Su("party"),states:Object.fromEntries(dc.map(n=>[n,{name:n.toString(),fields:[{node:rc}]}]))}]},xu=new s(Ve,Eu,sc,Au),pe="PolarStar",ic=d.weapon.data[pe],[,Mu]=g("weapon",pe),mc=[-1,.12,.15,.18,.21,.24],Du=[-1,.1,.125,.15,.175,.2],Tu=[-1,.2,.25,.3,.35,.4],Ru=[-1,.3,.375,.45,.528,.6],Cu=[-1,.48,.6,.72,.84,.96],[Iu,lc]=m(pe,"GoldenMajesty"),$c=a(e.weapon.refinement,mc),pc=a(e.weapon.refinement,mc),hc=p(lc,{1:a(e.weapon.refinement,Du),2:a(e.weapon.refinement,Tu),3:a(e.weapon.refinement,Ru),4:a(e.weapon.refinement,Cu)},_),ju=r(pe,ic,{premod:{skill_dmg_:$c,burst_dmg_:pc,atk_:hc}}),Fu={document:[{header:o(pe,t("base")),fields:[{node:$c},{node:pc}]},{value:lc,path:Iu,header:o(pe,t("stacks")),name:Mu("condName"),states:$(u(1,4),n=>({name:t("stack",{count:n}),fields:[{node:hc}]}))}]},Nu=new s(pe,Fu,ic,ju),Pn="Predator",uc=d.weapon.data[Pn],Wu=S(.1),Hu=S(.1),[Gu,Wa]=m(Pn,"PressTheAdvantage"),_c=p(Wa,{...$(u(1,2),n=>i(Wu,n))},_),fc=p(Wa,{...$(u(1,2),n=>i(Hu,n))},_),Ku=c(e.activeCharKey,"Aloy",66),Lu=r(Pn,uc,{premod:{normal_dmg_:_c,charged_dmg_:fc,atk:Ku}}),qu={document:[{value:Wa,path:Gu,header:o(Pn,t("stacks")),name:t("hitOp.cryo"),states:Object.fromEntries(u(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:_c},{node:fc},{text:l("duration"),value:6,unit:"s"}]}]))}]},Vu=new s(Pn,qu,uc,Lu),Sn="PrototypeCrescent",gc=d.weapon.data[Sn],zu=[-1,.36,.45,.54,.63,.72],[Uu,Ha]=m(Sn,"Unreturning"),wc=c(Ha,"on",a(e.weapon.refinement,zu)),kc=c(Ha,"on",S(.1)),Ju=r(Sn,gc,{premod:{atk_:wc,moveSPD_:kc}}),Qu={document:[{value:Ha,path:Uu,header:o(Sn,t("conditional")),name:t("hitOp.weakSpot"),states:{on:{fields:[{node:wc},{node:kc},{text:l("duration"),value:10,unit:"s"}]}}}]},Xu=new s(Sn,Qu,gc,Ju),ze="RangeGauge",vc=d.weapon.data[ze],[,Zu]=g("weapon",ze),Yu=[-1,.03,.04,.05,.06,.07],e_=[-1,.07,.085,.1,.115,.13],[n_,Ga]=m(ze,"marksConsumed"),Ka=u(1,3),yc=p(Ga,$(Ka,n=>i(n,a(e.weapon.refinement,Yu,{unit:"%"}))),_),t_=p(Ga,$(Ka,n=>i(n,a(e.weapon.refinement,e_,{unit:"%"}))),_),Pc=$(v.map(n=>`${n}_dmg_`),()=>({...t_})),a_=r(ze,vc,{premod:{atk_:yc,...Pc}}),o_={document:[{value:Ga,path:n_,teamBuff:!0,header:o(ze,t("stacks")),name:Zu("condName"),states:$(Ka,n=>({name:`${n}`,fields:[{node:yc},...Object.values(Pc).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},s_=new s(ze,o_,vc,a_),bn="RavenBow",Sc=d.weapon.data[bn],c_=[-1,.12,.15,.18,.21,.24],[d_,bc]=m(bn,"BaneOfFlameAndWater"),Oc=c(bc,"on",a(e.weapon.refinement,c_)),r_=r(bn,Sc,{premod:{all_dmg_:Oc}}),i_={document:[{value:bc,path:d_,name:t("enemyAffected.hydroOrPyro"),header:o(bn,t("conditional")),states:{on:{fields:[{node:Oc}]}}}]},m_=new s(bn,i_,Sc,r_),On="RecurveBow",Bc=d.weapon.data[On],l_=[-1,.08,.1,.12,.14,.16],Ac=c(e.weapon.key,On,Ke(i(e.total.hp,a(e.weapon.refinement,l_)))),$_=r(On,Bc,void 0,{healing:Ac}),p_={document:[{header:o(On,t("base")),fields:[{node:h(Ac,{name:l("healing"),variant:"heal"})}]}]},h_=new s(On,p_,Bc,$_),Bn="RoyalBow",Ec=d.weapon.data[Bn],u_=[-1,.08,.1,.12,.14,.16],[__,xc]=m(Bn,"Focus"),Mc=p(xc,{...$(u(1,5),n=>i(a(e.weapon.refinement,u_),n))},_),f_=r(Bn,Ec,{premod:{critRate_:Mc}}),g_={document:[{value:xc,path:__,header:o(Bn,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Mc}]}]))}]},w_=new s(Bn,g_,Ec,f_),It="Rust",Dc=d.weapon.data[It],k_=[-1,.4,.5,.6,.7,.8],Tc=a(e.weapon.refinement,k_),Rc=w(-.1),v_=r(It,Dc,{premod:{normal_dmg_:Tc,charged_dmg_:Rc}}),y_={document:[{header:o(It,t("base")),fields:[{node:Tc},{node:Rc}]}]},P_=new s(It,y_,Dc,v_),jt="SacrificialBow",Cc=d.weapon.data[jt],S_=r(jt,Cc),b_={document:[{header:o(jt),fields:[]}]},O_=new s(jt,b_,Cc,S_),he="ScionOfTheBlazingSun",Ic=d.weapon.data[he],[,Vo]=g("weapon",he),B_=[-1,.6,.75,.9,1.05,1.2],A_=[-1,.28,.35,.42,.49,.56],E_=y(i(a(e.weapon.refinement,B_,{unit:"%"}),e.total.atk),"elemental"),[x_,jc]=m(he,"afterHit"),Fc=c(jc,"on",a(e.weapon.refinement,A_)),M_=r(he,Ic,{premod:{charged_dmg_:Fc}}),D_={document:[{header:o(he,t("dmg")),fields:[{node:h(E_,{name:Vo("dmg")})}]},{header:o(he,t("conditional")),path:x_,value:jc,name:Vo("condName"),states:{on:{fields:[{node:Fc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},T_=new s(he,D_,Ic,M_),La="SeasonedHuntersBow",qa=d.weapon.data[La],R_=r(La,qa),C_={...qa,document:[]},I_=new s(La,C_,qa,R_),Ft="SharpshootersOath",Nc=d.weapon.data[Ft],j_=[-1,.24,.3,.36,.42,.48],Wc=a(e.weapon.refinement,j_),F_=r(Ft,Nc,{premod:{weakspotDMG_:Wc}}),N_={document:[{header:o(Ft,t("base")),fields:[{node:Wc}]}]},W_=new s(Ft,N_,Nc,F_),An="SkywardHarp",Hc=d.weapon.data[An],H_=[-1,.2,.25,.3,.35,.4],G_=S(1.25),Gc=a(e.weapon.refinement,H_),Kc=c(e.weapon.key,An,y(i(G_,e.total.atk),"elemental",{hit:{ele:w("physical")}})),K_=r(An,Hc,{premod:{critDMG_:Gc}},{dmg:Kc}),L_={document:[{header:o(An,t("base")),fields:[{node:Gc},{node:h(Kc,{name:t("dmg")})}]}]},q_=new s(An,L_,Hc,K_),Ue="Slingshot",Lc=d.weapon.data[Ue],[,zo]=g("weapon",Ue),V_=[-1,.36,.42,.48,.54,.6],[z_,qc]=m(Ue,"Slingshot"),U_=["less","more"],Va=p(qc,{less:a(e.weapon.refinement,V_,f.info("normal_dmg_")),more:S(-.1,f.info("normal_dmg_"))},_),Vc={...Va},J_=r(Ue,Lc,{premod:{normal_dmg_:Va,charged_dmg_:Vc}}),Q_={document:[{value:qc,path:z_,header:o(Ue,t("conditional")),name:zo("condName"),states:$(U_,n=>({name:zo(n),fields:[{node:Va},{node:Vc}]}))}]},X_=new s(Ue,Q_,Lc,J_),En="SongOfStillness",zc=d.weapon.data[En],Z_=[-1,.16,.2,.24,.28,.32],[Y_,Uc]=m(En,"afterHeal"),Jc=c(Uc,"on",a(e.weapon.refinement,Z_)),ef=r(En,zc,{premod:{all_dmg_:Jc}}),nf={document:[{header:o(En,t("conditional")),path:Y_,value:Uc,name:t("afterHeal"),states:{on:{fields:[{node:Jc},{text:l("duration"),value:8,unit:"s"}]}}}]},tf=new s(En,nf,zc,ef),fn="TheFirstGreatMagic",Qc=d.weapon.data[fn],af=[-1,.16,.2,.24,.28,.32],ma=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],la=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Uo=p(e.charEle,x,_),$a=P(...v.map(n=>Yo(x[n],1,ae(n,e.charEle,x[n])))),Xc=a(e.weapon.refinement,af),Zc=es(Uo,3,a(e.weapon.refinement,ma[2]),Ta(Uo,2,a(e.weapon.refinement,ma[1]),a(e.weapon.refinement,ma[0]))),ha=es($a,3,a(e.weapon.refinement,la[2]),Ta($a,2,a(e.weapon.refinement,la[1]),c($a,1,a(e.weapon.refinement,la[0])))),of=r(fn,Qc,{premod:{charged_dmg_:Xc,atk_:Zc,moveSPD_:ha}}),sf={document:[{header:o(fn,t("base")),fields:[{node:Xc}]},{header:o(fn,t("stacks")),fields:[{node:Zc},{canShow:n=>n.get(ha).value>0,node:ha}]}]},cf=new s(fn,sf,Qc,of),Nt="TheStringless",Yc=d.weapon.data[Nt],ed=[-1,.24,.3,.36,.42,.48],nd=a(e.weapon.refinement,ed),td=a(e.weapon.refinement,ed),df=r(Nt,Yc,{premod:{skill_dmg_:nd,burst_dmg_:td}}),rf={document:[{header:o(Nt,t("base")),fields:[{node:nd},{node:td}]}]},mf=new s(Nt,rf,Yc,df),xn="TheViridescentHunt",ad=d.weapon.data[xn],lf=[-1,.4,.5,.6,.7,.8],od=c(e.weapon.key,xn,y(i(a(e.weapon.refinement,lf),e.total.atk),"elemental",{hit:{ele:w("physical")}})),$f=r(xn,ad,void 0,{dmg:od}),pf={document:[{header:o(xn,t("base")),fields:[{node:h(od,{name:t("dmg")})}]}]},hf=new s(xn,pf,ad,$f),ue="ThunderingPulse",sd=d.weapon.data[ue],[,uf]=g("weapon",ue),_f=[-1,.2,.25,.3,.35,.4],ff=[-1,.12,.15,.18,.21,.24],gf=[-1,.24,.3,.36,.42,.48],wf=[-1,.4,.5,.6,.7,.8],[kf,cd]=m(ue,"RuleByThunder"),dd=a(e.weapon.refinement,_f),rd=p(cd,{1:a(e.weapon.refinement,ff),2:a(e.weapon.refinement,gf),3:a(e.weapon.refinement,wf)},_),vf=r(ue,sd,{premod:{atk_:dd,normal_dmg_:rd}}),yf={document:[{header:o(ue,t("base")),fields:[{node:dd}]},{value:cd,path:kf,header:o(ue,t("stacks")),name:uf("condName"),states:$(u(1,3),n=>({name:t("stack",{count:n}),fields:[{node:rd}]}))}]},Pf=new s(ue,yf,sd,vf),Mn="WindblumeOde",id=d.weapon.data[Mn],Sf=[-1,.16,.2,.24,.28,.32],[bf,md]=m(Mn,"WindblumeWish"),ld=c(md,"on",a(e.weapon.refinement,Sf)),Of=r(Mn,id,{premod:{atk_:ld}}),Bf={document:[{value:md,path:bf,name:t("afterUse.skill"),header:o(Mn,t("conditional")),states:{on:{fields:[{node:ld},{text:l("duration"),value:6,unit:"s"}]}}}]},Af=new s(Mn,Bf,id,Of),Ef={AlleyHunter:Zh,AmosBow:o1,AquaSimulacra:l1,BlackcliffWarbow:_1,CompoundBow:y1,ElegyForTheEnd:x1,FadingTwilight:F1,FavoniusWarbow:H1,Hamayumi:V1,HuntersBow:J1,HuntersPath:nu,IbisPiercer:cu,KingsSquire:$u,Messenger:_u,MitternachtsWaltz:Pu,MouunsMoon:xu,PolarStar:Nu,Predator:Vu,PrototypeCrescent:Xu,RangeGauge:s_,RavenBow:m_,RecurveBow:h_,RoyalBow:w_,Rust:P_,SacrificialBow:O_,ScionOfTheBlazingSun:T_,SeasonedHuntersBow:I_,SharpshootersOath:W_,SkywardHarp:q_,Slingshot:X_,SongOfStillness:tf,TheFirstGreatMagic:cf,TheStringless:mf,TheViridescentHunt:hf,ThunderingPulse:Pf,EndOfTheLine:R1,WindblumeOde:Af},je="AThousandFloatingDreams",$d=d.weapon.data[je],xf=[-1,32,40,48,56,64],Mf=[-1,.1,.14,.18,.22,.26],Df=[-1,40,42,44,46,48],pd=p(e.charEle,Object.fromEntries(v.map(n=>[n,h(P(x[n],-1),{asConst:!0})])),_),Tf=P(...v.map(n=>x[n])),hd=i(pd,a(e.weapon.refinement,xf)),ud=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,i(h(P(Tf,-1,i(pd,-1)),{asConst:!0}),a(e.weapon.refinement,Mf,{unit:"%"})))])),_d=c(e.weapon.key,je,a(e.weapon.refinement,Df),{...f.info("eleMas"),isTeamBuff:!0}),Rf=ae(e.charKey,O.charKey,_d),Cf=r(je,$d,{premod:{eleMas:hd,...ud},teamBuff:{premod:{eleMas:Rf}}}),If={document:[{header:o(je,t("base")),fields:[{node:hd},...Object.values(ud).map(n=>({node:n}))]},{header:o(je,t("teamBuff")),teamBuff:!0,fields:[{node:_d}]}]},jf=new s(je,If,$d,Cf),za="ApprenticesNotes",Ua=d.weapon.data[za],Ff=r(za,Ua),Nf={...Ua,document:[]},Wf=new s(za,Nf,Ua,Ff),Dn="BalladOfTheBoundlessBlue",fd=d.weapon.data[Dn],Hf=[-1,.08,.1,.12,.14,.16],Gf=[-1,.06,.075,.09,.105,.12],[Kf,Ja]=m(Dn,"hits"),Qa=u(1,3),gd=p(Ja,$(Qa,n=>i(n,a(e.weapon.refinement,Hf,{unit:"%"}))),_),wd=p(Ja,$(Qa,n=>i(n,a(e.weapon.refinement,Gf,{unit:"%"}))),_),Lf=r(Dn,fd,{premod:{normal_dmg_:gd,charged_dmg_:wd}}),qf={document:[{value:Ja,path:Kf,teamBuff:!0,header:o(Dn,t("stacks")),name:t("hitOp.normalOrCharged"),states:$(Qa,n=>({name:t("hits",{count:n}),fields:[{node:gd},{node:wd},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},Vf=new s(Dn,qf,fd,Lf),Tn="BlackcliffAgate",kd=d.weapon.data[Tn],[zf,vd]=m(Tn,"PressTheAdvantage"),yd=u(1,3),Uf=[-1,.12,.15,.18,.21,.24],Pd=i(p(vd,$(yd,n=>w(n)),0),a(e.weapon.refinement,Uf)),Jf=r(Tn,kd,{premod:{atk_:Pd}}),Qf={document:[{value:vd,path:zf,header:o(Tn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(yd.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Pd},{text:l("duration"),value:30,unit:"s"}]}]))}]},Xf=new s(Tn,Qf,kd,Jf),z="CashflowSupervision",Xa=d.weapon.data[z],Sd=Xa.refinementBonus.atk_;if(!Sd)throw new Error(`data_gen.refinementBonus.atk_ for ${z} was undefined`);const Zf=[-1,.16,.2,.24,.28,.32],Yf=[-1,.14,.175,.21,.245,.28],eg=[-1,.08,.1,.12,.14,.16],bd=c(e.weapon.key,z,a(e.weapon.refinement,Sd)),[ng,Wt]=m(z,"hpChanges"),Za=u(1,3),Od=p(Wt,$(Za,n=>i(n,a(e.weapon.refinement,Zf,{unit:"%"}))),_),Bd=p(Wt,$(Za,n=>i(n,a(e.weapon.refinement,Yf,{unit:"%"}))),_),Ad=c(Wt,"3",a(e.weapon.refinement,eg)),tg=r(z,Xa,{premod:{atk_:bd,normal_dmg_:Od,charged_dmg_:Bd,atkSPD_:Ad}}),ag={document:[{header:o(z,t("base")),fields:[{node:bd}]},{value:Wt,path:ng,header:o(z,t("stacks")),name:t("hpChange"),states:$(Za,n=>({name:t("times",{count:n}),fields:[{node:Od},{node:Bd},{node:Ad},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},og=new s(z,ag,Xa,tg),Rn="CranesEchoingCall",Ed=d.weapon.data[Rn],sg=[-1,.28,.41,.54,.67,.8],[cg,xd]=m(Rn,"passive"),Md=c(xd,"on",a(e.weapon.refinement,sg,{unit:"%"})),dg=r(Rn,Ed,{teamBuff:{premod:{plunging_dmg_:Md}}}),rg={document:[{value:xd,path:cg,header:o(Rn,t("conditional")),name:t("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Md},{text:l("duration"),value:20,unit:"s"}]}}}]},ig=new s(Rn,rg,Ed,dg),_e="DodocoTales",Dd=d.weapon.data[_e],mg=[-1,.16,.2,.24,.28,.32],lg=[-1,.08,.1,.12,.14,.16],[$g,Td]=m(_e,"DodoventureNormal"),[pg,Rd]=m(_e,"DodoventureCharged"),Cd=c("on",Td,a(e.weapon.refinement,mg)),Id=c("on",Rd,a(e.weapon.refinement,lg)),hg=r(_e,Dd,{premod:{charged_dmg_:Cd,atk_:Id}}),ug={document:[{value:Td,path:$g,name:t("hitOp.normal"),header:o(_e,t("conditional")),states:{on:{fields:[{node:Cd},{text:l("duration"),value:6,unit:"s"}]}}},{value:Rd,path:pg,name:t("hitOp.charged"),header:o(_e,t("conditional")),states:{on:{fields:[{node:Id},{text:l("duration"),value:6,unit:"s"}]}}}]},_g=new s(_e,ug,Dd,hg),Cn="EmeraldOrb",jd=d.weapon.data[Cn],fg=[-1,.2,.25,.3,.35,.4],[gg,Fd]=m(Cn,"Rapids"),Nd=c("on",Fd,a(e.weapon.refinement,fg)),wg=r(Cn,jd,{premod:{atk_:Nd}}),kg={document:[{value:Fd,path:gg,name:t("elementalReaction.hydro"),header:o(Cn,t("conditional")),states:{on:{fields:[{node:Nd},{text:l("duration"),value:12,unit:"s"}]}}}]},vg=new s(Cn,kg,jd,wg),xe="EverlastingMoonglow",Ya=d.weapon.data[xe],yg=[-1,.01,.015,.02,.025,.03],[,Pg]=g("weapon",xe),ua=c(e.weapon.key,xe,i(a(e.weapon.refinement,yg,{unit:"%"}),e.premod.hp)),Wd=Ya.refinementBonus.heal_;if(!Wd)throw new Error(`data_gen.refinementBonus.heal_ for ${xe} was undefined`);const Hd=a(e.weapon.refinement,Wd),Sg=r(xe,Ya,{premod:{normal_dmgInc:ua,heal_:Hd}},{normal_dmgInc:ua}),bg={document:[{header:o(xe,t("base")),fields:[{node:Hd},{text:Pg("name"),node:ua}]}]},Og=new s(xe,bg,Ya,Sg),In="EyeOfPerception",Gd=d.weapon.data[In],Bg=[-1,2.4,2.7,3,3.3,3.6],Kd=c(e.weapon.key,In,y(i(a(e.weapon.refinement,Bg,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Ag=r(In,Gd,void 0,{dmg_:Kd}),Eg={document:[{header:o(In,t("base")),fields:[{node:h(Kd,{name:t("dmg")})}]}]},xg=new s(In,Eg,Gd,Ag),Ht="FavoniusCodex",Ld=d.weapon.data[Ht],Mg=r(Ht,Ld),Dg={document:[{header:o(Ht),fields:[]}]},Tg=new s(Ht,Dg,Ld,Mg),I="FlowingPurity",qd=d.weapon.data[I],[,Rg]=g("weapon",I),Cg=[-1,.08,.1,.12,.14,.16],Ig=[-1,.02,.025,.03,.035,.04],jg=[-1,.12,.15,.18,.21,.24],[Fg,Vd]=m(I,"afterSkill"),Ng=c(Vd,"on",a(e.weapon.refinement,Cg)),eo=v.map(n=>`${n}_dmg_`),zd=$(eo,n=>h({...Ng},f.info(n))),Wg=i(S(.24),e.total.hp),[Hg,Ud]=m(I,"bond"),Gg=c(e.weapon.key,I,c(Ud,"on",te(i(a(e.weapon.refinement,Ig,{unit:"%"}),i(Wg,S(1/1e3))),a(e.weapon.refinement,jg,{unit:"%"})))),_a=$(eo,n=>h({...Gg},f.info(n))),Kg=r(I,qd,{premod:{...$(eo,n=>P(zd[n],_a[n]))}},_a),Lg={document:[{header:o(I,t("conditional")),path:Fg,value:Vd,name:t("hitOp.skill"),states:{on:{fields:[...Object.values(zd).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(I,t("conditional")),path:Hg,value:Ud,name:Rg("bondCondName"),states:{on:{fields:[...Object.values(_a).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"}]}}}]},qg=new s(I,Lg,qd,Kg),K="Frostbearer",Jd=d.weapon.data[K],Vg=[-1,.8,.95,1.1,1.25,1.4],zg=[-1,2,2.4,2.8,3.2,3.6],Qd=c(e.weapon.key,K,y(i(a(e.weapon.refinement,Vg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Xd=c(e.weapon.key,K,y(i(a(e.weapon.refinement,zg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Ug=r(K,Jd,void 0,{dmgAoe:Qd,dmgOnCryoOp:Xd}),Jg={document:[{header:o(K,t("base")),fields:[{node:h(Qd,{name:s.trm(K)("aoeDmg")})},{node:h(Xd,{name:s.trm(K)("cryoAffectedDmg")})}]}]},Qg=new s(K,Jg,Jd,Ug),Je="FruitOfFulfillment",Zd=d.weapon.data[Je],[,Xg]=g("weapon",Je),Zg=[-1,24,27,30,33,36],[Yg,no]=m(Je,"stacks"),to=b(1,5),Yd=p(no,Object.fromEntries(to.map(n=>[n,i(a(e.weapon.refinement,Zg),n)])),_),er=p(no,Object.fromEntries(to.map(n=>[n,i(S(-.05),n)])),_),ew=r(Je,Zd,{premod:{eleMas:Yd,atk_:er}}),nw={document:[{teamBuff:!0,header:o(Je,t("stacks")),path:Yg,value:no,name:Xg("stackName"),states:Object.fromEntries(to.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Yd},{node:er}]}]))}]},tw=new s(Je,nw,Zd,ew),jn="HakushinRing",nr=d.weapon.data[jn],aw=[-1,.1,.125,.15,.175,.2],[ow,oe]=m(jn,"SakuraSaiguu"),Me=a(e.weapon.refinement,aw),tr=c("anemo",oe,Me),ar=c("cryo",oe,Me),or=c("geo",oe,Me),sr=c("hydro",oe,Me),cr=c("pyro",oe,Me),dr=c("dendro",oe,Me),sw=c("anemo",O.charEle,tr),cw=c("cryo",O.charEle,ar),dw=c("geo",O.charEle,or),rw=c("hydro",O.charEle,sr),iw=c("pyro",O.charEle,cr),mw=c("dendro",O.charEle,dr),ce=ae(oe,void 0,Me),lw=c("electro",O.charEle,ce),$w=r(jn,nr,{teamBuff:{premod:{anemo_dmg_:sw,cryo_dmg_:cw,electro_dmg_:lw,geo_dmg_:dw,hydro_dmg_:rw,pyro_dmg_:iw,dendro_dmg_:mw}}}),pw={document:[{value:oe,path:ow,name:t("elementalReaction.electro"),teamBuff:!0,header:o(jn,t("conditional")),states:{anemo:{name:G(Ce,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:h(tr,{...f.info("anemo_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:G(Ce,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:h(ar,{...f.info("cryo_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:G(Ce,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:h(or,{...f.info("geo_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:G(Ce,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:h(cr,{...f.info("pyro_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:G(Ce,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:h(sr,{...f.info("hydro_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:G(Ce,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:h(dr,{...f.info("dendro_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},hw=new s(jn,pw,nr,$w),De="JadefallsSplendor",rr=d.weapon.data[De],[,uw]=g("weapon",De),[_w,ir]=m(De,"condPassive"),fw=[-1,.003,.005,.007,.009,.011],gw=[-1,.12,.2,.28,.36,.44],ww=c(e.weapon.key,De,c(ir,"on",te(a(e.weapon.refinement,gw,{unit:"%"}),i(a(e.weapon.refinement,fw,{unit:"%"}),e.total.hp,1/1e3)))),fa=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(n,e.charEle,ww)])),kw=r(De,rr,{premod:{...fa}},{...fa}),vw={document:[{header:o(De,t("conditional")),path:_w,value:ir,name:uw("condName"),states:{on:{fields:[...Object.values(fa).map(n=>({node:n})),{text:l("duration"),value:3,unit:"s"}]}}}]},yw=new s(De,vw,rr,kw),Fn="KagurasVerity",mr=d.weapon.data[Fn],[Pw,ao]=m(Fn,"KaguraDance"),lr=b(1,3),$r=[-1,.12,.15,.18,.21,.24],pr=lr.map(n=>c(ao,n.toString(),a(e.weapon.refinement,$r.map(k=>k*n)),f.info("skill_dmg_"))),hr=Object.fromEntries(v.map(n=>[n,c(ao,"3",a(e.weapon.refinement,$r))])),Sw=r(Fn,mr,{premod:{skill_dmg_:P(...pr),...Object.fromEntries(v.map(n=>[`${n}_dmg_`,hr[n]]))}}),bw={document:[{value:ao,path:Pw,header:o(Fn,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(lr.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:pr[n-1]},...v.map(k=>({node:hr[k]}))]}]))}]},Ow=new s(Fn,bw,mr,Sw),Fe="LostPrayerToTheSacredWinds",ur=d.weapon.data[Fe],Bw=[-1,.08,.1,.12,.14,.16],[Aw,_r]=m(Fe,"BoundlessBlessing"),fr=S(.1),Ew=a(e.weapon.refinement,Bw,{unit:"%"}),gr=Object.fromEntries(v.map(n=>[n,p(_r,{...$(u(1,4),k=>i(Ew,k))},_)])),xw=r(Fe,ur,{premod:{moveSPD_:fr,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,gr[n]]))}}),Mw={document:[{header:o(Fe,t("base")),fields:[{node:fr}]},{value:_r,path:Aw,header:o(Fe,t("stacks")),name:t("timeOnField"),states:$(u(1,4),n=>({name:t("seconds",{count:n*4}),fields:v.map(k=>({node:gr[k]}))}))}]},Dw=new s(Fe,Mw,ur,xw),Nn="MagicGuide",wr=d.weapon.data[Nn],Tw=[-1,.12,.15,.18,.21,.24],[Rw,kr]=m(Nn,"BaneOfStormAndTide"),vr=c("on",kr,a(e.weapon.refinement,Tw)),Cw=r(Nn,wr,{premod:{all_dmg_:vr}}),Iw={document:[{value:kr,path:Rw,name:t("enemyAffected.hydroOrElectro"),header:o(Nn,t("conditional")),states:{on:{fields:[{node:vr}]}}}]},jw=new s(Nn,Iw,wr,Cw),Wn="MappaMare",yr=d.weapon.data[Wn],[Fw,Pr]=m(Wn,"InfusionScroll"),Nw=[-1,.08,.1,.12,.14,.16],Ww=a(e.weapon.refinement,Nw),Sr=Nh(v,n=>[`${n}_dmg_`,p(Pr,{...$(u(1,2),k=>i(Ww,k))},_)]),Hw=r(Wn,yr,{premod:Sr}),Gw={document:[{value:Pr,path:Fw,header:o(Wn,t("stacks")),name:t("afterReaction"),states:$(u(1,2),n=>({name:t("stack",{count:n}),fields:[...Object.values(Sr).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"}]}))}]},Kw=new s(Wn,Gw,yr,Hw),D="MemoryOfDust",br=d.weapon.data[D],[,Lw]=g("weapon",D),qw=[-1,.2,.25,.3,.35,.4],Vw=[-1,.04,.05,.06,.07,.08],[zw,Or]=m(D,"GoldenMajesty"),Br=a(e.weapon.refinement,qw),[Uw,Ar]=m(D,"WithShield"),Jw=a(e.weapon.refinement,Vw),Er=i(P(1,c(Ar,"protected",1)),p(Or,Object.fromEntries(b(1,5).map(n=>[n,i(Jw,n)])),_)),Qw=r(D,br,{premod:{shield_:Br,atk_:Er}}),Xw={document:[{header:o(D,t("base")),fields:[{node:Br}]},{value:Or,path:zw,header:o(D,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Er},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Ar,path:Uw,header:o(D,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:Lw("atkEffInc"),value:100,unit:"%"}]}}}]},Zw=new s(D,Xw,br,Qw),Hn="OathswornEye",xr=d.weapon.data[Hn],Yw=[-1,.24,.3,.36,.42,.48],[ek,Mr]=m(Hn,"faLight"),nk=a(e.weapon.refinement,Yw),Dr=c("skillBurst",Mr,nk),tk=r(Hn,xr,{premod:{enerRech_:Dr}}),ak={document:[{value:Mr,path:ek,header:o(Hn,t("conditional")),name:t("afterUse.skill"),states:{skillBurst:{fields:[{node:Dr}]}}}]},ok=new s(Hn,ak,xr,tk),Gn="OtherworldlyStory",Tr=d.weapon.data[Gn],sk=[-1,.01,.0125,.015,.0175,.02],Rr=c(e.weapon.key,Gn,Ke(i(a(e.weapon.refinement,sk,{unit:"%"}),e.total.hp))),ck=r(Gn,Tr,void 0,{heal:Rr}),dk={document:[{header:o(Gn,t("base")),fields:[{node:h(Rr,{name:l("healing"),variant:"heal"})}]}]},rk=new s(Gn,dk,Tr,ck),oo="PocketGrimoire",Cr=d.weapon.data[oo],ik=r(oo,Cr),mk={document:[]},lk=new s(oo,mk,Cr,ik),Qe="PrototypeAmber",Ir=d.weapon.data[Qe],[$k,pk]=m(Qe,"Gliding"),hk=[-1,.04,.045,.05,.055,.06],jr=c(e.weapon.key,Qe,Ke(i(a(e.weapon.refinement,hk,{unit:"%"}),e.total.hp))),uk=r(Qe,Ir,void 0,{heal:jr}),_k={document:[{value:pk,path:$k,name:t("afterUse.burst"),header:o(Qe,t("conditional")),states:{on:{fields:[{node:h(jr,{name:l("healing"),variant:"heal"})}]}}}]},fk=new s(Qe,_k,Ir,uk),fe="QuantumCatalyst",Fr=d.weapon.data[fe],gk=[-1,.18,.225,.27,.315,.36],wk=[-1,.06,.075,.09,.105,.12],kk=[-1,10,12,14,16,18],Nr=u(1,5),[vk,Wr]=m(fe,"stacks"),Hr=a(e.weapon.refinement,gk),At=c(e.weapon.key,fe,i(a(e.weapon.refinement,wk,{unit:"%"}),e.total.eleMas)),ga={...At},Gr=p(Wr,$(Nr,n=>i(a(e.weapon.refinement,kk),n)),_),yk=r(fe,Fr,{premod:{enerRech_:Hr,normal_dmgInc:At,charged_dmgInc:ga,eleMas:Gr}},{normal_dmgInc:At,charged_dmgInc:ga}),Pk={document:[{header:o(fe,t("base")),fields:[{node:Hr},{node:At},{node:ga}]},{value:Wr,path:vk,teamBuff:!0,header:o(fe,t("stacks")),name:t("elementalReaction.electro"),states:$(Nr,n=>({name:t("stack",{count:n}),fields:[{node:Gr},{text:l("duration"),value:12,unit:"s"}]}))}]},Sk=new s(fe,Pk,Fr,yk),Kn="RoyalGrimoire",Kr=d.weapon.data[Kn],[bk,Lr]=m(Kn,"stack"),Ok=[-1,.08,.1,.12,.14,.16],qr=p(Lr,$(u(1,5),n=>i(a(e.weapon.refinement,Ok,{unit:"%"}),n)),_),Bk=r(Kn,Kr,{premod:{critRate_:qr}}),Ak={document:[{value:Lr,path:bk,header:o(Kn,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:qr}]}]))}]},Ek=new s(Kn,Ak,Kr,Bk),Gt="SacrificialFragments",Vr=d.weapon.data[Gt],xk=r(Gt,Vr),Mk={document:[{header:o(Gt),fields:[]}]},Dk=new s(Gt,Mk,Vr,xk),Xe="SacrificialJade",zr=d.weapon.data[Xe],[,Tk]=g("weapon",Xe),Rk=[-1,.32,.4,.48,.56,.64],Ck=[-1,40,50,60,70,80],[Ik,so]=m(Xe,"offField"),Ur=c(so,"on",a(e.weapon.refinement,Rk)),Jr=c(so,"on",a(e.weapon.refinement,Ck)),jk=r(Xe,zr,{premod:{eleMas:Jr,hp_:Ur}}),Fk={document:[{teamBuff:!0,header:o(Xe,t("conditional")),path:Ik,value:so,name:Tk("condOffField"),states:{on:{fields:[{node:Ur},{node:Jr}]}}}]},Nk=new s(Xe,Fk,zr,jk),Ln="SkywardAtlas",Qr=d.weapon.data[Ln],Wk=[-1,.12,.15,.18,.21,.24],Xr=Object.fromEntries(v.map(n=>[n,a(e.weapon.refinement,Wk)])),Hk=[-1,1.6,2,2.4,2.8,3.2],Zr=c(e.weapon.key,Ln,y(i(a(e.weapon.refinement,Hk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Gk=r(Ln,Qr,{premod:{...Object.fromEntries(v.map(n=>[`${n}_dmg_`,Xr[n]]))}},{dmg:Zr}),Kk={document:[{header:o(Ln,t("base")),fields:[...v.map(n=>({node:Xr[n]})),{node:h(Zr,{name:t("dmg")})}]}]},Lk=new s(Ln,Kk,Qr,Gk),ge="SolarPearl",Yr=d.weapon.data[ge],qk=[-1,.2,.25,.3,.35,.4],[Vk,ei]=m(ge,"solarShineNormal"),[zk,ni]=m(ge,"solarShineSkillBurst"),ti=a(e.weapon.refinement,qk),co=c("normal",ei,ti),ai={...co},oi=c("skillBurst",ni,ti),Uk=r(ge,Yr,{premod:{skill_dmg_:co,burst_dmg_:ai,normal_dmg_:oi}}),Jk={document:[{value:ei,path:Vk,header:o(ge,t("conditional")),name:t("hitOp.normal"),states:{normal:{fields:[{node:co},{node:ai}]}}},{value:ni,path:zk,header:o(ge,t("conditional")),name:t("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:oi}]}}}]},Qk=new s(ge,Jk,Yr,Uk),Ze="TheWidsith",si=d.weapon.data[Ze],[Xk,pa]=g("weapon",Ze),Zk=[-1,.6,.75,.9,1.05,1.2],Yk=[-1,.48,.6,.72,.84,.96],e2=[-1,240,300,360,420,480],[n2,Kt]=m(Ze,"Debut"),ci=c("recitative",Kt,a(e.weapon.refinement,Zk)),di=Object.fromEntries(v.map(n=>[n,c("aria",Kt,a(e.weapon.refinement,Yk))])),ri=c("interlude",Kt,a(e.weapon.refinement,e2)),t2=r(Ze,si,{premod:{atk_:ci,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,di[n]])),eleMas:ri}}),a2={document:[{value:Kt,path:n2,teamBuff:!0,header:o(Ze,t("conditional")),name:Xk("passiveName"),states:{aria:{name:pa("aria"),fields:[...v.map(n=>({node:di[n]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:pa("interlude"),fields:[{node:ri},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:pa("recitative"),fields:[{node:ci},{text:l("duration"),value:10,unit:"s"}]}}}]},o2=new s(Ze,a2,si,t2),Ye="ThrillingTalesOfDragonSlayers",ii=d.weapon.data[Ye],[,s2]=g("weapon",Ye),c2=[-1,.24,.3,.36,.42,.48],[d2,mi]=m(Ye,"Heritage"),li=c("on",mi,a(e.weapon.refinement,c2)),r2=ae(e.activeCharKey,e.charKey,c(e.activeCharKey,O.charKey,li)),i2=r(Ye,ii,{teamBuff:{premod:{atk_:r2}}}),m2={document:[{value:mi,path:d2,name:s2("condName"),teamBuff:!0,header:o(Ye,t("conditional")),states:{on:{fields:[{node:h(li,f.info("atk_"))},{text:l("duration"),value:10,unit:"s"}]}}}]},l2=new s(Ye,m2,ii,i2),U="TomeOfTheEternalFlow",ro=d.weapon.data[U],$i=ro.refinementBonus.hp_;if(!$i)throw new Error(`data_gen.refinementBonus.hp_ for ${U} was undefined`);const $2=[-1,.14,.18,.22,.26,.3],pi=c(e.weapon.key,U,a(e.weapon.refinement,$i)),[p2,hi]=m(U,"hpChanges"),ui=u(1,3),_i=p(hi,$(ui,n=>i(n,a(e.weapon.refinement,$2,{unit:"%"}))),_),h2=r(U,ro,{premod:{hp_:pi,charged_dmg_:_i}}),u2={document:[{header:o(U,t("base")),fields:[{node:pi}]},{value:hi,path:p2,header:o(U,t("stacks")),name:t("hpChange"),states:$(ui,n=>({name:t("times",{count:n}),fields:[{node:_i},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},_2=new s(U,u2,ro,h2),B="TulaytullahsRemembrance",fi=d.weapon.data[B],f2=[-1,.1,.125,.15,.175,.2],g2=[-1,.048,.06,.072,.084,.096],gi=b(1,12),w2=[-1,.096,.12,.144,.168,.192],wi=b(1,5),k2=[-1,.48,.6,.72,.84,.96],ki=c(e.weapon.key,B,a(e.weapon.refinement,f2)),[v2,vi]=m(B,"timePassive"),y2=c(e.weapon.key,B,p(vi,Object.fromEntries(gi.map(n=>[n,i(n,a(e.weapon.refinement,g2,{unit:"%"}))])),_,f.info("normal_dmg_"))),[P2,yi]=m(B,"hitPassive"),S2=c(e.weapon.key,B,p(yi,Object.fromEntries(wi.map(n=>[n,i(n,a(e.weapon.refinement,w2,{unit:"%"}))])),_,f.info("normal_dmg_"))),Pi=te(a(e.weapon.refinement,k2,{unit:"%"}),P(y2,S2)),b2=r(B,fi,{premod:{atkSPD_:ki,normal_dmg_:Pi}}),O2={document:[{header:o(B,t("base")),fields:[{node:ki}]},{header:o(B,t("conditional")),fields:[{node:Pi}]},{value:vi,path:v2,header:o(B,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(gi.map(n=>[n,{name:t("seconds",{count:n}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:yi,path:P2,header:o(B,t("stacks")),name:t("hitOp.normal"),states:Object.fromEntries(wi.map(n=>[n,{name:t("stack",{count:n}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},B2=new s(B,O2,fi,b2),qn="TwinNephrite",Si=d.weapon.data[qn],bi=[-1,.12,.14,.16,.18,.2],[A2,io]=m(qn,"GuerillaTactics"),Oi=c("on",io,a(e.weapon.refinement,bi)),Bi=c("on",io,a(e.weapon.refinement,bi)),E2=r(qn,Si,{premod:{atk_:Oi,moveSPD_:Bi}}),x2={document:[{value:io,path:A2,name:t("afterDefeatEnemy"),header:o(qn,t("conditional")),states:{on:{fields:[{node:Oi},{node:Bi},{text:l("duration"),value:15,unit:"s"}]}}}]},M2=new s(qn,x2,Si,E2),we="WanderingEvenstar",Ai=d.weapon.data[we],D2=[-1,.24,.3,.36,.42,.48],Et=c(e.weapon.key,we,i(a(e.weapon.refinement,D2,{unit:"%"}),e.premod.eleMas)),mo=c(e.weapon.key,we,i(S(.3),Et)),T2=ae(e.activeCharKey,e.charKey,mo),R2=r(we,Ai,{total:{atk:Et},teamBuff:{total:{atk:T2}}},{selfAtk:Et,teamAtkDisp:mo}),C2={document:[{header:o(we,t("base")),fields:[{node:Et}]},{header:o(we,t("teamBuff")),teamBuff:!0,fields:[{node:h(mo,{...f.info("atk"),isTeamBuff:!0})}]}]},I2=new s(we,C2,Ai,R2),Vn="WineAndSong",Ei=d.weapon.data[Vn],j2=[-1,.2,.25,.3,.35,.4],[F2,xi]=m(Vn,"EverChanging"),Mi=c("on",xi,a(e.weapon.refinement,j2)),N2=r(Vn,Ei,{premod:{atk_:Mi}}),W2={document:[{value:xi,path:F2,name:t("afterSprint"),header:o(Vn,t("conditional")),states:{on:{fields:[{node:Mi},{text:l("duration"),value:5,unit:"s"}]}}}]},H2=new s(Vn,W2,Ei,N2),G2={ApprenticesNotes:Wf,AThousandFloatingDreams:jf,BalladOfTheBoundlessBlue:Vf,BlackcliffAgate:Xf,CashflowSupervision:og,CranesEchoingCall:ig,DodocoTales:_g,EmeraldOrb:vg,EverlastingMoonglow:Og,EyeOfPerception:xg,FavoniusCodex:Tg,FlowingPurity:qg,Frostbearer:Qg,FruitOfFulfillment:tw,HakushinRing:hw,JadefallsSplendor:yw,KagurasVerity:Ow,LostPrayerToTheSacredWinds:Dw,MagicGuide:jw,MappaMare:Kw,MemoryOfDust:Zw,OathswornEye:ok,OtherworldlyStory:rk,PocketGrimoire:lk,PrototypeAmber:fk,QuantumCatalyst:Sk,RoyalGrimoire:Ek,SacrificialFragments:Dk,SacrificialJade:Nk,SkywardAtlas:Lk,SolarPearl:Qk,TheWidsith:o2,ThrillingTalesOfDragonSlayers:l2,TomeOfTheEternalFlow:_2,TulaytullahsRemembrance:B2,TwinNephrite:M2,WanderingEvenstar:I2,WineAndSong:H2},en="Akuoumaru",Di=d.weapon.data[en],[,K2]=g("weapon",en),[L2,Ti]=m(en,"WatatsumiWavewalker"),Ri=b(4,36).map(n=>n*10),q2=[-1,.0012,.0015,.0018,.0021,.0024],V2=[-1,.4,.5,.6,.7,.8],Ci=p(Ti,Object.fromEntries(Ri.map(n=>[n,te(i(a(e.weapon.refinement,q2,{unit:"%"}),n),a(e.weapon.refinement,V2,{unit:"%"}))])),_),z2=r(en,Di,{premod:{burst_dmg_:Ci}}),U2={document:[{value:Ti,path:L2,header:o(en,t("stacks")),name:K2("party"),states:Object.fromEntries(Ri.map(n=>[n,{name:n.toString(),fields:[{node:Ci}]}]))}]},J2=new s(en,U2,Di,z2),A="BeaconOfTheReedSea",Ii=d.weapon.data[A],Q2=[-1,.2,.25,.3,.35,.4],[X2,ji]=m(A,"afterSkill"),Fi=c(e.weapon.key,A,c(ji,"on",a(e.weapon.refinement,Q2,{...f.info("atk_")}))),Z2=[-1,.2,.25,.3,.35,.4],[Y2,Ni]=m(A,"afterDmg"),Wi=c(e.weapon.key,A,c(Ni,"on",a(e.weapon.refinement,Z2,{...f.info("atk_")}))),ev=[-1,.32,.4,.48,.56,.64],[nv,Hi]=m(A,"noShield"),Gi=c(e.weapon.key,A,c(Hi,"on",a(e.weapon.refinement,ev,{...f.info("hp_")}))),tv=r(A,Ii,{premod:{atk_:P(Fi,Wi),hp_:Gi}},{}),av={document:[{header:o(A,t("conditional")),path:X2,value:ji,name:t("hitOp.skill"),states:{on:{fields:[{node:Fi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(A,t("conditional")),path:Y2,value:Ni,name:t("takeDmg"),states:{on:{fields:[{node:Wi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(A,t("conditional")),path:nv,value:Hi,name:t("notProtectedByShield"),states:{on:{fields:[{node:Gi}]}}}]},ov=new s(A,av,Ii,tv),zn="BlackcliffSlasher",Ki=d.weapon.data[zn],[sv,Li]=m(zn,"PressTheAdvantage"),qi=u(1,3),cv=[-1,.12,.15,.18,.21,.24],Vi=i(p(Li,$(qi,n=>w(n)),0),a(e.weapon.refinement,cv)),dv=r(zn,Ki,{premod:{atk_:Vi}}),rv={document:[{value:Li,path:sv,header:o(zn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(qi.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Vi},{text:l("duration"),value:30,unit:"s"}]}]))}]},iv=new s(zn,rv,Ki,dv),Un="BloodtaintedGreatsword",zi=d.weapon.data[Un],mv=[-1,.12,.15,.18,.21,.24],[lv,Ui]=m(Un,"BaneOfFireAndThunder"),Ji=c("on",Ui,a(e.weapon.refinement,mv)),$v=r(Un,zi,{premod:{all_dmg_:Ji}}),pv={document:[{value:Ui,path:lv,name:t("enemyAffected.pyroOrElectro"),header:o(Un,t("conditional")),states:{on:{fields:[{node:Ji}]}}}]},hv=new s(Un,pv,zi,$v),Jn="DebateClub",Qi=d.weapon.data[Jn],uv=[-1,.6,.75,.9,1.05,1.2],Xi=c(e.weapon.key,Jn,y(i(a(e.weapon.refinement,uv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),_v=r(Jn,Qi,void 0,{dmg:Xi}),fv={document:[{header:o(Jn,t("base")),fields:[{node:h(Xi,{name:t("dmg")})}]}]},gv=new s(Jn,fv,Qi,_v),Lt="FavoniusGreatsword",Zi=d.weapon.data[Lt],wv=r(Lt,Zi),kv={document:[{header:o(Lt),fields:[]}]},vv=new s(Lt,kv,Zi,wv),nn="FerrousShadow",Yi=d.weapon.data[nn],[,Jo]=g("weapon",nn),yv=[-1,.3,.35,.4,.45,.5],[Pv,em]=m(nn,"Unbending"),nm=c("on",em,a(e.weapon.refinement,yv)),Sv=r(nn,Yi,{premod:{charged_dmg_:nm}}),bv={document:[{value:em,path:Pv,name:Jo("condName"),header:o(nn,t("conditional")),states:{on:{fields:[{node:nm},{text:Jo("resistance")}]}}}]},Ov=new s(nn,bv,Yi,Sv),tn="ForestRegalia",tm=d.weapon.data[tn],[,Bv]=g("weapon",tn),[Av,am]=m(tn,"passive"),Ev=[-1,60,75,90,105,120],om=c(am,"on",a(e.weapon.refinement,Ev)),xv=c(e.activeCharKey,O.charKey,om),Mv=r(tn,tm,{teamBuff:{premod:{eleMas:xv}}}),Dv={document:[{value:am,path:Av,teamBuff:!0,header:o(tn,t("conditional")),name:Bv("condName"),states:{on:{fields:[{node:h(om,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Tv=new s(tn,Dv,tm,Mv),qt="KatsuragikiriNagamasa",sm=d.weapon.data[qt],Rv=[-1,.06,.075,.09,.105,.12],cm=a(e.weapon.refinement,Rv),Cv=r(qt,sm,{premod:{skill_dmg_:cm}}),Iv={document:[{header:o(qt,t("base")),fields:[{node:cm}]}]},jv=new s(qt,Iv,sm,Cv),Vt="LithicBlade",dm=d.weapon.data[Vt],Fv=[-1,.07,.08,.09,.1,.11],Nv=[-1,.03,.04,.05,.06,.07],rm=i(a(e.weapon.refinement,Fv,{unit:"%"}),x.liyue),im=i(a(e.weapon.refinement,Nv,{unit:"%"}),x.liyue),Wv=r(Vt,dm,{premod:{atk_:rm,critRate_:im}}),Hv={document:[{header:o(Vt,t("stacks")),fields:[{node:rm},{node:im}]}]},Gv=new s(Vt,Hv,dm,Wv),Ne="LuxuriousSeaLord",mm=d.weapon.data[Ne],Kv=[-1,.12,.15,.18,.21,.24],Lv=[-1,1,1.25,1.5,1.75,2],lm=a(e.weapon.refinement,Kv),$m=c(e.weapon.key,Ne,y(i(a(e.weapon.refinement,Lv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),qv=r(Ne,mm,{premod:{burst_dmg_:lm}},{dmg:$m}),Vv={document:[{header:o(Ne,t("base")),fields:[{node:lm}]},{header:o(Ne,t("conditional")),fields:[{node:h($m,{name:t("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},zv=new s(Ne,Vv,mm,qv),an="MailedFlower",pm=d.weapon.data[an],[,Uv]=g("weapon",an),Jv=[-1,.12,.15,.18,.21,.24],Qv=[-1,48,60,72,84,96],[Xv,lo]=m(an,"passive"),hm=c(lo,"on",a(e.weapon.refinement,Jv,{unit:"%"})),um=c(lo,"on",a(e.weapon.refinement,Qv)),Zv=r(an,pm,{premod:{atk_:hm,eleMas:um}}),Yv={document:[{value:lo,path:Xv,name:Uv("condName"),header:o(an,t("conditional")),states:{on:{fields:[{node:hm},{node:um},{text:l("duration"),value:8,unit:"s"}]}}}]},ey=new s(an,Yv,pm,Zv),ke="MakhairaAquamarine",_m=d.weapon.data[ke],ny=[-1,.24,.3,.36,.42,.48],xt=c(e.weapon.key,ke,i(a(e.weapon.refinement,ny,{unit:"%"}),e.premod.eleMas)),$o=c(e.weapon.key,ke,i(S(.3),xt)),ty=ae(e.activeCharKey,e.charKey,$o),ay=r(ke,_m,{total:{atk:xt},teamBuff:{total:{atk:ty}}},{selfAtk:xt,teamAtkDisp:$o}),oy={document:[{header:o(ke,t("base")),fields:[{node:xt}]},{header:o(ke,t("teamBuff")),teamBuff:!0,fields:[{node:h($o,{...f.info("atk"),isTeamBuff:!0})}]}]},sy=new s(ke,oy,_m,ay),po="OldMercsPal",fm=d.weapon.data[po],cy=r(po,fm),dy={document:[]},ry=new s(po,dy,fm,cy),on="PortablePowerSaw",gm=d.weapon.data[on],[,iy]=g("weapon",on),my=[-1,40,50,60,70,80],[ly,wm]=m(on,"symbolsConsumed"),km=u(1,3),vm=p(wm,$(km,n=>i(n,a(e.weapon.refinement,my,{unit:"%"}))),_),$y=r(on,gm,{premod:{eleMas:vm}}),py={document:[{value:wm,path:ly,teamBuff:!0,header:o(on,t("stacks")),name:iy("condName"),states:$(km,n=>({name:`${n}`,fields:[{node:vm},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},hy=new s(on,py,gm,$y),Qn="PrototypeArchaic",ym=d.weapon.data[Qn],uy=[-1,2.4,3,3.6,4.2,4.8],Pm=c(e.weapon.key,Qn,y(i(a(e.weapon.refinement,uy,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),_y=r(Qn,ym,void 0,{dmg:Pm}),fy={document:[{header:o(Qn,t("base")),fields:[{node:h(Pm,{name:t("dmg")})}]}]},gy=new s(Qn,fy,ym,_y),Xn="Rainslasher",Sm=d.weapon.data[Xn],wy=[-1,.2,.24,.28,.32,.36],[ky,bm]=m(Xn,"BaneOfStormAndTide"),Om=c("on",bm,a(e.weapon.refinement,wy)),vy=r(Xn,Sm,{premod:{all_dmg_:Om}}),yy={document:[{value:bm,path:ky,name:t("enemyAffected.hydroOrElectro"),header:o(Xn,t("conditional")),states:{on:{fields:[{node:Om}]}}}]},Py=new s(Xn,yy,Sm,vy),sn="RedhornStonethresher",Bm=d.weapon.data[sn],Sy=[-1,.28,.35,.42,.49,.56],by=[-1,.4,.5,.6,.7,.8],Oy=[-1,.4,.5,.6,.7,.8],Am=a(e.weapon.refinement,Sy),wa=c(e.weapon.key,sn,i(a(e.weapon.refinement,by,{unit:"%"}),e.premod.def)),ka=c(e.weapon.key,sn,i(a(e.weapon.refinement,Oy,{unit:"%"}),e.premod.def)),By=r(sn,Bm,{premod:{def_:Am,normal_dmgInc:wa,charged_dmgInc:ka}},{normal_dmgInc:wa,charged_dmgInc:ka}),Ay={document:[{header:o(sn,t("base")),fields:[{node:Am},{node:wa},{node:ka}]}]},Ey=new s(sn,Ay,Bm,By),Zn="RoyalGreatsword",Em=d.weapon.data[Zn],[xy,xm]=m(Zn,"stack"),My=[-1,.08,.1,.12,.14,.16],Mm=p(xm,$(u(1,5),n=>i(a(e.weapon.refinement,My,{unit:"%"}),n)),_),Dy=r(Zn,Em,{premod:{critRate_:Mm}}),Ty={document:[{value:xm,path:xy,name:t("stacks"),header:o(Zn,t("stacks")),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Mm}]}]))}]},Ry=new s(Zn,Ty,Em,Dy),zt="SacrificialGreatsword",Dm=d.weapon.data[zt],Cy=r(zt,Dm),Iy={document:[{header:o(zt),fields:[]}]},jy=new s(zt,Iy,Dm,Cy),cn="SerpentSpine",Tm=d.weapon.data[cn],[,Fy]=g("weapon",cn),Ny=[-1,.06,.07,.08,.09,.1],Wy=[-1,3,2.7,2.4,2.2,2],[Hy,Rm]=m(cn,"Wavesplitter"),Gy=a(e.weapon.refinement,Ny,{unit:"%"}),Cm=p(Rm,{...$(u(1,5),n=>i(Gy,n))},_),Ky=r(cn,Tm,{premod:{all_dmg_:Cm}}),Ly={document:[{value:Rm,path:Hy,header:o(cn,t("stacks")),name:t("activeCharField"),states:{...$(u(1,5),n=>({name:t("seconds",{count:n*4}),fields:[{node:Cm},{text:Fy("takeMoreDmg"),value:k=>Wy[k.get(e.weapon.refinement).value]*n,unit:"%"}]}))}}]},qy=new s(cn,Ly,Tm,Ky),Yn="SkyriderGreatsword",Im=d.weapon.data[Yn],[Vy,jm]=m(Yn,"stack"),zy=[-1,.06,.07,.08,.09,.1],Fm=p(jm,$(u(1,4),n=>i(a(e.weapon.refinement,zy,{unit:"%"}),n)),_),Uy=r(Yn,Im,{premod:{atk_:Fm}}),Jy={document:[{value:jm,path:Vy,name:t("hitOp.normalOrCharged"),header:o(Yn,t("stacks")),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Fm},{text:l("duration"),value:6,unit:"s"}]}]))}]},Qy=new s(Yn,Jy,Im,Uy),et="SkywardPride",Nm=d.weapon.data[et],Xy=[-1,.08,.1,.12,.14,.16],Zy=[-1,.8,1,1.2,1.4,1.6],Wm=a(e.weapon.refinement,Xy),Hm=c(e.weapon.key,et,y(i(a(e.weapon.refinement,Zy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Yy=r(et,Nm,{premod:{all_dmg_:Wm}},{dmg:Hm}),eP={document:[{header:o(et,t("base")),fields:[{node:Wm},{node:h(Hm,{name:t("dmg")})}]}]},nP=new s(et,eP,Nm,Yy),L="SnowTombedStarsilver",Gm=d.weapon.data[L],tP=[-1,.8,.95,1.1,1.25,1.4],aP=[-1,2,2.4,2.8,3.2,3.6],Km=c(e.weapon.key,L,y(i(a(e.weapon.refinement,tP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Lm=c(e.weapon.key,L,y(i(a(e.weapon.refinement,aP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),oP=r(L,Gm,void 0,{dmgAoe:Km,dmgOnCryoOp:Lm}),sP={document:[{header:o(L,t("base")),fields:[{node:h(Km,{name:s.trm(L)("aoeDmg")})},{node:h(Lm,{name:s.trm(L)("cryoAffectedDmg")})}]}]},cP=new s(L,sP,Gm,oP),ve="SongOfBrokenPines",qm=d.weapon.data[ve],[,dP]=g("weapon",ve),rP=[-1,.16,.2,.24,.28,.32],iP=[-1,.2,.25,.3,.35,.4],mP=[-1,.12,.15,.18,.21,.24],[lP,ho]=m(ve,"RebelsBannerHymn"),Vm=a(e.weapon.refinement,rP,{unit:"%"}),zm=c("on",ho,a(e.weapon.refinement,iP,f.info("atk_"))),Um=c("on",ho,a(e.weapon.refinement,mP)),$P=r(ve,qm,{premod:{atk_:Vm},teamBuff:{premod:{atk_:zm,atkSPD_:Um}}}),pP={document:[{header:o(ve,t("base")),fields:[{node:Vm}]},{value:ho,path:lP,teamBuff:!0,header:o(ve,t("conditional")),name:dP("name"),states:{on:{fields:[{node:zm},{node:Um},{text:l("duration"),value:12,unit:"s"}]}}}]},hP=new s(ve,pP,qm,$P),J="TalkingStick",Jm=d.weapon.data[J],[,Qo]=g("weapon",J),uP=[-1,.16,.2,.24,.28,.32],_P=[-1,.12,.15,.18,.21,.24],[fP,Qm]=m(J,"affectedPyro"),Xm=c(Qm,"on",a(e.weapon.refinement,uP)),[gP,Zm]=m(J,"affectedOther"),wP=c(Zm,"on",a(e.weapon.refinement,_P)),Ym=$(v.map(n=>`${n}_dmg_`),()=>({...wP})),kP=r(J,Jm,{premod:{atk_:Xm,...Ym}}),vP={document:[{value:Qm,path:fP,header:o(J,t("conditional")),name:Qo("condName.atk_"),states:{on:{fields:[{node:Xm},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Zm,path:gP,header:o(J,t("conditional")),name:Qo("condName.dmg_"),states:{on:{fields:[...Object.values(Ym).map(n=>({node:n})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},yP=new s(J,vP,Jm,kP),Q="TheBell",el=d.weapon.data[Q],PP=[-1,.2,.23,.26,.29,.32],SP=[-1,.12,.15,.18,.21,.24],[bP,nl]=m(Q,"RebelliousGuardian"),tl=c(e.weapon.key,Q,c(nl,"on",Lh(i(a(e.weapon.refinement,PP,{unit:"%"}),e.total.hp)))),[OP,al]=m(Q,"WithShield"),ol=c(al,"protected",a(e.weapon.refinement,SP,{unit:"%"})),BP=r(Q,el,{premod:{all_dmg_:ol}},{shield:tl}),AP={document:[{value:nl,path:bP,header:o(Q,t("conditional")),name:t("takeDmg"),states:{on:{fields:[{node:h(tl,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:al,path:OP,header:o(Q,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{node:ol}]}}}]},EP=new s(Q,AP,el,BP),T="TheUnforged",sl=d.weapon.data[T],[,xP]=g("weapon",T),MP=[-1,.2,.25,.3,.35,.4],DP=[-1,.04,.05,.06,.07,.08],[TP,cl]=m(T,"GoldenMajesty"),dl=a(e.weapon.refinement,MP),[RP,rl]=m(T,"WithShield"),CP=a(e.weapon.refinement,DP),il=i(P(1,c(rl,"protected",1)),p(cl,Object.fromEntries(b(1,5).map(n=>[n,i(CP,n)])),_)),IP=r(T,sl,{premod:{shield_:dl,atk_:il}}),jP={document:[{header:o(T,t("base")),fields:[{node:dl}]},{value:cl,path:TP,header:o(T,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:il},{text:l("duration"),value:8,unit:"s"}]}]))},{value:rl,path:RP,header:o(T,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:xP("atkEffInc"),value:100,unit:"%"}]}}}]},FP=new s(T,jP,sl,IP),nt="TidalShadow",ml=d.weapon.data[nt],NP=[-1,.24,.3,.36,.42,.48],[WP,ll]=m(nt,"afterHeal"),$l=c(ll,"on",a(e.weapon.refinement,NP)),HP=r(nt,ml,{premod:{atk_:$l}}),GP={document:[{header:o(nt,t("conditional")),path:WP,value:ll,name:t("afterHeal"),states:{on:{fields:[{node:$l},{text:l("duration"),value:8,unit:"s"}]}}}]},KP=new s(nt,GP,ml,HP),j="UltimateOverlordsMegaMagicSword",uo=d.weapon.data[j],[,LP]=g("weapon",j),pl=uo.refinementBonus.atk_;if(!pl)throw new Error(`data_gen.refinementBonus.atk_ for ${j} was undefined`);const qP=[-1,.01,.0125,.015,.0175,.02],hl=c(e.weapon.key,j,a(e.weapon.refinement,pl),f.info("atk_")),[VP,ul]=m(j,"melusines"),_l=u(1,12),fl=p(ul,$(_l,n=>i(n,a(e.weapon.refinement,qP,{unit:"%"}))),_,f.info("atk_")),zP=r(j,uo,{premod:{atk_:P(hl,fl)}}),UP={document:[{header:o(j,t("base")),fields:[{node:hl}]},{value:ul,path:VP,header:o(j,t("stacks")),name:LP("condName"),states:$(_l,n=>({name:`${n}`,fields:[{node:fl}]}))}]},JP=new s(j,UP,uo,zP),F="Verdict",_o=d.weapon.data[F],[,QP]=g("weapon",F),gl=_o.refinementBonus.atk_;if(!gl)throw new Error(`data_gen.refinementBonus.atk_ for ${F} was undefined`);const XP=[-1,.18,.225,.27,.315,.36],wl=c(e.weapon.key,F,a(e.weapon.refinement,gl)),[ZP,kl]=m(F,"seals"),vl=u(1,2),yl=p(kl,$(vl,n=>i(n,a(e.weapon.refinement,XP,{unit:"%"}))),_),YP=r(F,_o,{premod:{atk_:wl,skill_dmg_:yl}}),eS={document:[{header:o(F,t("base")),fields:[{node:wl}]},{value:kl,path:ZP,header:o(F,t("stacks")),name:QP("condName"),states:$(vl,n=>({name:`${n}`,fields:[{node:yl}]}))}]},nS=new s(F,eS,_o,YP),fo="WasterGreatsword",go=d.weapon.data[fo],tS=r(fo,go),aS={...go,document:[]},oS=new s(fo,aS,go,tS),dn="WhiteIronGreatsword",Pl=d.weapon.data[dn],sS=[-1,.08,.1,.12,.14,.16],[cS,Sl]=m(dn,"CullTheWeak"),bl=c(e.weapon.key,dn,c(Sl,"on",Ke(i(a(e.weapon.refinement,sS,{unit:"%"}),e.total.hp)))),dS=r(dn,Pl,void 0,{heal:bl}),rS={document:[{value:Sl,path:cS,name:t("afterDefeatEnemy"),header:o(dn,t("conditional")),states:{on:{fields:[{node:h(bl,{name:l("healing"),variant:"heal"})}]}}}]},iS=new s(dn,rS,Pl,dS),tt="Whiteblind",Ol=d.weapon.data[tt],[mS,wo]=m(tt,"stack"),Bl=[-1,.06,.075,.09,.105,.12],Al=p(wo,$(u(1,4),n=>i(a(e.weapon.refinement,Bl,{unit:"%"}),n)),_),El=p(wo,$(u(1,4),n=>i(a(e.weapon.refinement,Bl,{unit:"%"}),n)),_),lS=r(tt,Ol,{premod:{atk_:Al,def_:El}}),$S={document:[{value:wo,path:mS,name:t("hitOp.normalOrCharged"),header:o(tt,t("stacks")),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Al},{node:El},{text:l("duration"),value:6,unit:"s"}]}]))}]},pS=new s(tt,$S,Ol,lS),We="WolfsGravestone",xl=d.weapon.data[We],hS=[-1,.2,.25,.3,.35,.4],uS=[-1,.4,.5,.6,.7,.8],[_S,Ml]=m(We,"WolfishTracker"),Dl=a(e.weapon.refinement,hS),Tl=c("on",Ml,a(e.weapon.refinement,uS,f.info("atk_"))),fS=r(We,xl,{premod:{atk_:Dl},teamBuff:{premod:{atk_:Tl}}}),gS={document:[{header:o(We,t("base")),fields:[{node:Dl}]},{value:Ml,path:_S,teamBuff:!0,header:o(We,t("conditional")),name:t("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Tl},{text:l("duration"),value:12,unit:"s"}]}}}]},wS=new s(We,gS,xl,fS),kS={Akuoumaru:J2,BeaconOfTheReedSea:ov,BlackcliffSlasher:iv,BloodtaintedGreatsword:hv,DebateClub:gv,FavoniusGreatsword:vv,FerrousShadow:Ov,ForestRegalia:Tv,KatsuragikiriNagamasa:jv,LithicBlade:Gv,LuxuriousSeaLord:zv,MailedFlower:ey,MakhairaAquamarine:sy,OldMercsPal:ry,PortablePowerSaw:hy,PrototypeArchaic:gy,Rainslasher:Py,RedhornStonethresher:Ey,RoyalGreatsword:Ry,SacrificialGreatsword:jy,SerpentSpine:qy,SkyriderGreatsword:Qy,SkywardPride:nP,SnowTombedStarsilver:cP,SongOfBrokenPines:hP,TalkingStick:yP,TheBell:EP,TheUnforged:FP,TidalShadow:KP,UltimateOverlordsMegaMagicSword:JP,Verdict:nS,WasterGreatsword:oS,Whiteblind:pS,WhiteIronGreatsword:iS,WolfsGravestone:wS},Ut="BalladOfTheFjords",Rl=d.weapon.data[Ut],vS=[-1,120,150,180,210,240],va=Yo(x.ele,3,a(e.weapon.refinement,vS)),yS=r(Ut,Rl,{premod:{eleMas:va}}),PS={document:[{header:o(Ut,t("talents.passive")),canShow:ae(va,0,1),fields:[{node:va}]}]},SS=new s(Ut,PS,Rl,yS),ko="BeginnersProtector",vo=d.weapon.data[ko],bS=r(ko,vo),OS={...vo,document:[]},BS=new s(ko,OS,vo,bS),rn="BlackTassel",Cl=d.weapon.data[rn],[,AS]=g("weapon",rn),ES=[-1,.4,.5,.6,.7,.8],[xS,Il]=m(rn,"PressTheAdvantage"),jl=c("on",Il,a(e.weapon.refinement,ES)),MS=r(rn,Cl,{premod:{all_dmg_:jl}}),DS={document:[{value:Il,path:xS,header:o(rn,t("conditional")),name:AS("condName"),states:{on:{fields:[{node:jl}]}}}]},TS=new s(rn,DS,Cl,MS),at="BlackcliffPole",Fl=d.weapon.data[at],[RS,Nl]=m(at,"PressTheAdvantage"),Wl=u(1,3),CS=[-1,.12,.15,.18,.21,.24],Hl=i(p(Nl,$(Wl,n=>w(n)),0),a(e.weapon.refinement,CS)),IS=r(at,Fl,{premod:{atk_:Hl}}),jS={document:[{value:Nl,path:RS,teamBuff:!0,header:o(at,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Wl.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Hl},{text:l("duration"),value:30,unit:"s"}]}]))}]},FS=new s(at,jS,Fl,IS),ye="CalamityQueller",Gl=d.weapon.data[ye],[,ya]=g("weapon",ye),[NS,Kl]=m(ye,"stack"),WS=[-1,.12,.15,.18,.21,.24],HS=[-1,.032,.04,.048,.056,.064],Ll=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,WS)])),ql=i(Ta(e.charKey,e.activeCharKey,w(1,{name:ya("active")}),w(2,{name:ya("inactive")})),p(Kl,$(u(1,6),n=>w(n,{name:t("stacks")})),0),a(e.weapon.refinement,HS)),GS=r(ye,Gl,{premod:{...Ll,atk_:ql}}),KS={document:[{header:o(ye,t("base")),fields:Object.values(Ll).map(n=>({node:n}))},{value:Kl,path:NS,teamBuff:!0,header:o(ye,t("stacks")),name:ya("effectName"),states:Object.fromEntries(u(1,6).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ql}]}]))}]},LS=new s(ye,KS,Gl,GS),ot="CrescentPike",Vl=d.weapon.data[ot],qS=[-1,.2,.25,.3,.35,.4],zl=c(e.weapon.key,ot,y(i(e.total.atk,a(e.weapon.refinement,qS,{unit:"%"})),"elemental",{hit:{ele:w("physical")}})),VS=r(ot,Vl,void 0,{hit:zl}),zS={document:[{header:o(ot,t("talents.passive")),fields:[{node:h(zl,{name:t("dmg")})}]}]},US=new s(ot,zS,Vl,VS),mn="Deathmatch",Ul=d.weapon.data[mn],[,JS]=g("weapon",mn),[QS,yo]=m(mn,"stack"),Jl=[-1,.16,.2,.24,.28,.32],XS=[-1,.24,.3,.36,.42,.48],Pa=p(yo,{oneOrNone:a(e.weapon.refinement,XS,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Jl,{unit:"%"})},_),Sa=c(yo,"moreThanOne",a(e.weapon.refinement,Jl,{unit:"%"})),ZS=r(mn,Ul,{premod:{atk_:Pa,def_:Sa}}),YS={document:[{value:yo,path:QS,teamBuff:!0,header:o(mn,t("conditional")),name:JS("condName"),states:{oneOrNone:{name:"≤1",fields:[{node:Pa},{node:Sa}]},moreThanOne:{name:"≥2",fields:[{node:Pa},{node:Sa}]}}}]},e4=new s(mn,YS,Ul,ZS),Jt="DialoguesOfTheDesertSages",Ql=d.weapon.data[Jt],n4=r(Jt,Ql),t4={document:[{header:o(Jt),fields:[]}]},a4=new s(Jt,t4,Ql,n4),st="DragonsBane",Xl=d.weapon.data[st],o4=[-1,.2,.24,.28,.32,.36],[s4,Zl]=m(st,"BaneOfFlameAndWater"),Yl=c("on",Zl,a(e.weapon.refinement,o4)),c4=r(st,Xl,{premod:{all_dmg_:Yl}}),d4={document:[{value:Zl,path:s4,header:o(st,t("conditional")),name:t("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:Yl}]}}}]},r4=new s(st,d4,Xl,c4),q="DragonspineSpear",e0=d.weapon.data[q],i4=[-1,.8,.95,1.1,1.25,1.4],m4=[-1,2,2.4,2.8,3.2,3.6],n0=c(e.weapon.key,q,y(i(a(e.weapon.refinement,i4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),t0=c(e.weapon.key,q,y(i(a(e.weapon.refinement,m4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),l4=r(q,e0,void 0,{dmgAoe:n0,dmgOnCryoOp:t0}),$4={document:[{header:o(q,t("base")),fields:[{node:h(n0,{name:s.trm(q)("aoeDmg")})},{node:h(t0,{name:s.trm(q)("cryoAffectedDmg")})}]}]},p4=new s(q,$4,e0,l4),Pe="EngulfingLightning",a0=d.weapon.data[Pe],h4=[-1,.28,.35,.42,.49,.56],u4=[-1,.8,.9,1,1.1,1.2],ba=c(e.weapon.key,Pe,te(i(a(e.weapon.refinement,h4),P(e.premod.enerRech_,S(-1))),a(e.weapon.refinement,u4))),_4=[-1,.3,.35,.4,.45,.5,.55],[f4,o0]=m(Pe,"TimelessDream"),s0=c("on",o0,a(e.weapon.refinement,_4)),g4=r(Pe,a0,{premod:{atk_:ba,enerRech_:s0}},{atk_:ba}),w4={document:[{header:o(Pe,t("base")),fields:[{node:ba}]},{teamBuff:!0,value:o0,path:f4,header:o(Pe,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:s0},{text:l("duration"),value:12,unit:"s"}]}}}]},k4=new s(Pe,w4,a0,g4),Qt="FavoniusLance",c0=d.weapon.data[Qt],v4=r(Qt,c0),y4={document:[{header:o(Qt),fields:[]}]},P4=new s(Qt,y4,c0,v4),ct="Halberd",d0=d.weapon.data[ct],S4=[-1,1.6,2,2.4,2.8,3.2],r0=c(e.weapon.key,ct,y(i(a(e.weapon.refinement,S4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),b4=r(ct,d0,void 0,{dmg:r0}),O4={document:[{header:o(ct,t("base")),fields:[{node:h(r0,{name:t("dmg")})}]}]},B4=new s(ct,O4,d0,b4),Po="IronPoint",So=d.weapon.data[Po],A4=r(Po,So),E4={...So,document:[]},x4=new s(Po,E4,So,A4),Xt="KitainCrossSpear",i0=d.weapon.data[Xt],M4=[-1,.06,.075,.09,.105,.12],m0=a(e.weapon.refinement,M4),D4=r(Xt,i0,{premod:{skill_dmg_:m0}}),T4={document:[{header:o(Xt,t("base")),fields:[{node:m0}]}]},R4=new s(Xt,T4,i0,D4),Zt="LithicSpear",l0=d.weapon.data[Zt],C4=[-1,.07,.08,.09,.1,.11],I4=[-1,.03,.04,.05,.06,.07],$0=i(a(e.weapon.refinement,C4,{unit:"%"}),x.liyue),p0=i(a(e.weapon.refinement,I4,{unit:"%"}),x.liyue),j4=r(Zt,l0,{premod:{atk_:$0,critRate_:p0}}),F4={document:[{header:o(Zt,t("stacks")),fields:[{node:$0},{node:p0}]}]},N4=new s(Zt,F4,l0,j4),dt="MissiveWindspear",h0=d.weapon.data[dt],[W4,bo]=m(dt,"passive"),H4=[-1,.12,.15,.18,.21,.24],G4=[-1,48,60,72,84,96],u0=c(bo,"on",a(e.weapon.refinement,H4,{unit:"%"})),_0=c(bo,"on",a(e.weapon.refinement,G4)),K4=r(dt,h0,{premod:{atk_:u0,eleMas:_0}}),L4={document:[{value:bo,path:W4,teamBuff:!0,header:o(dt,t("conditional")),name:t("afterReaction"),states:{on:{fields:[{node:u0},{node:_0},{text:l("duration"),value:10,unit:"s"}]}}}]},q4=new s(dt,L4,h0,K4),ln="Moonpiercer",f0=d.weapon.data[ln],[,V4]=g("weapon",ln),[z4,g0]=m(ln,"passive"),U4=[-1,.16,.2,.24,.28,.32],w0=c(g0,"on",a(e.weapon.refinement,U4,{unit:"%"})),J4=c(e.activeCharKey,O.charKey,w0),Q4=r(ln,f0,{teamBuff:{premod:{atk_:J4}}}),X4={document:[{value:g0,path:z4,teamBuff:!0,header:o(ln,t("conditional")),name:V4("condName"),states:{on:{fields:[{node:h(w0,f.info("atk_"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Z4=new s(ln,X4,f0,Q4),rt="PrimordialJadeWingedSpear",k0=d.weapon.data[rt],[Y4,Oo]=m(rt,"stack"),e5=[-1,.032,.039,.046,.053,.06],n5=[-1,.12,.15,.18,.21,.24],v0=p(Oo,$(u(1,7),n=>i(a(e.weapon.refinement,e5,{unit:"%"}),n)),_),y0=c(Oo,"7",a(e.weapon.refinement,n5,{unit:"%"})),t5=r(rt,k0,{premod:{atk_:v0,all_dmg_:y0}}),a5={document:[{value:Oo,path:Y4,teamBuff:!0,header:o(rt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(u(1,7).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:v0},{node:y0}]}]))}]},o5=new s(rt,a5,k0,t5),$n="ProspectorsDrill",P0=d.weapon.data[$n],[,s5]=g("weapon",$n),c5=[-1,.03,.04,.05,.06,.07],d5=[-1,.07,.085,.1,.115,.13],[r5,Bo]=m($n,"marksConsumed"),Ao=u(1,3),S0=p(Bo,$(Ao,n=>i(n,a(e.weapon.refinement,c5,{unit:"%"}))),_),i5=p(Bo,$(Ao,n=>i(n,a(e.weapon.refinement,d5,{unit:"%"}))),_),b0=$(v.map(n=>`${n}_dmg_`),()=>({...i5})),m5=r($n,P0,{premod:{atk_:S0,...b0}}),l5={document:[{value:Bo,path:r5,teamBuff:!0,header:o($n,t("stacks")),name:s5("condName"),states:$(Ao,n=>({name:`${n}`,fields:[{node:S0},...Object.values(b0).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},$5=new s($n,l5,P0,m5),it="PrototypeStarglitter",O0=d.weapon.data[it],[p5,Eo]=m(it,"stack"),B0=[-1,.08,.1,.12,.14,.16],A0=p(Eo,$(u(1,2),n=>i(a(e.weapon.refinement,B0,{unit:"%"}),n)),_),E0=p(Eo,$(u(1,2),n=>i(a(e.weapon.refinement,B0,{unit:"%"}),n)),_),h5=r(it,O0,{premod:{normal_dmg_:A0,charged_dmg_:E0}}),u5={document:[{value:Eo,path:p5,header:o(it,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(u(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:A0},{node:E0}]}]))}]},_5=new s(it,u5,O0,h5),Yt="RightfulReward",x0=d.weapon.data[Yt],f5=r(Yt,x0),g5={document:[{header:o(Yt),fields:[]}]},w5=new s(Yt,g5,x0,f5),mt="RoyalSpear",M0=d.weapon.data[mt],[k5,D0]=m(mt,"stack"),v5=[-1,.08,.1,.12,.14,.16],T0=p(D0,$(u(1,5),n=>i(a(e.weapon.refinement,v5,{unit:"%"}),n)),_),y5=r(mt,M0,{premod:{critRate_:T0}}),P5={document:[{value:D0,path:k5,teamBuff:!0,header:o(mt,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:T0}]}]))}]},S5=new s(mt,P5,M0,y5),lt="SkywardSpine",R0=d.weapon.data[lt],b5=[-1,.08,.1,.12,.14,.16],O5=[-1,.4,.55,.7,.85,1],C0=S(.12),I0=a(e.weapon.refinement,b5),j0=c(e.weapon.key,lt,y(i(a(e.weapon.refinement,O5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),B5=r(lt,R0,{premod:{critRate_:I0,atkSPD_:C0}},{dmg:j0}),A5={document:[{header:o(lt,t("base")),fields:[{node:I0},{node:C0},{node:h(j0,{name:t("dmg")})}]}]},E5=new s(lt,A5,R0,B5),Se="StaffOfHoma",F0=d.weapon.data[Se],x5=[-1,.2,.25,.3,.35,.4],M5=[-1,.008,.01,.012,.014,.016],D5=[-1,.01,.012,.014,.016,.018],N0=a(e.weapon.refinement,x5,{unit:"%"}),[T5,W0]=m(Se,"RecklessCinnabar"),H0=i(a(e.weapon.refinement,M5,{unit:"%"}),e.premod.hp),Oa=c(e.weapon.key,Se,c("on",W0,i(a(e.weapon.refinement,D5,{unit:"%"}),e.premod.hp),f.info("atk"))),R5=r(Se,F0,{premod:{hp_:N0},total:{atk:P(H0,Oa)}},{atk2_:Oa}),C5={document:[{header:o(Se,t("base")),fields:[{node:N0},{node:h(H0,f.info("atk"))}]},{value:W0,path:T5,teamBuff:!0,header:o(Se),name:t("lessPercentHP",{percent:50}),states:{on:{fields:[{node:h(Oa,f.info("atk"))}]}}}]},I5=new s(Se,C5,F0,R5),X="StaffOfTheScarletSands",G0=d.weapon.data[X],[j5,K0]=m(X,"stacks"),F5=[-1,.52,.65,.78,.91,1.04],N5=[-1,.28,.35,.42,.49,.56],L0=b(1,3),q0=c(e.weapon.key,X,i(a(e.weapon.refinement,F5,{unit:"%"}),e.premod.eleMas),f.info("atk")),V0=p(K0,Object.fromEntries(L0.map(n=>[n,i(n,a(e.weapon.refinement,N5,{unit:"%"}),e.premod.eleMas)])),_,f.info("atk")),Xo=c(e.weapon.key,X,P(q0,V0)),W5=r(X,G0,{total:{atk:Xo}},{atk:Xo}),H5={document:[{header:o(X,t("base")),fields:[{node:q0}]},{value:K0,path:j5,header:o(X,t("stacks")),name:t("hitOp.skill"),states:Object.fromEntries(L0.map(n=>[n,{name:t("hits",{count:n}),fields:[{node:V0},{text:l("duration"),value:10,unit:"s"}]}]))}]},G5=new s(X,H5,G0,W5),ea="TheCatch",z0=d.weapon.data[ea],K5=[-1,.16,.2,.24,.28,.32],L5=[-1,.06,.075,.09,.105,.12],U0=a(e.weapon.refinement,K5),J0=a(e.weapon.refinement,L5),q5=r(ea,z0,{premod:{burst_dmg_:U0,burst_critRate_:J0}}),V5={document:[{header:o(ea,t("base")),fields:[{node:U0},{node:J0}]}]},z5=new s(ea,V5,z0,q5),R="VortexVanquisher",Q0=d.weapon.data[R],[,U5]=g("weapon",R),J5=[-1,.2,.25,.3,.35,.4],Q5=[-1,.04,.05,.06,.07,.08],[X5,X0]=m(R,"GoldenMajesty"),Z0=a(e.weapon.refinement,J5),[Z5,Y0]=m(R,"WithShield"),Y5=a(e.weapon.refinement,Q5),e$=i(P(1,c(Y0,"protected",1)),p(X0,Object.fromEntries(b(1,5).map(n=>[n,i(Y5,n)])),_)),eb=r(R,Q0,{premod:{shield_:Z0,atk_:e$}}),nb={document:[{header:o(R,t("base")),fields:[{node:Z0}]},{value:X0,path:X5,teamBuff:!0,header:o(R,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:e$},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Y0,path:Z5,header:o(R,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:U5("atkEffInc"),value:100,unit:"%"}]}}}]},tb=new s(R,nb,Q0,eb),pn="WavebreakersFin",n$=d.weapon.data[pn],[,ab]=g("weapon",pn),[ob,t$]=m(pn,"WatatsumiWavewalker"),a$=b(4,36).map(n=>n*10),sb=[-1,.0012,.0015,.0018,.0021,.0024],cb=[-1,.4,.5,.6,.7,.8],o$=p(t$,Object.fromEntries(a$.map(n=>[n,te(i(a(e.weapon.refinement,sb,{unit:"%"}),n),a(e.weapon.refinement,cb,{unit:"%"}))])),_),db=r(pn,n$,{premod:{burst_dmg_:o$}}),rb={document:[{value:t$,path:ob,header:o(pn),name:ab("party"),states:Object.fromEntries(a$.map(n=>[n,{name:n.toString(),fields:[{node:o$}]}]))}]},ib=new s(pn,rb,n$,db),na="WhiteTassel",s$=d.weapon.data[na],mb=[-1,.24,.3,.36,.42,.48],c$=a(e.weapon.refinement,mb),lb=r(na,s$,{premod:{normal_dmg_:c$}}),$b={document:[{header:o(na,t("base")),fields:[{node:c$}]}]},pb=new s(na,$b,s$,lb),hb={BalladOfTheFjords:SS,BeginnersProtector:BS,BlackcliffPole:FS,BlackTassel:TS,CalamityQueller:LS,CrescentPike:US,Deathmatch:e4,DialoguesOfTheDesertSages:a4,DragonsBane:r4,DragonspineSpear:p4,EngulfingLightning:k4,FavoniusLance:P4,Halberd:B4,IronPoint:x4,KitainCrossSpear:R4,LithicSpear:N4,MissiveWindspear:q4,Moonpiercer:Z4,PrimordialJadeWingedSpear:o5,ProspectorsDrill:$5,PrototypeStarglitter:_5,RightfulReward:w5,RoyalSpear:S5,SkywardSpine:E5,StaffOfHoma:I5,StaffOfTheScarletSands:G5,TheCatch:z5,VortexVanquisher:tb,WavebreakersFin:ib,WhiteTassel:pb},ta="AmenomaKageuchi",d$=d.weapon.data[ta],ub=r(ta,d$),_b={document:[{header:o(ta),fields:[]}]},fb=new s(ta,_b,d$,ub),Z="AquilaFavonia",xo=d.weapon.data[Z],gb=[-1,2,2.3,2.6,2.9,3.2],wb=[-1,1,1.15,1.3,1.45,1.6],r$=xo.refinementBonus.atk_;if(!r$)throw new Error(`data_gen.refinementBonus.atk_ for ${Z} was undefined`);const i$=a(e.weapon.refinement,r$),m$=c(e.weapon.key,Z,i(a(e.weapon.refinement,wb,{unit:"%"}),e.premod.atk)),l$=c(e.weapon.key,Z,y(i(a(e.weapon.refinement,gb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),kb=r(Z,xo,{premod:{atk_:i$}},{heal:m$,dmg:l$}),vb={document:[{header:o(Z,t("base")),fields:[{node:i$}]},{header:o(Z,t("base")),fields:[{node:h(m$,{name:l("healing"),variant:"heal"})},{node:h(l$,{name:t("dmg")})}]}]},yb=new s(Z,vb,xo,kb),$t="BlackcliffLongsword",$$=d.weapon.data[$t],[Pb,p$]=m($t,"PressTheAdvantage"),h$=u(1,3),Sb=[-1,.12,.15,.18,.21,.24],u$=i(p(p$,$(h$,n=>w(n)),0),a(e.weapon.refinement,Sb)),bb=r($t,$$,{premod:{atk_:u$}}),Ob={document:[{value:p$,path:Pb,header:o($t,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(h$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:u$},{text:l("duration"),value:30,unit:"s"}]}]))}]},Bb=new s($t,Ob,$$,bb),Te="CinnabarSpindle",_$=d.weapon.data[Te],[,Ab]=g("weapon",Te),Eb=[-1,.4,.5,.6,.7,.8],[xb,f$]=m(Te,"SpotlessHeart"),Ba=c(e.weapon.key,Te,c("on",f$,i(a(e.weapon.refinement,Eb,{unit:"%"}),e.premod.def))),Mb=r(Te,_$,{premod:{skill_dmgInc:Ba}},{skill_dmgInc:Ba}),Db={document:[{value:f$,path:xb,header:o(Te,t("conditional")),name:Ab("name"),states:{on:{fields:[{node:Ba}]}}}]},Tb=new s(Te,Db,_$,Mb),pt="CoolSteel",g$=d.weapon.data[pt],Rb=[-1,.12,.15,.18,.21,.24],[Cb,w$]=m(pt,"BaneOfWaterAndIce"),k$=c("on",w$,a(e.weapon.refinement,Rb)),Ib=r(pt,g$,{premod:{all_dmg_:k$}}),jb={document:[{value:w$,path:Cb,name:t("enemyAffected.hydroOrCryo"),header:o(pt,t("conditional")),states:{on:{fields:[{node:k$}]}}}]},Fb=new s(pt,jb,g$,Ib),ht="DarkIronSword",v$=d.weapon.data[ht],Nb=[-1,.2,.25,.3,.35,.5],[Wb,y$]=m(ht,"Overloaded"),P$=c("on",y$,a(e.weapon.refinement,Nb,{unit:"%"})),Hb=r(ht,v$,{premod:{atk_:P$}}),Gb={document:[{value:y$,path:Wb,name:t("elementalReaction.electro"),header:o(ht,t("conditional")),states:{on:{fields:[{node:P$},{text:l("duration"),value:12,unit:"s"}]}}}]},Kb=new s(ht,Gb,v$,Hb),Mo="DullBlade",Do=d.weapon.data[Mo],Lb=r(Mo,Do),qb={...Do,document:[]},Vb=new s(Mo,qb,Do,Lb),aa="FavoniusSword",S$=d.weapon.data[aa],zb=r(aa,S$),Ub={document:[{header:o(aa),fields:[]}]},Jb=new s(aa,Ub,S$,zb),oa="FesteringDesire",b$=d.weapon.data[oa],Qb=[-1,.16,.2,.24,.28,.32],Xb=[-1,.06,.075,.09,.105,.12],O$=a(e.weapon.refinement,Qb,{unit:"%"}),B$=a(e.weapon.refinement,Xb,{unit:"%"}),Zb=r(oa,b$,{premod:{skill_dmg_:O$,skill_critRate_:B$}}),Yb={document:[{header:o(oa,t("base")),fields:[{node:O$},{node:B$}]}]},e3=new s(oa,Yb,b$,Zb),ut="FilletBlade",A$=d.weapon.data[ut],n3=[-1,2.4,2.8,3.2,3.6,4],t3=[-1,15,14,13,12,11],E$=c(e.weapon.key,ut,y(i(a(e.weapon.refinement,n3,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),a3=r(ut,A$,void 0,{dmg_:E$}),o3={document:[{header:o(ut,t("base")),fields:[{node:h(E$,{name:t("dmg")})},{text:l("cd"),value:n=>t3[n.get(e.weapon.refinement).value],unit:"s"}]}]},s3=new s(ut,o3,A$,a3),N="FinaleOfTheDeep",x$=d.weapon.data[N],[,c3]=g("weapon",N),d3=[-1,.12,.15,.18,.21,.24],r3=[-1,.024,.03,.036,.042,.048],i3=[-1,150,187.5,225,262.5,300],[m3,M$]=m(N,"afterSkill"),D$=c(M$,"on",a(e.weapon.refinement,d3)),l3=i(S(.25),e.total.hp),[$3,T$]=m(N,"bond"),Aa=c(e.weapon.key,N,c(T$,"on",te(i(l3,a(e.weapon.refinement,r3,{unit:"%"})),a(e.weapon.refinement,i3,{unit:"%"})))),p3=r(N,x$,{premod:{atk_:D$,atk:Aa}},{bond_atk:Aa}),h3={document:[{header:o(N,t("conditional")),path:m3,value:M$,name:t("hitOp.skill"),states:{on:{fields:[{node:D$},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(N,t("conditional")),path:$3,value:T$,name:c3("bondCondName"),states:{on:{fields:[{node:Aa},{text:l("duration"),value:15,unit:"s"}]}}}]},u3=new s(N,h3,x$,p3),He="FleuveCendreFerryman",R$=d.weapon.data[He],_3=[-1,.08,.1,.12,.14,.16],f3=[-1,.16,.2,.24,.28,.32],C$=a(e.weapon.refinement,_3),[g3,I$]=m(He,"afterSkill"),j$=c(I$,"on",a(e.weapon.refinement,f3)),w3=r(He,R$,{premod:{skill_critRate_:C$,enerRech_:j$}}),k3={document:[{header:o(He,t("base")),fields:[{node:C$}]},{header:o(He,t("conditional")),value:I$,path:g3,name:t("afterUse.skill"),states:{on:{fields:[{node:j$},{text:l("duration"),value:5,unit:"s"}]}}}]},v3=new s(He,k3,R$,w3),Y="FreedomSworn",To=d.weapon.data[Y],[,y3]=g("weapon",Y),[P3,Ro]=m(Y,"MillennialMovement"),S3=[-1,.16,.2,.24,.28,.32],b3=[-1,.2,.25,.3,.35,.4],F$=To.refinementBonus.dmg_;if(!F$)throw new Error(`data_gen.refinementBonus.dmg_ for ${Y} was undefined`);const N$=a(e.weapon.refinement,F$),W$=c("on",Ro,a(e.weapon.refinement,b3)),sa=c("on",Ro,a(e.weapon.refinement,S3)),H$={...sa},G$={...sa},O3=r(Y,To,{premod:{all_dmg_:N$},teamBuff:{premod:{atk_:W$,normal_dmg_:sa,charged_dmg_:H$,plunging_dmg_:G$}}}),B3={document:[{header:o(Y,t("base")),fields:[{node:N$}]},{value:Ro,path:P3,teamBuff:!0,header:o(Y,t("conditional")),name:y3("sigilsConsumed"),states:{on:{fields:[{node:W$},{node:sa},{node:H$},{node:G$},{text:l("duration"),value:12,unit:"s"}]}}}]},A3=new s(Y,B3,To,O3),be="HaranGeppakuFutsu",K$=d.weapon.data[be],[,E3]=g("weapon",be),x3=[-1,.12,.15,.18,.21,.24],M3=[-1,.2,.25,.3,.35,.4],[D3,L$]=m(be,"HonedFlow"),q$=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,x3,f.info(`${n}_dmg_`))])),V$=p(L$,$(u(1,2),n=>i(n,a(e.weapon.refinement,M3))),_),T3=r(be,K$,{premod:{...q$,normal_dmg_:V$}}),R3={document:[{header:o(be,t("base")),fields:[...v.map(n=>({node:q$[`${n}_dmg_`]}))]},{value:L$,path:D3,name:E3("consumed"),header:o(be,t("conditional")),states:$(u(1,2),n=>({name:t("stack",{count:n}),fields:[{node:V$}]}))}]},C3=new s(be,R3,K$,T3),_t="HarbingerOfDawn",z$=d.weapon.data[_t],[I3,U$]=m(_t,"SkyPiercingMight"),j3=[-1,.14,.175,.21,.245,.28],J$=c("on",U$,a(e.weapon.refinement,j3)),F3=r(_t,z$,{premod:{critRate_:J$}}),N3={document:[{value:U$,path:I3,header:o(_t,t("conditional")),name:t("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:J$}]}}}]},W3=new s(_t,N3,z$,F3),ft="IronSting",Q$=d.weapon.data[ft],[H3,X$]=m(ft,"InfusionStinger"),Z$=u(1,2),G3=[-1,.06,.075,.09,.105,.12],Y$=i(p(X$,$(Z$,n=>w(n)),_),a(e.weapon.refinement,G3)),K3=r(ft,Q$,{premod:{all_dmg_:Y$}}),L3={document:[{value:X$,path:H3,header:o(ft,t("stacks")),name:t("hitOp.ele"),states:Object.fromEntries(Z$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Y$},{text:l("duration"),value:6,unit:"s"}]}]))}]},q3=new s(ft,L3,Q$,K3),Oe="KagotsurubeIsshin",ep=d.weapon.data[Oe],[V3,np]=m(Oe,"passive"),tp=c(np,"on",S(.15)),ap=c(e.weapon.key,Oe,y(i(S(1.8),e.total.atk),"elemental",{hit:{ele:w("physical")}})),z3=r(Oe,ep,{premod:{atk_:tp}},{dmg:ap}),U3={document:[{header:o(Oe,t("base")),fields:[{node:h(ap,{name:t("dmg")})}]},{header:o(Oe,t("conditional")),value:np,path:V3,name:t("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:tp},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},J3=new s(Oe,U3,ep,z3),E="KeyOfKhajNisut",op=d.weapon.data[E],Q3=[-1,.0012,.0015,.0018,.0021,.0024],X3=[-1,.002,.0025,.003,.0035,.004],sp=b(1,3),Z3=[-1,.2,.25,.3,.35,.4],cp=c(e.weapon.key,E,a(e.weapon.refinement,Z3,{unit:"%"})),[Y3,Mt]=m(E,"afterSkill"),Ea=c(e.weapon.key,E,p(Mt,Object.fromEntries(sp.map(n=>[n,i(n,a(e.weapon.refinement,Q3,{unit:"%",fixed:2}),e.total.hp)])),_)),xa=c(e.weapon.key,E,c(Mt,"3",i(a(e.weapon.refinement,X3,{unit:"%",fixed:2}),e.total.hp))),eO=r(E,op,{premod:{hp_:cp},total:{eleMas:Ea},teamBuff:{total:{eleMas:xa}}},{selfEleMas:Ea,teamEleMas:xa}),nO={document:[{header:o(E,t("base")),fields:[{node:cp}]},{header:o(E,t("stacks")),teamBuff:!0,path:Y3,value:Mt,name:t("hitOp.skill"),states:Object.fromEntries(sp.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Ea},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(E,t("teamBuff")),canShow:c(Mt,"3",1),teamBuff:!0,fields:[{node:xa},{text:l("duration"),value:20,unit:"s"}]}]},tO=new s(E,nO,op,eO),ee="LightOfFoliarIncision",dp=d.weapon.data[ee],aO=[-1,.04,.05,.06,.07,.08],rp=c(e.weapon.key,ee,a(e.weapon.refinement,aO)),[oO,ip]=m(ee,"afterNormalEle"),sO=[-1,1.2,1.5,1.8,2.1,2.4],Dt=c(e.weapon.key,ee,c(ip,"on",i(a(e.weapon.refinement,sO,{unit:"%"}),e.total.eleMas))),Ma={...Dt},cO=r(ee,dp,{premod:{normal_dmgInc:Dt,skill_dmgInc:Ma,critRate_:rp}},{normal_dmgInc:Dt,skill_dmgInc:Ma}),dO={document:[{header:o(ee,t("base")),fields:[{node:rp}]},{header:o(ee,t("conditional")),path:oO,value:ip,name:t("hitOp.normalEle"),states:{on:{fields:[{node:Dt},{node:Ma},{text:t("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},rO=new s(ee,dO,dp,cO),gt="LionsRoar",mp=d.weapon.data[gt],[iO,lp]=m(gt,"BaneOfFireAndThunder"),mO=[-1,.2,.24,.28,.32,.36],$p=c("on",lp,a(e.weapon.refinement,mO)),lO=r(gt,mp,{premod:{all_dmg_:$p}}),$O={document:[{value:lp,path:iO,header:o(gt,t("conditional")),name:t("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:$p}]}}}]},pO=new s(gt,$O,mp,lO),Be="MistsplitterReforged",pp=d.weapon.data[Be],[,hO]=g("weapon",Be),hp=["1","2","3"],uO=[-1,.12,.15,.18,.21,.24],_O={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[fO,up]=m(Be,"MistsplittersEmblem"),_p=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,uO,f.info(`${n}_dmg_`))])),fp=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,p(up,$(hp,k=>a(e.weapon.refinement,_O[k])),_,f.info(`${n}_dmg_`)))])),gO=Object.fromEntries(v.map(n=>[`${n}_dmg_`,P(_p[`${n}_dmg_`],fp[`${n}_dmg_`])])),wO=r(Be,pp,{premod:{...gO}}),kO={document:[{header:o(Be,t("base")),fields:v.map(n=>({node:_p[`${n}_dmg_`]}))},{value:up,path:fO,name:hO("emblem"),teamBuff:!0,header:o(Be,t("stacks")),states:Object.fromEntries(hp.map(n=>[n,{name:t("stack",{count:parseInt(n)}),fields:v.map(k=>({node:fp[`${k}_dmg_`]}))}]))}]},vO=new s(Be,kO,pp,wO),wt="PrimordialJadeCutter",gp=d.weapon.data[wt],yO=[-1,.2,.25,.3,.35,.4],PO=[-1,.012,.015,.018,.021,.024],wp=a(e.weapon.refinement,yO),Da=c(e.weapon.key,wt,i(a(e.weapon.refinement,PO,{unit:"%"}),e.premod.hp)),SO=r(wt,gp,{premod:{hp_:wp},total:{atk:Da}},{atk:Da}),bO={document:[{header:o(wt,t("base")),fields:[{node:wp},{node:Da}]}]},OO=new s(wt,bO,gp,SO),kt="PrototypeRancour",kp=d.weapon.data[kt],[BO,Co]=m(kt,"stack"),vp=[-1,.04,.05,.06,.07,.08],yp=p(Co,$(u(1,4),n=>i(a(e.weapon.refinement,vp,{unit:"%"}),n)),_),Pp=p(Co,$(u(1,4),n=>i(a(e.weapon.refinement,vp,{unit:"%"}),n)),_),AO=r(kt,kp,{premod:{atk_:yp,def_:Pp}}),EO={document:[{value:Co,path:BO,header:o(kt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:yp},{node:Pp},{text:l("duration"),value:6,unit:"s"}]}]))}]},xO=new s(kt,EO,kp,AO),vt="RoyalLongsword",Sp=d.weapon.data[vt],[MO,bp]=m(vt,"stack"),DO=[-1,.08,.1,.12,.14,.16],Op=p(bp,$(u(1,5),n=>i(a(e.weapon.refinement,DO,{unit:"%"}),n)),_),TO=r(vt,Sp,{premod:{critRate_:Op}}),RO={document:[{value:bp,path:MO,header:o(vt,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Op}]}]))}]},CO=new s(vt,RO,Sp,TO),ca="SacrificialSword",Bp=d.weapon.data[ca],IO=r(ca,Bp),jO={document:[{header:o(ca),fields:[]}]},FO=new s(ca,jO,Bp,IO),hn="SapwoodBlade",Ap=d.weapon.data[hn],[,NO]=g("weapon",hn),[WO,Ep]=m(hn,"passive"),HO=[-1,60,75,90,105,120],xp=c(Ep,"on",a(e.weapon.refinement,HO)),GO=c(e.activeCharKey,O.charKey,xp),KO=r(hn,Ap,{teamBuff:{premod:{eleMas:GO}}}),LO={document:[{value:Ep,path:WO,teamBuff:!0,header:o(hn,t("conditional")),name:NO("condName"),states:{on:{fields:[{node:h(xp,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},qO=new s(hn,LO,Ap,KO),Io="SilverSword",jo=d.weapon.data[Io],VO=r(Io,jo),zO={...jo,document:[]},UO=new s(Io,zO,jo,VO),yt="SkyriderSword",Mp=d.weapon.data[yt],[JO,Fo]=m(yt,"Determination"),Dp=[-1,.12,.15,.18,.21,.24],Tp=c(Fo,"on",a(e.weapon.refinement,Dp,{unit:"%"})),Rp=c(Fo,"on",a(e.weapon.refinement,Dp,{unit:"%"})),QO=r(yt,Mp,{premod:{atk_:Tp,moveSPD_:Rp}}),XO={document:[{value:Fo,path:JO,header:o(yt,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Tp},{node:Rp},{text:l("duration"),value:15,unit:"s"}]}}}]},ZO=new s(yt,XO,Mp,QO),ne="SkywardBlade",No=d.weapon.data[ne],[YO,da]=m(ne,"SkyPiercingMight"),e6=[-1,.2,.25,.3,.35,.4],Cp=c("on",da,S(.1)),Ip=c("on",da,S(.1)),jp=c(e.weapon.key,ne,c("on",da,y(i(a(e.weapon.refinement,e6,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}}))),Fp=No.refinementBonus.critRate_;if(!Fp)throw new Error(`data_gen.refinementBonus.critRate_ for ${ne} was undefined`);const Np=a(e.weapon.refinement,Fp),n6=r(ne,No,{premod:{critRate_:Np,moveSPD_:Cp,atkSPD_:Ip}},{dmg:jp}),t6={document:[{header:o(ne,t("base")),fields:[{node:Np}]},{value:da,path:YO,header:o(ne,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Cp},{node:Ip},{node:h(jp,{name:t("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},a6=new s(ne,t6,No,n6),Ae="SplendorOfTranquilWaters",Wp=d.weapon.data[Ae],o6=[-1,.08,.1,.12,.14,.16],s6=[-1,.14,.175,.21,.245,.28],[c6,Hp]=m(Ae,"selfHpChange"),Gp=u(1,3),Kp=p(Hp,$(Gp,n=>i(n,a(e.weapon.refinement,o6,{unit:"%"}))),_),[d6,Lp]=m(Ae,"teamHpChange"),qp=u(1,2),Vp=p(Lp,$(qp,n=>i(n,a(e.weapon.refinement,s6,{unit:"%"}))),_),r6=r(Ae,Wp,{premod:{hp_:Vp,skill_dmg_:Kp}}),i6={document:[{value:Hp,path:c6,header:o(Ae,t("stacks")),name:t("hpChange"),states:$(Gp,n=>({name:t("times",{count:n}),fields:[{node:Kp},{text:l("duration"),value:6,unit:"s"}]}))},{value:Lp,path:d6,header:o(Ae,t("stacks")),name:t("otherHpChange"),states:$(qp,n=>({name:t("times",{count:n}),fields:[{node:Vp},{text:l("duration"),value:6,unit:"s"}]}))}]},m6=new s(Ae,i6,Wp,r6),C="SummitShaper",zp=d.weapon.data[C],[,l6]=g("weapon",C),[$6,Up]=m(C,"GoldenMajesty"),[p6,Jp]=m(C,"WithShield"),h6=[-1,.2,.25,.3,.35,.4],u6=[-1,.04,.05,.06,.07,.08],Qp=a(e.weapon.refinement,h6),_6=a(e.weapon.refinement,u6),Xp=i(P(1,c(Jp,"protected",1)),p(Up,Object.fromEntries(b(1,5).map(n=>[n,i(_6,n)])),_)),f6=r(C,zp,{premod:{shield_:Qp,atk_:Xp}}),g6={document:[{header:o(C,t("base")),fields:[{node:Qp}]},{value:Up,path:$6,header:o(C,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Xp},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Jp,path:p6,header:o(C,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:l6("atkEffInc"),value:100,unit:"%"}]}}}]},w6=new s(C,g6,zp,f6),Pt="SwordOfDescension",Zp=d.weapon.data[Pt],Yp=p(e.charKey,$(Wh,n=>w(66)),_),eh=c(e.weapon.key,Pt,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),k6=r(Pt,Zp,{premod:{atk:Yp}},{dmg_:eh}),v6={document:[{header:o(Pt,t("base")),fields:[{node:Yp},{node:h(eh,{name:t("dmg")})}]}]},y6=new s(Pt,v6,Zp,k6),St="SwordOfNarzissenkreuz",nh=d.weapon.data[St],P6=[-1,1.6,2,2.4,2.8,3.2],th=c(e.weapon.key,St,y(i(a(e.weapon.refinement,P6,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),S6=r(St,nh,void 0,{dmg:th}),b6={document:[{header:o(St,t("dmg")),fields:[{node:h(th,{name:t("dmg")})}]}]},O6=new s(St,b6,nh,S6),un="TheAlleyFlash",ah=d.weapon.data[un],[,B6]=g("weapon",un),[A6,oh]=m(un,"ItinerantHero"),E6=[-1,.12,.15,.18,.21,.24],sh=c(oh,"on",a(e.weapon.refinement,E6,{unit:"%"})),x6=r(un,ah,{premod:{all_dmg_:sh}}),M6={document:[{value:oh,path:A6,header:o(un,t("conditional")),name:B6("condName"),states:{on:{fields:[{node:sh}]}}}]},D6=new s(un,M6,ah,x6),bt="TheBlackSword",ch=d.weapon.data[bt],dh=[-1,.2,.25,.3,.35,.4],T6=[-1,.6,.7,.8,.9,1],rh=a(e.weapon.refinement,dh),ih=a(e.weapon.refinement,dh),mh=c(e.weapon.key,bt,Ke(i(a(e.weapon.refinement,T6,{unit:"%"}),e.total.atk))),R6=r(bt,ch,{premod:{normal_dmg_:rh,charged_dmg_:ih}},{heal:mh}),C6={document:[{header:o(bt,t("base")),fields:[{node:rh},{node:ih},{node:h(mh,{name:l("healing"),variant:"heal"})}]}]},I6=new s(bt,C6,ch,R6),_n="TheDockhandsAssistant",lh=d.weapon.data[_n],[,j6]=g("weapon",_n),F6=[-1,40,50,60,70,80],[N6,$h]=m(_n,"symbolsConsumed"),ph=u(1,3),hh=p($h,$(ph,n=>i(n,a(e.weapon.refinement,F6,{unit:"%"}))),_),W6=r(_n,lh,{premod:{eleMas:hh}}),H6={document:[{value:$h,path:N6,teamBuff:!0,header:o(_n,t("stacks")),name:j6("condName"),states:$(ph,n=>({name:`${n}`,fields:[{node:hh},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},G6=new s(_n,H6,lh,W6),Ot="TheFlute",uh=d.weapon.data[Ot],_h=c(e.weapon.key,Ot,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),K6=r(Ot,uh,void 0,{dmg_:_h}),L6={document:[{header:o(Ot,t("base")),fields:[{node:h(_h,{name:t("dmg")})}]}]},q6=new s(Ot,L6,uh,K6),Re="ToukabouShigure",fh=d.weapon.data[Re],[,V6]=g("weapon",Re),[z6,gh]=m(Re,"passive"),U6=[-1,.16,.2,.24,.28,.32],wh=c(e.weapon.key,Re,c(gh,"on",a(e.weapon.refinement,U6,{unit:"%"}))),J6=r(Re,fh,{premod:{all_dmg_:wh}}),Q6={document:[{value:gh,path:z6,header:o(Re,t("stacks")),name:V6("condName"),states:{on:{fields:[{node:wh},{text:l("duration"),value:10,unit:"s"}]}}}]},X6=new s(Re,Q6,fh,J6),Bt="TravelersHandySword",kh=d.weapon.data[Bt],Z6=[-1,.01,.0125,.015,.0175,.02],vh=c(e.weapon.key,Bt,Ke(i(a(e.weapon.refinement,Z6,{unit:"%"}),e.total.hp))),Y6=r(Bt,kh,void 0,{heal:vh}),e8={document:[{header:o(Bt,t("base")),fields:[{node:h(vh,{name:l("healing"),variant:"heal"})}]}]},n8=new s(Bt,e8,kh,Y6),Ge="UrakuMisugiri",yh=d.weapon.data[Ge],t8=[-1,.16,.2,.24,.28,.32],a8=[-1,.24,.3,.36,.42,.48],o8=[-1,.2,.25,.3,.35,.4],Wo=a(e.weapon.refinement,t8),Ho=a(e.weapon.refinement,a8),[s8,Go]=m(Ge,"teamGeo"),Ph=1,Sh=c(Go,"on",i(S(Ph),Wo)),bh=c(Go,"on",i(S(Ph),Ho)),Oh=a(e.weapon.refinement,o8),c8=r(Ge,yh,{premod:{normal_dmg_:P(Wo,Sh),skill_dmg_:P(Ho,bh),def_:Oh}}),d8={document:[{header:o(Ge,t("base")),fields:[{node:Oh},{node:h(Wo,f.info("normal_dmg_"))},{node:h(Ho,f.info("skill_dmg_"))}]},{value:Go,path:s8,header:o(Ge,t("conditional")),name:t("teamHitOp.geo"),states:{on:{fields:[{node:h(Sh,f.info("normal_dmg_"))},{node:h(bh,f.info("skill_dmg_"))},{text:l("duration"),value:15,unit:"s"}]}}}]},r8=new s(Ge,d8,yh,c8),V="WolfFang",Bh=d.weapon.data[V],i8=[-1,.16,.2,.24,.28,.32],Ah=[-1,.02,.025,.03,.035,.04],Tt=u(1,4),Ko=a(e.weapon.refinement,i8),Eh={...Ko},[m8,xh]=m(V,"skillStacks"),Mh=i(a(e.weapon.refinement,Ah),p(xh,$(Tt,n=>w(n)),_)),[l8,Dh]=m(V,"burstStacks"),Th=i(a(e.weapon.refinement,Ah),p(Dh,$(Tt,n=>w(n)),_)),$8=r(V,Bh,{premod:{skill_dmg_:Ko,burst_dmg_:Eh,skill_critRate_:Mh,burst_critRate_:Th}}),p8={document:[{header:o(V,t("base")),fields:[{node:Ko},{node:Eh}]},{header:o(V,t("conditional")),value:xh,path:m8,name:t("hitOp.skill"),states:$(Tt,n=>({name:t("stack",{count:n}),fields:[{node:Mh},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(V,t("conditional")),value:Dh,path:l8,name:t("hitOp.burst"),states:$(Tt,n=>({name:t("stack",{count:n}),fields:[{node:Th},{text:l("duration"),value:10,unit:"s"}]}))}]},h8=new s(V,p8,Bh,$8),Ee="XiphosMoonlight",Rh=d.weapon.data[Ee],u8=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Rt=c(e.weapon.key,Ee,i(a(e.weapon.refinement,u8,{unit:"%",fixed:3}),e.premod.eleMas)),Lo=c(e.weapon.key,Ee,i(S(.3),Rt)),_8=ae(e.charKey,O.charKey,Lo),f8=r(Ee,Rh,{total:{enerRech_:Rt},teamBuff:{total:{enerRech_:_8}}},{selfEnerRech_:Rt,teamEnerRech_disp:Lo}),g8={document:[{header:o(Ee,t("base")),fields:[{node:Rt}]},{header:o(Ee,t("teamBuff")),teamBuff:!0,fields:[{node:h(Lo,{...f.info("enerRech_"),isTeamBuff:!0})}]}]},w8=new s(Ee,g8,Rh,f8),k8={AmenomaKageuchi:fb,AquilaFavonia:yb,BlackcliffLongsword:Bb,CinnabarSpindle:Tb,CoolSteel:Fb,DarkIronSword:Kb,DullBlade:Vb,FavoniusSword:Jb,FesteringDesire:e3,FilletBlade:s3,FinaleOfTheDeep:u3,FleuveCendreFerryman:v3,FreedomSworn:A3,HaranGeppakuFutsu:C3,HarbingerOfDawn:W3,IronSting:q3,KagotsurubeIsshin:J3,KeyOfKhajNisut:tO,LightOfFoliarIncision:rO,LionsRoar:pO,MistsplitterReforged:vO,PrimordialJadeCutter:OO,PrototypeRancour:xO,RoyalLongsword:CO,SacrificialSword:FO,SapwoodBlade:qO,SilverSword:UO,SkyriderSword:ZO,SkywardBlade:a6,SplendorOfTranquilWaters:m6,SummitShaper:w6,SwordOfDescension:y6,SwordOfNarzissenkreuz:O6,TheAlleyFlash:D6,TheBlackSword:I6,TheDockhandsAssistant:G6,TheFlute:q6,ToukabouShigure:X6,TravelersHandySword:n8,UrakuMisugiri:r8,WolfFang:h8,XiphosMoonlight:w8},Ch={...k8,...kS,...hb,...Ef,...G2},v8=Object.fromEntries(Hh.map(n=>[n,Zo(Object.values(Ch).filter(k=>k.weaponType===n).map(k=>({display:k.data.display})))]));function O8(n){return Ch[n]}export{s as W,O8 as g};
