import{bQ as wh,p as K,aq as d,o as p,bM as h,f as v,b2 as b,cN as kh,cx as vh,h as yh}from"./index-f2007351.js";import{w as Ph,c as e,_ as g,j as w,P as f,K as _,s as P,a4 as a,F as i,A as Uo,O as Sh,Y as m,$,Q as n,a0 as u,N as c,H as l,a5 as y,l as Z,D as S,a6 as He,L as Jo,a1 as M,I as x,t as Qo,a3 as Da,a7 as A,a8 as bh}from"./index-7e35cb9f.js";import{I as Oh,C as Re}from"./ColoredText-b48b47dc.js";import{S as Bh}from"./SqBadge-32d06067.js";const Xo=class{constructor(t,k,W,D){this.passiveDescription=ca=>this.hasRefinement?this.tr(`passiveDescription.${ca}`):"",this.rarity=W.rarity,this.weaponType=W.weaponType,this.key=t,this.sheet=k,this.data=D}static trm(t){return g("weapon",t)[1]}static tr(t){return g("weapon",t)[0]}static getAllDataOfType(t){return Y6[t]}get tr(){return Xo.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=Xo;s.getWeaponsOfType=(t,k)=>Object.fromEntries(Object.entries(t).filter(([W,D])=>D.weaponType===k));s.getLevelString=t=>wh(t.level,t.ascension);function o(t,k){const W=s.tr(t);return{title:W("passiveName"),icon:D=>K(Oh,{size:2,src:Ph(t,D.get(e.weapon.asc).value>=2)}),action:k&&K(Bh,{color:"success",children:k}),description:D=>W(`passiveDescription.${D.get(e.weapon.refinement).value-1}`)}}function r(t,k,W={},D={}){const ca={base:{},premod:{},total:{},weapon:{key:w(t),type:w(k.weaponType)},display:{[`weapon:${t}`]:D}},{mainStat:te,subStat:H}=k,da=[ca];if(te.type!=="atk"&&te.type!=="def"&&te.type!=="hp")throw new Error("Main stat type must be `atk`");const _h=f(P(i(te.base,a(e.weapon.lvl,d.weapon.expCurve[te.curve])),a(e.weapon.asc,k.ascensionBonus.atk)),_.info(te.type));if(da.push({base:{[te.type]:e.weapon.main},weapon:{main:_h}}),H){if(H.type==="atk"||H.type==="def"||H.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const gh=f(i(H.base,a(e.weapon.lvl,d.weapon.expCurve[H.curve])),_.info(H.type));da.push({premod:{[H.type]:e.weapon.sub},weapon:{sub:gh}})}return Uo([...da,Sh(W,t)])}const Ke="AlleyHunter",Yo=d.weapon.data[Ke],[,Ah]=g("weapon",Ke),Eh=[-1,.02,.025,.03,.035,.04],[xh,Zo]=m(Ke,"OppidanAmbush"),es=$(Zo,{...p(h(1,10),t=>i(a(e.weapon.refinement,Eh),t))},u),Mh=r(Ke,Yo,{premod:{all_dmg_:es}}),Dh={document:[{value:Zo,path:xh,header:o(Ke,n("conditional")),name:Ah("condName"),states:Object.fromEntries(h(1,10).map(t=>[t,{name:n("seconds",{count:t}),fields:[{node:es}]}]))}]},Th=new s(Ke,Dh,Yo,Mh),ae="AmosBow",ts=d.weapon.data[ae],[,Rh]=g("weapon",ae),ns=[-1,.12,.15,.18,.21,.24],Ch=[-1,.08,.1,.12,.14,.16],[Ih,Ta]=m(ae,"StrongWilled"),as=a(e.weapon.refinement,ns,_.info("normal_dmg_")),os=a(e.weapon.refinement,ns,_.info("charged_dmg_")),ss=a(e.weapon.refinement,Ch),cs=$(Ta,{...p(h(1,5),t=>i(ss,t))},u,_.info("normal_dmg_")),ds=$(Ta,{...p(h(1,5),t=>i(ss,t))},u,_.info("charged_dmg_")),jh=r(ae,ts,{premod:{normal_dmg_:P(as,cs),charged_dmg_:P(os,ds)}}),Fh={document:[{header:o(ae,n("base")),fields:[{node:as},{node:os}]},{value:Ta,path:Ih,header:o(ae,n("stacks")),name:Rh("condName"),states:p(h(1,5),t=>({name:n("seconds",{count:t/10}),fields:[{node:cs},{node:ds}]}))}]},Nh=new s(ae,Fh,ts,jh),oe="AquaSimulacra",rs=d.weapon.data[oe],[,Wh]=g("weapon",oe),Hh=[-1,.16,.2,.24,.28,.32],Kh=[-1,.2,.25,.3,.35,.4],[Gh,is]=m(oe,"passive"),ms=a(e.weapon.refinement,Hh),ls=c(is,"on",a(e.weapon.refinement,Kh)),Lh=r(oe,rs,{premod:{hp_:ms,all_dmg_:ls}}),qh={document:[{header:o(oe,n("base")),fields:[{node:ms}]},{value:is,path:Gh,header:o(oe,n("conditional")),name:Wh("condName"),states:{on:{fields:[{node:ls}]}}}]},zh=new s(oe,qh,rs,Lh),ft="BlackcliffWarbow",ps=d.weapon.data[ft],Vh=[-1,.12,.15,.18,.21,.24],[Uh,$s]=m(ft,"PressTheAdvantage"),hs=$($s,{...p(h(1,3),t=>i(a(e.weapon.refinement,Vh),t))},u),Jh=r(ft,ps,{premod:{atk_:hs}}),Qh={document:[{value:$s,path:Uh,header:o(ft,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(h(1,3).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:hs},{text:l("duration"),value:30,unit:"s"}]}]))}]},Xh=new s(ft,Qh,ps,Jh),_t="CompoundBow",us=d.weapon.data[_t],Yh=[-1,.04,.05,.06,.07,.08],Zh=[-1,.012,.015,.018,.021,.024],[e1,Ra]=m(_t,"InfusionArrow"),fs=$(Ra,{...p(h(1,4),t=>i(a(e.weapon.refinement,Yh),t))},u),_s=$(Ra,{...p(h(1,4),t=>i(a(e.weapon.refinement,Zh),t))},u),t1=r(_t,us,{premod:{atk_:fs,atkSPD_:_s}}),n1={document:[{value:Ra,path:e1,header:o(_t,n("stacks")),name:n("hitOp.normalOrCharged"),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:fs},{node:_s}]}]))}]},a1=new s(_t,n1,us,t1),se="ElegyForTheEnd",[,o1]=g("weapon",se),gs=d.weapon.data[se],s1=[-1,60,75,90,105,120],c1=[-1,100,125,150,175,200],d1=[-1,.2,.25,.3,.35,.4],[r1,Ca]=m(se,"ThePartingRefrain"),ws=a(e.weapon.refinement,s1,_.info("eleMas")),ks=c(Ca,"on",a(e.weapon.refinement,c1,_.info("eleMas"))),vs=c(Ca,"on",a(e.weapon.refinement,d1)),i1=r(se,gs,{premod:{eleMas:ws},teamBuff:{premod:{atk_:vs,eleMas:ks}}}),m1={document:[{header:o(se,n("base")),fields:[{node:ws}]},{value:Ca,path:r1,teamBuff:!0,header:o(se,n("conditional")),name:o1("condName"),states:{on:{fields:[{node:ks},{node:vs},{text:l("duration"),value:12,unit:"s"}]}}}]},l1=new s(se,m1,gs,i1),gt="EndOfTheLine",ys=d.weapon.data[gt],p1=[-1,.8,1,1.2,1.4,1.6],Ps=c(e.weapon.key,gt,y(i(a(e.weapon.refinement,p1,{unit:"%"}),e.total.atk),"elemental")),$1=r(gt,ys,void 0,{dmg:Ps}),h1={document:[{header:o(gt,n("base")),fields:[{node:f(Ps,{name:n("dmg")})}]}]},u1=new s(gt,h1,ys,$1),Ge="FadingTwilight",Ss=d.weapon.data[Ge],[,Ho]=g("weapon",Ge),[f1,bs]=m(Ge,"state"),Os={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Bs=$(bs,Os,u),_1=r(Ge,Ss,{premod:{all_dmg_:Bs}}),g1={document:[{value:bs,path:f1,header:o(Ge,n("conditional")),name:Ho("condName"),states:Object.fromEntries(Object.keys(Os).map(t=>[t,{name:Ho(`states.${t}`),fields:[{node:Bs}]}]))}]},w1=new s(Ge,g1,Ss,_1),Tn="FavoniusWarbow",As=d.weapon.data[Tn],k1=r(Tn,As),v1={document:[{header:o(Tn),fields:[]}]},y1=new s(Tn,v1,As,k1),ce="Hamayumi",Es=d.weapon.data[ce],[,P1]=g("weapon",ce),xs=[-1,.16,.2,.24,.28,.32],Ms=[-1,.12,.15,.18,.21,.24],Ds=a(e.weapon.refinement,xs,_.info("normal_dmg_")),Ts=a(e.weapon.refinement,Ms,_.info("charged_dmg_")),[S1,Ia]=m(ce,"FullDraw"),Rs=c(Ia,"on",a(e.weapon.refinement,xs,_.info("normal_dmg_"))),Cs=c(Ia,"on",a(e.weapon.refinement,Ms,_.info("charged_dmg_"))),b1=r(ce,Es,{premod:{normal_dmg_:P(Ds,Rs),charged_dmg_:P(Ts,Cs)}}),O1={document:[{header:o(ce,n("base")),fields:[{node:Ds},{node:Ts}]},{value:Ia,path:S1,name:P1("condName"),header:o(ce,n("conditional")),states:{on:{fields:[{node:Rs},{node:Cs}]}}}]},B1=new s(ce,O1,Es,b1),ja="HuntersBow",Fa=d.weapon.data[ja],A1=r(ja,Fa),E1={...Fa,document:[]},x1=new s(ja,E1,Fa,A1),Ce="HuntersPath",Is=d.weapon.data[Ce],M1=[-1,.12,.15,.18,.21,.24],js=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,M1,{unit:"%"})])),D1=[-1,1.6,2,2.4,2.8,3.2],[T1,Fs]=m(Ce,"passive"),Ns=c(Fs,"on",i(a(e.weapon.refinement,D1,{unit:"%"}),e.total.eleMas)),R1=r(Ce,Is,{premod:{...js,charged_dmgInc:Ns}}),C1={document:[{header:o(Ce,n("base")),fields:Object.values(js).map(t=>({node:t}))},{value:Fs,path:T1,header:o(Ce,n("conditional")),name:n("hitOp.charged"),states:{on:{fields:[{node:Ns},{text:l("duration"),value:10,unit:"s"},{text:n("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},I1=new s(Ce,C1,Is,R1),wt="IbisPiercer",Ws=d.weapon.data[wt],Hs=h(1,2),j1=[-1,40,50,60,70,80],[F1,Ks]=m(wt,"passiveStacks"),Gs=$(Ks,p(Hs,t=>i(a(e.weapon.refinement,j1),t)),u),N1=r(wt,Ws,{premod:{eleMas:Gs}}),W1={document:[{value:Ks,path:F1,header:o(wt,n("stacks")),name:n("hitOp.charged"),states:Object.fromEntries(Hs.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Gs},{text:l("duration"),value:6,unit:"s"}]}]))}]},H1=new s(wt,W1,Ws,N1),de="KingsSquire",Ls=d.weapon.data[de],[K1,qs]=m(de,"passive"),G1=[-1,60,80,100,120,140],zs=c(qs,"on",a(e.weapon.refinement,G1)),L1=[-1,1,1.2,1.4,1.6,1.8],Vs=c(e.weapon.key,de,y(i(a(e.weapon.refinement,L1,{unit:"%"}),e.total.atk),"elemental")),q1=r(de,Ls,{premod:{eleMas:zs}},{dmg:Vs}),z1={document:[{header:o(de,n("base")),fields:[{node:f(Vs,{name:n("dmg")})}]},{value:qs,path:K1,header:o(de,n("conditional")),name:n("afterUse.skillOrBurst"),states:{on:{fields:[{node:zs},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},V1=new s(de,z1,Ls,q1),kt="Messenger",Us=d.weapon.data[kt],U1=[-1,1,1.25,1.5,1.75,2],Js=c(e.weapon.key,kt,y(i(a(e.weapon.refinement,U1),e.total.atk),"elemental",{hit:{ele:w("physical")}})),J1=r(kt,Us,void 0,{dmg:Js}),Q1={document:[{header:o(kt,n("base")),fields:[{node:f(Js,{name:n("dmg")})}]}]},X1=new s(kt,Q1,Us,J1),re="MitternachtsWaltz",Qs=d.weapon.data[re],Y1=[-1,.2,.25,.3,.35,.4],Z1=[-1,.2,.25,.3,.35,.4],[eu,Xs]=m(re,"EvernightDuetSkill"),[tu,Ys]=m(re,"EvernightDuetNormal"),Zs=c(Xs,"on",a(e.weapon.refinement,Y1)),ec=c(Ys,"on",a(e.weapon.refinement,Z1)),nu=r(re,Qs,{premod:{skill_dmg_:Zs,normal_dmg_:ec}}),au={document:[{value:Ys,path:tu,header:o(re,n("conditional")),name:n("hitOp.skill"),states:{on:{fields:[{node:ec},{text:l("duration"),value:5,unit:"s"}]}}},{value:Xs,path:eu,header:o(re,n("conditional")),name:n("hitOp.normal"),states:{on:{fields:[{node:Zs},{text:l("duration"),value:5,unit:"s"}]}}}]},ou=new s(re,au,Qs,nu),Le="MouunsMoon",tc=d.weapon.data[Le],[,su]=g("weapon",Le),[cu,nc]=m(Le,"WatatsumiWavewalker"),ac=b(4,36).map(t=>t*10),du=[-1,.0012,.0015,.0018,.0021,.0024],ru=[-1,.4,.5,.6,.7,.8],oc=$(nc,Object.fromEntries(ac.map(t=>[t,Z(i(a(e.weapon.refinement,du,{unit:"%"}),t),a(e.weapon.refinement,ru,{unit:"%"}))])),u),iu=r(Le,tc,{premod:{burst_dmg_:oc}}),mu={document:[{value:nc,path:cu,header:o(Le,n("conditional")),name:su("party"),states:Object.fromEntries(ac.map(t=>[t,{name:t.toString(),fields:[{node:oc}]}]))}]},lu=new s(Le,mu,tc,iu),ie="PolarStar",sc=d.weapon.data[ie],[,pu]=g("weapon",ie),cc=[-1,.12,.15,.18,.21,.24],$u=[-1,.1,.125,.15,.175,.2],hu=[-1,.2,.25,.3,.35,.4],uu=[-1,.3,.375,.45,.528,.6],fu=[-1,.48,.6,.72,.84,.96],[_u,dc]=m(ie,"GoldenMajesty"),rc=a(e.weapon.refinement,cc),ic=a(e.weapon.refinement,cc),mc=$(dc,{1:a(e.weapon.refinement,$u),2:a(e.weapon.refinement,hu),3:a(e.weapon.refinement,uu),4:a(e.weapon.refinement,fu)},u),gu=r(ie,sc,{premod:{skill_dmg_:rc,burst_dmg_:ic,atk_:mc}}),wu={document:[{header:o(ie,n("base")),fields:[{node:rc},{node:ic}]},{value:dc,path:_u,header:o(ie,n("stacks")),name:pu("condName"),states:p(h(1,4),t=>({name:n("stack",{count:t}),fields:[{node:mc}]}))}]},ku=new s(ie,wu,sc,gu),vt="Predator",lc=d.weapon.data[vt],vu=S(.1),yu=S(.1),[Pu,Na]=m(vt,"PressTheAdvantage"),pc=$(Na,{...p(h(1,2),t=>i(vu,t))},u),$c=$(Na,{...p(h(1,2),t=>i(yu,t))},u),Su=c(e.activeCharKey,"Aloy",66),bu=r(vt,lc,{premod:{normal_dmg_:pc,charged_dmg_:$c,atk:Su}}),Ou={document:[{value:Na,path:Pu,header:o(vt,n("stacks")),name:n("hitOp.cryo"),states:Object.fromEntries(h(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:pc},{node:$c},{text:l("duration"),value:6,unit:"s"}]}]))}]},Bu=new s(vt,Ou,lc,bu),yt="PrototypeCrescent",hc=d.weapon.data[yt],Au=[-1,.36,.45,.54,.63,.72],[Eu,Wa]=m(yt,"Unreturning"),uc=c(Wa,"on",a(e.weapon.refinement,Au)),fc=c(Wa,"on",S(.1)),xu=r(yt,hc,{premod:{atk_:uc,moveSPD_:fc}}),Mu={document:[{value:Wa,path:Eu,header:o(yt,n("conditional")),name:n("hitOp.weakSpot"),states:{on:{fields:[{node:uc},{node:fc},{text:l("duration"),value:10,unit:"s"}]}}}]},Du=new s(yt,Mu,hc,xu),qe="RangeGauge",_c=d.weapon.data[qe],[,Tu]=g("weapon",qe),Ru=[-1,.03,.04,.05,.06,.07],Cu=[-1,.07,.085,.1,.115,.13],[Iu,Ha]=m(qe,"marksConsumed"),Ka=h(1,3),gc=$(Ha,p(Ka,t=>i(t,a(e.weapon.refinement,Ru,{unit:"%"}))),u),ju=$(Ha,p(Ka,t=>i(t,a(e.weapon.refinement,Cu,{unit:"%"}))),u),wc=p(v.map(t=>`${t}_dmg_`),()=>({...ju})),Fu=r(qe,_c,{premod:{atk_:gc,...wc}}),Nu={document:[{value:Ha,path:Iu,teamBuff:!0,header:o(qe,n("stacks")),name:Tu("condName"),states:p(Ka,t=>({name:`${t}`,fields:[{node:gc},...Object.values(wc).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},Wu=new s(qe,Nu,_c,Fu),Pt="RavenBow",kc=d.weapon.data[Pt],Hu=[-1,.12,.15,.18,.21,.24],[Ku,vc]=m(Pt,"BaneOfFlameAndWater"),yc=c(vc,"on",a(e.weapon.refinement,Hu)),Gu=r(Pt,kc,{premod:{all_dmg_:yc}}),Lu={document:[{value:vc,path:Ku,name:n("enemyAffected.hydroOrPyro"),header:o(Pt,n("conditional")),states:{on:{fields:[{node:yc}]}}}]},qu=new s(Pt,Lu,kc,Gu),St="RecurveBow",Pc=d.weapon.data[St],zu=[-1,.08,.1,.12,.14,.16],Sc=c(e.weapon.key,St,He(i(e.total.hp,a(e.weapon.refinement,zu)))),Vu=r(St,Pc,void 0,{healing:Sc}),Uu={document:[{header:o(St,n("base")),fields:[{node:f(Sc,{name:l("healing"),variant:"heal"})}]}]},Ju=new s(St,Uu,Pc,Vu),bt="RoyalBow",bc=d.weapon.data[bt],Qu=[-1,.08,.1,.12,.14,.16],[Xu,Oc]=m(bt,"Focus"),Bc=$(Oc,{...p(h(1,5),t=>i(a(e.weapon.refinement,Qu),t))},u),Yu=r(bt,bc,{premod:{critRate_:Bc}}),Zu={document:[{value:Oc,path:Xu,header:o(bt,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Bc}]}]))}]},ef=new s(bt,Zu,bc,Yu),Rn="Rust",Ac=d.weapon.data[Rn],tf=[-1,.4,.5,.6,.7,.8],Ec=a(e.weapon.refinement,tf),xc=w(-.1),nf=r(Rn,Ac,{premod:{normal_dmg_:Ec,charged_dmg_:xc}}),af={document:[{header:o(Rn,n("base")),fields:[{node:Ec},{node:xc}]}]},of=new s(Rn,af,Ac,nf),Cn="SacrificialBow",Mc=d.weapon.data[Cn],sf=r(Cn,Mc),cf={document:[{header:o(Cn),fields:[]}]},df=new s(Cn,cf,Mc,sf),me="ScionOfTheBlazingSun",Dc=d.weapon.data[me],[,Ko]=g("weapon",me),rf=[-1,.6,.75,.9,1.05,1.2],mf=[-1,.28,.35,.42,.49,.56],lf=y(i(a(e.weapon.refinement,rf,{unit:"%"}),e.total.atk),"elemental"),[pf,Tc]=m(me,"afterHit"),Rc=c(Tc,"on",a(e.weapon.refinement,mf)),$f=r(me,Dc,{premod:{charged_dmg_:Rc}}),hf={document:[{header:o(me,n("dmg")),fields:[{node:f(lf,{name:Ko("dmg")})}]},{header:o(me,n("conditional")),path:pf,value:Tc,name:Ko("condName"),states:{on:{fields:[{node:Rc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},uf=new s(me,hf,Dc,$f),Ga="SeasonedHuntersBow",La=d.weapon.data[Ga],ff=r(Ga,La),_f={...La,document:[]},gf=new s(Ga,_f,La,ff),In="SharpshootersOath",Cc=d.weapon.data[In],wf=[-1,.24,.3,.36,.42,.48],Ic=a(e.weapon.refinement,wf),kf=r(In,Cc,{premod:{weakspotDMG_:Ic}}),vf={document:[{header:o(In,n("base")),fields:[{node:Ic}]}]},yf=new s(In,vf,Cc,kf),Ot="SkywardHarp",jc=d.weapon.data[Ot],Pf=[-1,.2,.25,.3,.35,.4],Sf=S(1.25),Fc=a(e.weapon.refinement,Pf),Nc=c(e.weapon.key,Ot,y(i(Sf,e.total.atk),"elemental",{hit:{ele:w("physical")}})),bf=r(Ot,jc,{premod:{critDMG_:Fc}},{dmg:Nc}),Of={document:[{header:o(Ot,n("base")),fields:[{node:Fc},{node:f(Nc,{name:n("dmg")})}]}]},Bf=new s(Ot,Of,jc,bf),ze="Slingshot",Wc=d.weapon.data[ze],[,Go]=g("weapon",ze),Af=[-1,.36,.42,.48,.54,.6],[Ef,Hc]=m(ze,"Slingshot"),xf=["less","more"],qa=$(Hc,{less:a(e.weapon.refinement,Af,_.info("normal_dmg_")),more:S(-.1,_.info("normal_dmg_"))},u),Kc={...qa},Mf=r(ze,Wc,{premod:{normal_dmg_:qa,charged_dmg_:Kc}}),Df={document:[{value:Hc,path:Ef,header:o(ze,n("conditional")),name:Go("condName"),states:p(xf,t=>({name:Go(t),fields:[{node:qa},{node:Kc}]}))}]},Tf=new s(ze,Df,Wc,Mf),Bt="SongOfStillness",Gc=d.weapon.data[Bt],Rf=[-1,.16,.2,.24,.28,.32],[Cf,Lc]=m(Bt,"afterHeal"),qc=c(Lc,"on",a(e.weapon.refinement,Rf)),If=r(Bt,Gc,{premod:{all_dmg_:qc}}),jf={document:[{header:o(Bt,n("conditional")),path:Cf,value:Lc,name:n("afterHeal"),states:{on:{fields:[{node:qc},{text:l("duration"),value:8,unit:"s"}]}}}]},Ff=new s(Bt,jf,Gc,If),ut="TheFirstGreatMagic",zc=d.weapon.data[ut],Nf=[-1,.16,.2,.24,.28,.32],ra=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],ia=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Lo=$(e.charEle,x,u),ma=P(...v.map(t=>Jo(x[t],1,M(t,e.charEle,x[t])))),Vc=a(e.weapon.refinement,Nf),Uc=Qo(Lo,3,a(e.weapon.refinement,ra[2]),Da(Lo,2,a(e.weapon.refinement,ra[1]),a(e.weapon.refinement,ra[0]))),pa=Qo(ma,3,a(e.weapon.refinement,ia[2]),Da(ma,2,a(e.weapon.refinement,ia[1]),c(ma,1,a(e.weapon.refinement,ia[0])))),Wf=r(ut,zc,{premod:{charged_dmg_:Vc,atk_:Uc,moveSPD_:pa}}),Hf={document:[{header:o(ut,n("base")),fields:[{node:Vc}]},{header:o(ut,n("stacks")),fields:[{node:Uc},{canShow:t=>t.get(pa).value>0,node:pa}]}]},Kf=new s(ut,Hf,zc,Wf),jn="TheStringless",Jc=d.weapon.data[jn],Qc=[-1,.24,.3,.36,.42,.48],Xc=a(e.weapon.refinement,Qc),Yc=a(e.weapon.refinement,Qc),Gf=r(jn,Jc,{premod:{skill_dmg_:Xc,burst_dmg_:Yc}}),Lf={document:[{header:o(jn,n("base")),fields:[{node:Xc},{node:Yc}]}]},qf=new s(jn,Lf,Jc,Gf),At="TheViridescentHunt",Zc=d.weapon.data[At],zf=[-1,.4,.5,.6,.7,.8],ed=c(e.weapon.key,At,y(i(a(e.weapon.refinement,zf),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Vf=r(At,Zc,void 0,{dmg:ed}),Uf={document:[{header:o(At,n("base")),fields:[{node:f(ed,{name:n("dmg")})}]}]},Jf=new s(At,Uf,Zc,Vf),le="ThunderingPulse",td=d.weapon.data[le],[,Qf]=g("weapon",le),Xf=[-1,.2,.25,.3,.35,.4],Yf=[-1,.12,.15,.18,.21,.24],Zf=[-1,.24,.3,.36,.42,.48],e_=[-1,.4,.5,.6,.7,.8],[t_,nd]=m(le,"RuleByThunder"),ad=a(e.weapon.refinement,Xf),od=$(nd,{1:a(e.weapon.refinement,Yf),2:a(e.weapon.refinement,Zf),3:a(e.weapon.refinement,e_)},u),n_=r(le,td,{premod:{atk_:ad,normal_dmg_:od}}),a_={document:[{header:o(le,n("base")),fields:[{node:ad}]},{value:nd,path:t_,header:o(le,n("stacks")),name:Qf("condName"),states:p(h(1,3),t=>({name:n("stack",{count:t}),fields:[{node:od}]}))}]},o_=new s(le,a_,td,n_),Et="WindblumeOde",sd=d.weapon.data[Et],s_=[-1,.16,.2,.24,.28,.32],[c_,cd]=m(Et,"WindblumeWish"),dd=c(cd,"on",a(e.weapon.refinement,s_)),d_=r(Et,sd,{premod:{atk_:dd}}),r_={document:[{value:cd,path:c_,name:n("afterUse.skill"),header:o(Et,n("conditional")),states:{on:{fields:[{node:dd},{text:l("duration"),value:6,unit:"s"}]}}}]},i_=new s(Et,r_,sd,d_),m_={AlleyHunter:Th,AmosBow:Nh,AquaSimulacra:zh,BlackcliffWarbow:Xh,CompoundBow:a1,ElegyForTheEnd:l1,FadingTwilight:w1,FavoniusWarbow:y1,Hamayumi:B1,HuntersBow:x1,HuntersPath:I1,IbisPiercer:H1,KingsSquire:V1,Messenger:X1,MitternachtsWaltz:ou,MouunsMoon:lu,PolarStar:ku,Predator:Bu,PrototypeCrescent:Du,RangeGauge:Wu,RavenBow:qu,RecurveBow:Ju,RoyalBow:ef,Rust:of,SacrificialBow:df,ScionOfTheBlazingSun:uf,SeasonedHuntersBow:gf,SharpshootersOath:yf,SkywardHarp:Bf,Slingshot:Tf,SongOfStillness:Ff,TheFirstGreatMagic:Kf,TheStringless:qf,TheViridescentHunt:Jf,ThunderingPulse:o_,EndOfTheLine:u1,WindblumeOde:i_},Ie="AThousandFloatingDreams",rd=d.weapon.data[Ie],l_=[-1,32,40,48,56,64],p_=[-1,.1,.14,.18,.22,.26],$_=[-1,40,42,44,46,48],id=$(e.charEle,Object.fromEntries(v.map(t=>[t,f(P(x[t],-1),{asConst:!0})])),u),h_=P(...v.map(t=>x[t])),md=i(id,a(e.weapon.refinement,l_)),ld=Object.fromEntries(v.map(t=>[`${t}_dmg_`,c(e.charEle,t,i(f(P(h_,-1,i(id,-1)),{asConst:!0}),a(e.weapon.refinement,p_,{unit:"%"})))])),pd=c(e.weapon.key,Ie,a(e.weapon.refinement,$_),{..._.info("eleMas"),isTeamBuff:!0}),u_=M(e.charKey,A.charKey,pd),f_=r(Ie,rd,{premod:{eleMas:md,...ld},teamBuff:{premod:{eleMas:u_}}}),__={document:[{header:o(Ie,n("base")),fields:[{node:md},...Object.values(ld).map(t=>({node:t}))]},{header:o(Ie,n("teamBuff")),teamBuff:!0,fields:[{node:pd}]}]},g_=new s(Ie,__,rd,f_),za="ApprenticesNotes",Va=d.weapon.data[za],w_=r(za,Va),k_={...Va,document:[]},v_=new s(za,k_,Va,w_),xt="BalladOfTheBoundlessBlue",$d=d.weapon.data[xt],y_=[-1,.08,.1,.12,.14,.16],P_=[-1,.06,.075,.09,.105,.12],[S_,Ua]=m(xt,"hits"),Ja=h(1,3),hd=$(Ua,p(Ja,t=>i(t,a(e.weapon.refinement,y_,{unit:"%"}))),u),ud=$(Ua,p(Ja,t=>i(t,a(e.weapon.refinement,P_,{unit:"%"}))),u),b_=r(xt,$d,{premod:{normal_dmg_:hd,charged_dmg_:ud}}),O_={document:[{value:Ua,path:S_,teamBuff:!0,header:o(xt,n("stacks")),name:n("hitOp.normalOrCharged"),states:p(Ja,t=>({name:n("hits",{count:t}),fields:[{node:hd},{node:ud},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},B_=new s(xt,O_,$d,b_),Mt="BlackcliffAgate",fd=d.weapon.data[Mt],[A_,_d]=m(Mt,"PressTheAdvantage"),gd=h(1,3),E_=[-1,.12,.15,.18,.21,.24],wd=i($(_d,p(gd,t=>w(t)),0),a(e.weapon.refinement,E_)),x_=r(Mt,fd,{premod:{atk_:wd}}),M_={document:[{value:_d,path:A_,header:o(Mt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(gd.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:wd},{text:l("duration"),value:30,unit:"s"}]}]))}]},D_=new s(Mt,M_,fd,x_),pe="CashflowSupervision",Qa=d.weapon.data[pe],T_=Qa.refinementBonus.atk_,R_=[-1,.16,.2,.24,.28,.32],C_=[-1,.14,.175,.21,.245,.28],I_=[-1,.08,.1,.12,.14,.16],kd=c(e.weapon.key,pe,a(e.weapon.refinement,T_)),[j_,Fn]=m(pe,"hpChanges"),Xa=h(1,3),vd=$(Fn,p(Xa,t=>i(t,a(e.weapon.refinement,R_,{unit:"%"}))),u),yd=$(Fn,p(Xa,t=>i(t,a(e.weapon.refinement,C_,{unit:"%"}))),u),Pd=c(Fn,"3",a(e.weapon.refinement,I_)),F_=r(pe,Qa,{premod:{atk_:kd,normal_dmg_:vd,charged_dmg_:yd,atkSPD_:Pd}}),N_={document:[{header:o(pe,n("base")),fields:[{node:kd}]},{value:Fn,path:j_,header:o(pe,n("stacks")),name:n("hpChange"),states:p(Xa,t=>({name:n("times",{count:t}),fields:[{node:vd},{node:yd},{node:Pd},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},W_=new s(pe,N_,Qa,F_),Dt="CranesEchoingCall",Sd=d.weapon.data[Dt],H_=[-1,.28,.41,.54,.67,.8],[K_,bd]=m(Dt,"passive"),Od=c(bd,"on",a(e.weapon.refinement,H_,{unit:"%"})),G_=r(Dt,Sd,{teamBuff:{premod:{plunging_dmg_:Od}}}),L_={document:[{value:bd,path:K_,header:o(Dt,n("conditional")),name:n("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Od},{text:l("duration"),value:20,unit:"s"}]}}}]},q_=new s(Dt,L_,Sd,G_),$e="DodocoTales",Bd=d.weapon.data[$e],z_=[-1,.16,.2,.24,.28,.32],V_=[-1,.08,.1,.12,.14,.16],[U_,Ad]=m($e,"DodoventureNormal"),[J_,Ed]=m($e,"DodoventureCharged"),xd=c("on",Ad,a(e.weapon.refinement,z_)),Md=c("on",Ed,a(e.weapon.refinement,V_)),Q_=r($e,Bd,{premod:{charged_dmg_:xd,atk_:Md}}),X_={document:[{value:Ad,path:U_,name:n("hitOp.normal"),header:o($e,n("conditional")),states:{on:{fields:[{node:xd},{text:l("duration"),value:6,unit:"s"}]}}},{value:Ed,path:J_,name:n("hitOp.charged"),header:o($e,n("conditional")),states:{on:{fields:[{node:Md},{text:l("duration"),value:6,unit:"s"}]}}}]},Y_=new s($e,X_,Bd,Q_),Tt="EmeraldOrb",Dd=d.weapon.data[Tt],Z_=[-1,.2,.25,.3,.35,.4],[eg,Td]=m(Tt,"Rapids"),Rd=c("on",Td,a(e.weapon.refinement,Z_)),tg=r(Tt,Dd,{premod:{atk_:Rd}}),ng={document:[{value:Td,path:eg,name:n("elementalReaction.hydro"),header:o(Tt,n("conditional")),states:{on:{fields:[{node:Rd},{text:l("duration"),value:12,unit:"s"}]}}}]},ag=new s(Tt,ng,Dd,tg),Ve="EverlastingMoonglow",Ya=d.weapon.data[Ve],og=[-1,.01,.015,.02,.025,.03],[,sg]=g("weapon",Ve),$a=c(e.weapon.key,Ve,i(a(e.weapon.refinement,og,{unit:"%"}),e.premod.hp)),Cd=a(e.weapon.refinement,Ya.refinementBonus.heal_),cg=r(Ve,Ya,{premod:{normal_dmgInc:$a,heal_:Cd}},{normal_dmgInc:$a}),dg={document:[{header:o(Ve,n("base")),fields:[{node:Cd},{text:sg("name"),node:$a}]}]},rg=new s(Ve,dg,Ya,cg),Rt="EyeOfPerception",Id=d.weapon.data[Rt],ig=[-1,2.4,2.7,3,3.3,3.6],jd=c(e.weapon.key,Rt,y(i(a(e.weapon.refinement,ig,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),mg=r(Rt,Id,void 0,{dmg_:jd}),lg={document:[{header:o(Rt,n("base")),fields:[{node:f(jd,{name:n("dmg")})}]}]},pg=new s(Rt,lg,Id,mg),Nn="FavoniusCodex",Fd=d.weapon.data[Nn],$g=r(Nn,Fd),hg={document:[{header:o(Nn),fields:[]}]},ug=new s(Nn,hg,Fd,$g),F="FlowingPurity",Nd=d.weapon.data[F],[,fg]=g("weapon",F),_g=[-1,.08,.1,.12,.14,.16],gg=[-1,.02,.025,.03,.035,.04],wg=[-1,.12,.15,.18,.21,.24],[kg,Wd]=m(F,"afterSkill"),vg=c(Wd,"on",a(e.weapon.refinement,_g)),Za=v.map(t=>`${t}_dmg_`),Hd=p(Za,t=>f({...vg},_.info(t))),yg=i(S(.24),e.total.hp),[Pg,Kd]=m(F,"bond"),Sg=c(e.weapon.key,F,c(Kd,"on",Z(i(a(e.weapon.refinement,gg,{unit:"%"}),i(yg,S(1/1e3))),a(e.weapon.refinement,wg,{unit:"%"})))),ha=p(Za,t=>f({...Sg},_.info(t))),bg=r(F,Nd,{premod:{...p(Za,t=>P(Hd[t],ha[t]))}},ha),Og={document:[{header:o(F,n("conditional")),path:kg,value:Wd,name:n("hitOp.skill"),states:{on:{fields:[...Object.values(Hd).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(F,n("conditional")),path:Pg,value:Kd,name:fg("bondCondName"),states:{on:{fields:[...Object.values(ha).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"}]}}}]},Bg=new s(F,Og,Nd,bg),G="Frostbearer",Gd=d.weapon.data[G],Ag=[-1,.8,.95,1.1,1.25,1.4],Eg=[-1,2,2.4,2.8,3.2,3.6],Ld=c(e.weapon.key,G,y(i(a(e.weapon.refinement,Ag,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),qd=c(e.weapon.key,G,y(i(a(e.weapon.refinement,Eg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),xg=r(G,Gd,void 0,{dmgAoe:Ld,dmgOnCryoOp:qd}),Mg={document:[{header:o(G,n("base")),fields:[{node:f(Ld,{name:s.trm(G)("aoeDmg")})},{node:f(qd,{name:s.trm(G)("cryoAffectedDmg")})}]}]},Dg=new s(G,Mg,Gd,xg),Ue="FruitOfFulfillment",zd=d.weapon.data[Ue],[,Tg]=g("weapon",Ue),Rg=[-1,24,27,30,33,36],[Cg,eo]=m(Ue,"stacks"),to=b(1,5),Vd=$(eo,Object.fromEntries(to.map(t=>[t,i(a(e.weapon.refinement,Rg),t)])),u),Ud=$(eo,Object.fromEntries(to.map(t=>[t,i(S(-.05),t)])),u),Ig=r(Ue,zd,{premod:{eleMas:Vd,atk_:Ud}}),jg={document:[{teamBuff:!0,header:o(Ue,n("stacks")),path:Cg,value:eo,name:Tg("stackName"),states:Object.fromEntries(to.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Vd},{node:Ud}]}]))}]},Fg=new s(Ue,jg,zd,Ig),Ct="HakushinRing",Jd=d.weapon.data[Ct],Ng=[-1,.1,.125,.15,.175,.2],[Wg,ee]=m(Ct,"SakuraSaiguu"),xe=a(e.weapon.refinement,Ng),Qd=c("anemo",ee,xe),Xd=c("cryo",ee,xe),Yd=c("geo",ee,xe),Zd=c("hydro",ee,xe),er=c("pyro",ee,xe),tr=c("dendro",ee,xe),Hg=c("anemo",A.charEle,Qd),Kg=c("cryo",A.charEle,Xd),Gg=c("geo",A.charEle,Yd),Lg=c("hydro",A.charEle,Zd),qg=c("pyro",A.charEle,er),zg=c("dendro",A.charEle,tr),ne=M(ee,void 0,xe),Vg=c("electro",A.charEle,ne),Ug=r(Ct,Jd,{teamBuff:{premod:{anemo_dmg_:Hg,cryo_dmg_:Kg,electro_dmg_:Vg,geo_dmg_:Gg,hydro_dmg_:Lg,pyro_dmg_:qg,dendro_dmg_:zg}}}),Jg={document:[{value:ee,path:Wg,name:n("elementalReaction.electro"),teamBuff:!0,header:o(Ct,n("conditional")),states:{anemo:{name:K(Re,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:f(Qd,{..._.info("anemo_dmg_"),isTeamBuff:!0})},{node:f(ne,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:K(Re,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:f(Xd,{..._.info("cryo_dmg_"),isTeamBuff:!0})},{node:f(ne,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:K(Re,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:f(Yd,{..._.info("geo_dmg_"),isTeamBuff:!0})},{node:f(ne,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:K(Re,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:f(er,{..._.info("pyro_dmg_"),isTeamBuff:!0})},{node:f(ne,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:K(Re,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:f(Zd,{..._.info("hydro_dmg_"),isTeamBuff:!0})},{node:f(ne,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:K(Re,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:f(tr,{..._.info("dendro_dmg_"),isTeamBuff:!0})},{node:f(ne,{..._.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},Qg=new s(Ct,Jg,Jd,Ug),Me="JadefallsSplendor",nr=d.weapon.data[Me],[,Xg]=g("weapon",Me),[Yg,ar]=m(Me,"condPassive"),Zg=[-1,.003,.005,.007,.009,.011],ew=[-1,.12,.2,.28,.36,.44],tw=c(e.weapon.key,Me,c(ar,"on",Z(a(e.weapon.refinement,ew,{unit:"%"}),i(a(e.weapon.refinement,Zg,{unit:"%"}),e.total.hp,1/1e3)))),ua=Object.fromEntries(v.map(t=>[`${t}_dmg_`,c(t,e.charEle,tw)])),nw=r(Me,nr,{premod:{...ua}},{...ua}),aw={document:[{header:o(Me,n("conditional")),path:Yg,value:ar,name:Xg("condName"),states:{on:{fields:[...Object.values(ua).map(t=>({node:t})),{text:l("duration"),value:3,unit:"s"}]}}}]},ow=new s(Me,aw,nr,nw),It="KagurasVerity",or=d.weapon.data[It],[sw,no]=m(It,"KaguraDance"),sr=b(1,3),cr=[-1,.12,.15,.18,.21,.24],dr=sr.map(t=>c(no,t.toString(),a(e.weapon.refinement,cr.map(k=>k*t)),_.info("skill_dmg_"))),rr=Object.fromEntries(v.map(t=>[t,c(no,"3",a(e.weapon.refinement,cr))])),cw=r(It,or,{premod:{skill_dmg_:P(...dr),...Object.fromEntries(v.map(t=>[`${t}_dmg_`,rr[t]]))}}),dw={document:[{value:no,path:sw,header:o(It,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(sr.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:dr[t-1]},...v.map(k=>({node:rr[k]}))]}]))}]},rw=new s(It,dw,or,cw),je="LostPrayerToTheSacredWinds",ir=d.weapon.data[je],iw=[-1,.08,.1,.12,.14,.16],[mw,mr]=m(je,"BoundlessBlessing"),lr=S(.1),lw=a(e.weapon.refinement,iw,{unit:"%"}),pr=Object.fromEntries(v.map(t=>[t,$(mr,{...p(h(1,4),k=>i(lw,k))},u)])),pw=r(je,ir,{premod:{moveSPD_:lr,...Object.fromEntries(v.map(t=>[`${t}_dmg_`,pr[t]]))}}),$w={document:[{header:o(je,n("base")),fields:[{node:lr}]},{value:mr,path:mw,header:o(je,n("stacks")),name:n("timeOnField"),states:p(h(1,4),t=>({name:n("seconds",{count:t*4}),fields:v.map(k=>({node:pr[k]}))}))}]},hw=new s(je,$w,ir,pw),jt="MagicGuide",$r=d.weapon.data[jt],uw=[-1,.12,.15,.18,.21,.24],[fw,hr]=m(jt,"BaneOfStormAndTide"),ur=c("on",hr,a(e.weapon.refinement,uw)),_w=r(jt,$r,{premod:{all_dmg_:ur}}),gw={document:[{value:hr,path:fw,name:n("enemyAffected.hydroOrElectro"),header:o(jt,n("conditional")),states:{on:{fields:[{node:ur}]}}}]},ww=new s(jt,gw,$r,_w),Ft="MappaMare",fr=d.weapon.data[Ft],[kw,_r]=m(Ft,"InfusionScroll"),vw=[-1,.08,.1,.12,.14,.16],yw=a(e.weapon.refinement,vw),gr=kh(v,t=>[`${t}_dmg_`,$(_r,{...p(h(1,2),k=>i(yw,k))},u)]),Pw=r(Ft,fr,{premod:gr}),Sw={document:[{value:_r,path:kw,header:o(Ft,n("stacks")),name:n("afterReaction"),states:p(h(1,2),t=>({name:n("stack",{count:t}),fields:[...Object.values(gr).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"}]}))}]},bw=new s(Ft,Sw,fr,Pw),T="MemoryOfDust",wr=d.weapon.data[T],[,Ow]=g("weapon",T),Bw=[-1,.2,.25,.3,.35,.4],Aw=[-1,.04,.05,.06,.07,.08],[Ew,kr]=m(T,"GoldenMajesty"),vr=a(e.weapon.refinement,Bw),[xw,yr]=m(T,"WithShield"),Mw=a(e.weapon.refinement,Aw),Pr=i(P(1,c(yr,"protected",1)),$(kr,Object.fromEntries(b(1,5).map(t=>[t,i(Mw,t)])),u)),Dw=r(T,wr,{premod:{shield_:vr,atk_:Pr}}),Tw={document:[{header:o(T,n("base")),fields:[{node:vr}]},{value:kr,path:Ew,header:o(T,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Pr},{text:l("duration"),value:8,unit:"s"}]}]))},{value:yr,path:xw,header:o(T,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:Ow("atkEffInc"),value:100,unit:"%"}]}}}]},Rw=new s(T,Tw,wr,Dw),Nt="OathswornEye",Sr=d.weapon.data[Nt],Cw=[-1,.24,.3,.36,.42,.48],[Iw,br]=m(Nt,"faLight"),jw=a(e.weapon.refinement,Cw),Or=c("skillBurst",br,jw),Fw=r(Nt,Sr,{premod:{enerRech_:Or}}),Nw={document:[{value:br,path:Iw,header:o(Nt,n("conditional")),name:n("afterUse.skill"),states:{skillBurst:{fields:[{node:Or}]}}}]},Ww=new s(Nt,Nw,Sr,Fw),Wt="OtherworldlyStory",Br=d.weapon.data[Wt],Hw=[-1,.01,.0125,.015,.0175,.02],Ar=c(e.weapon.key,Wt,He(i(a(e.weapon.refinement,Hw,{unit:"%"}),e.total.hp))),Kw=r(Wt,Br,void 0,{heal:Ar}),Gw={document:[{header:o(Wt,n("base")),fields:[{node:f(Ar,{name:l("healing"),variant:"heal"})}]}]},Lw=new s(Wt,Gw,Br,Kw),ao="PocketGrimoire",Er=d.weapon.data[ao],qw=r(ao,Er),zw={document:[]},Vw=new s(ao,zw,Er,qw),Je="PrototypeAmber",xr=d.weapon.data[Je],[Uw,Jw]=m(Je,"Gliding"),Qw=[-1,.04,.045,.05,.055,.06],Mr=c(e.weapon.key,Je,He(i(a(e.weapon.refinement,Qw,{unit:"%"}),e.total.hp))),Xw=r(Je,xr,void 0,{heal:Mr}),Yw={document:[{value:Jw,path:Uw,name:n("afterUse.burst"),header:o(Je,n("conditional")),states:{on:{fields:[{node:f(Mr,{name:l("healing"),variant:"heal"})}]}}}]},Zw=new s(Je,Yw,xr,Xw),he="QuantumCatalyst",Dr=d.weapon.data[he],ek=[-1,.18,.225,.27,.315,.36],tk=[-1,.06,.075,.09,.105,.12],nk=[-1,10,12,14,16,18],Tr=h(1,5),[ak,Rr]=m(he,"stacks"),Cr=a(e.weapon.refinement,ek),On=c(e.weapon.key,he,i(a(e.weapon.refinement,tk,{unit:"%"}),e.total.eleMas)),fa={...On},Ir=$(Rr,p(Tr,t=>i(a(e.weapon.refinement,nk),t)),u),ok=r(he,Dr,{premod:{enerRech_:Cr,normal_dmgInc:On,charged_dmgInc:fa,eleMas:Ir}},{normal_dmgInc:On,charged_dmgInc:fa}),sk={document:[{header:o(he,n("base")),fields:[{node:Cr},{node:On},{node:fa}]},{value:Rr,path:ak,teamBuff:!0,header:o(he,n("stacks")),name:n("elementalReaction.electro"),states:p(Tr,t=>({name:n("stack",{count:t}),fields:[{node:Ir},{text:l("duration"),value:12,unit:"s"}]}))}]},ck=new s(he,sk,Dr,ok),Ht="RoyalGrimoire",jr=d.weapon.data[Ht],[dk,Fr]=m(Ht,"stack"),rk=[-1,.08,.1,.12,.14,.16],Nr=$(Fr,p(h(1,5),t=>i(a(e.weapon.refinement,rk,{unit:"%"}),t)),u),ik=r(Ht,jr,{premod:{critRate_:Nr}}),mk={document:[{value:Fr,path:dk,header:o(Ht,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Nr}]}]))}]},lk=new s(Ht,mk,jr,ik),Wn="SacrificialFragments",Wr=d.weapon.data[Wn],pk=r(Wn,Wr),$k={document:[{header:o(Wn),fields:[]}]},hk=new s(Wn,$k,Wr,pk),Qe="SacrificialJade",Hr=d.weapon.data[Qe],[,uk]=g("weapon",Qe),fk=[-1,.32,.4,.48,.56,.64],_k=[-1,40,50,60,70,80],[gk,oo]=m(Qe,"offField"),Kr=c(oo,"on",a(e.weapon.refinement,fk)),Gr=c(oo,"on",a(e.weapon.refinement,_k)),wk=r(Qe,Hr,{premod:{eleMas:Gr,hp_:Kr}}),kk={document:[{teamBuff:!0,header:o(Qe,n("conditional")),path:gk,value:oo,name:uk("condOffField"),states:{on:{fields:[{node:Kr},{node:Gr}]}}}]},vk=new s(Qe,kk,Hr,wk),Kt="SkywardAtlas",Lr=d.weapon.data[Kt],yk=[-1,.12,.15,.18,.21,.24],qr=Object.fromEntries(v.map(t=>[t,a(e.weapon.refinement,yk)])),Pk=[-1,1.6,2,2.4,2.8,3.2],zr=c(e.weapon.key,Kt,y(i(a(e.weapon.refinement,Pk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Sk=r(Kt,Lr,{premod:{...Object.fromEntries(v.map(t=>[`${t}_dmg_`,qr[t]]))}},{dmg:zr}),bk={document:[{header:o(Kt,n("base")),fields:[...v.map(t=>({node:qr[t]})),{node:f(zr,{name:n("dmg")})}]}]},Ok=new s(Kt,bk,Lr,Sk),ue="SolarPearl",Vr=d.weapon.data[ue],Bk=[-1,.2,.25,.3,.35,.4],[Ak,Ur]=m(ue,"solarShineNormal"),[Ek,Jr]=m(ue,"solarShineSkillBurst"),Qr=a(e.weapon.refinement,Bk),so=c("normal",Ur,Qr),Xr={...so},Yr=c("skillBurst",Jr,Qr),xk=r(ue,Vr,{premod:{skill_dmg_:so,burst_dmg_:Xr,normal_dmg_:Yr}}),Mk={document:[{value:Ur,path:Ak,header:o(ue,n("conditional")),name:n("hitOp.normal"),states:{normal:{fields:[{node:so},{node:Xr}]}}},{value:Jr,path:Ek,header:o(ue,n("conditional")),name:n("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:Yr}]}}}]},Dk=new s(ue,Mk,Vr,xk),Xe="TheWidsith",Zr=d.weapon.data[Xe],[Tk,la]=g("weapon",Xe),Rk=[-1,.6,.75,.9,1.05,1.2],Ck=[-1,.48,.6,.72,.84,.96],Ik=[-1,240,300,360,420,480],[jk,Hn]=m(Xe,"Debut"),ei=c("recitative",Hn,a(e.weapon.refinement,Rk)),ti=Object.fromEntries(v.map(t=>[t,c("aria",Hn,a(e.weapon.refinement,Ck))])),ni=c("interlude",Hn,a(e.weapon.refinement,Ik)),Fk=r(Xe,Zr,{premod:{atk_:ei,...Object.fromEntries(v.map(t=>[`${t}_dmg_`,ti[t]])),eleMas:ni}}),Nk={document:[{value:Hn,path:jk,teamBuff:!0,header:o(Xe,n("conditional")),name:Tk("passiveName"),states:{aria:{name:la("aria"),fields:[...v.map(t=>({node:ti[t]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:la("interlude"),fields:[{node:ni},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:la("recitative"),fields:[{node:ei},{text:l("duration"),value:10,unit:"s"}]}}}]},Wk=new s(Xe,Nk,Zr,Fk),Ye="ThrillingTalesOfDragonSlayers",ai=d.weapon.data[Ye],[,Hk]=g("weapon",Ye),Kk=[-1,.24,.3,.36,.42,.48],[Gk,oi]=m(Ye,"Heritage"),si=c("on",oi,a(e.weapon.refinement,Kk)),Lk=M(e.activeCharKey,e.charKey,c(e.activeCharKey,A.charKey,si)),qk=r(Ye,ai,{teamBuff:{premod:{atk_:Lk}}}),zk={document:[{value:oi,path:Gk,name:Hk("condName"),canShow:M(e.activeCharKey,e.charKey,1),teamBuff:!0,header:o(Ye,n("conditional")),states:{on:{fields:[{node:f(si,_.info("atk_"))},{text:l("duration"),value:10,unit:"s"}]}}}]},Vk=new s(Ye,zk,ai,qk),fe="TomeOfTheEternalFlow",co=d.weapon.data[fe],Uk=co.refinementBonus.hp_,Jk=[-1,.14,.18,.22,.26,.3],ci=c(e.weapon.key,fe,a(e.weapon.refinement,Uk)),[Qk,di]=m(fe,"hpChanges"),ri=h(1,3),ii=$(di,p(ri,t=>i(t,a(e.weapon.refinement,Jk,{unit:"%"}))),u),Xk=r(fe,co,{premod:{hp_:ci,charged_dmg_:ii}}),Yk={document:[{header:o(fe,n("base")),fields:[{node:ci}]},{value:di,path:Qk,header:o(fe,n("stacks")),name:n("hpChange"),states:p(ri,t=>({name:n("times",{count:t}),fields:[{node:ii},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},Zk=new s(fe,Yk,co,Xk),O="TulaytullahsRemembrance",mi=d.weapon.data[O],e2=[-1,.1,.125,.15,.175,.2],t2=[-1,.048,.06,.072,.084,.096],li=b(1,12),n2=[-1,.096,.12,.144,.168,.192],pi=b(1,5),a2=[-1,.48,.6,.72,.84,.96],$i=c(e.weapon.key,O,a(e.weapon.refinement,e2)),[o2,hi]=m(O,"timePassive"),s2=c(e.weapon.key,O,$(hi,Object.fromEntries(li.map(t=>[t,i(t,a(e.weapon.refinement,t2,{unit:"%"}))])),u,_.info("normal_dmg_"))),[c2,ui]=m(O,"hitPassive"),d2=c(e.weapon.key,O,$(ui,Object.fromEntries(pi.map(t=>[t,i(t,a(e.weapon.refinement,n2,{unit:"%"}))])),u,_.info("normal_dmg_"))),fi=Z(a(e.weapon.refinement,a2,{unit:"%"}),P(s2,d2)),r2=r(O,mi,{premod:{atkSPD_:$i,normal_dmg_:fi}}),i2={document:[{header:o(O,n("base")),fields:[{node:$i}]},{header:o(O,n("conditional")),fields:[{node:fi}]},{value:hi,path:o2,header:o(O,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(li.map(t=>[t,{name:n("seconds",{count:t}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:ui,path:c2,header:o(O,n("stacks")),name:n("hitOp.normal"),states:Object.fromEntries(pi.map(t=>[t,{name:n("stack",{count:t}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},m2=new s(O,i2,mi,r2),Gt="TwinNephrite",_i=d.weapon.data[Gt],gi=[-1,.12,.14,.16,.18,.2],[l2,ro]=m(Gt,"GuerillaTactics"),wi=c("on",ro,a(e.weapon.refinement,gi)),ki=c("on",ro,a(e.weapon.refinement,gi)),p2=r(Gt,_i,{premod:{atk_:wi,moveSPD_:ki}}),$2={document:[{value:ro,path:l2,name:n("afterDefeatEnemy"),header:o(Gt,n("conditional")),states:{on:{fields:[{node:wi},{node:ki},{text:l("duration"),value:15,unit:"s"}]}}}]},h2=new s(Gt,$2,_i,p2),_e="WanderingEvenstar",vi=d.weapon.data[_e],u2=[-1,.24,.3,.36,.42,.48],Bn=c(e.weapon.key,_e,i(a(e.weapon.refinement,u2,{unit:"%"}),e.premod.eleMas)),io=c(e.weapon.key,_e,i(S(.3),Bn)),f2=M(e.activeCharKey,e.charKey,io),_2=r(_e,vi,{total:{atk:Bn},teamBuff:{total:{atk:f2}}},{selfAtk:Bn,teamAtkDisp:io}),g2={document:[{header:o(_e,n("base")),fields:[{node:Bn}]},{header:o(_e,n("teamBuff")),teamBuff:!0,fields:[{node:f(io,{..._.info("atk"),isTeamBuff:!0})}]}]},w2=new s(_e,g2,vi,_2),Lt="WineAndSong",yi=d.weapon.data[Lt],k2=[-1,.2,.25,.3,.35,.4],[v2,Pi]=m(Lt,"EverChanging"),Si=c("on",Pi,a(e.weapon.refinement,k2)),y2=r(Lt,yi,{premod:{atk_:Si}}),P2={document:[{value:Pi,path:v2,name:n("afterSprint"),header:o(Lt,n("conditional")),states:{on:{fields:[{node:Si},{text:l("duration"),value:5,unit:"s"}]}}}]},S2=new s(Lt,P2,yi,y2),b2={ApprenticesNotes:v_,AThousandFloatingDreams:g_,BalladOfTheBoundlessBlue:B_,BlackcliffAgate:D_,CashflowSupervision:W_,CranesEchoingCall:q_,DodocoTales:Y_,EmeraldOrb:ag,EverlastingMoonglow:rg,EyeOfPerception:pg,FavoniusCodex:ug,FlowingPurity:Bg,Frostbearer:Dg,FruitOfFulfillment:Fg,HakushinRing:Qg,JadefallsSplendor:ow,KagurasVerity:rw,LostPrayerToTheSacredWinds:hw,MagicGuide:ww,MappaMare:bw,MemoryOfDust:Rw,OathswornEye:Ww,OtherworldlyStory:Lw,PocketGrimoire:Vw,PrototypeAmber:Zw,QuantumCatalyst:ck,RoyalGrimoire:lk,SacrificialFragments:hk,SacrificialJade:vk,SkywardAtlas:Ok,SolarPearl:Dk,TheWidsith:Wk,ThrillingTalesOfDragonSlayers:Vk,TomeOfTheEternalFlow:Zk,TulaytullahsRemembrance:m2,TwinNephrite:h2,WanderingEvenstar:w2,WineAndSong:S2},Ze="Akuoumaru",bi=d.weapon.data[Ze],[,O2]=g("weapon",Ze),[B2,Oi]=m(Ze,"WatatsumiWavewalker"),Bi=b(4,36).map(t=>t*10),A2=[-1,.0012,.0015,.0018,.0021,.0024],E2=[-1,.4,.5,.6,.7,.8],Ai=$(Oi,Object.fromEntries(Bi.map(t=>[t,Z(i(a(e.weapon.refinement,A2,{unit:"%"}),t),a(e.weapon.refinement,E2,{unit:"%"}))])),u),x2=r(Ze,bi,{premod:{burst_dmg_:Ai}}),M2={document:[{value:Oi,path:B2,header:o(Ze,n("stacks")),name:O2("party"),states:Object.fromEntries(Bi.map(t=>[t,{name:t.toString(),fields:[{node:Ai}]}]))}]},D2=new s(Ze,M2,bi,x2),B="BeaconOfTheReedSea",Ei=d.weapon.data[B],T2=[-1,.2,.25,.3,.35,.4],[R2,xi]=m(B,"afterSkill"),Mi=c(e.weapon.key,B,c(xi,"on",a(e.weapon.refinement,T2,{..._.info("atk_")}))),C2=[-1,.2,.25,.3,.35,.4],[I2,Di]=m(B,"afterDmg"),Ti=c(e.weapon.key,B,c(Di,"on",a(e.weapon.refinement,C2,{..._.info("atk_")}))),j2=[-1,.32,.4,.48,.56,.64],[F2,Ri]=m(B,"noShield"),Ci=c(e.weapon.key,B,c(Ri,"on",a(e.weapon.refinement,j2,{..._.info("hp_")}))),N2=r(B,Ei,{premod:{atk_:P(Mi,Ti),hp_:Ci}},{}),W2={document:[{header:o(B,n("conditional")),path:R2,value:xi,name:n("hitOp.skill"),states:{on:{fields:[{node:Mi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,n("conditional")),path:I2,value:Di,name:n("takeDmg"),states:{on:{fields:[{node:Ti},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,n("conditional")),path:F2,value:Ri,name:n("notProtectedByShield"),states:{on:{fields:[{node:Ci}]}}}]},H2=new s(B,W2,Ei,N2),qt="BlackcliffSlasher",Ii=d.weapon.data[qt],[K2,ji]=m(qt,"PressTheAdvantage"),Fi=h(1,3),G2=[-1,.12,.15,.18,.21,.24],Ni=i($(ji,p(Fi,t=>w(t)),0),a(e.weapon.refinement,G2)),L2=r(qt,Ii,{premod:{atk_:Ni}}),q2={document:[{value:ji,path:K2,header:o(qt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(Fi.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Ni},{text:l("duration"),value:30,unit:"s"}]}]))}]},z2=new s(qt,q2,Ii,L2),zt="BloodtaintedGreatsword",Wi=d.weapon.data[zt],V2=[-1,.12,.15,.18,.21,.24],[U2,Hi]=m(zt,"BaneOfFireAndThunder"),Ki=c("on",Hi,a(e.weapon.refinement,V2)),J2=r(zt,Wi,{premod:{all_dmg_:Ki}}),Q2={document:[{value:Hi,path:U2,name:n("enemyAffected.pyroOrElectro"),header:o(zt,n("conditional")),states:{on:{fields:[{node:Ki}]}}}]},X2=new s(zt,Q2,Wi,J2),Kn="DebateClub",Gi=d.weapon.data[Kn],Y2=[-1,.6,.75,.9,1.05,1.2],Z2=y(i(a(e.weapon.refinement,Y2,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}}),ev=r(Kn,Gi),tv={document:[{header:o(Kn,n("base")),fields:[{node:f(Z2,{name:n("dmg")})}]}]},nv=new s(Kn,tv,Gi,ev),Gn="FavoniusGreatsword",Li=d.weapon.data[Gn],av=r(Gn,Li),ov={document:[{header:o(Gn),fields:[]}]},sv=new s(Gn,ov,Li,av),et="FerrousShadow",qi=d.weapon.data[et],[,qo]=g("weapon",et),cv=[-1,.3,.35,.4,.45,.5],[dv,zi]=m(et,"Unbending"),Vi=c("on",zi,a(e.weapon.refinement,cv)),rv=r(et,qi,{premod:{charged_dmg_:Vi}}),iv={document:[{value:zi,path:dv,name:qo("condName"),header:o(et,n("conditional")),states:{on:{fields:[{node:Vi},{text:qo("resistance")}]}}}]},mv=new s(et,iv,qi,rv),tt="ForestRegalia",Ui=d.weapon.data[tt],[,lv]=g("weapon",tt),[pv,Ji]=m(tt,"passive"),$v=[-1,60,75,90,105,120],Qi=c(Ji,"on",a(e.weapon.refinement,$v)),hv=c(e.activeCharKey,A.charKey,Qi),uv=r(tt,Ui,{teamBuff:{premod:{eleMas:hv}}}),fv={document:[{value:Ji,path:pv,teamBuff:!0,header:o(tt,n("conditional")),name:lv("condName"),states:{on:{fields:[{node:f(Qi,_.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},_v=new s(tt,fv,Ui,uv),Ln="KatsuragikiriNagamasa",Xi=d.weapon.data[Ln],gv=[-1,.06,.075,.09,.105,.12],Yi=a(e.weapon.refinement,gv),wv=r(Ln,Xi,{premod:{skill_dmg_:Yi}}),kv={document:[{header:o(Ln,n("base")),fields:[{node:Yi}]}]},vv=new s(Ln,kv,Xi,wv),qn="LithicBlade",Zi=d.weapon.data[qn],yv=[-1,.07,.08,.09,.1,.11],Pv=[-1,.03,.04,.05,.06,.07],em=i(a(e.weapon.refinement,yv,{unit:"%"}),x.liyue),tm=i(a(e.weapon.refinement,Pv,{unit:"%"}),x.liyue),Sv=r(qn,Zi,{premod:{atk_:em,critRate_:tm}}),bv={document:[{header:o(qn,n("stacks")),fields:[{node:em},{node:tm}]}]},Ov=new s(qn,bv,Zi,Sv),Fe="LuxuriousSeaLord",nm=d.weapon.data[Fe],Bv=[-1,.12,.15,.18,.21,.24],Av=[-1,1,1.25,1.5,1.75,2],am=a(e.weapon.refinement,Bv),om=c(e.weapon.key,Fe,y(i(a(e.weapon.refinement,Av,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Ev=r(Fe,nm,{premod:{burst_dmg_:am}},{dmg:om}),xv={document:[{header:o(Fe,n("base")),fields:[{node:am}]},{header:o(Fe,n("conditional")),fields:[{node:f(om,{name:n("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},Mv=new s(Fe,xv,nm,Ev),nt="MailedFlower",sm=d.weapon.data[nt],[,Dv]=g("weapon",nt),Tv=[-1,.12,.15,.18,.21,.24],Rv=[-1,48,60,72,84,96],[Cv,mo]=m(nt,"passive"),cm=c(mo,"on",a(e.weapon.refinement,Tv,{unit:"%"})),dm=c(mo,"on",a(e.weapon.refinement,Rv)),Iv=r(nt,sm,{premod:{atk_:cm,eleMas:dm}}),jv={document:[{value:mo,path:Cv,name:Dv("condName"),header:o(nt,n("conditional")),states:{on:{fields:[{node:cm},{node:dm},{text:l("duration"),value:8,unit:"s"}]}}}]},Fv=new s(nt,jv,sm,Iv),ge="MakhairaAquamarine",rm=d.weapon.data[ge],Nv=[-1,.24,.3,.36,.42,.48],An=c(e.weapon.key,ge,i(a(e.weapon.refinement,Nv,{unit:"%"}),e.premod.eleMas)),lo=c(e.weapon.key,ge,i(S(.3),An)),Wv=M(e.activeCharKey,e.charKey,lo),Hv=r(ge,rm,{total:{atk:An},teamBuff:{total:{atk:Wv}}},{selfAtk:An,teamAtkDisp:lo}),Kv={document:[{header:o(ge,n("base")),fields:[{node:An}]},{header:o(ge,n("teamBuff")),teamBuff:!0,fields:[{node:f(lo,{..._.info("atk"),isTeamBuff:!0})}]}]},Gv=new s(ge,Kv,rm,Hv),po="OldMercsPal",im=d.weapon.data[po],Lv=r(po,im),qv={document:[]},zv=new s(po,qv,im,Lv),at="PortablePowerSaw",mm=d.weapon.data[at],[,Vv]=g("weapon",at),Uv=[-1,40,50,60,70,80],[Jv,lm]=m(at,"symbolsConsumed"),pm=h(1,3),$m=$(lm,p(pm,t=>i(t,a(e.weapon.refinement,Uv,{unit:"%"}))),u),Qv=r(at,mm,{premod:{eleMas:$m}}),Xv={document:[{value:lm,path:Jv,teamBuff:!0,header:o(at,n("stacks")),name:Vv("condName"),states:p(pm,t=>({name:`${t}`,fields:[{node:$m},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},Yv=new s(at,Xv,mm,Qv),Vt="PrototypeArchaic",hm=d.weapon.data[Vt],Zv=[-1,2.4,3,3.6,4.2,4.8],um=c(e.weapon.key,Vt,y(i(a(e.weapon.refinement,Zv,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),ey=r(Vt,hm,void 0,{dmg:um}),ty={document:[{header:o(Vt,n("base")),fields:[{node:f(um,{name:n("dmg")})}]}]},ny=new s(Vt,ty,hm,ey),Ut="Rainslasher",fm=d.weapon.data[Ut],ay=[-1,.2,.24,.28,.32,.36],[oy,_m]=m(Ut,"BaneOfStormAndTide"),gm=c("on",_m,a(e.weapon.refinement,ay)),sy=r(Ut,fm,{premod:{all_dmg_:gm}}),cy={document:[{value:_m,path:oy,name:n("enemyAffected.hydroOrElectro"),header:o(Ut,n("conditional")),states:{on:{fields:[{node:gm}]}}}]},dy=new s(Ut,cy,fm,sy),ot="RedhornStonethresher",wm=d.weapon.data[ot],ry=[-1,.28,.35,.42,.49,.56],iy=[-1,.4,.5,.6,.7,.8],my=[-1,.4,.5,.6,.7,.8],km=a(e.weapon.refinement,ry),_a=c(e.weapon.key,ot,i(a(e.weapon.refinement,iy,{unit:"%"}),e.premod.def)),ga=c(e.weapon.key,ot,i(a(e.weapon.refinement,my,{unit:"%"}),e.premod.def)),ly=r(ot,wm,{premod:{def_:km,normal_dmgInc:_a,charged_dmgInc:ga}},{normal_dmgInc:_a,charged_dmgInc:ga}),py={document:[{header:o(ot,n("base")),fields:[{node:km},{node:_a},{node:ga}]}]},$y=new s(ot,py,wm,ly),Jt="RoyalGreatsword",vm=d.weapon.data[Jt],[hy,ym]=m(Jt,"stack"),uy=[-1,.08,.1,.12,.14,.16],Pm=$(ym,p(h(1,5),t=>i(a(e.weapon.refinement,uy,{unit:"%"}),t)),u),fy=r(Jt,vm,{premod:{critRate_:Pm}}),_y={document:[{value:ym,path:hy,name:n("stacks"),header:o(Jt,n("stacks")),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Pm}]}]))}]},gy=new s(Jt,_y,vm,fy),zn="SacrificialGreatsword",Sm=d.weapon.data[zn],wy=r(zn,Sm),ky={document:[{header:o(zn),fields:[]}]},vy=new s(zn,ky,Sm,wy),st="SerpentSpine",bm=d.weapon.data[st],[,yy]=g("weapon",st),Py=[-1,.06,.07,.08,.09,.1],Sy=[-1,3,2.7,2.4,2.2,2],[by,Om]=m(st,"Wavesplitter"),Oy=a(e.weapon.refinement,Py,{unit:"%"}),Bm=$(Om,{...p(h(1,5),t=>i(Oy,t))},u),By=r(st,bm,{premod:{all_dmg_:Bm}}),Ay={document:[{value:Om,path:by,header:o(st,n("stacks")),name:n("activeCharField"),states:{...p(h(1,5),t=>({name:n("seconds",{count:t*4}),fields:[{node:Bm},{text:yy("takeMoreDmg"),value:k=>Sy[k.get(e.weapon.refinement).value]*t,unit:"%"}]}))}}]},Ey=new s(st,Ay,bm,By),Qt="SkyriderGreatsword",Am=d.weapon.data[Qt],[xy,Em]=m(Qt,"stack"),My=[-1,.06,.07,.08,.09,.1],xm=$(Em,p(h(1,4),t=>i(a(e.weapon.refinement,My,{unit:"%"}),t)),u),Dy=r(Qt,Am,{premod:{atk_:xm}}),Ty={document:[{value:Em,path:xy,name:n("hitOp.normalOrCharged"),header:o(Qt,n("stacks")),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:xm},{text:l("duration"),value:6,unit:"s"}]}]))}]},Ry=new s(Qt,Ty,Am,Dy),Xt="SkywardPride",Mm=d.weapon.data[Xt],Cy=[-1,.08,.1,.12,.14,.16],Iy=[-1,.8,1,1.2,1.4,1.6],Dm=a(e.weapon.refinement,Cy),Tm=c(e.weapon.key,Xt,y(i(a(e.weapon.refinement,Iy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),jy=r(Xt,Mm,{premod:{all_dmg_:Dm}},{dmg:Tm}),Fy={document:[{header:o(Xt,n("base")),fields:[{node:Dm},{node:f(Tm,{name:n("dmg")})}]}]},Ny=new s(Xt,Fy,Mm,jy),L="SnowTombedStarsilver",Rm=d.weapon.data[L],Wy=[-1,.8,.95,1.1,1.25,1.4],Hy=[-1,2,2.4,2.8,3.2,3.6],Cm=c(e.weapon.key,L,y(i(a(e.weapon.refinement,Wy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Im=c(e.weapon.key,L,y(i(a(e.weapon.refinement,Hy,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Ky=r(L,Rm,void 0,{dmgAoe:Cm,dmgOnCryoOp:Im}),Gy={document:[{header:o(L,n("base")),fields:[{node:f(Cm,{name:s.trm(L)("aoeDmg")})},{node:f(Im,{name:s.trm(L)("cryoAffectedDmg")})}]}]},Ly=new s(L,Gy,Rm,Ky),we="SongOfBrokenPines",jm=d.weapon.data[we],[,qy]=g("weapon",we),zy=[-1,.16,.2,.24,.28,.32],Vy=[-1,.2,.25,.3,.35,.4],Uy=[-1,.12,.15,.18,.21,.24],[Jy,$o]=m(we,"RebelsBannerHymn"),Fm=a(e.weapon.refinement,zy,{unit:"%"}),Nm=c("on",$o,a(e.weapon.refinement,Vy,_.info("atk_"))),Wm=c("on",$o,a(e.weapon.refinement,Uy)),Qy=r(we,jm,{premod:{atk_:Fm},teamBuff:{premod:{atk_:Nm,atkSPD_:Wm}}}),Xy={document:[{header:o(we,n("base")),fields:[{node:Fm}]},{value:$o,path:Jy,teamBuff:!0,header:o(we,n("conditional")),name:qy("name"),states:{on:{fields:[{node:Nm},{node:Wm},{text:l("duration"),value:12,unit:"s"}]}}}]},Yy=new s(we,Xy,jm,Qy),V="TalkingStick",Hm=d.weapon.data[V],[,zo]=g("weapon",V),Zy=[-1,.16,.2,.24,.28,.32],eP=[-1,.12,.15,.18,.21,.24],[tP,Km]=m(V,"affectedPyro"),Gm=c(Km,"on",a(e.weapon.refinement,Zy)),[nP,Lm]=m(V,"affectedOther"),aP=c(Lm,"on",a(e.weapon.refinement,eP)),qm=p(v.map(t=>`${t}_dmg_`),()=>({...aP})),oP=r(V,Hm,{premod:{atk_:Gm,...qm}}),sP={document:[{value:Km,path:tP,header:o(V,n("conditional")),name:zo("condName.atk_"),states:{on:{fields:[{node:Gm},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Lm,path:nP,header:o(V,n("conditional")),name:zo("condName.dmg_"),states:{on:{fields:[...Object.values(qm).map(t=>({node:t})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},cP=new s(V,sP,Hm,oP),U="TheBell",zm=d.weapon.data[U],dP=[-1,.2,.23,.26,.29,.32],rP=[-1,.12,.15,.18,.21,.24],[iP,Vm]=m(U,"RebelliousGuardian"),Um=c(e.weapon.key,U,c(Vm,"on",bh(i(a(e.weapon.refinement,dP,{unit:"%"}),e.total.hp)))),[mP,Jm]=m(U,"WithShield"),Qm=c(Jm,"protected",a(e.weapon.refinement,rP,{unit:"%"})),lP=r(U,zm,{premod:{all_dmg_:Qm}},{shield:Um}),pP={document:[{value:Vm,path:iP,header:o(U,n("conditional")),name:n("takeDmg"),states:{on:{fields:[{node:f(Um,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:Jm,path:mP,header:o(U,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{node:Qm}]}}}]},$P=new s(U,pP,zm,lP),R="TheUnforged",Xm=d.weapon.data[R],[,hP]=g("weapon",R),uP=[-1,.2,.25,.3,.35,.4],fP=[-1,.04,.05,.06,.07,.08],[_P,Ym]=m(R,"GoldenMajesty"),Zm=a(e.weapon.refinement,uP),[gP,el]=m(R,"WithShield"),wP=a(e.weapon.refinement,fP),tl=i(P(1,c(el,"protected",1)),$(Ym,Object.fromEntries(b(1,5).map(t=>[t,i(wP,t)])),u)),kP=r(R,Xm,{premod:{shield_:Zm,atk_:tl}}),vP={document:[{header:o(R,n("base")),fields:[{node:Zm}]},{value:Ym,path:_P,header:o(R,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:tl},{text:l("duration"),value:8,unit:"s"}]}]))},{value:el,path:gP,header:o(R,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:hP("atkEffInc"),value:100,unit:"%"}]}}}]},yP=new s(R,vP,Xm,kP),Yt="TidalShadow",nl=d.weapon.data[Yt],PP=[-1,.24,.3,.36,.42,.48],[SP,al]=m(Yt,"afterHeal"),ol=c(al,"on",a(e.weapon.refinement,PP)),bP=r(Yt,nl,{premod:{atk_:ol}}),OP={document:[{header:o(Yt,n("conditional")),path:SP,value:al,name:n("afterHeal"),states:{on:{fields:[{node:ol},{text:l("duration"),value:8,unit:"s"}]}}}]},BP=new s(Yt,OP,nl,bP),J="UltimateOverlordsMegaMagicSword",ho=d.weapon.data[J],[,AP]=g("weapon",J),EP=ho.refinementBonus.atk_,xP=[-1,.01,.0125,.015,.0175,.02],sl=c(e.weapon.key,J,a(e.weapon.refinement,EP),_.info("atk_")),[MP,cl]=m(J,"melusines"),dl=h(1,12),rl=$(cl,p(dl,t=>i(t,a(e.weapon.refinement,xP,{unit:"%"}))),u,_.info("atk_")),DP=r(J,ho,{premod:{atk_:P(sl,rl)}}),TP={document:[{header:o(J,n("base")),fields:[{node:sl}]},{value:cl,path:MP,header:o(J,n("stacks")),name:AP("condName"),states:p(dl,t=>({name:`${t}`,fields:[{node:rl}]}))}]},RP=new s(J,TP,ho,DP),Q="Verdict",uo=d.weapon.data[Q],[,CP]=g("weapon",Q),IP=uo.refinementBonus.atk_,jP=[-1,.18,.225,.27,.315,.36],il=c(e.weapon.key,Q,a(e.weapon.refinement,IP)),[FP,ml]=m(Q,"seals"),ll=h(1,2),pl=$(ml,p(ll,t=>i(t,a(e.weapon.refinement,jP,{unit:"%"}))),u),NP=r(Q,uo,{premod:{atk_:il,skill_dmg_:pl}}),WP={document:[{header:o(Q,n("base")),fields:[{node:il}]},{value:ml,path:FP,header:o(Q,n("stacks")),name:CP("condName"),states:p(ll,t=>({name:`${t}`,fields:[{node:pl}]}))}]},HP=new s(Q,WP,uo,NP),fo="WasterGreatsword",_o=d.weapon.data[fo],KP=r(fo,_o),GP={..._o,document:[]},LP=new s(fo,GP,_o,KP),ct="WhiteIronGreatsword",$l=d.weapon.data[ct],qP=[-1,.08,.1,.12,.14,.16],[zP,hl]=m(ct,"CullTheWeak"),ul=c(e.weapon.key,ct,c(hl,"on",He(i(a(e.weapon.refinement,qP,{unit:"%"}),e.total.hp)))),VP=r(ct,$l,void 0,{heal:ul}),UP={document:[{value:hl,path:zP,name:n("afterDefeatEnemy"),header:o(ct,n("conditional")),states:{on:{fields:[{node:f(ul,{name:l("healing"),variant:"heal"})}]}}}]},JP=new s(ct,UP,$l,VP),Zt="Whiteblind",fl=d.weapon.data[Zt],[QP,go]=m(Zt,"stack"),_l=[-1,.06,.075,.09,.105,.12],gl=$(go,p(h(1,4),t=>i(a(e.weapon.refinement,_l,{unit:"%"}),t)),u),wl=$(go,p(h(1,4),t=>i(a(e.weapon.refinement,_l,{unit:"%"}),t)),u),XP=r(Zt,fl,{premod:{atk_:gl,def_:wl}}),YP={document:[{value:go,path:QP,name:n("hitOp.normalOrCharged"),header:o(Zt,n("stacks")),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:gl},{node:wl},{text:l("duration"),value:6,unit:"s"}]}]))}]},ZP=new s(Zt,YP,fl,XP),Ne="WolfsGravestone",kl=d.weapon.data[Ne],eS=[-1,.2,.25,.3,.35,.4],tS=[-1,.4,.5,.6,.7,.8],[nS,vl]=m(Ne,"WolfishTracker"),yl=a(e.weapon.refinement,eS),Pl=c("on",vl,a(e.weapon.refinement,tS,_.info("atk_"))),aS=r(Ne,kl,{premod:{atk_:yl},teamBuff:{premod:{atk_:Pl}}}),oS={document:[{header:o(Ne,n("base")),fields:[{node:yl}]},{value:vl,path:nS,teamBuff:!0,header:o(Ne,n("conditional")),name:n("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Pl},{text:l("duration"),value:12,unit:"s"}]}}}]},sS=new s(Ne,oS,kl,aS),cS={Akuoumaru:D2,BeaconOfTheReedSea:H2,BlackcliffSlasher:z2,BloodtaintedGreatsword:X2,DebateClub:nv,FavoniusGreatsword:sv,FerrousShadow:mv,ForestRegalia:_v,KatsuragikiriNagamasa:vv,LithicBlade:Ov,LuxuriousSeaLord:Mv,MailedFlower:Fv,MakhairaAquamarine:Gv,OldMercsPal:zv,PortablePowerSaw:Yv,PrototypeArchaic:ny,Rainslasher:dy,RedhornStonethresher:$y,RoyalGreatsword:gy,SacrificialGreatsword:vy,SerpentSpine:Ey,SkyriderGreatsword:Ry,SkywardPride:Ny,SnowTombedStarsilver:Ly,SongOfBrokenPines:Yy,TalkingStick:cP,TheBell:$P,TheUnforged:yP,TidalShadow:BP,UltimateOverlordsMegaMagicSword:RP,Verdict:HP,WasterGreatsword:LP,Whiteblind:ZP,WhiteIronGreatsword:JP,WolfsGravestone:sS},Vn="BalladOfTheFjords",Sl=d.weapon.data[Vn],dS=[-1,120,150,180,210,240],wa=Jo(x.ele,3,a(e.weapon.refinement,dS)),rS=r(Vn,Sl,{premod:{eleMas:wa}}),iS={document:[{header:o(Vn,n("talents.passive")),canShow:M(wa,void 0,1),fields:[{node:wa}]}]},mS=new s(Vn,iS,Sl,rS),wo="BeginnersProtector",ko=d.weapon.data[wo],lS=r(wo,ko),pS={...ko,document:[]},$S=new s(wo,pS,ko,lS),en="BlackcliffPole",bl=d.weapon.data[en],[hS,Ol]=m(en,"PressTheAdvantage"),Bl=h(1,3),uS=[-1,.12,.15,.18,.21,.24],Al=i($(Ol,p(Bl,t=>w(t)),0),a(e.weapon.refinement,uS)),fS=r(en,bl,{premod:{atk_:Al}}),_S={document:[{value:Ol,path:hS,teamBuff:!0,header:o(en,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(Bl.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Al},{text:l("duration"),value:30,unit:"s"}]}]))}]},gS=new s(en,_S,bl,fS),dt="BlackTassel",El=d.weapon.data[dt],[,wS]=g("weapon",dt),kS=[-1,.4,.5,.6,.7,.8],[vS,xl]=m(dt,"PressTheAdvantage"),Ml=c("on",xl,a(e.weapon.refinement,kS)),yS=r(dt,El,{premod:{all_dmg_:Ml}}),PS={document:[{value:xl,path:vS,header:o(dt,n("conditional")),name:wS("condName"),states:{on:{fields:[{node:Ml}]}}}]},SS=new s(dt,PS,El,yS),C="CalamityQueller",Dl=d.weapon.data[C],[,ka]=g("weapon",C),[bS,va]=m(C,"stack"),[OS,Tl]=m(C,"offField"),BS=[-1,.12,.15,.18,.21,.24],AS=[-1,.032,.04,.048,.056,.064],Rl=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,BS)])),Cl=i(Da(Tl,"on",w(2,{name:ka("inactive")}),w(1,{name:ka("active")})),$(va,p(h(1,6),t=>w(t,{name:n("stacks")})),0),a(e.weapon.refinement,AS)),ES=r(C,Dl,{premod:{...Rl,atk_:Cl}}),xS={document:[{header:o(C,n("base")),fields:Object.values(Rl).map(t=>({node:t}))},{value:va,path:bS,teamBuff:!0,header:o(C,n("stacks")),name:ka("effectName"),states:Object.fromEntries(h(1,6).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Cl}]}]))},{canShow:M(va,void 0,1),value:Tl,path:OS,teamBuff:!0,header:o(C,n("conditional")),name:n("charOffField"),states:{on:{fields:[]}}}]},MS=new s(C,xS,Dl,ES),tn="CrescentPike",Il=d.weapon.data[tn],DS=[-1,.2,.25,.3,.35,.4],jl=c(e.weapon.key,tn,y(i(e.total.atk,a(e.weapon.refinement,DS,{unit:"%"})),"elemental",{hit:{ele:w("physical")}})),TS=r(tn,Il,void 0,{hit:jl}),RS={document:[{header:o(tn,n("talents.passive")),fields:[{node:f(jl,{name:n("dmg")})}]}]},CS=new s(tn,RS,Il,TS),rt="Deathmatch",Fl=d.weapon.data[rt],[,IS]=g("weapon",rt),[jS,vo]=m(rt,"stack"),Nl=[-1,.16,.2,.24,.28,.32],FS=[-1,.24,.3,.36,.42,.48],ya=$(vo,{oneOrNone:a(e.weapon.refinement,FS,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Nl,{unit:"%"})},u),Pa=c(vo,"moreThanOne",a(e.weapon.refinement,Nl,{unit:"%"})),NS=r(rt,Fl,{premod:{atk_:ya,def_:Pa}}),WS={document:[{value:vo,path:jS,teamBuff:!0,header:o(rt,n("conditional")),name:IS("condName"),states:{oneOrNone:{name:"≤1",fields:[{node:ya},{node:Pa}]},moreThanOne:{name:"≥2",fields:[{node:ya},{node:Pa}]}}}]},HS=new s(rt,WS,Fl,NS),nn="DragonsBane",Wl=d.weapon.data[nn],KS=[-1,.2,.24,.28,.32,.36],[GS,Hl]=m(nn,"BaneOfFlameAndWater"),Kl=c("on",Hl,a(e.weapon.refinement,KS)),LS=r(nn,Wl,{premod:{all_dmg_:Kl}}),qS={document:[{value:Hl,path:GS,header:o(nn,n("conditional")),name:n("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:Kl}]}}}]},zS=new s(nn,qS,Wl,LS),q="DragonspineSpear",Gl=d.weapon.data[q],VS=[-1,.8,.95,1.1,1.25,1.4],US=[-1,2,2.4,2.8,3.2,3.6],Ll=c(e.weapon.key,q,y(i(a(e.weapon.refinement,VS,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),ql=c(e.weapon.key,q,y(i(a(e.weapon.refinement,US,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),JS=r(q,Gl,void 0,{dmgAoe:Ll,dmgOnCryoOp:ql}),QS={document:[{header:o(q,n("base")),fields:[{node:f(Ll,{name:s.trm(q)("aoeDmg")})},{node:f(ql,{name:s.trm(q)("cryoAffectedDmg")})}]}]},XS=new s(q,QS,Gl,JS),ke="EngulfingLightning",zl=d.weapon.data[ke],YS=[-1,.28,.35,.42,.49,.56],ZS=[-1,.8,.9,1,1.1,1.2],Sa=c(e.weapon.key,ke,Z(i(a(e.weapon.refinement,YS),P(e.premod.enerRech_,S(-1))),a(e.weapon.refinement,ZS))),e4=[-1,.3,.35,.4,.45,.5,.55],[t4,Vl]=m(ke,"TimelessDream"),Ul=c("on",Vl,a(e.weapon.refinement,e4)),n4=r(ke,zl,{premod:{atk_:Sa,enerRech_:Ul}},{atk_:Sa}),a4={document:[{header:o(ke,n("base")),fields:[{node:Sa}]},{teamBuff:!0,value:Vl,path:t4,header:o(ke,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:Ul},{text:l("duration"),value:12,unit:"s"}]}}}]},o4=new s(ke,a4,zl,n4),Un="FavoniusLance",Jl=d.weapon.data[Un],s4=r(Un,Jl),c4={document:[{header:o(Un),fields:[]}]},d4=new s(Un,c4,Jl,s4),an="Halberd",Ql=d.weapon.data[an],r4=[-1,1.6,2,2.4,2.8,3.2],Xl=c(e.weapon.key,an,y(i(a(e.weapon.refinement,r4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),i4=r(an,Ql,void 0,{dmg:Xl}),m4={document:[{header:o(an,n("base")),fields:[{node:f(Xl,{name:n("dmg")})}]}]},l4=new s(an,m4,Ql,i4),yo="IronPoint",Po=d.weapon.data[yo],p4=r(yo,Po),$4={...Po,document:[]},h4=new s(yo,$4,Po,p4),Jn="KitainCrossSpear",Yl=d.weapon.data[Jn],u4=[-1,.06,.075,.09,.105,.12],Zl=a(e.weapon.refinement,u4),f4=r(Jn,Yl,{premod:{skill_dmg_:Zl}}),_4={document:[{header:o(Jn,n("base")),fields:[{node:Zl}]}]},g4=new s(Jn,_4,Yl,f4),Qn="LithicSpear",e0=d.weapon.data[Qn],w4=[-1,.07,.08,.09,.1,.11],k4=[-1,.03,.04,.05,.06,.07],t0=i(a(e.weapon.refinement,w4,{unit:"%"}),x.liyue),n0=i(a(e.weapon.refinement,k4,{unit:"%"}),x.liyue),v4=r(Qn,e0,{premod:{atk_:t0,critRate_:n0}}),y4={document:[{header:o(Qn,n("stacks")),fields:[{node:t0},{node:n0}]}]},P4=new s(Qn,y4,e0,v4),on="MissiveWindspear",a0=d.weapon.data[on],[S4,So]=m(on,"passive"),b4=[-1,.12,.15,.18,.21,.24],O4=[-1,48,60,72,84,96],o0=c(So,"on",a(e.weapon.refinement,b4,{unit:"%"})),s0=c(So,"on",a(e.weapon.refinement,O4)),B4=r(on,a0,{premod:{atk_:o0,eleMas:s0}}),A4={document:[{value:So,path:S4,teamBuff:!0,header:o(on,n("conditional")),name:n("afterReaction"),states:{on:{fields:[{node:o0},{node:s0},{text:l("duration"),value:10,unit:"s"}]}}}]},E4=new s(on,A4,a0,B4),it="Moonpiercer",c0=d.weapon.data[it],[,x4]=g("weapon",it),[M4,d0]=m(it,"passive"),D4=[-1,.16,.2,.24,.28,.32],r0=c(d0,"on",a(e.weapon.refinement,D4,{unit:"%"})),T4=c(e.activeCharKey,A.charKey,r0),R4=r(it,c0,{teamBuff:{premod:{atk_:T4}}}),C4={document:[{value:d0,path:M4,teamBuff:!0,header:o(it,n("conditional")),name:x4("condName"),states:{on:{fields:[{node:f(r0,_.info("atk_"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},I4=new s(it,C4,c0,R4),sn="PrimordialJadeWingedSpear",i0=d.weapon.data[sn],[j4,bo]=m(sn,"stack"),F4=[-1,.032,.039,.046,.053,.06],N4=[-1,.12,.15,.18,.21,.24],m0=$(bo,p(h(1,7),t=>i(a(e.weapon.refinement,F4,{unit:"%"}),t)),u),l0=c(bo,"7",a(e.weapon.refinement,N4,{unit:"%"})),W4=r(sn,i0,{premod:{atk_:m0,all_dmg_:l0}}),H4={document:[{value:bo,path:j4,teamBuff:!0,header:o(sn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(h(1,7).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:m0},{node:l0}]}]))}]},K4=new s(sn,H4,i0,W4),mt="ProspectorsDrill",p0=d.weapon.data[mt],[,G4]=g("weapon",mt),L4=[-1,.03,.04,.05,.06,.07],q4=[-1,.07,.085,.1,.115,.13],[z4,Oo]=m(mt,"marksConsumed"),Bo=h(1,3),$0=$(Oo,p(Bo,t=>i(t,a(e.weapon.refinement,L4,{unit:"%"}))),u),V4=$(Oo,p(Bo,t=>i(t,a(e.weapon.refinement,q4,{unit:"%"}))),u),h0=p(v.map(t=>`${t}_dmg_`),()=>({...V4})),U4=r(mt,p0,{premod:{atk_:$0,...h0}}),J4={document:[{value:Oo,path:z4,teamBuff:!0,header:o(mt,n("stacks")),name:G4("condName"),states:p(Bo,t=>({name:`${t}`,fields:[{node:$0},...Object.values(h0).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},Q4=new s(mt,J4,p0,U4),cn="PrototypeStarglitter",u0=d.weapon.data[cn],[X4,Ao]=m(cn,"stack"),f0=[-1,.08,.1,.12,.14,.16],_0=$(Ao,p(h(1,2),t=>i(a(e.weapon.refinement,f0,{unit:"%"}),t)),u),g0=$(Ao,p(h(1,2),t=>i(a(e.weapon.refinement,f0,{unit:"%"}),t)),u),Y4=r(cn,u0,{premod:{normal_dmg_:_0,charged_dmg_:g0}}),Z4={document:[{value:Ao,path:X4,header:o(cn,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(h(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:_0},{node:g0}]}]))}]},e5=new s(cn,Z4,u0,Y4),Xn="RightfulReward",w0=d.weapon.data[Xn],t5=r(Xn,w0),n5={document:[{header:o(Xn),fields:[]}]},a5=new s(Xn,n5,w0,t5),dn="RoyalSpear",k0=d.weapon.data[dn],[o5,v0]=m(dn,"stack"),s5=[-1,.08,.1,.12,.14,.16],y0=$(v0,p(h(1,5),t=>i(a(e.weapon.refinement,s5,{unit:"%"}),t)),u),c5=r(dn,k0,{premod:{critRate_:y0}}),d5={document:[{value:v0,path:o5,teamBuff:!0,header:o(dn,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:y0}]}]))}]},r5=new s(dn,d5,k0,c5),rn="SkywardSpine",P0=d.weapon.data[rn],i5=[-1,.08,.1,.12,.14,.16],m5=[-1,.4,.55,.7,.85,1],S0=S(.12),b0=a(e.weapon.refinement,i5),O0=c(e.weapon.key,rn,y(i(a(e.weapon.refinement,m5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),l5=r(rn,P0,{premod:{critRate_:b0,atkSPD_:S0}},{dmg:O0}),p5={document:[{header:o(rn,n("base")),fields:[{node:b0},{node:S0},{node:f(O0,{name:n("dmg")})}]}]},$5=new s(rn,p5,P0,l5),ve="StaffOfHoma",B0=d.weapon.data[ve],h5=[-1,.2,.25,.3,.35,.4],u5=[-1,.008,.01,.012,.014,.016],f5=[-1,.01,.012,.014,.016,.018],A0=a(e.weapon.refinement,h5,{unit:"%"}),[_5,E0]=m(ve,"RecklessCinnabar"),x0=i(a(e.weapon.refinement,u5,{unit:"%"}),e.premod.hp),ba=c(e.weapon.key,ve,c("on",E0,i(a(e.weapon.refinement,f5,{unit:"%"}),e.premod.hp),_.info("atk"))),g5=r(ve,B0,{premod:{hp_:A0},total:{atk:P(x0,ba)}},{atk2_:ba}),w5={document:[{header:o(ve,n("base")),fields:[{node:A0},{node:f(x0,_.info("atk"))}]},{value:E0,path:_5,teamBuff:!0,header:o(ve),name:n("lessPercentHP",{percent:50}),states:{on:{fields:[{node:f(ba,_.info("atk"))}]}}}]},k5=new s(ve,w5,B0,g5),X="StaffOfTheScarletSands",M0=d.weapon.data[X],[v5,D0]=m(X,"stacks"),y5=[-1,.52,.65,.78,.91,1.04],P5=[-1,.28,.35,.42,.49,.56],T0=b(1,3),R0=c(e.weapon.key,X,i(a(e.weapon.refinement,y5,{unit:"%"}),e.premod.eleMas),_.info("atk")),C0=$(D0,Object.fromEntries(T0.map(t=>[t,i(t,a(e.weapon.refinement,P5,{unit:"%"}),e.premod.eleMas)])),u,_.info("atk")),Vo=c(e.weapon.key,X,P(R0,C0)),S5=r(X,M0,{total:{atk:Vo}},{atk:Vo}),b5={document:[{header:o(X,n("base")),fields:[{node:R0}]},{value:D0,path:v5,header:o(X,n("stacks")),name:n("hitOp.skill"),states:Object.fromEntries(T0.map(t=>[t,{name:n("hits",{count:t}),fields:[{node:C0},{text:l("duration"),value:10,unit:"s"}]}]))}]},O5=new s(X,b5,M0,S5),Yn="TheCatch",I0=d.weapon.data[Yn],B5=[-1,.16,.2,.24,.28,.32],A5=[-1,.06,.075,.09,.105,.12],j0=a(e.weapon.refinement,B5),F0=a(e.weapon.refinement,A5),E5=r(Yn,I0,{premod:{burst_dmg_:j0,burst_critRate_:F0}}),x5={document:[{header:o(Yn,n("base")),fields:[{node:j0},{node:F0}]}]},M5=new s(Yn,x5,I0,E5),I="VortexVanquisher",N0=d.weapon.data[I],[,D5]=g("weapon",I),T5=[-1,.2,.25,.3,.35,.4],R5=[-1,.04,.05,.06,.07,.08],[C5,W0]=m(I,"GoldenMajesty"),H0=a(e.weapon.refinement,T5),[I5,K0]=m(I,"WithShield"),j5=a(e.weapon.refinement,R5),G0=i(P(1,c(K0,"protected",1)),$(W0,Object.fromEntries(b(1,5).map(t=>[t,i(j5,t)])),u)),F5=r(I,N0,{premod:{shield_:H0,atk_:G0}}),N5={document:[{header:o(I,n("base")),fields:[{node:H0}]},{value:W0,path:C5,teamBuff:!0,header:o(I,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:G0},{text:l("duration"),value:8,unit:"s"}]}]))},{value:K0,path:I5,header:o(I,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:D5("atkEffInc"),value:100,unit:"%"}]}}}]},W5=new s(I,N5,N0,F5),lt="WavebreakersFin",L0=d.weapon.data[lt],[,H5]=g("weapon",lt),[K5,q0]=m(lt,"WatatsumiWavewalker"),z0=b(4,36).map(t=>t*10),G5=[-1,.0012,.0015,.0018,.0021,.0024],L5=[-1,.4,.5,.6,.7,.8],V0=$(q0,Object.fromEntries(z0.map(t=>[t,Z(i(a(e.weapon.refinement,G5,{unit:"%"}),t),a(e.weapon.refinement,L5,{unit:"%"}))])),u),q5=r(lt,L0,{premod:{burst_dmg_:V0}}),z5={document:[{value:q0,path:K5,header:o(lt),name:H5("party"),states:Object.fromEntries(z0.map(t=>[t,{name:t.toString(),fields:[{node:V0}]}]))}]},V5=new s(lt,z5,L0,q5),Zn="WhiteTassel",U0=d.weapon.data[Zn],U5=[-1,.24,.3,.36,.42,.48],J0=a(e.weapon.refinement,U5),J5=r(Zn,U0,{premod:{normal_dmg_:J0}}),Q5={document:[{header:o(Zn,n("base")),fields:[{node:J0}]}]},X5=new s(Zn,Q5,U0,J5),Y5={BalladOfTheFjords:mS,BeginnersProtector:$S,BlackcliffPole:gS,BlackTassel:SS,CalamityQueller:MS,CrescentPike:CS,Deathmatch:HS,DragonsBane:zS,DragonspineSpear:XS,EngulfingLightning:o4,FavoniusLance:d4,Halberd:l4,IronPoint:h4,KitainCrossSpear:g4,LithicSpear:P4,MissiveWindspear:E4,Moonpiercer:I4,PrimordialJadeWingedSpear:K4,ProspectorsDrill:Q4,PrototypeStarglitter:e5,RightfulReward:a5,RoyalSpear:r5,SkywardSpine:$5,StaffOfHoma:k5,StaffOfTheScarletSands:O5,TheCatch:M5,VortexVanquisher:W5,WavebreakersFin:V5,WhiteTassel:X5},ea="AmenomaKageuchi",Q0=d.weapon.data[ea],Z5=r(ea,Q0),eb={document:[{header:o(ea),fields:[]}]},tb=new s(ea,eb,Q0,Z5),ye="AquilaFavonia",Eo=d.weapon.data[ye],nb=[-1,2,2.3,2.6,2.9,3.2],ab=[-1,1,1.15,1.3,1.45,1.6],X0=a(e.weapon.refinement,Eo.refinementBonus.atk_),Y0=c(e.weapon.key,ye,i(a(e.weapon.refinement,ab,{unit:"%"}),e.premod.atk)),Z0=c(e.weapon.key,ye,y(i(a(e.weapon.refinement,nb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),ob=r(ye,Eo,{premod:{atk_:X0}},{heal:Y0,dmg:Z0}),sb={document:[{header:o(ye,n("base")),fields:[{node:X0}]},{header:o(ye,n("base")),fields:[{node:f(Y0,{name:l("healing"),variant:"heal"})},{node:f(Z0,{name:n("dmg")})}]}]},cb=new s(ye,sb,Eo,ob),mn="BlackcliffLongsword",ep=d.weapon.data[mn],[db,tp]=m(mn,"PressTheAdvantage"),np=h(1,3),rb=[-1,.12,.15,.18,.21,.24],ap=i($(tp,p(np,t=>w(t)),0),a(e.weapon.refinement,rb)),ib=r(mn,ep,{premod:{atk_:ap}}),mb={document:[{value:tp,path:db,header:o(mn,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(np.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:ap},{text:l("duration"),value:30,unit:"s"}]}]))}]},lb=new s(mn,mb,ep,ib),De="CinnabarSpindle",op=d.weapon.data[De],[,pb]=g("weapon",De),$b=[-1,.4,.5,.6,.7,.8],[hb,sp]=m(De,"SpotlessHeart"),Oa=c(e.weapon.key,De,c("on",sp,i(a(e.weapon.refinement,$b,{unit:"%"}),e.premod.def))),ub=r(De,op,{premod:{skill_dmgInc:Oa}},{skill_dmgInc:Oa}),fb={document:[{value:sp,path:hb,header:o(De,n("conditional")),name:pb("name"),states:{on:{fields:[{node:Oa}]}}}]},_b=new s(De,fb,op,ub),ln="CoolSteel",cp=d.weapon.data[ln],gb=[-1,.12,.15,.18,.21,.24],[wb,dp]=m(ln,"BaneOfWaterAndIce"),rp=c("on",dp,a(e.weapon.refinement,gb)),kb=r(ln,cp,{premod:{all_dmg_:rp}}),vb={document:[{value:dp,path:wb,name:n("enemyAffected.hydroOrCryo"),header:o(ln,n("conditional")),states:{on:{fields:[{node:rp}]}}}]},yb=new s(ln,vb,cp,kb),pn="DarkIronSword",ip=d.weapon.data[pn],Pb=[-1,.2,.25,.3,.35,.5],[Sb,mp]=m(pn,"Overloaded"),lp=c("on",mp,a(e.weapon.refinement,Pb,{unit:"%"})),bb=r(pn,ip,{premod:{atk_:lp}}),Ob={document:[{value:mp,path:Sb,name:n("elementalReaction.electro"),header:o(pn,n("conditional")),states:{on:{fields:[{node:lp},{text:l("duration"),value:12,unit:"s"}]}}}]},Bb=new s(pn,Ob,ip,bb),xo="DullBlade",Mo=d.weapon.data[xo],Ab=r(xo,Mo),Eb={...Mo,document:[]},xb=new s(xo,Eb,Mo,Ab),ta="FavoniusSword",pp=d.weapon.data[ta],Mb=r(ta,pp),Db={document:[{header:o(ta),fields:[]}]},Tb=new s(ta,Db,pp,Mb),na="FesteringDesire",$p=d.weapon.data[na],Rb=[-1,.16,.2,.24,.28,.32],Cb=[-1,.06,.075,.09,.105,.12],hp=a(e.weapon.refinement,Rb,{unit:"%"}),up=a(e.weapon.refinement,Cb,{unit:"%"}),Ib=r(na,$p,{premod:{skill_dmg_:hp,skill_critRate_:up}}),jb={document:[{header:o(na,n("base")),fields:[{node:hp},{node:up}]}]},Fb=new s(na,jb,$p,Ib),$n="FilletBlade",fp=d.weapon.data[$n],Nb=[-1,2.4,2.8,3.2,3.6,4],Wb=[-1,15,14,13,12,11],_p=c(e.weapon.key,$n,y(i(a(e.weapon.refinement,Nb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Hb=r($n,fp,void 0,{dmg_:_p}),Kb={document:[{header:o($n,n("base")),fields:[{node:f(_p,{name:n("dmg")})},{text:l("cd"),value:t=>Wb[t.get(e.weapon.refinement).value],unit:"s"}]}]},Gb=new s($n,Kb,fp,Hb),N="FinaleOfTheDeep",gp=d.weapon.data[N],[,Lb]=g("weapon",N),qb=[-1,.12,.15,.18,.21,.24],zb=[-1,.024,.03,.036,.042,.048],Vb=[-1,150,187.5,225,262.5,300],[Ub,wp]=m(N,"afterSkill"),kp=c(wp,"on",a(e.weapon.refinement,qb)),Jb=i(S(.25),e.total.hp),[Qb,vp]=m(N,"bond"),Ba=c(e.weapon.key,N,c(vp,"on",Z(i(Jb,a(e.weapon.refinement,zb,{unit:"%"})),a(e.weapon.refinement,Vb,{unit:"%"})))),Xb=r(N,gp,{premod:{atk_:kp,atk:Ba}},{bond_atk:Ba}),Yb={document:[{header:o(N,n("conditional")),path:Ub,value:wp,name:n("hitOp.skill"),states:{on:{fields:[{node:kp},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(N,n("conditional")),path:Qb,value:vp,name:Lb("bondCondName"),states:{on:{fields:[{node:Ba},{text:l("duration"),value:15,unit:"s"}]}}}]},Zb=new s(N,Yb,gp,Xb),We="FleuveCendreFerryman",yp=d.weapon.data[We],e3=[-1,.08,.1,.12,.14,.16],t3=[-1,.16,.2,.24,.28,.32],Pp=a(e.weapon.refinement,e3),[n3,Sp]=m(We,"afterSkill"),bp=c(Sp,"on",a(e.weapon.refinement,t3)),a3=r(We,yp,{premod:{skill_critRate_:Pp,enerRech_:bp}}),o3={document:[{header:o(We,n("base")),fields:[{node:Pp}]},{header:o(We,n("conditional")),value:Sp,path:n3,name:n("afterUse.skill"),states:{on:{fields:[{node:bp},{text:l("duration"),value:5,unit:"s"}]}}}]},s3=new s(We,o3,yp,a3),Pe="FreedomSworn",Do=d.weapon.data[Pe],[,c3]=g("weapon",Pe),[d3,To]=m(Pe,"MillennialMovement"),r3=[-1,.16,.2,.24,.28,.32],i3=[-1,.2,.25,.3,.35,.4],Op=a(e.weapon.refinement,Do.refinementBonus.dmg_),Bp=c("on",To,a(e.weapon.refinement,i3)),aa=c("on",To,a(e.weapon.refinement,r3)),Ap={...aa},Ep={...aa},m3=r(Pe,Do,{premod:{all_dmg_:Op},teamBuff:{premod:{atk_:Bp,normal_dmg_:aa,charged_dmg_:Ap,plunging_dmg_:Ep}}}),l3={document:[{header:o(Pe,n("base")),fields:[{node:Op}]},{value:To,path:d3,teamBuff:!0,header:o(Pe,n("conditional")),name:c3("sigilsConsumed"),states:{on:{fields:[{node:Bp},{node:aa},{node:Ap},{node:Ep},{text:l("duration"),value:12,unit:"s"}]}}}]},p3=new s(Pe,l3,Do,m3),Se="HaranGeppakuFutsu",xp=d.weapon.data[Se],[,$3]=g("weapon",Se),h3=[-1,.12,.15,.18,.21,.24],u3=[-1,.2,.25,.3,.35,.4],[f3,Mp]=m(Se,"HonedFlow"),Dp=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,h3,_.info(`${t}_dmg_`))])),Tp=$(Mp,p(h(1,2),t=>i(t,a(e.weapon.refinement,u3))),u),_3=r(Se,xp,{premod:{...Dp,normal_dmg_:Tp}}),g3={document:[{header:o(Se,n("base")),fields:[...v.map(t=>({node:Dp[`${t}_dmg_`]}))]},{value:Mp,path:f3,name:$3("consumed"),header:o(Se,n("conditional")),states:p(h(1,2),t=>({name:n("stack",{count:t}),fields:[{node:Tp}]}))}]},w3=new s(Se,g3,xp,_3),hn="HarbingerOfDawn",Rp=d.weapon.data[hn],[k3,Cp]=m(hn,"SkyPiercingMight"),v3=[-1,.14,.175,.21,.245,.28],Ip=c("on",Cp,a(e.weapon.refinement,v3)),y3=r(hn,Rp,{premod:{critRate_:Ip}}),P3={document:[{value:Cp,path:k3,header:o(hn,n("conditional")),name:n("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:Ip}]}}}]},S3=new s(hn,P3,Rp,y3),un="IronSting",jp=d.weapon.data[un],[b3,Fp]=m(un,"InfusionStinger"),Np=h(1,2),O3=[-1,.06,.075,.09,.105,.12],Wp=i($(Fp,p(Np,t=>w(t)),u),a(e.weapon.refinement,O3)),B3=r(un,jp,{premod:{all_dmg_:Wp}}),A3={document:[{value:Fp,path:b3,header:o(un,n("stacks")),name:n("hitOp.ele"),states:Object.fromEntries(Np.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Wp},{text:l("duration"),value:6,unit:"s"}]}]))}]},E3=new s(un,A3,jp,B3),be="KagotsurubeIsshin",Hp=d.weapon.data[be],[x3,Kp]=m(be,"passive"),Gp=c(Kp,"on",S(.15)),Lp=c(e.weapon.key,be,y(i(S(1.8),e.total.atk),"elemental",{hit:{ele:w("physical")}})),M3=r(be,Hp,{premod:{atk_:Gp}},{dmg:Lp}),D3={document:[{header:o(be,n("base")),fields:[{node:f(Lp,{name:n("dmg")})}]},{header:o(be,n("conditional")),value:Kp,path:x3,name:n("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:Gp},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},T3=new s(be,D3,Hp,M3),E="KeyOfKhajNisut",qp=d.weapon.data[E],R3=[-1,.0012,.0015,.0018,.0021,.0024],C3=[-1,.002,.0025,.003,.0035,.004],zp=b(1,3),I3=[-1,.2,.25,.3,.35,.4],Vp=c(e.weapon.key,E,a(e.weapon.refinement,I3,{unit:"%"})),[j3,En]=m(E,"afterSkill"),Aa=c(e.weapon.key,E,$(En,Object.fromEntries(zp.map(t=>[t,i(t,a(e.weapon.refinement,R3,{unit:"%",fixed:2}),e.total.hp)])),u)),Ea=c(e.weapon.key,E,c(En,"3",i(a(e.weapon.refinement,C3,{unit:"%",fixed:2}),e.total.hp))),F3=r(E,qp,{premod:{hp_:Vp},total:{eleMas:Aa},teamBuff:{total:{eleMas:Ea}}},{selfEleMas:Aa,teamEleMas:Ea}),N3={document:[{header:o(E,n("base")),fields:[{node:Vp}]},{header:o(E,n("stacks")),teamBuff:!0,path:j3,value:En,name:n("hitOp.skill"),states:Object.fromEntries(zp.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Aa},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(E,n("teamBuff")),canShow:c(En,"3",1),teamBuff:!0,fields:[{node:Ea},{text:l("duration"),value:20,unit:"s"}]}]},W3=new s(E,N3,qp,F3),Y="LightOfFoliarIncision",Up=d.weapon.data[Y],H3=[-1,.04,.05,.06,.07,.08],Jp=c(e.weapon.key,Y,a(e.weapon.refinement,H3)),[K3,Qp]=m(Y,"afterNormalEle"),G3=[-1,1.2,1.5,1.8,2.1,2.4],xn=c(e.weapon.key,Y,c(Qp,"on",i(a(e.weapon.refinement,G3,{unit:"%"}),e.total.eleMas))),xa={...xn},L3=r(Y,Up,{premod:{normal_dmgInc:xn,skill_dmgInc:xa,critRate_:Jp}},{normal_dmgInc:xn,skill_dmgInc:xa}),q3={document:[{header:o(Y,n("base")),fields:[{node:Jp}]},{header:o(Y,n("conditional")),path:K3,value:Qp,name:n("hitOp.normalEle"),states:{on:{fields:[{node:xn},{node:xa},{text:n("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},z3=new s(Y,q3,Up,L3),fn="LionsRoar",Xp=d.weapon.data[fn],[V3,Yp]=m(fn,"BaneOfFireAndThunder"),U3=[-1,.2,.24,.28,.32,.36],Zp=c("on",Yp,a(e.weapon.refinement,U3)),J3=r(fn,Xp,{premod:{all_dmg_:Zp}}),Q3={document:[{value:Yp,path:V3,header:o(fn,n("conditional")),name:n("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:Zp}]}}}]},X3=new s(fn,Q3,Xp,J3),Oe="MistsplitterReforged",e$=d.weapon.data[Oe],[,Y3]=g("weapon",Oe),t$=["1","2","3"],Z3=[-1,.12,.15,.18,.21,.24],eO={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[tO,n$]=m(Oe,"MistsplittersEmblem"),a$=Object.fromEntries(v.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,Z3,_.info(`${t}_dmg_`))])),o$=Object.fromEntries(v.map(t=>[`${t}_dmg_`,c(e.charEle,t,$(n$,p(t$,k=>a(e.weapon.refinement,eO[k])),u,_.info(`${t}_dmg_`)))])),nO=Object.fromEntries(v.map(t=>[`${t}_dmg_`,P(a$[`${t}_dmg_`],o$[`${t}_dmg_`])])),aO=r(Oe,e$,{premod:{...nO}}),oO={document:[{header:o(Oe,n("base")),fields:v.map(t=>({node:a$[`${t}_dmg_`]}))},{value:n$,path:tO,name:Y3("emblem"),teamBuff:!0,header:o(Oe,n("stacks")),states:Object.fromEntries(t$.map(t=>[t,{name:n("stack",{count:parseInt(t)}),fields:v.map(k=>({node:o$[`${k}_dmg_`]}))}]))}]},sO=new s(Oe,oO,e$,aO),_n="PrimordialJadeCutter",s$=d.weapon.data[_n],cO=[-1,.2,.25,.3,.35,.4],dO=[-1,.012,.015,.018,.021,.024],c$=a(e.weapon.refinement,cO),Ma=c(e.weapon.key,_n,i(a(e.weapon.refinement,dO,{unit:"%"}),e.premod.hp)),rO=r(_n,s$,{premod:{hp_:c$},total:{atk:Ma}},{atk:Ma}),iO={document:[{header:o(_n,n("base")),fields:[{node:c$},{node:Ma}]}]},mO=new s(_n,iO,s$,rO),gn="PrototypeRancour",d$=d.weapon.data[gn],[lO,Ro]=m(gn,"stack"),r$=[-1,.04,.05,.06,.07,.08],i$=$(Ro,p(h(1,4),t=>i(a(e.weapon.refinement,r$,{unit:"%"}),t)),u),m$=$(Ro,p(h(1,4),t=>i(a(e.weapon.refinement,r$,{unit:"%"}),t)),u),pO=r(gn,d$,{premod:{atk_:i$,def_:m$}}),$O={document:[{value:Ro,path:lO,header:o(gn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(h(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:i$},{node:m$},{text:l("duration"),value:6,unit:"s"}]}]))}]},hO=new s(gn,$O,d$,pO),wn="RoyalLongsword",l$=d.weapon.data[wn],[uO,p$]=m(wn,"stack"),fO=[-1,.08,.1,.12,.14,.16],$$=$(p$,p(h(1,5),t=>i(a(e.weapon.refinement,fO,{unit:"%"}),t)),u),_O=r(wn,l$,{premod:{critRate_:$$}}),gO={document:[{value:p$,path:uO,header:o(wn,n("stacks")),name:n("stacks"),states:Object.fromEntries(h(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:$$}]}]))}]},wO=new s(wn,gO,l$,_O),oa="SacrificialSword",h$=d.weapon.data[oa],kO=r(oa,h$),vO={document:[{header:o(oa),fields:[]}]},yO=new s(oa,vO,h$,kO),pt="SapwoodBlade",u$=d.weapon.data[pt],[,PO]=g("weapon",pt),[SO,f$]=m(pt,"passive"),bO=[-1,60,75,90,105,120],_$=c(f$,"on",a(e.weapon.refinement,bO)),OO=c(e.activeCharKey,A.charKey,_$),BO=r(pt,u$,{teamBuff:{premod:{eleMas:OO}}}),AO={document:[{value:f$,path:SO,teamBuff:!0,header:o(pt,n("conditional")),name:PO("condName"),states:{on:{fields:[{node:f(_$,_.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},EO=new s(pt,AO,u$,BO),Co="SilverSword",Io=d.weapon.data[Co],xO=r(Co,Io),MO={...Io,document:[]},DO=new s(Co,MO,Io,xO),kn="SkyriderSword",g$=d.weapon.data[kn],[TO,jo]=m(kn,"Determination"),w$=[-1,.12,.15,.18,.21,.24],k$=c(jo,"on",a(e.weapon.refinement,w$,{unit:"%"})),v$=c(jo,"on",a(e.weapon.refinement,w$,{unit:"%"})),RO=r(kn,g$,{premod:{atk_:k$,moveSPD_:v$}}),CO={document:[{value:jo,path:TO,header:o(kn,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:k$},{node:v$},{text:l("duration"),value:15,unit:"s"}]}}}]},IO=new s(kn,CO,g$,RO),Be="SkywardBlade",Fo=d.weapon.data[Be],[jO,sa]=m(Be,"SkyPiercingMight"),FO=[-1,.2,.25,.3,.35,.4],y$=c("on",sa,S(.1)),P$=c("on",sa,S(.1)),S$=c(e.weapon.key,Be,c("on",sa,y(i(a(e.weapon.refinement,FO,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}}))),b$=a(e.weapon.refinement,Fo.refinementBonus.critRate_),NO=r(Be,Fo,{premod:{critRate_:b$,moveSPD_:y$,atkSPD_:P$}},{dmg:S$}),WO={document:[{header:o(Be,n("base")),fields:[{node:b$}]},{value:sa,path:jO,header:o(Be,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:y$},{node:P$},{node:f(S$,{name:n("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},HO=new s(Be,WO,Fo,NO),j="SummitShaper",O$=d.weapon.data[j],[,KO]=g("weapon",j),[GO,B$]=m(j,"GoldenMajesty"),[LO,A$]=m(j,"WithShield"),qO=[-1,.2,.25,.3,.35,.4],zO=[-1,.04,.05,.06,.07,.08],E$=a(e.weapon.refinement,qO),VO=a(e.weapon.refinement,zO),x$=i(P(1,c(A$,"protected",1)),$(B$,Object.fromEntries(b(1,5).map(t=>[t,i(VO,t)])),u)),UO=r(j,O$,{premod:{shield_:E$,atk_:x$}}),JO={document:[{header:o(j,n("base")),fields:[{node:E$}]},{value:B$,path:GO,header:o(j,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(b(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:x$},{text:l("duration"),value:8,unit:"s"}]}]))},{value:A$,path:LO,header:o(j,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:KO("atkEffInc"),value:100,unit:"%"}]}}}]},QO=new s(j,JO,O$,UO),Ae="SplendorOfTranquilWaters",M$=d.weapon.data[Ae],XO=[-1,.08,.1,.12,.14,.16],YO=[-1,.14,.175,.21,.245,.28],[ZO,D$]=m(Ae,"selfHpChange"),T$=h(1,3),R$=$(D$,p(T$,t=>i(t,a(e.weapon.refinement,XO,{unit:"%"}))),u),[e6,C$]=m(Ae,"teamHpChange"),I$=h(1,2),j$=$(C$,p(I$,t=>i(t,a(e.weapon.refinement,YO,{unit:"%"}))),u),t6=r(Ae,M$,{premod:{hp_:j$,skill_dmg_:R$}}),n6={document:[{value:D$,path:ZO,header:o(Ae,n("stacks")),name:n("hpChange"),states:p(T$,t=>({name:n("times",{count:t}),fields:[{node:R$},{text:l("duration"),value:6,unit:"s"}]}))},{value:C$,path:e6,header:o(Ae,n("stacks")),name:n("otherHpChange"),states:p(I$,t=>({name:n("times",{count:t}),fields:[{node:j$},{text:l("duration"),value:6,unit:"s"}]}))}]},a6=new s(Ae,n6,M$,t6),vn="SwordOfDescension",F$=d.weapon.data[vn],N$=$(e.charKey,p(vh,t=>w(66)),u),W$=c(e.weapon.key,vn,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),o6=r(vn,F$,{premod:{atk:N$}},{dmg_:W$}),s6={document:[{header:o(vn,n("base")),fields:[{node:N$},{node:f(W$,{name:n("dmg")})}]}]},c6=new s(vn,s6,F$,o6),yn="SwordOfNarzissenkreuz",H$=d.weapon.data[yn],d6=[-1,1.6,2,2.4,2.8,3.2],K$=c(e.weapon.key,yn,y(i(a(e.weapon.refinement,d6,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),r6=r(yn,H$,void 0,{dmg:K$}),i6={document:[{header:o(yn,n("dmg")),fields:[{node:f(K$,{name:n("dmg")})}]}]},m6=new s(yn,i6,H$,r6),$t="TheAlleyFlash",G$=d.weapon.data[$t],[,l6]=g("weapon",$t),[p6,L$]=m($t,"ItinerantHero"),$6=[-1,.12,.15,.18,.21,.24],q$=c(L$,"on",a(e.weapon.refinement,$6,{unit:"%"})),h6=r($t,G$,{premod:{all_dmg_:q$}}),u6={document:[{value:L$,path:p6,header:o($t,n("conditional")),name:l6("condName"),states:{on:{fields:[{node:q$}]}}}]},f6=new s($t,u6,G$,h6),Pn="TheBlackSword",z$=d.weapon.data[Pn],V$=[-1,.2,.25,.3,.35,.4],_6=[-1,.6,.7,.8,.9,1],U$=a(e.weapon.refinement,V$),J$=a(e.weapon.refinement,V$),Q$=c(e.weapon.key,Pn,He(i(a(e.weapon.refinement,_6,{unit:"%"}),e.total.atk))),g6=r(Pn,z$,{premod:{normal_dmg_:U$,charged_dmg_:J$}},{heal:Q$}),w6={document:[{header:o(Pn,n("base")),fields:[{node:U$},{node:J$},{node:f(Q$,{name:l("healing"),variant:"heal"})}]}]},k6=new s(Pn,w6,z$,g6),ht="TheDockhandsAssistant",X$=d.weapon.data[ht],[,v6]=g("weapon",ht),y6=[-1,40,50,60,70,80],[P6,Y$]=m(ht,"symbolsConsumed"),Z$=h(1,3),eh=$(Y$,p(Z$,t=>i(t,a(e.weapon.refinement,y6,{unit:"%"}))),u),S6=r(ht,X$,{premod:{eleMas:eh}}),b6={document:[{value:Y$,path:P6,teamBuff:!0,header:o(ht,n("stacks")),name:v6("condName"),states:p(Z$,t=>({name:`${t}`,fields:[{node:eh},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},O6=new s(ht,b6,X$,S6),Sn="TheFlute",th=d.weapon.data[Sn],nh=c(e.weapon.key,Sn,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),B6=r(Sn,th,void 0,{dmg_:nh}),A6={document:[{header:o(Sn,n("base")),fields:[{node:f(nh,{name:n("dmg")})}]}]},E6=new s(Sn,A6,th,B6),Te="ToukabouShigure",ah=d.weapon.data[Te],[,x6]=g("weapon",Te),[M6,oh]=m(Te,"passive"),D6=[-1,.16,.2,.24,.28,.32],sh=c(e.weapon.key,Te,c(oh,"on",a(e.weapon.refinement,D6,{unit:"%"}))),T6=r(Te,ah,{premod:{all_dmg_:sh}}),R6={document:[{value:oh,path:M6,header:o(Te,n("stacks")),name:x6("condName"),states:{on:{fields:[{node:sh},{text:l("duration"),value:10,unit:"s"}]}}}]},C6=new s(Te,R6,ah,T6),bn="TravelersHandySword",ch=d.weapon.data[bn],I6=[-1,.01,.0125,.015,.0175,.02],dh=c(e.weapon.key,bn,He(i(a(e.weapon.refinement,I6,{unit:"%"}),e.total.hp))),j6=r(bn,ch,void 0,{heal:dh}),F6={document:[{header:o(bn,n("base")),fields:[{node:f(dh,{name:l("healing"),variant:"heal"})}]}]},N6=new s(bn,F6,ch,j6),z="WolfFang",rh=d.weapon.data[z],W6=[-1,.16,.2,.24,.28,.32],ih=[-1,.02,.025,.03,.035,.04],Mn=h(1,4),No=a(e.weapon.refinement,W6),mh={...No},[H6,lh]=m(z,"skillStacks"),ph=i(a(e.weapon.refinement,ih),$(lh,p(Mn,t=>w(t)),u)),[K6,$h]=m(z,"burstStacks"),hh=i(a(e.weapon.refinement,ih),$($h,p(Mn,t=>w(t)),u)),G6=r(z,rh,{premod:{skill_dmg_:No,burst_dmg_:mh,skill_critRate_:ph,burst_critRate_:hh}}),L6={document:[{header:o(z,n("base")),fields:[{node:No},{node:mh}]},{header:o(z,n("conditional")),value:lh,path:H6,name:n("hitOp.skill"),states:p(Mn,t=>({name:n("stack",{count:t}),fields:[{node:ph},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(z,n("conditional")),value:$h,path:K6,name:n("hitOp.burst"),states:p(Mn,t=>({name:n("stack",{count:t}),fields:[{node:hh},{text:l("duration"),value:10,unit:"s"}]}))}]},q6=new s(z,L6,rh,G6),Ee="XiphosMoonlight",uh=d.weapon.data[Ee],z6=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Dn=c(e.weapon.key,Ee,i(a(e.weapon.refinement,z6,{unit:"%",fixed:3}),e.premod.eleMas)),Wo=c(e.weapon.key,Ee,i(S(.3),Dn)),V6=M(e.activeCharKey,e.charKey,Wo),U6=r(Ee,uh,{total:{enerRech_:Dn},teamBuff:{total:{enerRech_:V6}}},{selfEnerRech_:Dn,teamEnerRech_disp:Wo}),J6={document:[{header:o(Ee,n("base")),fields:[{node:Dn}]},{header:o(Ee,n("teamBuff")),teamBuff:!0,fields:[{node:f(Wo,{..._.info("enerRech_"),isTeamBuff:!0})}]}]},Q6=new s(Ee,J6,uh,U6),X6={AmenomaKageuchi:tb,AquilaFavonia:cb,BlackcliffLongsword:lb,CinnabarSpindle:_b,CoolSteel:yb,DarkIronSword:Bb,DullBlade:xb,FavoniusSword:Tb,FesteringDesire:Fb,FilletBlade:Gb,FinaleOfTheDeep:Zb,FleuveCendreFerryman:s3,FreedomSworn:p3,HaranGeppakuFutsu:w3,HarbingerOfDawn:S3,IronSting:E3,KagotsurubeIsshin:T3,KeyOfKhajNisut:W3,LightOfFoliarIncision:z3,LionsRoar:X3,MistsplitterReforged:sO,PrimordialJadeCutter:mO,PrototypeRancour:hO,RoyalLongsword:wO,SacrificialSword:yO,SapwoodBlade:EO,SilverSword:DO,SkyriderSword:IO,SkywardBlade:HO,SplendorOfTranquilWaters:a6,SummitShaper:QO,SwordOfDescension:c6,SwordOfNarzissenkreuz:m6,TheAlleyFlash:f6,TheBlackSword:k6,TheDockhandsAssistant:O6,TheFlute:E6,ToukabouShigure:C6,TravelersHandySword:N6,WolfFang:q6,XiphosMoonlight:Q6},fh={...X6,...cS,...Y5,...m_,...b2},Y6=Object.fromEntries(yh.map(t=>[t,Uo(Object.values(fh).filter(k=>k.weaponType===t).map(k=>({display:k.data.display})))]));function a8(t){return fh[t]}export{s as W,a8 as g};
