import{b1 as z,b2 as W,b3 as H,b4 as T,d as p,b5 as D,b6 as _,b7 as Oe,j as S,b8 as Ue,b9 as j,T as $,ba as k,bb as E,bc as Ke,bd as X,be as Ve,r as qe,i as Ge,bf as Je,bg as U,ar as de,p as u,s as B,q as e,bh as K,aC as N,ai as L,bi as V,aV as pe,a3 as A,W as x,I as P,bj as ve,bk as ye,a0 as se,bl as q,bm as oe,u as Pe,m as Qe,n as Ze,bn as ue,bo as Ne,ak as Xe,bp as Ye,C as et,bq as tt,br as Le,a1 as Ae,a2 as Ie,V as C,w as G,a4 as ze,bs as at,aL as We,Z as He,bt as De,f as nt,bu as rt,E as st,x as ae,h as I,bv as ot,k as he,bw as _e,bx as it,by as je,bz as lt,bA as ct,bB as dt,bC as pt,bD as Q,bE as ut,bF as ht,bG as gt,bH as mt,bI as bt,bJ as ft,bK as xe,bL as vt,bM as yt,bN as xt,bO as Ct,bP as Tt,L as wt,bQ as St,F as Rt,A as $t,P as kt,D as Mt,bR as Pt,bS as Z,bT as Nt}from"./index-DFzzywcS.js";function Lt(t){return W("MuiInputAdornment",t)}const At=z("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),Ce=At;var Te;const It=["children","className","component","disablePointerEvents","disableTypography","position","variant"],zt=(t,a)=>{const{ownerState:r}=t;return[a.root,a[`position${k(r.position)}`],r.disablePointerEvents===!0&&a.disablePointerEvents,a[r.variant]]},Wt=t=>{const{classes:a,disablePointerEvents:r,hiddenLabel:n,position:i,size:o,variant:l}=t,h={root:["root",r&&"disablePointerEvents",i&&`position${k(i)}`,l,n&&"hiddenLabel",o&&`size${k(o)}`]};return E(h,Lt,a)},Ht=H("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:zt})(({theme:t,ownerState:a})=>T({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},a.variant==="filled"&&{[`&.${Ce.positionStart}&:not(.${Ce.hiddenLabel})`]:{marginTop:16}},a.position==="start"&&{marginRight:8},a.position==="end"&&{marginLeft:8},a.disablePointerEvents===!0&&{pointerEvents:"none"})),Dt=p.forwardRef(function(a,r){const n=D({props:a,name:"MuiInputAdornment"}),{children:i,className:o,component:l="div",disablePointerEvents:h=!1,disableTypography:m=!1,position:b,variant:f}=n,v=_(n,It),d=Oe()||{};let c=f;f&&d.variant,d&&!c&&(c=d.variant);const s=T({},n,{hiddenLabel:d.hiddenLabel,size:d.size,disablePointerEvents:h,position:b,variant:c}),y=Wt(s);return S.jsx(Ue.Provider,{value:null,children:S.jsx(Ht,T({as:l,ownerState:s,className:j(y.root,o),ref:r},v,{children:typeof i=="string"&&!m?S.jsx($,{color:"text.secondary",children:i}):S.jsxs(p.Fragment,{children:[b==="start"?Te||(Te=S.jsx("span",{className:"notranslate",children:"â€‹"})):null,i]})}))})}),ge=Dt,_t=p.createContext(),Ee=_t;function jt(t){return W("MuiTable",t)}z("MuiTable",["root","stickyHeader"]);const Et=["className","component","padding","size","stickyHeader"],Bt=t=>{const{classes:a,stickyHeader:r}=t;return E({root:["root",r&&"stickyHeader"]},jt,a)},Ft=H("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:r}=t;return[a.root,r.stickyHeader&&a.stickyHeader]}})(({theme:t,ownerState:a})=>T({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":T({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},a.stickyHeader&&{borderCollapse:"separate"})),we="table",Ot=p.forwardRef(function(a,r){const n=D({props:a,name:"MuiTable"}),{className:i,component:o=we,padding:l="normal",size:h="medium",stickyHeader:m=!1}=n,b=_(n,Et),f=T({},n,{component:o,padding:l,size:h,stickyHeader:m}),v=Bt(f),d=p.useMemo(()=>({padding:l,size:h,stickyHeader:m}),[l,h,m]);return S.jsx(Ee.Provider,{value:d,children:S.jsx(Ft,T({as:o,role:o===we?null:"table",ref:r,className:j(v.root,i),ownerState:f},b))})}),Y=Ot,Ut=p.createContext(),ne=Ut;function Kt(t){return W("MuiTableBody",t)}z("MuiTableBody",["root"]);const Vt=["className","component"],qt=t=>{const{classes:a}=t;return E({root:["root"]},Kt,a)},Gt=H("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,a)=>a.root})({display:"table-row-group"}),Jt={variant:"body"},Se="tbody",Qt=p.forwardRef(function(a,r){const n=D({props:a,name:"MuiTableBody"}),{className:i,component:o=Se}=n,l=_(n,Vt),h=T({},n,{component:o}),m=qt(h);return S.jsx(ne.Provider,{value:Jt,children:S.jsx(Gt,T({className:j(m.root,i),as:o,ref:r,role:o===Se?null:"rowgroup",ownerState:h},l))})}),ee=Qt;function Zt(t){return W("MuiTableCell",t)}const Xt=z("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Yt=Xt,ea=["align","className","component","padding","scope","size","sortDirection","variant"],ta=t=>{const{classes:a,variant:r,align:n,padding:i,size:o,stickyHeader:l}=t,h={root:["root",r,l&&"stickyHeader",n!=="inherit"&&`align${k(n)}`,i!=="normal"&&`padding${k(i)}`,`size${k(o)}`]};return E(h,Zt,a)},aa=H("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:r}=t;return[a.root,a[r.variant],a[`size${k(r.size)}`],r.padding!=="normal"&&a[`padding${k(r.padding)}`],r.align!=="inherit"&&a[`align${k(r.align)}`],r.stickyHeader&&a.stickyHeader]}})(({theme:t,ownerState:a})=>T({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Ke(X(t.palette.divider,1),.88):Ve(X(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},a.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},a.variant==="body"&&{color:(t.vars||t).palette.text.primary},a.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},a.size==="small"&&{padding:"6px 16px",[`&.${Yt.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},a.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},a.padding==="none"&&{padding:0},a.align==="left"&&{textAlign:"left"},a.align==="center"&&{textAlign:"center"},a.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},a.align==="justify"&&{textAlign:"justify"},a.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),na=p.forwardRef(function(a,r){const n=D({props:a,name:"MuiTableCell"}),{align:i="inherit",className:o,component:l,padding:h,scope:m,size:b,sortDirection:f,variant:v}=n,d=_(n,ea),c=p.useContext(Ee),s=p.useContext(ne),y=s&&s.variant==="head";let R;l?R=l:R=y?"th":"td";let M=m;R==="td"?M=void 0:!M&&y&&(M="col");const J=v||s&&s.variant,be=T({},n,{align:i,component:R,padding:h||(c&&c.padding?c.padding:"normal"),size:b||(c&&c.size?c.size:"medium"),sortDirection:f,stickyHeader:J==="head"&&c&&c.stickyHeader,variant:J}),Fe=ta(be);let fe=null;return f&&(fe=f==="asc"?"ascending":"descending"),S.jsx(aa,T({as:R,ref:r,className:j(Fe.root,o),"aria-sort":fe,scope:M,ownerState:be},d))}),g=na;function ra(t){return W("MuiTableHead",t)}z("MuiTableHead",["root"]);const sa=["className","component"],oa=t=>{const{classes:a}=t;return E({root:["root"]},ra,a)},ia=H("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,a)=>a.root})({display:"table-header-group"}),la={variant:"head"},Re="thead",ca=p.forwardRef(function(a,r){const n=D({props:a,name:"MuiTableHead"}),{className:i,component:o=Re}=n,l=_(n,sa),h=T({},n,{component:o}),m=oa(h);return S.jsx(ne.Provider,{value:la,children:S.jsx(ia,T({as:o,className:j(m.root,i),ref:r,role:o===Re?null:"rowgroup",ownerState:h},l))})}),te=ca;function da(t){return W("MuiTableRow",t)}const pa=z("MuiTableRow",["root","selected","hover","head","footer"]),$e=pa,ua=["className","component","hover","selected"],ha=t=>{const{classes:a,selected:r,hover:n,head:i,footer:o}=t;return E({root:["root",r&&"selected",n&&"hover",i&&"head",o&&"footer"]},da,a)},ga=H("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:r}=t;return[a.root,r.head&&a.head,r.footer&&a.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${$e.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${$e.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:X(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:X(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),ke="tr",ma=p.forwardRef(function(a,r){const n=D({props:a,name:"MuiTableRow"}),{className:i,component:o=ke,hover:l=!1,selected:h=!1}=n,m=_(n,ua),b=p.useContext(ne),f=T({},n,{component:o,hover:l,selected:h,head:b&&b.variant==="head",footer:b&&b.variant==="footer"}),v=ha(f);return S.jsx(ga,T({as:o,ref:r,className:j(v.root,i),role:o===ke?null:"row",ownerState:f},m))}),w=ma;var me={},ba=Ge;Object.defineProperty(me,"__esModule",{value:!0});var re=me.default=void 0,fa=ba(qe()),va=S,ya=(0,fa.default)((0,va.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");re=me.default=ya;const ie=[5,4,3];function xa(){const[t,a]=p.useState([...ie]),[r,n]=p.useState(""),i=p.useDeferredValue(r),o=q([...ie]),l=p.useMemo(()=>Je.filter(d=>{const{rarities:c}=oe(d);if(!t.includes(Math.max(...c)))return!1;const s=U.t(`artifactNames_gen:${d}`);return!(i&&!s.toLocaleLowerCase().includes(i.toLocaleLowerCase()))},[t]),[t,i]),h=p.useMemo(()=>l.filter(d=>!d.startsWith("Prayers")),[l]),m=p.useMemo(()=>l.filter(d=>d.startsWith("Prayers")),[l]),{numShow:b,setTriggerElement:f}=de(10,h.length),v=p.useMemo(()=>h.slice(0,b),[h,b]);return u(x,{children:[u(B,{sx:{display:"flex",gap:2},children:[e(V,{value:t,children:ie.map(d=>e(K,{value:d,onClick:()=>a(c=>o(c,d)),children:e(N,{color:`rarity${d}`,children:e(L,{sx:{verticalAlign:"text-top"}})})},d))}),e(pe,{fullWidth:!0,variant:"outlined",value:r,onChange:d=>n(d.target.value),InputProps:{startAdornment:e(ge,{position:"start",children:e(re,{})})}})]}),u(Y,{children:[e(te,{children:u(w,{children:[e(g,{children:"Set"}),e(g,{children:"Rarity"}),e(g,{children:"2-piece Bonus"}),e(g,{children:"4-piece Bonus"})]})}),u(ee,{children:[v.map(d=>{const{rarities:c}=oe(d);return e(p.Suspense,{fallback:e(w,{children:e(g,{colSpan:4,children:e(A,{sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})}),children:u(w,{children:[e(g,{children:u(x,{sx:{display:"flex",alignItems:"center"},children:[e(P,{size:4,src:ve(d)}),e(ye,{setKey:d})]})}),e(g,{children:e(x,{display:"flex",children:c.sort().reverse().map(s=>e(N,{color:`rarity${s}`,children:e(L,{})},s))})}),e(g,{children:e(se,{ns:`artifact_${d}_gen`,key18:"setEffects.2"})}),e(g,{children:e(se,{ns:`artifact_${d}_gen`,key18:"setEffects.4"})})]},d)})}),h.length!==v.length&&e(w,{children:e(g,{colSpan:4,children:e(A,{ref:d=>{d&&f(d)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})})]})]}),m.length!==0&&u(Y,{sx:{mt:2},children:[e(te,{children:u(w,{children:[e(g,{children:"Set"}),e(g,{children:"Rarity"}),e(g,{children:"1-piece Bonus"})]})}),e(ee,{children:m.map(d=>{const{rarities:c}=oe(d);return u(w,{children:[e(g,{children:u(x,{sx:{display:"flex",alignItems:"center"},children:[e(P,{size:4,src:ve(d)}),e(ye,{setKey:d})]})}),e(g,{children:e(x,{display:"flex",children:c.sort().reverse().map(s=>e(N,{color:`rarity${s}`,children:e(L,{})},s))})}),e(g,{width:"90%",children:e(se,{ns:`artifact_${d}_gen`,key18:"setEffects.1"})})]},d)})})]})]})}const F={xs:12,sm:6,md:4};function Ca({show:t,character:a,onClose:r}){const{t:n}=Pe("sheet_gen"),i=Qe(),o=Ze(i.breakpoints.up("lg")),{key:l,constellation:h,ascension:m}=a,{gender:b}=ue(),f=Ne(l,b),v=[["auto",n("talents.auto")],["skill",n("talents.skill")],["burst",n("talents.burst")]],d=[["passive1",n("unlockPassive1"),1],["passive2",n("unlockPassive2"),4],["passive3",n("unlockPassive3"),0]],c=p.useMemo(()=>Xe(1,Ye).map(s=>e(O,{characterKey:l,talentKey:`constellation${s}`,subtitle:n("constellationLvl",{level:s})})),[n,l]);return e(ze,{open:t,onClose:r,containerProps:{maxWidth:"xl"},children:u(G,{children:[e(et,{title:u(x,{children:[e(tt,{characterKey:l,sideMargin:!0}),e(x,{sx:{pl:1},component:"span",children:e(Le,{characterKey:l,gender:b})})]}),action:e(Ae,{onClick:r,children:e(Ie,{})})}),e(B,{children:u(C,{container:!0,spacing:1,children:[o&&e(C,{item:!0,xs:12,md:12,lg:3,sx:{display:"flex",flexDirection:"column",gap:1},children:c.map((s,y)=>e(x,{sx:{opacity:h>=y+1?1:.5},children:s},y))}),u(C,{item:!0,xs:12,md:12,lg:9,container:!0,spacing:1,children:[v.map(([s,y])=>e(C,{item:!0,...F,children:e(O,{characterKey:l,talentKey:s,subtitle:y})},s)),!!f.getTalentOfKey("sprint")&&e(C,{item:!0,...F,children:e(O,{characterKey:l,talentKey:"sprint",subtitle:n("talents.altSprint")})}),!!f.getTalentOfKey("passive")&&e(C,{item:!0,...F,children:e(O,{characterKey:l,talentKey:"passive",subtitle:"Passive"})}),d.map(([s,y,R])=>{const M=m>=R;return f.getTalentOfKey(s)?e(C,{item:!0,style:{opacity:M?1:.5},...F,children:e(O,{characterKey:l,talentKey:s,subtitle:y})},s):null})]}),!o&&e(C,{item:!0,xs:12,md:12,lg:3,container:!0,spacing:1,children:c.map((s,y)=>e(C,{item:!0,sx:{opacity:h>=y+1?1:.5},...F,children:s},y))})]})})]})})}function O({characterKey:t,talentKey:a,subtitle:r}){const{gender:n}=ue(),o=Ne(t,n).getTalentOfKey(a);return e(G,{bgt:"light",sx:{height:"100%"},children:u(B,{children:[u(C,{container:!0,sx:{flexWrap:"nowrap"},children:[e(C,{item:!0,children:e(x,{component:"img",src:o==null?void 0:o.img,sx:{width:60,height:"auto"}})}),u(C,{item:!0,flexGrow:1,sx:{pl:1},children:[e($,{variant:"h6",children:o==null?void 0:o.name}),e($,{variant:"subtitle1",children:r})]})]}),o!=null&&o.sections?e(at,{sections:o.sections,hideDesc:!0}):null]})})}const le=[5,4];function Ta(){const{silly:t}=p.useContext(We),[a,r]=p.useState([...le]),[n,i]=p.useState([...I]),o=q([...le]),l=q([...I]),[h,m]=p.useState(""),b=p.useDeferredValue(h),f=p.useMemo(()=>ot.filter(s=>{const{rarity:y,weaponType:R}=De(s);if(!a.includes(y)||!n.includes(R))return!1;const M=U.t(`charNames_gen:${s}`),J=t&&U.exists(`sillyWisher_charNames:${s}`)?U.t(`sillyWisher_charNames:${s}`):"";return!(b&&!M.toLocaleLowerCase().includes(b.toLocaleLowerCase())&&!J.toLocaleLowerCase().includes(b.toLocaleLowerCase()))},[a]),[a,b,t,n]),{numShow:v,setTriggerElement:d}=de(10,f.length),c=p.useMemo(()=>f.slice(0,v),[f,v]);return u(x,{children:[u(B,{sx:{display:"flex",gap:2},children:[e(V,{value:a,children:le.map(s=>e(K,{value:s,onClick:()=>r(y=>o(y,s)),children:e(N,{color:`rarity${s}`,children:e(L,{sx:{verticalAlign:"text-top"}})})},s))}),e(V,{value:n,children:I.map(s=>{var y;return e(K,{value:s,onClick:()=>i(R=>l(R,s)),children:e(P,{src:(y=ae.weaponTypes)==null?void 0:y[s],size:2})},s)})}),e(pe,{fullWidth:!0,variant:"outlined",value:h,onChange:s=>m(s.target.value),InputProps:{startAdornment:e(ge,{position:"start",children:e(re,{})})}})]}),u(Y,{children:[e(te,{children:u(w,{children:[e(g,{children:"Name"}),e(g,{children:"Rarity"}),e(g,{children:"Element"}),e(g,{children:"Type"})]})}),u(ee,{children:[c.map(s=>e(wa,{characterKey:s},s)),c.length!==f.length&&e(w,{children:e(g,{colSpan:5,children:e(A,{ref:s=>{s&&d(s)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})})]})]})]})}const wa=p.memo(function({characterKey:a}){var v;const{silly:r}=p.useContext(We),{gender:n}=ue(),[i,o,l]=He(),{rarity:h,weaponType:m}=De(a),b=nt(a),f=p.useMemo(()=>({key:a,level:90,ascension:6,constellation:6,talent:{auto:10,skill:10,burst:10}}),[a]);return u(p.Suspense,{fallback:e(w,{children:e(g,{colSpan:4,children:e(A,{sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})}),children:[e(Ca,{show:i,character:f,onClose:l}),u(w,{hover:!0,onClick:o,sx:{cursor:"pointer"},children:[e(g,{children:u(x,{sx:{display:"flex",alignItems:"center"},children:[e(P,{size:4,src:rt(a,n,r)}),e(Le,{characterKey:a,gender:n})]})}),e(g,{children:e(x,{display:"flex",children:e(N,{color:`rarity${h}`,children:e(L,{})})})}),e(g,{children:e(st,{ele:b,iconProps:{color:b}})}),e(g,{children:e(P,{src:(v=ae.weaponTypes)==null?void 0:v[m],size:3,sideMargin:!0})})]})]})});function Sa({show:t,weaponUIData:a,weapon:r,onClose:n}){const{key:i,level:o=0,refinement:l=1,ascension:h=0}=r,m=i&&he(i),b=i?_e(i,h>=2):"";return e(ze,{open:t,onClose:n,containerProps:{maxWidth:"md"},children:e(G,{children:e(B,{children:m&&a&&u(C,{container:!0,spacing:1.5,children:[e(C,{item:!0,xs:12,sm:3,children:u(C,{container:!0,spacing:1.5,children:[e(C,{item:!0,xs:6,sm:12,children:e(x,{sx:{position:"relative",display:"flex"},children:e(x,{component:"img",src:b,className:`grad-${m.rarity}star`,sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})})}),e(C,{item:!0,xs:6,sm:12,children:e($,{children:e("small",{children:i&&e(it,{weaponKey:i})})})})]})}),u(C,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[u(x,{display:"flex",gap:1,flexWrap:"wrap",children:[e($,{variant:"h5",children:e(je,{weaponKey:i})}),n&&e(Ae,{onClick:n,sx:{marginLeft:"auto"},children:e(Ie,{})})]}),u($,{children:["Lv. ",lt(o,h)," R",l]}),e(ct,{stars:m.rarity}),e($,{variant:"subtitle1",children:e("strong",{children:i&&e(dt,{weaponKey:i})})}),e($,{gutterBottom:!0,children:i&&e(pt,{weaponKey:i,refineIndex:(a.get(Q.weapon.refinement).value??1)-1})}),e(x,{display:"flex",flexDirection:"column",gap:1,children:e(G,{bgt:"light",children:e(ut,{bgt:"light",children:[Q.weapon.main,Q.weapon.sub,Q.weapon.sub2].map(f=>{const v=a.get(f);return v.isEmpty||!v.value?null:e(ht,{node:v,component:gt},JSON.stringify(v.info))})})})})]})]})})})})}const ce=[5,4,3,2,1];function Ra(){const[t,a]=p.useState([...ce]),[r,n]=p.useState([...I]),i=q([...ce]),o=q([...I]),[l,h]=p.useState(""),m=p.useDeferredValue(l),b=p.useMemo(()=>xt.filter(c=>{const{rarity:s,weaponType:y}=he(c);if(!t.includes(s)||!r.includes(y))return!1;const R=U.t(`weaponNames_gen:${c}`);return!(m&&!R.toLocaleLowerCase().includes(m.toLocaleLowerCase()))},[t]),[t,m,r]),{numShow:f,setTriggerElement:v}=de(10,b.length),d=p.useMemo(()=>b.slice(0,f),[b,f]);return u(x,{children:[u(B,{sx:{display:"flex",gap:2},children:[e(V,{value:t,children:ce.map(c=>e(K,{value:c,onClick:()=>a(s=>i(s,c)),children:e(N,{color:`rarity${c}`,children:e(L,{sx:{verticalAlign:"text-top"}})})},c))}),e(V,{value:r,children:I.map(c=>{var s;return e(K,{value:c,onClick:()=>n(y=>o(y,c)),children:e(P,{src:(s=ae.weaponTypes)==null?void 0:s[c],size:2})},c)})}),e(pe,{fullWidth:!0,variant:"outlined",value:l,onChange:c=>h(c.target.value),InputProps:{startAdornment:e(ge,{position:"start",children:e(re,{})})}})]}),u(Y,{children:[e(te,{children:u(w,{children:[e(g,{children:"Name"}),e(g,{children:"Type"}),e(g,{children:"Rarity"}),e(g,{children:"Main"}),e(g,{children:"Secondary"})]})}),u(ee,{children:[d.map(c=>e($a,{weaponKey:c},c)),b.length!==d.length&&e(w,{children:e(g,{colSpan:5,children:e(A,{ref:c=>{c&&v(c)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})})]})]})]})}const $a=p.memo(function({weaponKey:a}){var v;const[r,n,i]=He(),{rarity:o,weaponType:l}=he(a),h=p.useMemo(()=>({id:"invalid",ascension:o>2?6:4,key:a,level:o>2?90:70,refinement:1,location:"",lock:!1}),[o,a]),m=p.useMemo(()=>mt([bt(a).data,ft(h)]),[a,h]),b=m.get(xe.weapon.main),f=m.get(xe.weapon.sub);return u(p.Suspense,{fallback:e(w,{children:e(g,{colSpan:5,children:e(A,{sx:{borderRadius:1},variant:"rectangular",width:"100%",height:50})})}),children:[e(Sa,{show:r,weaponUIData:m,weapon:h,onClose:i}),u(w,{hover:!0,onClick:n,sx:{cursor:"pointer"},children:[e(g,{children:u(x,{sx:{display:"flex",alignItems:"center"},children:[e(P,{size:4,src:_e(a,!0)}),e(je,{weaponKey:a})]})}),e(g,{children:e(P,{src:(v=ae.weaponTypes)==null?void 0:v[l],size:3,sideMargin:!0})}),e(g,{children:e(x,{display:"flex",children:e(N,{color:`rarity${o}`,children:e(L,{})})})}),e(g,{children:e(Me,{node:b})}),e(g,{children:e(Me,{node:f})})]})]})});function Me({node:t}){const{name:a,icon:r}=vt(t.info);return Number.isNaN(t.value)?null:u(x,{sx:{display:"flex"},children:[u($,{flexGrow:1,children:[r," ",a]}),e($,{children:yt(t).valueString})]})}const ka={i18Key:"tabs.artifacts",icon:e(Rt,{}),value:"artifacts",to:"/artifacts"},Ma={i18Key:"tabs.weapons",icon:e($t,{}),value:"weapons",to:"/weapons"},Pa={i18Key:"tabs.characters",icon:e(kt,{}),value:"characters",to:"/characters"},Be=[ka,Ma,Pa],Na=Be.map(({value:t})=>t);function Aa(){const{t}=Pe("ui"),{params:{tab:a}}=Ct({path:"/archive/:tab",end:!1})??{params:{}},r=p.useMemo(()=>Na.find(i=>i===a)??"artifacts",[a]);return u(G,{children:[e(St,{variant:"fullWidth",value:r,sx:{"& .MuiTab-root:hover":{transition:"background-color 0.25s ease",backgroundColor:"rgba(255,255,255,0.1)"},"& .Mui-selected":{color:"white !important"},"& .MuiTabs-indicator":{height:"4px"}},children:Be.map(({i18Key:n,icon:i,value:o,to:l})=>e(Tt,{icon:i,iconPosition:"start",value:o,label:t(n),component:wt,to:`/archive${l}`},o))}),e(Mt,{}),e(p.Suspense,{fallback:e(A,{variant:"rectangular",width:"100%",height:1e3}),children:u(Pt,{children:[e(Z,{path:"artifacts",element:e(xa,{})}),e(Z,{path:"weapons",element:e(Ra,{})}),e(Z,{path:"characters",element:e(Ta,{})}),e(Z,{path:"*",element:e(Nt,{to:"artifacts"})})]})})]})}export{Aa as default};
