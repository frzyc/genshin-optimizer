"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[645],{29754:(e,t,n)=>{var a=n(95938);t.Z=void 0;var o=a(n(68671)),s=n(52322),l=(0,o.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=l},92252:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(6620),o=n(52322);const s=(0,a.Z)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},66615:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(6620),o=n(52322);const s=(0,a.Z)((0,o.jsx)("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"}),"BusinessCenter")},54278:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(6620),o=n(52322);const s=(0,a.Z)((0,o.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock")},40535:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(6620),o=n(52322);const s=(0,a.Z)((0,o.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen")},43007:(e,t,n)=>{n.d(t,{W:()=>v});var a=n(83512),o=n(85220),s=n(66615),l=n(79906),r=n(2784),i=n(21560),c=n(72888),d=n(25870),u=n(10002),h=n(36893),p=n(86482),Z=n(56748),m=n(52903);let g,f=e=>e;function v({location:e,setLocation:t,filter:n=(()=>!0),autoCompleteProps:v={}}){const{t:y}=(0,i.$G)(["ui","artifact","sillyWisher_charNames"]),{database:w}=(0,r.useContext)(d.t),{gender:x}=(0,u.Z)(),b=(0,r.useCallback)((e=>y(`sillyWisher_charNames:${(0,h.LP)(w.chars.LocationToCharacterKey(e),x)}`)),[w,x,y]),C=(0,r.useCallback)((e=>""===e?(0,m.tZ)(s.Z,{}):(0,m.tZ)(Z.Z,{src:(0,o.t)(w.chars.LocationToCharacterKey(e),x)||(0,a.Li)(w.chars.LocationToCharacterKey(e),"iconSide",x),sx:{pr:1}})),[w,x]),k=(0,r.useCallback)((e=>"Traveler"===e?h._0.some((e=>w.charMeta.get(e).favorite)):!!e&&w.charMeta.get(e).favorite),[w]),W=(0,r.useMemo)((()=>[{key:"",label:y(g||(g=f`artifact:filterLocation.inventory`))},...Array.from(new Set(w.chars.keys.filter((e=>!(0,c.m)(e,x)||n((0,c.m)(e,x)))).map((e=>(0,h.V7)(e))))).map((e=>({key:e,label:b(e),favorite:k(e)}))).sort(((e,t)=>e.favorite&&!t.favorite?-1:!e.favorite&&t.favorite?1:e.label.localeCompare(t.label)))]),[y,b,k,w,n,x]);return(0,m.tZ)(r.Suspense,{fallback:(0,m.tZ)(l.Z,{variant:"text",width:100}),children:(0,m.tZ)(p._,Object.assign({size:"small",options:W,valueKey:e,onChange:e=>t(null!=e?e:""),toImg:C},v))})}},37923:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(83512),o=n(85220),s=n(66615),l=n(62197),r=n(67550),i=n(2784),c=n(21560),d=n(72888),u=n(25870),h=n(10002),p=n(20353),Z=n(52903);function m({location:e}){const{t}=(0,c.$G)("ui"),{database:n}=(0,i.useContext)(u.t),{gender:m}=(0,h.Z)(),g=(0,i.useMemo)((()=>e?(0,d.m)(n.chars.LocationToCharacterKey(e),m):void 0),[e,m,n]);return(0,Z.tZ)(l.Z,{component:"span",children:e&&null!=g&&g.name?(0,Z.BX)(r.Z,{children:[(0,Z.tZ)(p.Z,{src:(0,o.t)(n.chars.LocationToCharacterKey(e),m)||(0,a.Li)(n.chars.LocationToCharacterKey(e),"iconSide",m),size:2,sideMargin:!0}),(0,Z.tZ)(r.Z,{sx:{pr:1},component:"span",children:g.name})]}):(0,Z.BX)("span",{children:[(0,Z.tZ)(s.Z,{sx:{verticalAlign:"text-bottom"}})," ",t("inventory")]})})}},20353:(e,t,n)=>{n.d(t,{Z:()=>a});const a=(0,n(65992).ZP)("img",{name:"ImgIcon",slot:"Root",shouldForwardProp:e=>!["size","sideMargin"].includes(e)})((({size:e=2,sideMargin:t=!1})=>({display:"inline-block",width:`${e}em`,height:`${e}em`,marginTop:.85*(1-e)+"em",marginBottom:.15*(1-e)+"em",marginLeft:t?void 0:.3*(1-e)+"em",marginRight:t?void 0:.3*(1-e)+"em",verticalAlign:"text-bottom"})))},29117:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(98283),o=n(47746),s=n(86432),l=n(92794),r=n(66198),i=n(79536),c=n(82799),d=n(10618),u=n(26578),h=n(29432),p=n(52903);const Z=["value","totals","onChange"],m=(0,d.X)([...c.yd]);function g(e){let{value:t,totals:n,onChange:d}=e,g=(0,a.Z)(e,Z);const f=(0,o.Z)(),v=!(0,s.Z)(f.breakpoints.up("sm"));return(0,p.tZ)(h.Z,Object.assign({exclusive:!0,value:t},g,{children:c.yd.map((e=>{var a;return(0,p.BX)(l.Z,{value:e,sx:{p:v?1:void 0,minWidth:v?0:"7em",display:"flex",gap:v?0:1},onClick:()=>d(m(t,e)),children:[(0,p.tZ)(u.Z,{src:null==(a=i.Z.weaponTypes)?void 0:a[e],size:2,sideMargin:!0}),(0,p.tZ)(r.Z,{label:n[e],size:"small"})]},e)}))}))}},61523:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var a=n(82799),o=n(92252),s=n(67550),l=n(7671),r=n(13780),i=n(5896),c=n(79906),d=n(83249),u=n(41075),h=n(62197),p=n(2784),Z=n(61877),m=n(21560),g=n(87985),f=n(54655),v=n(46026),y=n(62978),w=n(29117),x=n(15613),b=n(25870),C=n(36617),k=n(82716),W=n(1661),z=n(40775),S=n(41015),I=n(77712),T=n(64120),L=n(3694),M=n(52903);const B=p.lazy((()=>n.e(592).then(n.bind(n,89431)))),X=(0,p.lazy)((()=>n.e(878).then(n.bind(n,15878)))),P={xs:1,sm:2,md:3,lg:3,xl:4},j={xs:10,sm:12,md:24,lg:24,xl:24},V=Object.keys(I.gd);function _(){const{t:e}=(0,m.$G)(["page_weapon","ui","weaponNames_gen"]),{database:t}=(0,p.useContext)(b.t),[n,h]=(0,p.useState)(t.displayWeapon.get());(0,p.useEffect)((()=>t.displayWeapon.follow(((e,t)=>h(t)))),[t]);const[f,_]=(0,p.useState)(!1),[N,H]=(0,C.Z)(),K=(0,p.useRef)(null),[O,A]=(0,p.useState)(0);(0,p.useEffect)((()=>(Z.ZP.send({hitType:"pageview",page:"/weapon"}),t.weapons.followAny(((e,t)=>("new"===t||"remove"===t)&&H())))),[H,t]);const G=(0,k.Z)(),R=j[G],D=(0,p.useCallback)((async a=>{const o=t.weapons.get(a);if(!o)return;const s=e(`weaponNames_gen:${o.key}`);window.confirm(e("removeWeapon",{value:s}))&&(t.weapons.remove(a),n.editWeaponId===a&&t.displayWeapon.set({editWeaponId:""}))}),[n.editWeaponId,t,e]),F=(0,p.useCallback)((e=>{t.displayWeapon.set({editWeaponId:e})}),[t]),Y=(0,p.useCallback)((e=>{F(t.weapons.new((0,T.xg)(e)))}),[t,F]),[q,U]=(0,p.useState)(""),J=(0,p.useDeferredValue)(q),{sortType:Q,ascending:ee,weaponType:te,rarity:ne}=n,{weaponIdList:ae,totalWeaponNum:oe}=(0,p.useMemo)((()=>{var e;const n=t.weapons.values,a=n.length,o=n.filter((0,W.C)({weaponType:te,rarity:ne,name:J},(0,I.Xg)())).sort((0,W.e)(null!=(e=I.gd[Q])?e:[],ee,(0,I.Sn)())).map((e=>e.id));return N&&{weaponIdList:o,totalWeaponNum:a}}),[N,t,Q,ee,ne,te,J]),{weaponIdsToShow:se,numPages:le,currentPageIndex:re}=(0,p.useMemo)((()=>{const e=Math.ceil(ae.length/R),t=(0,S.uZ)(O,0,e-1);return{weaponIdsToShow:ae.slice(t*R,(t+1)*R),numPages:e,currentPageIndex:t}}),[ae,O,R]),ie=ae.length!==oe?`${ae.length}/${oe}`:`${oe}`,ce=(0,p.useCallback)(((e,t)=>{var n;null==(n=K.current)||n.scrollIntoView({behavior:"smooth"}),A(t-1)}),[A,K]),de=(0,p.useCallback)((()=>t.displayWeapon.set({editWeaponId:""})),[t]),{editWeaponId:ue}=n;(0,p.useEffect)((()=>{ue&&(t.weapons.get(ue)||de())}),[t,ue,de]);const he=(0,p.useMemo)((()=>(0,z.W)(a.yd,(e=>Object.entries(t.weapons.data).forEach((([t,n])=>{const a=(0,x.ub)(n.key).weaponType;e[a].total++,ae.includes(t)&&e[a].current++}))))),[t,ae]),pe=(0,p.useMemo)((()=>(0,z.W)(a.U1,(e=>Object.entries(t.weapons.data).forEach((([t,n])=>{const a=(0,x.ub)(n.key).rarity;e[a].total++,ae.includes(t)&&e[a].current++}))))),[t,ae]);return(0,M.BX)(s.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,M.tZ)(E,{}),(0,M.tZ)(p.Suspense,{fallback:!1,children:(0,M.tZ)(B,{show:f,onHide:()=>_(!1),onSelect:Y})}),(0,M.tZ)(p.Suspense,{fallback:!1,children:(0,M.tZ)(X,{weaponId:ue,footer:!0,onClose:de})}),(0,M.tZ)(g.Z,{ref:K,children:(0,M.BX)(l.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,M.BX)(s.Z,{display:"flex",flexWrap:"wrap",gap:1,alignItems:"stretch",children:[(0,M.tZ)(w.Z,{onChange:e=>t.displayWeapon.set({weaponType:e}),value:te,totals:he,size:"small"}),(0,M.tZ)(y.Z,{sx:{height:"100%"},onChange:e=>t.displayWeapon.set({rarity:e}),value:ne,totals:pe,size:"small"}),(0,M.tZ)(s.Z,{flexGrow:1}),(0,M.tZ)(r.Z,{autoFocus:!0,size:"small",value:q,onChange:e=>U(e.target.value),label:e("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})]}),(0,M.BX)(s.Z,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:[(0,M.tZ)(i.Z,{count:le,page:re+1,onChange:ce}),(0,M.tZ)($,{numShowing:se.length,total:ie,t:e}),(0,M.tZ)(v.Z,{sx:{height:"100%"},sortKeys:V,value:Q,onChange:e=>t.displayWeapon.set({sortType:e}),ascending:ee,onChangeAsc:e=>t.displayWeapon.set({ascending:e})})]})]})}),(0,M.BX)(p.Suspense,{fallback:(0,M.tZ)(c.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:500}}),children:[(0,M.tZ)(d.Z,{fullWidth:!0,onClick:()=>_(!0),color:"info",startIcon:(0,M.tZ)(o.Z,{}),children:e("page_weapon:addWeapon")}),(0,M.tZ)(u.ZP,{container:!0,spacing:1,columns:P,children:se.map((e=>(0,M.tZ)(u.ZP,{item:!0,xs:1,children:(0,M.tZ)(L.Z,{weaponId:e,onDelete:D,onEdit:F,canEquip:!0})},e)))})]}),le>1&&(0,M.tZ)(g.Z,{children:(0,M.tZ)(l.Z,{children:(0,M.BX)(u.ZP,{container:!0,alignItems:"flex-end",children:[(0,M.tZ)(u.ZP,{item:!0,flexGrow:1,children:(0,M.tZ)(i.Z,{count:le,page:re+1,onChange:ce})}),(0,M.tZ)(u.ZP,{item:!0,children:(0,M.tZ)($,{numShowing:se.length,total:ie,t:e})})]})})})]})}function $({numShowing:e,total:t,t:n}){return(0,M.tZ)(h.Z,{color:"text.secondary",children:(0,M.BX)(m.cC,{t:n,i18nKey:"showingNum",count:e,value:t,children:["Showing ",(0,M.tZ)("b",{children:{count:e}})," out of"," ",{value:t}," Weapons"]})})}function E(){const[e,t]=(0,p.useState)((()=>!!localStorage.getItem("clippy_add_weapon"))),n=()=>{localStorage.setItem("clippy_add_weapon","true"),setTimeout((()=>{t(!0)}),1e3)},[a,o]=(0,p.useState)(!1),{database:l}=(0,p.useContext)(b.t),[r]=(0,p.useState)((()=>{const e=l.weapons.values.map((({key:e})=>(0,x.ub)(e).rarity)).filter((e=>5===e)).length;return(0,S.F_)(["Rolling on a weapon banner is kinda cring, NGL.",...e<5?["Don't be a coward, roll on the weapon banner."]:[]])}));return(0,p.useEffect)((()=>{if(Math.random()>.1)return;const e=setTimeout((()=>o(!0)),1e4);return()=>clearTimeout(e)})),e?(0,M.tZ)(f.Z,{show:a,children:e=>(0,M.BX)(s.Z,{children:[(0,M.tZ)(h.Z,{children:r}),(0,M.BX)(s.Z,{display:"flex",justifyContent:"space-around",children:[(0,M.tZ)(d.Z,{onClick:e,size:"small",color:"success",children:"I agree"}),(0,M.tZ)(d.Z,{onClick:e,size:"small",color:"error",children:"Shut up"})]})]})},"shade"):(0,M.tZ)(f.Z,{show:!e,children:e=>(0,M.BX)(s.Z,{children:[(0,M.tZ)(h.Z,{children:"Looks like you are trying to add weapons to Genshin Optimizer."}),(0,M.tZ)(h.Z,{children:"Would you like help?"}),(0,M.BX)(s.Z,{display:"flex",justifyContent:"space-around",children:[(0,M.tZ)(d.Z,{onClick:()=>{e(),n()},size:"small",color:"success",href:"https://youtu.be/uRplRYl3T6I",target:"_blank",children:"Yes"}),(0,M.tZ)(d.Z,{onClick:()=>{e(),n()},size:"small",color:"error",children:"No"})]})]})},"helpful")}},94758:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(2784),o=n(25870);function s(e=""){const{database:t}=(0,a.useContext)(o.t),[n,s]=(0,a.useState)(t.weapons.get(e));return(0,a.useEffect)((()=>s(t.weapons.get(e))),[t,e]),(0,a.useEffect)((()=>e?t.weapons.follow(e,((e,t,n)=>"update"===t&&s(n))):void 0),[e,s,t]),n}},40775:(e,t,n)=>{n.d(t,{A:()=>o,W:()=>s});var a=n(41015);function o(e,t){const n=(0,a.xh)(e,(e=>l(e)));return t(n),(0,a.xh)(n,(e=>r(e)))}function s(e,t){const n=l(e);return t(n),r(n)}function l(e){return Object.fromEntries(e.map((e=>[e,{total:0,current:0}])))}function r(e){return(0,a.xh)(e,(({total:e,current:t})=>t===e?`${e}`:`${t}/${e}`))}}}]);