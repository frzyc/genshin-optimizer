"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[979],{76979:function(e,t,n){n.r(t),n.d(t,{default:function(){return De}});var r=n(39504),a=n(20890),s=n(94721),i=n(10757),o=n(22020),c=n(76899),l=n(3992),u=n(29439),d=n(30168),h=n(53174),f=n(74223),p=n(80184),x=(0,f.Z)((0,p.jsx)("path",{d:"M9 3 5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"}),"ImportExport"),g=(0,f.Z)((0,p.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload"),v=n(72456),m=(0,f.Z)((0,p.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),j=n(61889),Z=n(24518),y=n(81918),b=n(52791),w=n(72791),S=n(71310),_=n(10600),C=n(82095),k=n(9321),D=n(34369),O=n(23741),P=n(1413),M="Genshin Optimizer";var W=n(3608);function B(e){var t=new Map,n=e.entries.filter((function(e){return(0,u.Z)(e,1)[0].startsWith("artifact_")})).map((function(e,n){var r=(0,u.Z)(e,2),a=r[0],s=r[1];return t.set(a,n),JSON.parse(s)}));return{format:"GOOD",dbVersion:W.U,source:M,version:1,characters:e.entries.filter((function(e){return(0,u.Z)(e,1)[0].startsWith("char_")})).map((function(e){var t=(0,u.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),artifacts:n,weapons:e.entries.filter((function(e){return(0,u.Z)(e,1)[0].startsWith("weapon_")})).map((function(e){var t=(0,u.Z)(e,2),n=(t[0],t[1]);return JSON.parse(n)})),states:e.entries.filter((function(e){return(0,u.Z)(e,1)[0].startsWith("state_")})).map((function(e){var t=(0,u.Z)(e,2),n=t[0],r=t[1];return(0,P.Z)((0,P.Z)({},JSON.parse(r)),{},{key:n.split("state_")[1]})})),buildSettings:e.entries.filter((function(e){return(0,u.Z)(e,1)[0].startsWith("buildSetting_")})).map((function(e){var n=(0,u.Z)(e,2),r=n[0],a=n[1],s=(0,P.Z)((0,P.Z)({},JSON.parse(a)),{},{key:r.split("buildSetting_")[1]});return s.builds=s.builds.map((function(e){return e.map((function(e){return t.has(e)?"artifact_".concat(t.get(e)):""})).filter((function(e){return e}))})),s}))}}var I=n(24711),F=n(17278),K=n(60393),G=n(74165),T=n(15861),z=n(54483),E=n(66934),H=n(68870),V=n(45987),N=n(93433),J=n(37762);var R=n(45748),A=["key"],$=["key"];function L(e,t){if(1===e.version)return function(e,t){var n=function(e){var t=e.source,n=new O.NI,r={type:"GOOD",storage:n,source:t};if(e.artifacts){r.artifacts={total:0,invalid:[],new:[],updated:[],unchanged:[],removed:[]};var a=r.artifacts;a.total=e.artifacts.length,e.artifacts.forEach((function(e,t){(0,R.R$)(e)?n.set("artifact_".concat(t),e):a.invalid.push(e)}))}if(e.weapons){r.weapons={total:0,invalid:[],new:[],updated:[],unchanged:[],removed:[]};var s=r.weapons;s.total=e.weapons.length,e.weapons.forEach((function(e,t){var r=(0,R.S0)(e);return r?n.set("weapon_".concat(t),e):s.invalid.push(e),r?[r]:[]})),r.weapons=s}if(e.characters){r.characters={total:0,invalid:[],new:[],updated:[],unchanged:[],removed:[]};var i=r.characters;i.total=e.characters.length,e.characters.forEach((function(e){(0,R.J0)(e)||i.invalid.push(e),e.buildSettings&&(e.buildSettings.builds=[],e.buildSettings.buildDate=0),n.set("char_".concat(e.key),e)}))}if(t===M){var o=e,c=o.dbVersion,l=o.states,u=o.buildSettings;if(c<8)return;n.setDBVersion(c),l&&l.forEach((function(e){var t=e,r=t.key,a=(0,V.Z)(t,A);r&&n.set("state_".concat(r),a)})),u&&u.forEach((function(e){var t=e,r=t.key,a=(0,V.Z)(t,$);r&&n.set("buildSetting_".concat(r),a)}))}else n.setDBVersion(8);return r}(e);if(!n)return;return(0,W.T)(n.storage),function(e,t){var n=e.artifacts,r=e.weapons,a=e.characters,s=e.storage;if(n?function(){var e,r=s.entries.filter((function(e){return(0,u.Z)(e,1)[0].startsWith("artifact_")})).map((function(e){var t=(0,u.Z)(e,2),n=t[0],r=t[1];return[n,JSON.parse(r)]})),a=new Set(t.arts.values.map((function(e){return e.id}))),i=r.some((function(e){return e[1].location})),o=(0,J.Z)(r);try{for(o.s();!(e=o.n()).done;){var c,l=(0,u.Z)(e.value,2),d=l[0],h=l[1],f=t.arts.findDups(h),p=f.duplicated,x=f.upgraded;p=p.filter((function(e){return a.has(e.id)})),x=x.filter((function(e){return a.has(e.id)}));var g=null!==(c=p[0])&&void 0!==c?c:x[0];if(g){for(var v in a.delete(g.id),g)v in h||"location"===v||(h[v]=g[v]);i||(h.location=g.location)}p.length?n.unchanged.push(h):x.length?n.updated.push(h):n.new.push(h),s.set(d,h)}}catch(m){o.e(m)}finally{o.f()}n.removed=(0,N.Z)(a).map((function(e){return t.arts.get(e)}))}():t.arts.values.forEach((function(e,t){return s.set("artifact_".concat(t),e)})),r?function(){var e,n=s.entries.filter((function(e){return(0,u.Z)(e,1)[0].startsWith("weapon_")})).map((function(e){var t=(0,u.Z)(e,2),n=t[0],r=t[1];return[n,JSON.parse(r)]})),a=new Set(t.weapons.values.map((function(e){return e.id}))),i=n.some((function(e){return e[1].location})),o=(0,J.Z)(n);try{for(o.s();!(e=o.n()).done;){var c,l=(0,u.Z)(e.value,2),d=l[0],h=l[1],f=t.weapons.findDup(h),p=f.duplicated,x=f.upgraded;p=p.filter((function(e){return a.has(e.id)})),x=x.filter((function(e){return a.has(e.id)}));var g=null!==(c=p[0])&&void 0!==c?c:x[0];if(g){for(var v in a.delete(g.id),g)v in h||"location"===v||(h[v]=g[v]);i||(h.location=g.location)}p.length?r.unchanged.push(h):x.length?r.updated.push(h):r.new.push(h),s.set(d,h)}}catch(m){o.e(m)}finally{o.f()}r.removed=(0,N.Z)(a).map((function(e){return t.weapons.get(e)}))}():t.weapons.values.forEach((function(e,t){return s.set("weapon_".concat(t),e)})),a){var i=s.entries.filter((function(e){return(0,u.Z)(e,1)[0].startsWith("char_")})).map((function(e){var t=(0,u.Z)(e,2),n=t[0],r=t[1];return[n.slice(5),JSON.parse(r)]})),o=new Set(i.map((function(e){return(0,u.Z)(e,1)[0]}))),c=new Set(t.chars.keys);a.updated=[],a.new=[];var l,d=i.some((function(e){var t=(0,u.Z)(e,2);return t[0],t[1].team.some((function(e){return e}))})),h=(0,J.Z)(i);try{for(h.s();!(l=h.n()).done;){var f=(0,u.Z)(l.value,2),p=f[0],x=f[1],g=t.chars.get(p);if(g){for(var v in a.updated.push(x),g)v in x||(x[v]=g[v]);d||(x.team=g.team),s.set("char_".concat(p),x)}else a.new.push(x)}}catch(b){h.e(b)}finally{h.f()}a.removed=(0,N.Z)(c).filter((function(e){var t=(0,u.Z)(e,1)[0];return o.has(t)})).map((function(e){return t.chars.get(e)})),a.unchanged=[]}else t.chars.keys.forEach((function(e){return s.set("char_".concat(e),t.chars.get(e))}));var m,j=new Set(s.keys),Z=(0,J.Z)(t.storage.keys);try{for(Z.s();!(m=Z.n()).done;){var y=m.value;j.has(y)||y.startsWith("artifact_")||y.startsWith("weapon_")||y.startsWith("char_")||s.setString(y,t.storage.getString(y))}}catch(b){Z.e(b)}finally{Z.f()}}(n,t),n}(e,t)}var U={1:function(e){var t=[];for(var n in e)if(n in re){var r,a=(0,J.Z)(e[n]);try{for(a.s();!(r=a.n()).done;){var s=r.value,i=s.setName,o=s.star,c=s.level,l=s.position,u=s.mainTag,d={setKey:ae[i],rarity:o,level:c,slotKey:re[l],mainStatKey:se[u.name],substats:s.normalTags.map((function(e){var t=e.name,n=e.value,r=ie[t];return{key:r,value:null!==r&&void 0!==r&&r.endsWith("_")?Math.round(1e3*n)/10:n}}))};t.push(d)}}catch(h){a.e(h)}finally{a.f()}}return{artifacts:t}}};var Y,q,Q,X,ee,te,ne,re={flower:"flower",feather:"plume",sand:"sands",cup:"goblet",head:"circlet"},ae={adventurer:"Adventurer",archaicPetra:"ArchaicPetra",berserker:"Berserker",blizzardStrayer:"BlizzardStrayer",bloodstainedChivalry:"BloodstainedChivalry",braveHeart:"BraveHeart",crimsonWitch:"CrimsonWitchOfFlames",defenderWill:"DefendersWill",gambler:"Gambler",gladiatorFinale:"GladiatorsFinale",heartOfDepth:"HeartOfDepth",instructor:"Instructor",lavaWalker:"Lavawalker",luckyDog:"LuckyDog",maidenBeloved:"MaidenBeloved",martialArtist:"MartialArtist",noblesseOblige:"NoblesseOblige",prayersForDestiny:"PrayersForDestiny",prayersForIllumination:"PrayersForIllumination",prayersForWisdom:"PrayersForWisdom",prayersToSpringtime:"PrayersToSpringtime",resolutionOfSojourner:"ResolutionOfSojourner",retracingBolide:"RetracingBolide",scholar:"Scholar",exile:"TheExile",thunderingFury:"ThunderingFury",thunderSmoother:"Thundersoother",tinyMiracle:"TinyMiracle",travelingDoctor:"TravelingDoctor",viridescentVenerer:"ViridescentVenerer",wandererTroupe:"WanderersTroupe",tenacityOfTheMillelith:"TenacityOfTheMillelith",paleFlame:"PaleFlame",emblemOfSeveredFate:"EmblemOfSeveredFate",shimenawaReminiscence:"ShimenawasReminiscence",huskOfOpulentDreams:"HuskOfOpulentDreams",oceanHuedClam:"OceanHuedClam",EchoesOfAnOffering:"EchoesOfAnOffering",VermillionHereafter:"VermillionHereafter"},se={cureEffect:"heal_",lifeStatic:"hp",lifePercentage:"hp_",attackStatic:"atk",attackPercentage:"atk_",defendPercentage:"def_",critical:"critRate_",criticalDamage:"critDMG_",elementalMastery:"eleMas",recharge:"enerRech_",thunderBonus:"electro_dmg_",fireBonus:"pyro_dmg_",waterBonus:"hydro_dmg_",iceBonus:"cryo_dmg_",windBonus:"anemo_dmg_",rockBonus:"geo_dmg_",grassBonus:"dendro_dmg_",physicalBonus:"physical_dmg_"},ie={lifeStatic:"hp",lifePercentage:"hp_",attackStatic:"atk",attackPercentage:"atk_",defendStatic:"def",defendPercentage:"def_",critical:"critRate_",criticalDamage:"critDMG_",elementalMastery:"eleMas",recharge:"enerRech_"},oe=(0,E.ZP)("input")({display:"none"});function ce(e){var t,n=e.onReplace,s=(0,w.useContext)(D.t).database,i=(0,o.$)("settings").t,d=(0,w.useState)(""),f=(0,u.Z)(d,2),x=f[0],v=f[1],m=(0,w.useState)(""),y=(0,u.Z)(m,2),b=y[0],_=y[1],C=(0,w.useState)(""),k=(0,u.Z)(C,2),O=k[0],P=k[1],M=(0,w.useMemo)((function(){if(x){var e;try{if("object"!==typeof(e=JSON.parse(x)))return void P("uploadCard.error.jsonParse")}catch(r){return void P("uploadCard.error.jsonParse")}if("1"===e.version&&["flower","feather","sand","cup","head"].some((function(t){return Object.keys(e).includes(t)}))){var t=function(e,t){var n,r,a=null!==(n=e.version)&&void 0!==n?n:"1",s=null===(r=U[a])||void 0===r?void 0:r.call(U,e);if(s)return L({format:"GOOD",source:"mona-uranai",version:1,artifacts:s.artifacts},t)}(e,s);return t||void P("uploadCard.error.monaInvalid")}if("GOOD"===e.format){var n=L(e,s);return n||void P("uploadCard.error.goInvalid")}P("uploadCard.error.unknown")}}),[x,s]),W=function(){var e=(0,T.Z)((0,G.Z)().mark((function e(t){var n,r;return(0,G.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],t.target.value=null,n&&_(n.name),(r=new FileReader).onload=function(){return v(r.result)},r.readAsText(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)(S.Z,{children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsx)(c.c,{t:i,i18nKey:"settings:uploadCard.title"})}),(0,p.jsxs)(r.Z,{children:[(0,p.jsxs)(j.ZP,{container:!0,spacing:2,sx:{mb:1},children:[(0,p.jsx)(j.ZP,{item:!0,children:(0,p.jsxs)("label",{htmlFor:"icon-button-file",children:[(0,p.jsx)(oe,{accept:".json",id:"icon-button-file",type:"file",onChange:W}),(0,p.jsx)(Z.Z,{component:"span",startIcon:(0,p.jsx)(g,{}),children:"Upload"})]})}),(0,p.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,p.jsx)(l.Z,{sx:{px:2,py:1},children:(0,p.jsx)(a.Z,{children:b?(0,p.jsxs)("span",{children:[(0,p.jsx)(z.G,{icon:h.w49})," ",b]}):(0,p.jsxs)("span",{children:[(0,p.jsx)(z.G,{icon:h.acZ})," ",(0,p.jsx)(c.c,{t:i,i18nKey:"settings:uploadCard.hint"})]})})})})]}),(0,p.jsx)(a.Z,{gutterBottom:!0,variant:"caption",children:(0,p.jsx)(c.c,{t:i,i18nKey:"settings:uploadCard.hintPaste"})}),(0,p.jsx)(H.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",mb:2,resize:"vertical"},value:x,onChange:function(e){return v(e.target.value)}}),null!==(t=le(M))&&void 0!==t?t:i(O)]}),ue(M,(function(){v(""),_(""),n()}))]})}function le(e){if("GOOD"===(null===e||void 0===e?void 0:e.type))return(0,p.jsx)(de,{data:e})}function ue(e,t){if("GOOD"===(null===e||void 0===e?void 0:e.type))return(0,p.jsx)(fe,{data:e,reset:t})}function de(e){var t=e.data,n=t.source,i=t.artifacts,u=t.characters,d=t.weapons,h=(e.data,(0,o.$)("settings").t);return(0,p.jsxs)(l.Z,{children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:h,i18nKey:"uploadCard.dbSource"}),(0,p.jsxs)("strong",{children:[" ",n]})]})}),(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{children:(0,p.jsxs)(j.ZP,{container:!0,spacing:2,children:[(0,p.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,p.jsx)(he,{result:i,type:"arts"})}),(0,p.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,p.jsx)(he,{result:d,type:"weapons"})}),(0,p.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,p.jsx)(he,{result:u,type:"chars"})})]})})]})}function he(e){var t,n,i=e.result,l=e.type,u=(0,o.$)("settings").t;return i?(0,p.jsxs)(S.Z,{children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:u,i18nKey:"count.".concat(l)})," ",null!==(t=i.total)&&void 0!==t?t:0]})}),(0,p.jsx)(s.Z,{}),(0,p.jsxs)(r.Z,{children:[(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:u,i18nKey:"count.new"})," ",(0,p.jsx)("strong",{children:i.new.length})," / ",i.total]}),(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:u,i18nKey:"count.updated"})," ",(0,p.jsx)("strong",{children:i.updated.length})," / ",i.total]}),(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(c.c,{t:u,i18nKey:"count.unchanged"})," ",(0,p.jsx)("strong",{children:i.unchanged.length})," / ",i.total]}),(0,p.jsxs)(a.Z,{color:"warning.main",children:[(0,p.jsx)(c.c,{t:u,i18nKey:"count.removed"})," ",(0,p.jsx)("strong",{children:i.removed.length})]}),!(null===(n=i.invalid)||void 0===n||!n.length)&&(0,p.jsxs)("div",{children:[(0,p.jsxs)(a.Z,{color:"error.main",children:[(0,p.jsx)(c.c,{t:u,i18nKey:"count.invalid"})," ",(0,p.jsx)("strong",{children:i.invalid.length})," / ",i.total]}),(0,p.jsx)(H.Z,{component:"textarea",sx:{width:"100%",fontFamily:"monospace",minHeight:"10em",resize:"vertical"},value:JSON.stringify(i.invalid,void 0,2),disabled:!0})]})]})]}):null}function fe(e){var t,n,a,i=e.data.storage,l=e.data,u=e.reset,d=(0,w.useContext)(D.t),f=d.database,x=d.setDatabase,g=(0,o.$)("settings").t,v=(null===(t=l.characters)||void 0===t?void 0:t.total)||(null===(n=l.artifacts)||void 0===n?void 0:n.total)||(null===(a=l.weapons)||void 0===a?void 0:a.total);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsx)(Z.Z,{color:v?"success":"error",disabled:!v,onClick:function(){f.clear(),f.storage.copyFrom(i),x(new D.M(f.storage)),u()},startIcon:(0,p.jsx)(z.G,{icon:h.Y9i}),children:(0,p.jsx)(c.c,{t:g,i18nKey:"settings:uploadCard.replaceDatabase"})})})]})}function pe(){var e=(0,w.useContext)(D.t),t=parseInt(e.database.storage.getString("dbIndex")||"1"),n=(0,o.$)(["settings"]).t;return(0,p.jsxs)(S.Z,{children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsx)(a.Z,{variant:"subtitle1",children:n(Y||(Y=(0,d.Z)(["DatabaseCard.title"])))})}),(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:(0,p.jsx)(j.ZP,{container:!0,spacing:2,columns:{xs:1,md:2},children:(0,K.w6)(1,4).map((function(n){return(0,p.jsx)(j.ZP,{item:!0,xs:1,children:n===t?(0,p.jsx)(ge,{index:n}):(0,p.jsx)(xe,{index:n,children:(0,p.jsx)(ge,{index:n,databaseContextObj:e})})},n)}))})})]})}function xe(e){var t=e.index,n=e.children,r=(0,w.useState)((function(){var e,n="extraDatabase_".concat(t),r=new O.Bc(n),a=JSON.parse(null!==(e=localStorage.getItem(n))&&void 0!==e?e:'{ "dbIndex": "'.concat(t,'" }'));r.setStorage(a),r.removeForKeys((function(e){return e.startsWith("extraDatabase_")}));var s=new D.M(r);return r.saveStorage(),s})),a=(0,u.Z)(r,2),s=a[0],i=a[1];return(0,p.jsx)(D.t.Provider,{value:{database:s,setDatabase:i},children:n})}function ge(e){var t=e.index,n=e.databaseContextObj,i=(0,w.useContext)(D.t),f=i.database,S=i.setDatabase,P=(0,F.Z)("dbMeta",(0,F.t)(t)),M=(0,u.Z)(P,2),W=M[0],K=W.name,G=W.lastEdit,T=M[1],z=!n,E=(0,I.Z)(),H=(0,u.Z)(E,3),V=H[0],N=H[1],J=H[2],R=(0,o.$)(["settings"]).t,A=f.chars.keys.length,$=f.arts.values.length,L=f.weapons.values.length,U=Boolean(A||$||L),Y=(0,w.useCallback)((function(){return navigator.clipboard.writeText(JSON.stringify(B(f.storage))).then((function(){return alert("Copied database to clipboard.")})).catch(console.error)}),[f]),re=(0,w.useCallback)((function(){(J(),z)||f.storage.saveStorage()}),[J,z,f.storage]),ae=(0,w.useCallback)((function(){if(window.confirm('Are you sure you want to delete "'.concat(K,'"?')))if(z)f.clear(),S(new D.M(f.storage));else{var e=f.storage.databaseName,t=new O.Bc(e);t.setStorage({}),S(new D.M(t)),localStorage.removeItem(e)}}),[f,z,K,S]),se=(0,w.useCallback)((function(){var e=(new Date).toISOString().split(".")[0].replace("T","_").replaceAll(":","-"),t=JSON.stringify(B(f.storage)),n="".concat(K.trim().replaceAll(" ","_"),"_").concat(e,".json"),r=document.createElement("a");r.download=n,r.href="data:".concat("application/json;charset=utf-8",",").concat(encodeURIComponent(t)),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}),[f,K]),ie=(0,w.useCallback)((function(){if(n){var e=parseInt(n.database.storage.getString("dbIndex")||"1"),r=new O.Bc("extraDatabase_".concat(e),n.database.storage);r.removeForKeys((function(e){return e.startsWith("extraDatabase_")})),r.saveStorage();var a=f.storage.databaseName;localStorage.removeItem(a),n.database.clear(),n.database.storage.copyFrom(f.storage),n.database.storage.set("dbIndex",t),n.setDatabase(new D.M(n.database.storage))}}),[n,f,t]),oe=(0,w.useState)(K),le=(0,u.Z)(oe,2),ue=le[0],de=le[1];(0,w.useEffect)((function(){return de(K)}),[K]);var he=(0,w.useCallback)((function(){T({name:ue}),z||f.storage.saveStorage()}),[T,ue,f,z]),fe=(0,w.useCallback)((function(e){return"Enter"===e.key&&he()}),[he]);return(0,p.jsxs)(l.Z,{sx:{height:"100%",boxShadow:z?"0px 0px 0px 2px green inset":void 0},children:[(0,p.jsxs)(r.Z,{sx:{display:"flex",gap:1,justifyContent:"space-between"},children:[(0,p.jsx)(_.el,{value:ue,sx:{borderRadius:1,px:1,flexGrow:1},onChange:function(e){return de(e.target.value)},onBlur:he,onKeyDown:fe}),!z&&(0,p.jsx)(Z.Z,{startIcon:(0,p.jsx)(x,{}),onClick:ie,color:"warning",children:R(q||(q=(0,d.Z)(["DatabaseCard.button.swap"])))}),(0,p.jsx)(y.Z,{color:z?"success":"secondary",label:z?R(Q||(Q=(0,d.Z)(["DatabaseCard.currentDB"]))):"".concat(R(X||(X=(0,d.Z)(["DatabaseCard.title"])))," ").concat(t)})]}),(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{children:(0,p.jsxs)(b.Z,{display:"flex",gap:2,children:[(0,p.jsxs)(b.Z,{flexGrow:1,children:[(0,p.jsxs)(a.Z,{noWrap:!0,children:[(0,p.jsx)(c.c,{t:R,i18nKey:"count.chars"})," ",(0,p.jsx)("strong",{children:A})]}),(0,p.jsxs)(a.Z,{noWrap:!0,children:[(0,p.jsx)(c.c,{t:R,i18nKey:"count.arts"})," ",(0,p.jsx)("strong",{children:$})]}),(0,p.jsxs)(a.Z,{noWrap:!0,children:[(0,p.jsx)(c.c,{t:R,i18nKey:"count.weapons"})," ",(0,p.jsx)("strong",{children:L})]}),!!G&&(0,p.jsx)(a.Z,{noWrap:!0,children:(0,p.jsx)("strong",{children:new Date(G).toLocaleString()})})]}),(0,p.jsx)(b.Z,{children:(0,p.jsxs)(j.ZP,{container:!0,spacing:1,columns:{xs:2},children:[(0,p.jsx)(j.ZP,{item:!0,xs:1,children:(0,p.jsx)(Z.Z,{fullWidth:!0,disabled:!U,color:"info",onClick:Y,startIcon:(0,p.jsx)(C.Z,{icon:h.Yjj}),children:(0,p.jsx)(c.c,{t:R,i18nKey:"DatabaseCard.button.copy"})})}),(0,p.jsxs)(j.ZP,{item:!0,xs:1,children:[(0,p.jsx)(k.Z,{open:V,onClose:J,children:(0,p.jsx)(ce,{onReplace:re})}),(0,p.jsx)(Z.Z,{fullWidth:!0,component:"span",color:"info",startIcon:(0,p.jsx)(g,{}),onClick:N,children:R(ee||(ee=(0,d.Z)(["DatabaseCard.button.upload"])))})]}),(0,p.jsx)(j.ZP,{item:!0,xs:1,children:(0,p.jsx)(Z.Z,{fullWidth:!0,disabled:!U,onClick:se,startIcon:(0,p.jsx)(v.Z,{}),children:R(te||(te=(0,d.Z)(["DatabaseCard.button.download"])))})}),(0,p.jsx)(j.ZP,{item:!0,xs:1,children:(0,p.jsx)(Z.Z,{fullWidth:!0,disabled:!U,color:"error",onClick:ae,startIcon:(0,p.jsx)(m,{}),children:R(ne||(ne=(0,d.Z)(["DatabaseCard.button.delete"])))})})]})})]})})]})}var ve=n(23786),me=n(33890),je=n(25617),Ze=n(72828);function ye(){var e=(0,o.$)().t;return(0,p.jsxs)(S.Z,{children:[(0,p.jsxs)(r.Z,{sx:{py:1},children:[e("settings:languageCard.selectLanguage")," ",(0,p.jsx)(je.Z,{color:"warning",children:e("ui:underConstruction")})]}),(0,p.jsx)(s.Z,{}),(0,p.jsx)(r.Z,{children:(0,p.jsx)(we,{})})]})}var be={chs:"\u4e2d\u6587 \u6b63\u4f53\u5b57",cht:"\u4e2d\u6587 \u7e41\u9ad4\u5b57",de:"Deutsch",en:"English",es:"espa\xf1ol",fr:"fran\xe7ais",id:"Bahasa Indonesia",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uad6d\uc5b4",pt:"Portugu\xeas",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",vi:"Ti\u1ebfng Vi\u1ec7t"};function we(){var e=(0,o.$)(["ui","settings"]),t=e.t,n=e.i18n,r=function(e){return function(){return n.changeLanguage(e)}},a=n.languages[0];return(0,p.jsx)(me.Z,{fullWidth:!0,title:t("settings:languageCard.languageFormat",{language:t("languages:".concat(a))}),children:Ze.C.map((function(e){return(0,p.jsxs)(ve.Z,{selected:a===e,disabled:a===e,onClick:r(e),children:[(0,p.jsx)(c.c,{i18nKey:"languages:".concat(e)}),e!==a?" (".concat(be[e],")"):""]},e)}))})}var Se=n(72247),_e=n(9912),Ce=n(12759);function ke(){var e=(0,F.Z)("GlobalSettings",Ce.c),t=(0,u.Z)(e,2),n=t[0].tcMode,s=t[1];return(0,p.jsx)(S.Z,{children:(0,p.jsxs)(r.Z,{children:[(0,p.jsx)(a.Z,{gutterBottom:!0,color:"warning.main",children:"Enabling this toggle will show some features that might be too complex for the average user."}),(0,p.jsx)(Z.Z,{fullWidth:!0,onClick:function(){return s({tcMode:!n})},color:n?"success":"primary",startIcon:n?(0,p.jsx)(Se.Z,{}):(0,p.jsx)(_e.Z,{}),children:"Theorycrafting Mode"})]})})}function De(){var e=(0,o.$)(["settings"]).t;return i.ZP.send({hitType:"pageview",page:"/setting"}),(0,p.jsxs)(l.Z,{sx:{my:1},children:[(0,p.jsx)(r.Z,{sx:{py:1},children:(0,p.jsx)(a.Z,{variant:"subtitle1",children:(0,p.jsx)(c.c,{t:e,i18nKey:"title"})})}),(0,p.jsx)(s.Z,{}),(0,p.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,p.jsx)(ye,{}),(0,p.jsx)(pe,{}),(0,p.jsx)(ke,{})]})]})}},12759:function(e,t,n){n.d(t,{B:function(){return i},c:function(){return s}});var r=n(93433),a=n(50765);function s(){return{tcMode:!1}}function i(){return{rvFilter:(0,r.Z)(a._),favorite:!1}}},72247:function(e,t,n){var r=n(74223),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},9912:function(e,t,n){var r=n(74223),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")},72456:function(e,t,n){var r=n(74223),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")}}]);
//# sourceMappingURL=979.17761f9b.chunk.js.map