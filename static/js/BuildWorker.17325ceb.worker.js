!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/genshin-optimizer/",n(n.s=3)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(j){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new S(r||[]);return a._invoke=function(t,e,n){var r=m;return function(i,a){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw a;return G()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var o=O(u,n);if(o){if(o===y)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===m)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=_(t,e,n);if("normal"===c.type){if(r=n.done?d:s,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(t,n,u),a}function _(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=l;var m="suspendedStart",s="suspendedYield",f="executing",d="completed",y={};function h(){}function g(){}function p(){}var v={};v[a]=function(){return this};var b=Object.getPrototypeOf,k=b&&b(b(P([])));k&&k!==n&&r.call(k,a)&&(v=k);var E=p.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(i,a,u,o){var c=_(t[i],t,a);if("throw"!==c.type){var l=c.arg,m=l.value;return m&&"object"===typeof m&&r.call(m,"__await")?e.resolve(m.__await).then((function(t){n("next",t,u,o)}),(function(t){n("throw",t,u,o)})):e.resolve(m).then((function(t){l.value=t,u(l)}),(function(t){return n("throw",t,u,o)}))}o(c.arg)}var i;this._invoke=function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=_(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function P(t){if(t){var n=t[a];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,u=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return u.next=u}}return{next:G}}function G(){return{value:e,done:!0}}return g.prototype=E.constructor=p,p.constructor=g,g.displayName=c(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,o,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},w(M.prototype),M.prototype[u]=function(){return this},t.AsyncIterator=M,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var u=new M(l(e,n,r,i),a);return t.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},w(E),c(E,o,"Generator"),E[a]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return o.type="throw",o.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],o=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var c=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(c&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(t,e){$RefreshReg$=function(){},$RefreshSig$=function(){return function(){}}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(r=(u=o.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e);var l=n(0),_=n.n(l);function m(t,e,n,r,i,a,u){try{var o=t[a](u),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(r,i)}n(2);var s=function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this instanceof t)throw Error("A static class cannot be instantiated.")};function f(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}s.setToSlots=function(t){var e={};return Object.entries(t).forEach((function(t){var n=c(t,2),r=n[0],i=n[1];i&&(e[i.setKey]?e[i.setKey].push(r):e[i.setKey]=[r])})),e};var d={anemo:{name:"Anemo"},geo:{name:"Geo"},electro:{name:"Electro"},hydro:{name:"Hydro"},pyro:{name:"Pyro"},cryo:{name:"Cryo"}};var y=function(t,e,n){return t<e?e:t>n?n:t};var h={hp_base:{name:"HP",pretty:"HP Base"},hp:{name:"HP",pretty:"HP Flat"},hp_:{name:"HP",unit:"%",pretty:"HP Percent"},hp_final:{name:"HP",pretty:"HP Final"},atk_base:{name:"ATK",pretty:"ATK Base"},atk:{name:"ATK",pretty:"ATK Flat"},atk_:{name:"ATK",unit:"%",pretty:"ATK Percent"},atk_final:{name:"ATK",pretty:"ATK Final"},atk_weapon:{name:"Weapon ATK",pretty:"ATK Weapon"},def_base:{name:"DEF",pretty:"DEF Base"},def:{name:"DEF",pretty:"DEF Flat"},def_:{name:"DEF",unit:"%",pretty:"DEF Percent"},def_final:{name:"DEF",pretty:"DEF Final"},phy_dmg_bonus:{name:"Physical DMG Bonus",unit:"%"},phy_res:{name:"Physical RES",unit:"%"},ele_dmg_bonus:{name:"DMG Bonus",unit:"%"},ele_res:{name:"DMG RES",unit:"%"},ele_mas:{name:"Elemental Mastery"},ener_rech:{name:"Energy Recharge",unit:"%"},crit_rate:{name:"CRIT Rate",unit:"%"},crit_dmg:{name:"CRIT DMG",unit:"%"},heal_bonu:{name:"Healing Bonus",unit:"%"},stam:{name:"Stamina"},inc_heal:{name:"Incoming Healing Bonus",unit:"%"},pow_shield:{name:"Powerful Shield",unit:"%"},red_cd:{name:"Reduce CD",unit:"%"},norm_atk_dmg:{name:"Normal Attack DMG"},char_atk_dmg:{name:"Charged Attack DMG"},plunge_dmg:{name:"Plunging Attack DMG"},norm_atk_crit_dmg:{name:"Normal Attack CRIT Hit DMG"},char_atk_crit_dmg:{name:"Charged Attack CRIT Hit DMG"},plunge_crit_dmg:{name:"Plunging Attack CRIT Hit DMG"},norm_atk_avg_dmg:{name:"Normal Attack Avg. DMG"},char_atk_avg_dmg:{name:"Charged Attack Avg. DMG"},plunge_avg_dmg:{name:"Plunging Attack Avg. DMG"},norm_atk_dmg_bonus:{name:"Normal Attack DMG Bonus",unit:"%"},char_atk_dmg_bonus:{name:"Charged Attack DMG Bonus",unit:"%"},norm_atk_crit_rate:{name:"Nomral Attack CRIT Rate",unit:"%"},char_atk_crit_rate:{name:"Charged Attack CRIT Rate",unit:"%"},norm_atk_crit_multi:{name:"Normal Attack Crit Multiplier",unit:"multi"},char_atk_crit_multi:{name:"Charged Attack Crit Multiplier",unit:"multi"},norm_atk_bonus_multi:{name:"Normal Attack Bonus DMG Multiplier",unit:"multi"},char_atk_bonus_multi:{name:"Charged Attack Bonus DMG Multiplier",unit:"multi"},plunge_bonus_multi:{name:"Plunging Attack Bonus DMG Multiplier",unit:"multi"},skill_dmg:{name:"Ele. Skill DMG"},burst_dmg:{name:"Ele. Burst DMG"},skill_crit_dmg:{name:"Ele. Skill CRIT Hit DMG"},burst_crit_dmg:{name:"Ele. Burst CRIT Hit DMG"},skill_avg_dmg:{name:"Ele. Skill Avg. DMG"},burst_avg_dmg:{name:"Ele. Burst Avg. DMG"},skill_dmg_bonus:{name:"Ele. Skill DMG Bonus",unit:"%"},burst_dmg_bonus:{name:"Ele. Burst DMG Bonus",unit:"%"},skill_crit_rate:{name:"Ele. Skill CRIT Rate",unit:"%"},burst_crit_rate:{name:"Ele. Burst CRIT Rate",unit:"%"},skill_crit_multi:{name:"Ele. Skill Crit Multiplier",unit:"multi"},burst_crit_multi:{name:"Ele. Burst Crit Multiplier",unit:"multi"},skill_bonus_multi:{name:"Ele. Skill Bonus DMG Multiplier",unit:"multi"},burst_bonus_multi:{name:"Ele. Burst Bonus DMG Multiplier",unit:"multi"},skill_cd_red:{name:"Ele. Skill CD Red.",unit:"%"},burst_cd_red:{name:"Ele. Burst CD Red.",unit:"%"},phy_dmg:{name:"Physical Attack DMG"},phy_crit_dmg:{name:"Physical Attack CRIT Hit DMG"},phy_avg_dmg:{name:"Physical Attack Avg. DMG"},phy_bonus_multi:{name:"Physical Attack Bonus DMG Multiplier",unit:"multi"},ele_dmg:{name:"Elemental Attack DMG"},ele_crit_dmg:{name:"Elemental Attack CRIT Hit DMG"},ele_avg_dmg:{name:"Elemental Attack Avg. DMG"},ele_bonus_multi:{name:"Elemental Attack Bonus DMG Multiplier",unit:"multi"},crit_dmg_multi:{name:"Crit Hit Multiplier",unit:"multi"},crit_multi:{name:"Crit Multiplier",unit:"multi"},all_dmg_bonus:{name:"All DMG Bonus",unit:"%"},move_spd:{name:"Movement SPD",unit:"%"},atk_spd:{name:"ATK SPD",unit:"%"},weakspot_dmg:{name:"Weakspot DMG",unit:"%"},stamina_dec:{name:"Stamina Consumption Dec.",unit:"%"},stamina_gliding_dec:{name:"Gliding Stamina Consumption Dec.",unit:"%"},stamina_charged_dec:{name:"Charged Attack Stamina Consumption Dec.",unit:"%"},melt_dmg_bonus:{name:"Melt DMG Bonus",unit:"%",variant:"melt"},vaporize_dmg_bonus:{name:"Vaporize DMG Bonus",unit:"%",variant:"vaporize"},ele_mas_multi_x:{name:"Elementry Mastry Multiplier X",unit:"multi"},ele_mas_multi_y:{name:"Elementry Mastry Multiplier Y",unit:"multi"},ele_mas_multi_z:{name:"Elementry Mastry Multiplier Z",unit:"multi"},trans_reaction_base_multi:{name:"Transformation Reaction Base Multiplier",unit:"multi"},char_ele_key:{name:"Character Element Key",default:"anemo"},char_level:{name:"Character Level",default:1},enemy_level:{name:"Enemy Level"},enemy_level_multi:{name:"Enemy Level Multiplier",unit:"multi"},enemy_phy_res:{name:"Enemy Physical RES",unit:"%",default:10},enemy_phy_res_multi:{name:"Enemy Physical RES Multiplier",unit:"multi"},enemy_phy_immunity:{name:"Enemy Physical Immunity",default:!1},enemy_ele_res:{name:"Enemy Elemental RES",unit:"%",default:10},enemy_ele_res_multi:{name:"Enemy Elemental RES Multiplier",unit:"multi"},enemy_ele_immunity:{name:"Enemy Elemental Immunity",default:!1}};function g(t){return(t/=100)<0?1-t/2:t>=.75?1/(4*t+1):1-t}var p={overloaded:[37.4371542286,-4.3991155718,.9268181504,-.0314790536,518944e-9,-27646e-10],superconduct:[7.4972486411,-.4750909512,.1836799174,-.006423771,.0001110078,-6.038e-7],electrocharged:[20.8340255487,-1.698723279,.4742385201,-.0162160738,.0002746679,-14798e-10],shattered:[31.2160750111,-3.7397755267,.7174530144,-.0239673351,.0003895953,-20555e-10],swirl:[13.5157684329,-1.7733381829,.3097567417,-.0103922088,.0001679502,-8.854e-7],crystalize:[83.06561,-4.42541,.5568372,-.01637168,.0002253889,-1088197e-12]};var v={hp_final:function(t){return t.hp_base*(1+t.hp_/100)+t.hp},atk_final:function(t){return(t.atk_base+t.atk_weapon)*(1+t.atk_/100)+t.atk},def_final:function(t){return t.def_base*(1+t.def_/100)+t.def},norm_atk_dmg:function(t){return t.atk_final*t.norm_atk_bonus_multi*t.enemy_level_multi*t.enemy_phy_res_multi},norm_atk_crit_dmg:function(t){return t.norm_atk_dmg*t.crit_dmg_multi},norm_atk_avg_dmg:function(t){return t.norm_atk_dmg*t.norm_atk_crit_multi},norm_atk_crit_multi:function(t){return 1+y(t.crit_rate+t.norm_atk_crit_rate,0,100)/100*t.crit_dmg/100},norm_atk_bonus_multi:function(t){return 1+(t.phy_dmg_bonus+t.norm_atk_dmg_bonus+t.all_dmg_bonus)/100},char_atk_dmg:function(t){return t.atk_final*t.char_atk_bonus_multi*t.enemy_level_multi*t.enemy_phy_res_multi},char_atk_crit_dmg:function(t){return t.char_atk_dmg*t.crit_dmg_multi},char_atk_avg_dmg:function(t){return t.char_atk_dmg*t.char_atk_crit_multi},char_atk_crit_multi:function(t){return 1+y(t.crit_rate+t.char_atk_crit_rate,0,100)/100*t.crit_dmg/100},char_atk_bonus_multi:function(t){return 1+(t.phy_dmg_bonus+t.char_atk_dmg_bonus+t.all_dmg_bonus)/100},plunge_dmg:function(t){return t.phy_dmg},plunge_crit_dmg:function(t){return t.phy_crit_dmg},plunge_avg_dmg:function(t){return t.phy_avg_dmg},plunge_bonus_multi:function(t){return t.phy_bonus_multi},phy_dmg:function(t){return t.atk_final*t.phy_bonus_multi*t.enemy_level_multi*t.enemy_phy_res_multi},phy_crit_dmg:function(t){return t.phy_dmg*t.crit_dmg_multi},phy_avg_dmg:function(t){return t.phy_dmg*t.crit_multi},phy_bonus_multi:function(t){return 1+(t.phy_dmg_bonus+t.all_dmg_bonus)/100},crit_dmg_multi:function(t){return 1+t.crit_dmg/100},crit_multi:function(t){return 1+y(t.crit_rate,0,100)/100*(t.crit_dmg/100)},skill_crit_multi:function(t){return 1+y(t.crit_rate+t.skill_crit_rate,0,100)/100*t.crit_dmg/100},burst_crit_multi:function(t){return 1+y(t.crit_rate+t.burst_crit_rate,0,100)/100*t.crit_dmg/100},enemy_level_multi:function(t){return(100+t.char_level)/(100+t.enemy_level+100+t.char_level)},enemy_phy_res_multi:function(t){return t.enemy_phy_immunity?0:g(t.enemy_phy_res)},overloaded_dmg:function(t){return(1+t.overloaded_dmg_bonus/100)*t.ele_mas_multi_y*t.overloaded_multi*t.pyro_enemy_ele_res_multi},overloaded_multi:function(t){return p.overloaded.reduce((function(e,n,r){return e+n*Math.pow(t.char_level,r)}),0)},electrocharged_dmg:function(t){return(1+t.electrocharged_dmg_bonus/100)*t.ele_mas_multi_y*t.electrocharged_multi*t.electro_enemy_ele_res_multi},electrocharged_multi:function(t){return p.electrocharged.reduce((function(e,n,r){return e+n*Math.pow(t.char_level,r)}),0)},superconduct_dmg:function(t){return(1+t.superconduct_dmg_bonus/100)*t.ele_mas_multi_y*t.superconduct_multi*t.cryo_enemy_ele_res_multi},superconduct_multi:function(t){return p.superconduct.reduce((function(e,n,r){return e+n*Math.pow(t.char_level,r)}),0)},swirl_dmg:function(t){return(1+t.swirl_dmg_bonus/100)*t.ele_mas_multi_y*t.swirl_multi*t.anemo_enemy_ele_res_multi},swirl_multi:function(t){return p.swirl.reduce((function(e,n,r){return e+n*Math.pow(t.char_level,r)}),0)},shatter_dmg:function(t){return(1+t.shatter_dmg_bonus/100)*t.ele_mas_multi_y*t.shatter_multi*t.enemy_phy_res_multi},shatter_multi:function(t){return p.shattered.reduce((function(e,n,r){return e+n*Math.pow(t.char_level,r)}),0)},crystalize_dmg:function(t){return(1+t.crystalize_dmg_bonus/100)*t.ele_mas_multi_z*t.crystalize_multi},crystalize_multi:function(t){return p.crystalize.reduce((function(e,n,r){return e+n*Math.pow(t.char_level,r)}),0)},pyro_vaporize_multi:function(t){return(1+t.vaporize_dmg_bonus/100)*t.ele_mas_multi_x*1.5*t.trans_reaction_base_multi},hydro_vaporize_multi:function(t){return(1+t.vaporize_dmg_bonus/100)*t.ele_mas_multi_x*2*t.trans_reaction_base_multi},pyro_melt_multi:function(t){return(1+t.melt_dmg_bonus/100)*t.ele_mas_multi_x*2*t.trans_reaction_base_multi},cryo_melt_multi:function(t){return(1+t.melt_dmg_bonus/100)*t.ele_mas_multi_x*1.5*t.trans_reaction_base_multi},trans_reaction_base_multi:function(t){return 1+.189266831*(e=t.ele_mas)*Math.exp(-505e-6*e)/100;var e},ele_mas_multi_x:function(t){return 1+25/9*t.ele_mas/(1401+t.ele_mas)},ele_mas_multi_y:function(t){return 1+60/9*t.ele_mas/(1401+t.ele_mas)},ele_mas_multi_z:function(t){return 1+40/9*t.ele_mas/(1401+t.ele_mas)}},b={norm_atk_dmg:function(t,e){return t.atk_final*t["".concat(e,"_norm_atk_bonus_multi")]*t.enemy_level_multi*t["".concat(e,"_enemy_ele_res_multi")]},norm_atk_crit_dmg:function(t,e){return t["".concat(e,"_norm_atk_dmg")]*t.crit_dmg_multi},norm_atk_avg_dmg:function(t,e){return t["".concat(e,"_norm_atk_dmg")]*t.norm_atk_crit_multi},norm_atk_bonus_multi:function(t,e){return 1+(t["".concat(e,"_ele_dmg_bonus")]+t.norm_atk_dmg_bonus+t.all_dmg_bonus)/100},char_atk_dmg:function(t,e){return t.atk_final*t["".concat(e,"_char_atk_bonus_multi")]*t.enemy_level_multi*t["".concat(e,"_enemy_ele_res_multi")]},char_atk_crit_dmg:function(t,e){return t["".concat(e,"_char_atk_dmg")]*t.crit_dmg_multi},char_atk_avg_dmg:function(t,e){return t["".concat(e,"_char_atk_dmg")]*t.char_atk_crit_multi},char_atk_bonus_multi:function(t,e){return 1+(t["".concat(e,"_ele_dmg_bonus")]+t.char_atk_dmg_bonus+t.all_dmg_bonus)/100},plunge_dmg:function(t,e){return t["".concat(e,"_ele_dmg")]},plunge_crit_dmg:function(t,e){return t["".concat(e,"_ele_crit_dmg")]},plunge_avg_dmg:function(t,e){return t["".concat(e,"_ele_avg_dmg")]},plunge_bonus_multi:function(t,e){return t["".concat(e,"_ele_bonus_multi")]},ele_dmg:function(t,e){return t.atk_final*t["".concat(e,"_ele_bonus_multi")]*t.enemy_level_multi*t["".concat(e,"_enemy_ele_res_multi")]},ele_crit_dmg:function(t,e){return t["".concat(e,"_ele_dmg")]*t.crit_dmg_multi},ele_avg_dmg:function(t,e){return t["".concat(e,"_ele_dmg")]*t.crit_multi},ele_bonus_multi:function(t,e){return 1+(t["".concat(e,"_ele_dmg_bonus")]+t.all_dmg_bonus)/100},skill_dmg:function(t,e){return t.atk_final*t["".concat(e,"_skill_bonus_multi")]*t.enemy_level_multi*t["".concat(e,"_enemy_ele_res_multi")]},skill_crit_dmg:function(t,e){return t["".concat(e,"_skill_dmg")]*t.crit_dmg_multi},skill_avg_dmg:function(t,e){return t["".concat(e,"_skill_dmg")]*t.skill_crit_multi},skill_bonus_multi:function(t,e){return 1+(t["".concat(e,"_ele_dmg_bonus")]+t.skill_dmg_bonus+t.all_dmg_bonus)/100},burst_dmg:function(t,e){return t.atk_final*t["".concat(e,"_burst_bonus_multi")]*t.enemy_level_multi*t["".concat(e,"_enemy_ele_res_multi")]},burst_crit_dmg:function(t,e){return t["".concat(e,"_burst_dmg")]*t.crit_dmg_multi},burst_avg_dmg:function(t,e){return t["".concat(e,"_burst_dmg")]*t.burst_crit_multi},burst_bonus_multi:function(t,e){return 1+(t["".concat(e,"_ele_dmg_bonus")]+t.burst_dmg_bonus+t.all_dmg_bonus)/100},enemy_ele_res_multi:function(t,e){return t["".concat(e,"_enemy_ele_immunity")]?0:g(t["".concat(e,"_enemy_ele_res")])}};[["overloaded","Overloaded"],["electrocharged","Electro-Charged"],["superconduct","Superconduct"],["burning","Burning"],["swirl","Swirl"],["shatter","Shattered"],["crystalize","Crystalize"]].forEach((function(t){var e=c(t,2),n=e[0],r=e[1];return[["dmg","DMG"],["dmg_bonus","DMG Bonus",{unit:"%"}],["multi","Multiplier",{unit:"multi"}]].forEach((function(t){var e=c(t,3),i=e[0],u=e[1],o=e[2],l=void 0===o?{}:o;h["".concat(n,"_").concat(i)]=a({name:"".concat(r," ").concat(u),variant:n},l)}))})),["phy_dmg_bonus","phy_res","enemy_phy_res","enemy_phy_immunity","phy_dmg","phy_crit_dmg","phy_avg_dmg","phy_bonus_multi"].concat(f(Object.keys(h).filter((function(t){return["norm_atk","char_atk","plunge"].some((function(e){return t.includes(e)}))})))).forEach((function(t){h[t].variant="physical"})),[["pyro_vaporize","Vaporize(Pyro)","vaporize","pyro"],["hydro_vaporize","Vaporize(Hydro)","vaporize","hydro"],["pyro_melt","Melt(Pyro)","melt","pyro"],["cryo_melt","Melt(Cryo)","melt","cryo"]].forEach((function(t){var e=c(t,4),n=e[0],r=e[1],i=e[2],u=e[3];[["multi","Multiplier",{unit:"multi"}]].forEach((function(t){var e=c(t,3),u=e[0],o=e[1],l=e[2],_=void 0===l?{}:l;h["".concat(n,"_").concat(u)]=a({name:"".concat(r," ").concat(o),variant:i},_)})),[["norm_atk","Nomal Attack"],["char_atk","Charged Attack"],["plunge","Plunging Attack"],["skill","Ele. Skill"],["burst","Ele. Burst"],["ele","Elemental"]].forEach((function(t){var e=c(t,2),a=e[0],o=e[1];return[["dmg","DMG"],["avg_dmg","Avg. DMG"],["crit_dmg","CRIT Hit DMG"]].forEach((function(t){var e=c(t,2),l=e[0],_=e[1],m="".concat(n,"_").concat(a,"_").concat(l);h[m]={name:"".concat(r," ").concat(o," ").concat(_),variant:i};var s="".concat(u,"_").concat(a,"_").concat(l);v[m]=function(t){return t["".concat(n,"_multi")]*t[s]}}))}))})),["ele_dmg_bonus","ele_res","enemy_ele_res","enemy_ele_immunity"].concat(f(Object.keys(b))).forEach((function(t){var e=h[t];Object.keys(d).forEach((function(n){var r="".concat(n,"_").concat(t);h[r]=function(t){return JSON.parse(JSON.stringify(t))}(e),h[r].name="enemy_ele_res"===t?"Enemy ".concat(d[n].name," RES"):"enemy_ele_res_multi"===t?"Enemy ".concat(d[n].name," RES Multiplier"):"enemy_ele_immunity"===t?"Enemy ".concat(d[n].name," Immunity"):"".concat(d[n].name," ").concat(e.name),h[r].variant=n}))})),Object.entries(b).forEach((function(t){var e=c(t,2),n=e[0],r=e[1];return Object.keys(d).forEach((function(t){return Object.defineProperty(v,"".concat(t,"_").concat(n),{configurable:!0,enumerable:!0,writable:!0,value:function(e){return r(e,t)}})}))}));var k={noelle_burst_atk:{key:"atk_final",formula:function(t){return function(e){return(e.atk_base+e.atk_weapon)*(1+e.atk_/100)+e.atk+e.def_final*(t.value/100)}},dependency:["atk_base","atk_weapon","atk_","atk","def_final","def_base","def_","def"]},mona_passive2_hydro_ele_dmg_bonus:{key:"hydro_ele_dmg_bonus",formula:function(t){return function(e){return(t.oldval||0)+.2*e.ener_rech}},dependency:["ener_rech"]}};onmessage=function(){var t,e=(t=_.a.mark((function t(e){var n,r,i,a,u,o,c,l,m,s,f,d,y,h;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.data,r=n.splitArtifacts,i=n.artifactSetPerms,a=n.setFilters,u=n.initialStats,o=n.artifactSetEffects,c=n.maxBuildsToShow,l=n.buildFilterKey,m=n.asending,s=n.depdendencyStatKeys,f=performance.now(),d=E(r,i,a),y=d.map((function(t){return{builFilterVal:w(l,u,t,o,s),artifacts:t}})),h=performance.now(),y.sort((function(t,e){return m?t.builFilterVal-e.builFilterVal:e.builFilterVal-t.builFilterVal})),y.splice(c),postMessage({builds:y,timing:h-f});case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function u(t){m(a,r,i,u,o,"next",t)}function o(t){m(a,r,i,u,o,"throw",t)}u(void 0)}))});return function(t){return e.apply(this,arguments)}}();var E=function(t,e,n){var r=[],i={},u=n.filter((function(t){return t.key})).map((function(t){return t.key}));Object.entries(t).forEach((function(t){var e=c(t,2),n=e[0],r=e[1],a={};r.forEach((function(t){if(u.includes(t.setKey))a[t.setKey]?a[t.setKey].push(t):a[t.setKey]=[t];else{a.Other?a.Other.push(t):a.Other=[t]}})),i[n]=a}));var o=["flower","plume","sands","goblet","circlet"],l=function t(e,n,u){if(e>=o.length)r.push(u);else{var c=o[e],l=n[c];i[c][l]&&i[c][l].forEach((function(r){u[c]=r,t(e+1,n,a({},u))}))}};return e.forEach((function(t){return l(0,t,{})})),r};function w(t,e,n,r,i){var u=JSON.parse(JSON.stringify(e)),o=s.setToSlots(n);return Object.values(n).forEach((function(t){t&&(u[t.mainStatKey]=(u[t.mainStatKey]||0)+t.mainStatVal,t.substats.forEach((function(t){return(null===t||void 0===t?void 0:t.key)&&(u[t.key]=(u[t.key]||0)+t.value)})))})),Object.entries(o).forEach((function(t){var e=c(t,2),n=e[0],i=e[1];return r[n]&&Object.entries(r[n]).forEach((function(t){var e=c(t,2),n=e[0],r=e[1];return parseInt(n)<=i.length&&Object.entries(r).forEach((function(t){var e=c(t,2),n=e[0],r=e[1];return u[n]=(u[n]||0)+r}))}))})),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.formulaKeys,r=void 0===n?Object.keys(v):n,i=e.statKeys,u=void 0===i?Object.keys(h):i,o=t.formulaOverrides;(void 0===o?[]:o).forEach((function(n){var i=n.key,o=n.options,c=k[i]||{},l=c.key,_=c.formula;(r.includes(l)||u.includes(l))&&(_=_(a(a({},o),{},{oldval:t[l]})),Object.defineProperty(t,l,{get:e.formulaKeys?function(){return _(t)}:function(){var e=_(t);return Object.defineProperty(this,l,{value:e}),e},configurable:!0}))})),r.forEach((function(n){!t.hasOwnProperty(n)&&Object.defineProperty(t,n,{get:e.formulaKeys?function(){return v[n](t)}:function(){var e=v[n](t);return Object.defineProperty(this,n,{value:e}),e},configurable:!0})})),u.forEach((function(e){return!t.hasOwnProperty(e)&&(t[e]=h[e].default||0)}))}(u,i),u[t]}}]);
//# sourceMappingURL=BuildWorker.17325ceb.worker.js.map