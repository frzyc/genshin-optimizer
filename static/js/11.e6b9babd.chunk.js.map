{"version":3,"sources":["StatDependency.js","TestPage/TestDisplay.js"],"names":["formulaKeyDependency","DependencyStatKeys","key","dependencies","forEach","k","push","Set","formulaKeys","Object","keys","Formulas","filter","includes","statkeys","StatData","testObj","dependency","defineProperty","get","configurable","AttachLazyFormulas","getDependency","TestDisplay","props","DatabaseInitAndVerify","editable","characterId"],"mappings":"qLAGMA,EAAuB,GAqB7B,SAASC,EAAmBC,GAAM,IAAD,EAC3BC,EAAeH,EAAqBE,IAAQ,GAKhD,OAJA,UAAAF,EAAqBE,UAArB,SAA2BE,SAAQ,SAAAC,GAAC,aAAI,EAAAF,GAAaG,KAAb,oBAAsBN,EAAqBK,IAAM,QACzFF,EAAY,YAAO,IAAII,IAAIJ,IAGpB,CAAEK,YAFSC,OAAOC,KAAKC,KAAUC,QAAO,SAAAP,GAAC,OAAIA,IAAMH,GAAOC,EAAaU,SAASR,MAEjES,SADPL,OAAOC,KAAKK,KAAUH,QAAO,SAAAP,GAAC,OAAIA,IAAMH,GAAOC,EAAaU,SAASR,OAPtFI,OAAOC,KAAKC,KAAUP,SAAQ,SAAAF,GAAG,OAlBX,SAACA,GACrB,IAAIc,EAAU,GACVC,EAAa,GACjBR,OAAOC,KAAKK,KAAUH,QAAO,SAAAP,GAAC,OAAIA,IAAMH,KAAKE,SAAQ,SAAAC,GACnDI,OAAOS,eAAeF,EAASX,EAAG,CAChCc,IAAK,WAGH,OAFAF,EAAWX,KAAKD,GAChBI,OAAOS,eAAeF,EAASX,EAAG,CAAEc,IAAK,kBAAM,KACxC,GAETC,cAAc,OAGlBC,YAAmBL,GAES,kBAAjBA,EAAQd,KACjBF,EAAqBE,GAAOe,GAEKK,CAAcpB,O,4HClBpC,SAASqB,EAAYC,GAElC,OADAC,cACO,cAAC,IAAD,UACL,cAAC,IAAD,CAAsBC,UAAQ,EAACC,YAAa","file":"static/js/11.e6b9babd.chunk.js","sourcesContent":["import { AttachLazyFormulas, Formulas, StatData } from \"./Stat\"\r\n\r\n//generate a statKey dependency, to reduce build generation calculation on a single stat.\r\nconst formulaKeyDependency = {}\r\nconst getDependency = (key) => {\r\n  let testObj = {}\r\n  let dependency = []\r\n  Object.keys(StatData).filter(k => k !== key).forEach(k => {\r\n    Object.defineProperty(testObj, k, {\r\n      get: () => {\r\n        dependency.push(k)\r\n        Object.defineProperty(testObj, k, { get: () => 0 })\r\n        return 0\r\n      },\r\n      configurable: true\r\n    })\r\n  })\r\n  AttachLazyFormulas(testObj)\r\n  //use the getter to generate the dependency\r\n  if (typeof testObj[key] === \"number\")\r\n    formulaKeyDependency[key] = dependency\r\n}\r\nObject.keys(Formulas).forEach(key => getDependency(key))\r\n\r\nfunction DependencyStatKeys(key) {\r\n  let dependencies = formulaKeyDependency[key] || []\r\n  formulaKeyDependency[key]?.forEach(k => dependencies.push(...(formulaKeyDependency[k] || [])))\r\n  dependencies = [...new Set(dependencies)]\r\n  let formulaKeys = Object.keys(Formulas).filter(k => k === key || dependencies.includes(k))\r\n  let statkeys = Object.keys(StatData).filter(k => k === key || dependencies.includes(k))\r\n  return { formulaKeys, statkeys }\r\n}\r\nexport {\r\n  DependencyStatKeys,\r\n}\r\n","import { Container } from \"react-bootstrap\";\r\nimport CharacterDisplayCard from \"../Character/CharacterDisplayCard\";\r\nimport { DatabaseInitAndVerify } from '../DatabaseUtil';\r\nimport '../StatDependency'\r\nexport default function TestDisplay(props) {\r\n  DatabaseInitAndVerify()\r\n  return <Container>\r\n    <CharacterDisplayCard editable characterId={\"character_2\"} />\r\n  </Container>\r\n}\r\n"],"sourceRoot":""}