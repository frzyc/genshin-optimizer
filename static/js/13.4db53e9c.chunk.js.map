{"version":3,"sources":["../node_modules/@mui/base/ClickAwayListener/ClickAwayListener.js","../node_modules/@mui/material/SnackbarContent/snackbarContentClasses.js","../node_modules/@mui/material/SnackbarContent/SnackbarContent.js","../node_modules/@mui/material/Snackbar/snackbarClasses.js","../node_modules/@mui/material/Snackbar/Snackbar.js","Database/exim/stringSerialization.ts","Database/exim/flexSchema.ts","Database/exim/flex.ts","FlexPage/FlexDisplay.tsx","Conditional/Resonance.tsx","Components/Card/CardLight.tsx","Components/Card/CardDark.tsx","Components/DropdownMenu/DropdownButton.tsx","Character/Character.ts","Components/StarDisplay.tsx","ReactHooks/useCharacterReducer.tsx","Assets/icon_bow.png","Assets/Assets.ts","Assets/icon_catalyst.png","Assets/icon_claymore.png","Assets/icon_polearm.png","Assets/icon_sword.png","Assets/Item_Fragile_Resin.png","Assets/Item_Condensed_Resin.png","Assets/Item_Wanderer's_Advice.png","Assets/Item_Hero's_Wit.png","Assets/Item_Adventurer's_Experience.png","Components/CloseButton.tsx","Components/ModalWrapper.tsx","Components/Character/CharacterDropdownButton.tsx","Components/CustomNumberInput.tsx","Components/FieldDisplay.tsx","Components/SolidToggleButtonGroup.tsx","Components/BootstrapTooltip.tsx","ReactHooks/useSheets.tsx","ReactHooks/useForceUpdate.tsx","Components/ConditionalWrapper.tsx","Components/DocumentDisplay.tsx","Components/ExpandButton.tsx","Character/CharacterUtil.tsx","Components/Character/ThumbSide.tsx","Components/Character/LocationName.tsx","ProcessFormula.ts","Components/ToggleButton/WeaponToggle.tsx","Components/StatDisplay.tsx","StatDependency.ts","ReactHooks/useWeapon.tsx","ReactHooks/useCharSelectionCallback.tsx","Conditional/ConditionalSelector.tsx","Components/ConditionalDisplay.tsx","Util/SortByFilters.ts","Components/SortByButton.tsx","ReactHooks/useCharacter.tsx","Artifact/RollProbability.ts","Artifact/PercentBadge.tsx","Components/TextButton.tsx","Character/StatInput.tsx","Components/Weapon/WeaponSelectionModal.tsx","Weapon/WeaponCard.tsx","Artifact/ArtifactCard.tsx","ReactHooks/useArtifact.tsx","Character/CharacterCard.tsx","Artifact/Component/SetEffectDisplay.tsx","Components/Character/CharacterSelectionModal.tsx","Util/CharacterSort.ts","Character/CharacterDisplay/StatDisplayComponent.tsx","Components/EnemyEditor.tsx","Components/HitModeEditor.tsx","../node_modules/@mui/material/Accordion/AccordionContext.js","Weapon/WeaponStatsCard.tsx","Weapon/WeaponDisplayCard.tsx","Components/SolidColoredToggleButton.tsx","Components/ToggleButton/ElementToggle.tsx","../node_modules/@mui/material/CardHeader/cardHeaderClasses.js","../node_modules/@mui/material/CardHeader/CardHeader.js","../node_modules/@mui/icons-material/esm/ExpandMore.js","../node_modules/@mui/utils/esm/useControlled.js","../node_modules/@mui/system/esm/styled.js","../node_modules/@mui/icons-material/esm/BusinessCenter.js","../node_modules/@mui/icons-material/esm/Replay.js","../node_modules/@mui/icons-material/esm/CheckBox.js","../node_modules/@mui/icons-material/esm/CheckBoxOutlineBlank.js","../node_modules/@mui/material/Alert/alertClasses.js","../node_modules/@mui/material/Alert/Alert.js","../node_modules/@mui/material/internal/svg-icons/SuccessOutlined.js","../node_modules/@mui/material/internal/svg-icons/ReportProblemOutlined.js","../node_modules/@mui/material/internal/svg-icons/ErrorOutline.js","../node_modules/@mui/material/internal/svg-icons/InfoOutlined.js","../node_modules/@mui/material/internal/svg-icons/Close.js","Components/FormulaCalcCard.tsx","Character/CharacterDisplay/CharacterArtifactPane.tsx","Character/CharacterDisplay/CharacterOverviewPane.tsx","Character/CharacterDisplay/CharacterTalentPane.tsx","Character/CharacterDisplay/CharacterTeamBuffsPane.tsx","Character/CharacterDisplayCard.tsx","../node_modules/@mui/material/Collapse/collapseClasses.js","../node_modules/@mui/material/Collapse/Collapse.js","../node_modules/@mui/icons-material/esm/Lock.js","../node_modules/@mui/icons-material/esm/LockOpen.js","../node_modules/@mui/material/ListItem/listItemClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/listItemSecondaryActionClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js","../node_modules/@mui/material/ListItem/ListItem.js","../node_modules/@mui/material/internal/svg-icons/Cancel.js","../node_modules/@mui/material/Chip/chipClasses.js","../node_modules/@mui/material/Chip/Chip.js","../node_modules/@mui/material/CardMedia/cardMediaClasses.js","../node_modules/@mui/material/CardMedia/CardMedia.js","../node_modules/@mui/material/CardActionArea/cardActionAreaClasses.js","../node_modules/@mui/material/CardActionArea/CardActionArea.js","../node_modules/@mui/system/esm/Box/Box.js","../node_modules/@mui/icons-material/esm/SwapHoriz.js","../node_modules/@mui/lab/node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@mui/lab/Masonry/masonryClasses.js","../node_modules/@mui/lab/Masonry/Masonry.js","../node_modules/@mui/lab/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@mui/material/CardActions/cardActionsClasses.js","../node_modules/@mui/material/CardActions/CardActions.js","../node_modules/@mui/icons-material/esm/PersonAdd.js","../node_modules/@mui/utils/esm/usePreviousProps.js","../node_modules/@mui/base/BadgeUnstyled/badgeUnstyledClasses.js","../node_modules/@mui/base/BadgeUnstyled/BadgeUnstyled.js","../node_modules/@mui/material/Badge/Badge.js","../node_modules/@mui/material/Accordion/accordionClasses.js","../node_modules/@mui/material/Accordion/Accordion.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray.js","../node_modules/@mui/material/AccordionSummary/accordionSummaryClasses.js","../node_modules/@mui/material/AccordionSummary/AccordionSummary.js","../node_modules/@mui/material/AccordionDetails/accordionDetailsClasses.js","../node_modules/@mui/material/AccordionDetails/AccordionDetails.js"],"names":["mapEventPropToEvent","eventProp","substring","toLowerCase","ClickAwayListener","props","children","disableReactTree","mouseEvent","onClickAway","touchEvent","movedRef","React","nodeRef","activatedRef","syntheticEventRef","setTimeout","current","handleRef","useForkRef","ref","handleClickAway","useEventCallback","event","insideReactTree","doc","ownerDocument","documentElement","clientWidth","clientX","clientHeight","clientY","clickedRootScrollbar","composedPath","indexOf","contains","target","createHandleSynthetic","handlerName","childrenPropsHandler","childrenProps","mappedTouchEvent","handleTouchMove","addEventListener","removeEventListener","mappedMouseEvent","_jsx","getSnackbarContentUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","SnackbarContentRoot","styled","Paper","name","overridesResolver","styles","root","theme","emphasis","palette","mode","backgroundColor","emphasize","background","default","_extends","typography","body2","color","getContrastText","display","alignItems","flexWrap","padding","borderRadius","shape","flexGrow","breakpoints","up","minWidth","SnackbarContentMessage","message","SnackbarContentAction","action","marginLeft","paddingLeft","marginRight","SnackbarContent","inProps","useThemeProps","className","role","other","_objectWithoutPropertiesLoose","ownerState","classes","composeClasses","useUtilityClasses","_jsxs","square","elevation","clsx","getSnackbarUtilityClass","_excluded2","SnackbarRoot","capitalize","anchorOrigin","vertical","horizontal","center","isRtl","left","right","transform","zIndex","snackbar","position","justifyContent","top","bottom","Snackbar","autoHideDuration","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","Grow","transitionDuration","enter","duration","enteringScreen","exit","leavingScreen","TransitionProps","onEnter","onExited","useTheme","direction","slots","timerAutoHide","exited","setExited","handleClose","setAutoHideTimer","autoHideDurationParam","clearTimeout","handlePause","handleResume","window","document","handleKeyDown","nativeEvent","defaultPrevented","key","appear","in","timeout","node","isAppearing","decode","string","schema","stream","BlockStream","result","decodeItem","end","encodeItem","data","pathItem","encode","type","uint","uintToString","length","encodeLength","encodeUInt","match","Error","encodeString","schemas","defaultSchema","map","item","i","join","encodeArray","Object","entries","encodeObject","keySchema","keys","valueSchema","items","filter","includes","value","encodeSparse","error","path","push","decodeLength","stringToUInt","take","decodeUInt","decodeString","Array","unused","decodeArray","fromEntries","decodeObject","decodeSparse","number","remainder","Math","floor","String","fromCharCode","padEnd","multiplier","code","charCodeAt","offset","this","count","slice","stats","float","toString","replace","parseFloat","array","object","sparse","optional","list","defaultValue","undefined","index","fixed","stat","artifactSet","allArtifactSets","allSlotKeys","characterKey","allCharacterKeys","hitMode","allHitModes","reactionMode","allReactionModes","element","allElements","substat","factor","endsWith","conditionalValues","crawlObject","c","isArray","pathvalues","weapon","artifact","character","last","pop","next","artifactV2","setKey","numStars","level","mainStatKey","slotKey","substats","art","id","lock","weaponV2","levelKey","refineIndex","overrideMainVal","overrideSubVal","split","lvla","parseInt","ascension","ascensionMaxLevel","findIndex","maxLevel","addAsc","characterV2","constellation","overrideLevel","infusionAura","talentLevelKeys","auto","skill","burst","baseStatOverrides","reserved","isAscended","levelString","characterLevel","weaponLevel","elementKey","flexV2","artifacts","artifactV3","location","raritySlotKey","rarity","weaponV3","ascensionRefine","levelDiff","refinement","characterV3","bonusStats","talent","ascensionConstellation","flexV3","characters","weapons","flexV4","dbVer","exportFlex","database","sheets","char","_getChar","deepClone","build","Character","calculateBuild","partyBuff","forEach","val","_getWeapon","equippedWeapon","values","equippedArtifacts","_getArt","currentDBVersion","importFlex","parameters","s","v","decoded","newCharacterKey","storage","SandboxStorage","setString","set","ArtCharDatabase","importFlexV2","d","charKey","importFlexV3","importFlexV4","console","reverse","FlexDisplay","useLocation","useContext","DatabaseContext","useSheets","searchStr","search","flexResult","to","Database","Provider","Display","flexObj","scrollTo","useState","setOpen","handleClick","useCallback","reason","copyToClipboard","url","href","navigator","clipboard","writeText","then","catch","Box","flexDirection","gap","spacing","mt","mb","Alert","variant","severity","sx","width","CardDark","ButtonGroup","Button","onClick","startIcon","icon","faLink","CustomNumberInput","flexBasis","readOnly","e","selectionStart","selectionEnd","px","CharacterDisplayCard","isFlex","tr","strKey","ns","key18","resonanceSheets","header","title","StatIcon","anemo","geo","pyro","hydro","cryo","electro","description","canShow","Set","teamStats","t","characterEle","size","conditionals","maxStack","ele","atk_","fields","text","unit","incHeal_","critRate_","staminaDec_","moveSPD_","skillCDRed_","shield_","dmg_","geo_enemyRes_","sgt","CardLight","Card","contentLight","main","contentDark","DropdownButton","anchorEl","setAnchorEl","Boolean","currentTarget","fallback","endIcon","aria-controls","aria-haspopup","aria-expanded","MenuListProps","height","initialStats","Conditional","conditional","mergeCalculatedStats","resolve","tlvl","activeCharacter","resonance","parseConditionalValues","conditionalValue","condStats","tstats","tChar","artid","calculateBuildWithConditionalsWithoutArtifacts","calculateBuildwithArtifact","artifactSheets","Number","isNaN","getLevelString","getTalentFieldValue","field","defVal","evalIfFunc","hasBonusStats","statKey","getStatValueWithBonus","overrideStatKeys","characterBaseStats","mainStatAssumptionLevel","calculatePreBuild","finalStatProcess","createInitialStats","setToSlots","Artifact","artifactSetEffectsStats","ArtifactSheet","setEffectsStats","mainStatValue","max","min","mergeStats","createInitialStatsWithoutConds","characterSheets","weaponSheets","team","characterSheet","defaultInitialWeapon","weaponTypeKey","weaponSheet","overrideStats","additionalStats","characterHP","getBase","characterDEF","characterATK","weaponType","partyAllModifiers","partyOnlyModifiers","partyActiveModifiers","specialStatKey","getSpecializedStat","specializedStatVal","getSpecializedStatVal","weaponATK","getMainStatValue","weaponSubKey","getSubStatKey","getSubStatValue","tCharKey","x","allTeam","allTeamStats","tStats","tindex","_","getDisplayStatKeys","eleKey","basicKeys","isAutoElemental","transReactions","ElementToReactionKeys","charFormulas","talentSheet","getTalent","addFormula","formula","parseSection","section","talentKey","sections","formKey","num","artifactSheet","setEffects","setNum","StarIcon","faStar","Stars","stars","colored","component","useCharacterReducer","setWeaponLocation","updateChar","newCharKey","oldCharKey","oldChar","newChar","tind","Assets","weaponTypes","bow","catalyst","claymore","polearm","sword","resin","fragile","condensed","exp_books","advice","wit","experience","CloseButton","large","useTranslation","p","ScrollModal","Modal","overflow","paddingTop","paddingBottom","ModalContainer","Container","minHeight","pointerEvents","ModalWrapper","containerProps","CharacterDropdownButton","onChange","unSelectText","unSelectIcon","inventory","noUnselect","usePromise","CharacterSheet","getAll","get","characterKeys","_getCharKeys","ck","sort","thumbImg","src","thumbImgSide","selected","disabled","noWrap","CharacterMenuItemArray","selectedCharacterKey","StyledInputBase","InputBase","primary","transition","dark","Wrapper","CustomNumberInputButtonGroupWrapper","disableRipple","disableFocusRipple","disableTouchRipple","setNumber","focused","setFocus","parseFunc","useMemo","useEffect","onInputChange","onKeyDOwn","aria-label","onKeyDown","FieldDisplay","buildContext","newBuild","equippedBuild","compareBuild","fixedVal","fieldVal","retVal","fieldEquippedVal","toFixed","diff","fieldText","fieldVariant","formulaTextOverlay","fieldFormulaText","placement","cursor","ml","faQuestionCircle","FieldDisplayList","List","margin","contentDarker","SolidToggleButtonGroup","ToggleButtonGroup","shouldForwardProp","prop","baseColor","selectedColor","contrastText","BootstrapTooltip","arrow","popper","tooltipClasses","common","black","tooltip","Promise","all","WeaponSheet","useForceUpdate","stateDirty","update","ConditionalWrapper","condition","wrapper","falseWrapper","DocumentDisplay","skipConditionalEquipmentCheck","characterDispatch","onCVChange","sectionsDisplay","talentText","canShowConditional","hideDesc","ExpandButton","expand","transitions","create","shortest","getFormulaTargetsDisplayHeading","startsWith","subkey","getTalentOfKey","img","sheet","imgAwaken","defIconSrc","initialCharacter","objectFromKeyMap","buildSettings","initialBuildSettings","ThumbSide","lineHeight","verticalAlign","marginTop","marginBottom","LocationName","nameWIthIcon","PreprocessFormulas","GetDependencies","modifiers","preprocessedStats","addPreModValues","mod","k","premod","modStatsFormula","mods","targets","context","modStatsFunc","Formula","computeModifier","modStats","b","relevantMod","dependencyKeys","ui","premodFormulaList","postmodFormulaList","getStage","StatData","Formulas","processTeam","beforePreprocess","preprocessed","tPartyModifiers","mergeModifiers","teamFormula","modFormula","partyAllFormula","partyOnlyFormula","partyActiveFormula","numStages","const","WeaponToggle","cb","newVal","exclusive","allWeaponTypeKeys","wt","DisplayStatDiff","label","oldVal","hasBonus","oldText","diffText","valueText","StatDisplay","Stat","getStatUnit","fixedUnit","getStatName","labelVariant","displayVal","GetFormulaDependency","dependency","Proxy","receiver","add","formulaKeyDependency","freeze","baseStat","found","dependencies","InsertDependencies","flatMap","dep","has","getCurrent","useWeapon","weaponID","setWeapon","followWeapon","useCharSelectionCallback","history","useHistory","ConditionalSelector","setConditional","conditionalNum","conditionalStateKey","state","states","badge","SqBadge","fullWidth","MenuItem","Divider","stateKey","condial","stack","Typography","CheckBox","CheckBoxOutlineBlank","ConditionalDisplay","hideHeader","conditionalStats","conditionalFields","displayFields","statsToFields","condV","layeredAssignment","deletePropPath","objClearEmpties","CardHeader","avatar","titleTypographyProps","CardContent","m","sortFunction","sortby","ascending","configs","Sort","a","config","aV","getValue","bV","localeCompare","filterOption","tieBreaker","filterFunction","filterOptions","filterConfigs","obj","every","optionKey","optionVal","SortByButton","sortKeys","onChangeAsc","i18nKey","faSortAmountDownAlt","faSortAmountUp","useCharacter","updateCharacter","followChar","allWeights","fWeight","hp","atk","def","hp_","def_","eleMas","enerRech_","critDMG_","pFillerSeq","populatePFillerSeq","prefix","prob","sumProb","3","4","6","cnr","fill","n","r","pNExtra","accu","reduce","probability","_target","NaN","required","numFillerSlots","ArtifactMainStatsData","delete","numUpgradeRolls","rollsRemaining","ceil","maxSubstatValues","minTotalUpgrades","targetEntries","filler","minUpgrade","additionalUpgradeRolls","targetIndex","M","rolls","extra","pExtra","_remaining","remaining","pRolls","pow","mainStat","mainStatRatio","pFillerRolls","numUnusedSubstats","pSuffixFillerSeq","ratio","requiredCount","total","currentCount","sum","calculatePFillerRolls","PercentBadge","valid","clamp","badgeColor","DisabledButton","secondary","TextButton","FlexButtonGroup","StatInput","placeholder","onValueChange","percent","onReset","restProps","whiteSpace","inputProps","textAlign","endAdornment","WeaponSelectionModal","show","onHide","onSelect","propWeaponFilter","weaponFilter","setWeaponfilter","weaponIdList","allWeaponKeys","wKey","py","container","weaponKey","lg","md","WeaponCard","weaponId","onEdit","onDelete","canEquip","cs","actionWrapperFunc","equipOnChar","weaponMainVal","weaponSubVal","statMap","passiveName","fontSize","updateWeapon","pl","maxWidth","alignContent","statVal","xs","flexShrink","mr","faEdit","faTrashAlt","allSubstatFilter","allSubstats","ArtifactCard","artifactId","artifactObj","effFilter","probabilityFilter","databaseArtifact","artifactID","setArtifact","followArt","useArtifact","editable","localDatabase","exclude","mainStatLevel","levelVariant","mainStatVal","valueStringWithUnit","getArtifactEfficiency","currentEfficiency","maxEfficiency","artifactValid","slotName","getSlotName","slotDesc","getSlotDesc","slotDescTooltip","faInfoCircle","setDescTooltip","setNumKey","setEffectDesc","Skeleton","pt","pb","pr","Chip","IconButton","updateArt","Lock","LockOpen","Grid","alignSelf","CardMedia","image","slotIcons","numRolls","rollColor","efficiency","effOpacity","statName","opacity","my","CardActions","setArtLocation","Tooltip","faBan","faChartLine","CharacterCard","artifactChildren","weaponChildren","onClickHeader","footer","onClickHandler","Header","Weapon","ArtifactDisplay","Stats","autoBoost","skillBoost","burstBoost","content","backgroundImage","bannerImg","backgroundPosition","backgroundSize","textShadow","mainVal","subKey","subVal","levelName","getStatNameWithPercent","SetEffectDisplay","setEffectText","setStats","setNumStats","setStatsFields","setEffectDocument","defaultSortKeys","CharacterSelectionModal","newFirst","sortBy","setsortBy","setascending","elementalFilter","setelementalFilter","setweaponFilter","sortConfigs","characterSortConfigs","characterFilterConfigs","characterKeyList","cKey","CharacterBtn","characterSortKeys","new","StatDisplayComponent","statsDisplayKeys","columns","sm","sectionKey","sectionValues","JSON","stringify","EnemyExpandCard","expanded","setexpanded","toggle","allElementsWithPhy","EnemyResText","unmountOnExit","EnemyEditor","immune","resKey","uncoloredEleIcons","bsProps","charBaseStats","rel","bgcolor","getStatNameRaw","enemyLevel","immunityStatKey","elementImmunity","faCheckSquare","faSquare","infusionVals","InfusionAuraDropdown","isMelee","ReactionToggle","charEleKey","HitModeToggle","DamageOptionsCard","AccordionContext","WeaponStatsCard","statsVals","WeaponDisplayCard","propWeaponId","charData","buildContextObj","weaponDispatch","newWeapon","setLevel","ascenML","setAscension","lowerAscension","ws","initialWeaponFilter","showModal","setshowModal","startAdornment","ambiguousLevel","milestoneLevels","lv","as","lvlstr","SwapBtn","onChangeId","substatKey","weaponDisplayMainVal","weaponDisplaySubVal","weaponPassiveName","weaponBonusStats","process","gutterBottom","passiveDescription","setCompareBuild","setShow","close","clickHandler","dbWeapon","SwapHoriz","ImgIcon","SolidColoredToggleButton","ToggleButton","ElementToggle","getCardHeaderUtilityClass","cardHeaderClasses","CardHeaderRoot","subheader","CardHeaderAvatar","flex","CardHeaderAction","CardHeaderContent","disableTypography","subheaderProp","subheaderTypographyProps","titleProp","createSvgIcon","useControlled","controlled","defaultProp","isControlled","valueState","setValue","newValue","createStyled","getAlertUtilityClass","_CloseIcon","alertClasses","AlertRoot","getColor","darken","lighten","getBackgroundColor","light","border","fontWeight","fontWeightMedium","AlertIcon","AlertMessage","AlertAction","defaultIconMapping","success","SuccessOutlinedIcon","warning","ReportProblemOutlinedIcon","ErrorOutlineIcon","info","InfoOutlinedIcon","closeText","iconMapping","CloseIcon","FormulaCalcCard","ExpandMore","Collapse","CalculationDisplay","displayStatKeys","fieldIndex","FormulaCalculationField","fieldKeys","subFormulaKeys","getPrintableFormulaStatKeyList","Accordion","AccordionSummary","expandIcon","printStat","AccordionDetails","formulaField","fieldFixed","fieldUnit","fieldFormula","fieldFormulaDependency","fieldValue","CharacterArtifactPane","statKeys","edit","pathname","artToEditId","followAnyArt","equipArts","confirm","equipArtifacts","unequipArts","setNumKeyArr","CharacterOverviewPane","cardImg","tKey","Badge","badgeContent","overlap","constellationName","MainStatsCards","additionalKeys","editStatKeys","otherStatKeys","miscStatkeys","resetString","statBreakpoint","specializedStatKey","specializedStatUnit","displayNewBuildProps","TeamBuffDisplay","StatDisplayCard","columnSpacing","rowSpacing","editContent","characterStatKeys","round","setedit","faSave","CharacterTalentPane","ReactionDisplay","tText","SkillDisplayCard","subtitle","asc","enabled","style","onClickTitle","ReactionComponents","superconduct_hit","sKey","electrocharged_hit","overloaded_hit","pyro_swirl_hit","SwirlCard","cryo_swirl_hit","electro_swirl_hit","hydro_swirl_hit","shattered_hit","information","crystalize_hit","crystalizeEleToDisplay","setele","eleInterArr","Ele","swirlEleToDisplay","talentLimits","actionWrapeprFunc","CardActionArea","levelBoost","talentLvlKey","newTalentLevelKey","CharacterTeamBuffsPane","ResonanceDisplay","TeammateDisplay","cond","condCharStats","PersonAdd","CharArtifactCondDisplay","CharWeaponCondDisplay","CharTalentCondDisplay","artSetKey","slotkeys","partyConditionals","conds","condCharKey","condCharKeyHashed","charConds","condKey","TabPanel","hidden","aria-labelledby","propNewBuild","tabName","propCompareBuild","dbDirty","setDbDirty","teammate1","teammate2","teammate3","createWeapon","deepCloneStats","tab","settab","onTab","CharSelectDropdown","Tabs","Tab","setCharacter","HeaderIconDisplay","talents","getCollapseUtilityClass","CollapseRoot","orientation","entered","collapsedSize","visibility","CollapseWrapper","CollapseWrapperInner","wrapperInner","addEndListener","collapsedSizeProp","easing","inProp","onEntered","onEntering","onExit","onExiting","standard","Transition","timer","wrapperRef","autoTransitionDuration","isHorizontal","normalizedTransitionCallback","callback","maybeIsAppearing","getWrapperSize","handleEnter","handleEntering","wrapperSize","getTransitionProps","transitionTimingFunction","duration2","getAutoHeightDuration","handleEntered","handleExit","handleExited","handleExiting","childProps","muiSupportAuto","getListItemUtilityClass","listItemClasses","getListItemSecondaryActionClassesUtilityClass","ListItemSecondaryActionRoot","disableGutters","ListItemSecondaryAction","ListContext","muiName","ListItemRoot","dense","alignItemsFlexStart","divider","gutters","disablePadding","button","hasSecondaryAction","secondaryAction","textDecoration","boxSizing","paddingRight","listItemButtonClasses","focusVisible","focus","alpha","selectedOpacity","focusOpacity","disabledOpacity","borderBottom","backgroundClip","hover","hoverOpacity","ListItemContainer","ListItem","autoFocus","childrenProp","componentProp","components","componentsProps","ContainerComponent","ContainerProps","ContainerClassName","focusVisibleClassName","childContext","listItemRef","useEnhancedEffect","toArray","isMuiElement","Root","rootProps","componentProps","Component","ButtonBase","isHostComponent","getChipUtilityClass","chipClasses","ChipRoot","clickable","deleteIcon","deletable","deleteIconColor","fontFamily","pxToRem","outline","grey","avatarColorPrimary","avatarColorSecondary","avatarSmall","WebkitTapHighlightColor","userSelect","boxShadow","shadows","iconSmall","deleteIconSmall","ChipLabel","textOverflow","isDeleteKeyboardEvent","keyboardEvent","avatarProp","clickableProp","ComponentProp","deleteIconProp","iconProp","onKeyUp","chipRef","handleDeleteIconClick","stopPropagation","small","moreProps","customClasses","CancelIcon","preventDefault","blur","getCardMediaUtilityClass","CardMediaRoot","isMediaComponent","isImageComponent","media","backgroundRepeat","objectFit","MEDIA_COMPONENTS","IMAGE_COMPONENTS","composedStyle","getCardActionAreaUtilityClass","cardActionAreaClasses","CardActionAreaRoot","focusHighlight","CardActionAreaFocusHighlight","short","createBox","assign","arguments","source","prototype","hasOwnProperty","call","apply","getMasonryUtilityClass","parseToNumber","MasonryRoot","flexFlow","stylesSSR","isSSR","orderStyleSSR","defaultSpacing","defaultColumns","order","defaultHeight","spacingValues","resolveBreakpointValues","transformer","createUnarySpacing","deepmerge","handleBreakpoints","propValue","themeSpacingValue","maxColumnHeight","columnValues","columnValue","breakpoint","lastBreakpoint","column","Masonry","excluded","sourceKeys","masonryRef","setMaxColumnHeight","numberOfLineBreaks","setNumberOfLineBreaks","observer","ResizeObserver","elements","masonry","masonryFirstChild","parentWidth","childWidth","_elements$","_masonryFirstChild","_masonryFirstChild$co","_masonryFirstChild2","_elements$2","_masonry$contentRect","contentRect","firstChild","parentElement","firstChildComputedStyle","getComputedStyle","firstChildMarginLeft","firstChildMarginRight","currentNumberOfColumns","columnHeights","skip","childNodes","child","nodeType","Node","ELEMENT_NODE","dataset","class","childComputedStyle","childMarginTop","childMarginBottom","childHeight","nestedChild","tagName","currentMinColumnIndex","resizeObserver","observe","disconnect","lineBreakStyle","lineBreaks","getCardActionsUtilityClass","CardActionsRoot","disableSpacing","usePreviousProps","getBadgeUtilityClass","badgeUnstyledClasses","BadgeUnstyled","anchorOriginProp","classesProp","badgeContentProp","invisibleProp","invisible","maxProp","overlapProp","showZero","variantProp","prevProps","displayValue","badgeProps","badgeClasses","BadgeRoot","BadgeBadge","RADIUS_STANDARD","easeInOut","RADIUS_DOT","transformOrigin","_componentsProps$root","_componentsProps$badg","colorProp","extendUtilityClasses","Thumb","getAccordionUtilityClass","accordionClasses","AccordionRoot","region","rounded","overflowAnchor","disabledBackground","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","arr","defaultExpanded","expandedProp","setExpandedState","handleChange","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","summary","contextValue","getAccordionSummaryUtilityClass","accordionSummaryClasses","AccordionSummaryRoot","AccordionSummaryContent","AccordionSummaryExpandIconWrapper","expandIconWrapper","active","focusRipple","getAccordionDetailsUtilityClass","AccordionDetailsRoot"],"mappings":"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","file":"static/js/13.4db53e9c.chunk.js","sourcesContent":["import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { elementAcceptingRef, exactProp, unstable_ownerDocument as ownerDocument, unstable_useForkRef as useForkRef, unstable_useEventCallback as useEventCallback } from '@mui/utils'; // TODO: return `EventHandlerName extends `on${infer EventName}` ? Lowercase<EventName> : never` once generatePropTypes runs with TS 4.1\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction mapEventPropToEvent(eventProp) {\n  return eventProp.substring(2).toLowerCase();\n}\n\nfunction clickedRootScrollbar(event, doc) {\n  return doc.documentElement.clientWidth < event.clientX || doc.documentElement.clientHeight < event.clientY;\n}\n\n/**\n * Listen for click events that occur somewhere in the document, outside of the element itself.\n * For instance, if you need to hide a menu when people click anywhere else on your page.\n *\n * Demos:\n *\n * - [Click Away Listener](https://mui.com/components/click-away-listener/)\n * - [Menus](https://mui.com/components/menus/)\n *\n * API:\n *\n * - [ClickAwayListener API](https://mui.com/api/click-away-listener/)\n */\nfunction ClickAwayListener(props) {\n  const {\n    children,\n    disableReactTree = false,\n    mouseEvent = 'onClick',\n    onClickAway,\n    touchEvent = 'onTouchEnd'\n  } = props;\n  const movedRef = React.useRef(false);\n  const nodeRef = React.useRef(null);\n  const activatedRef = React.useRef(false);\n  const syntheticEventRef = React.useRef(false);\n  React.useEffect(() => {\n    // Ensure that this component is not \"activated\" synchronously.\n    // https://github.com/facebook/react/issues/20074\n    setTimeout(() => {\n      activatedRef.current = true;\n    }, 0);\n    return () => {\n      activatedRef.current = false;\n    };\n  }, []);\n  const handleRef = useForkRef( // @ts-expect-error TODO upstream fix\n  children.ref, nodeRef); // The handler doesn't take event.defaultPrevented into account:\n  //\n  // event.preventDefault() is meant to stop default behaviors like\n  // clicking a checkbox to check it, hitting a button to submit a form,\n  // and hitting left arrow to move the cursor in a text input etc.\n  // Only special HTML elements have these default behaviors.\n\n  const handleClickAway = useEventCallback(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = syntheticEventRef.current;\n    syntheticEventRef.current = false;\n    const doc = ownerDocument(nodeRef.current); // 1. IE11 support, which trigger the handleClickAway even after the unbind\n    // 2. The child might render null.\n    // 3. Behave like a blur listener.\n\n    if (!activatedRef.current || !nodeRef.current || 'clientX' in event && clickedRootScrollbar(event, doc)) {\n      return;\n    } // Do not act if user performed touchmove\n\n\n    if (movedRef.current) {\n      movedRef.current = false;\n      return;\n    }\n\n    let insideDOM; // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n\n    if (event.composedPath) {\n      insideDOM = event.composedPath().indexOf(nodeRef.current) > -1;\n    } else {\n      insideDOM = !doc.documentElement.contains( // @ts-expect-error returns `false` as intended when not dispatched from a Node\n      event.target) || nodeRef.current.contains( // @ts-expect-error returns `false` as intended when not dispatched from a Node\n      event.target);\n    }\n\n    if (!insideDOM && (disableReactTree || !insideReactTree)) {\n      onClickAway(event);\n    }\n  }); // Keep track of mouse/touch events that bubbled up through the portal.\n\n  const createHandleSynthetic = handlerName => event => {\n    syntheticEventRef.current = true;\n    const childrenPropsHandler = children.props[handlerName];\n\n    if (childrenPropsHandler) {\n      childrenPropsHandler(event);\n    }\n  };\n\n  const childrenProps = {\n    ref: handleRef\n  };\n\n  if (touchEvent !== false) {\n    childrenProps[touchEvent] = createHandleSynthetic(touchEvent);\n  }\n\n  React.useEffect(() => {\n    if (touchEvent !== false) {\n      const mappedTouchEvent = mapEventPropToEvent(touchEvent);\n      const doc = ownerDocument(nodeRef.current);\n\n      const handleTouchMove = () => {\n        movedRef.current = true;\n      };\n\n      doc.addEventListener(mappedTouchEvent, handleClickAway);\n      doc.addEventListener('touchmove', handleTouchMove);\n      return () => {\n        doc.removeEventListener(mappedTouchEvent, handleClickAway);\n        doc.removeEventListener('touchmove', handleTouchMove);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, touchEvent]);\n\n  if (mouseEvent !== false) {\n    childrenProps[mouseEvent] = createHandleSynthetic(mouseEvent);\n  }\n\n  React.useEffect(() => {\n    if (mouseEvent !== false) {\n      const mappedMouseEvent = mapEventPropToEvent(mouseEvent);\n      const doc = ownerDocument(nodeRef.current);\n      doc.addEventListener(mappedMouseEvent, handleClickAway);\n      return () => {\n        doc.removeEventListener(mappedMouseEvent, handleClickAway);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, mouseEvent]);\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: /*#__PURE__*/React.cloneElement(children, childrenProps)\n  });\n}\n\nprocess.env.NODE_ENV !== \"production\" ? ClickAwayListener.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The wrapped element.\n   */\n  children: elementAcceptingRef.isRequired,\n\n  /**\n   * If `true`, the React tree is ignored and only the DOM tree is considered.\n   * This prop changes how portaled elements are handled.\n   * @default false\n   */\n  disableReactTree: PropTypes.bool,\n\n  /**\n   * The mouse event to listen to. You can disable the listener by providing `false`.\n   * @default 'onClick'\n   */\n  mouseEvent: PropTypes.oneOf(['onClick', 'onMouseDown', 'onMouseUp', false]),\n\n  /**\n   * Callback fired when a \"click away\" event is detected.\n   */\n  onClickAway: PropTypes.func.isRequired,\n\n  /**\n   * The touch event to listen to. You can disable the listener by providing `false`.\n   * @default 'onTouchEnd'\n   */\n  touchEvent: PropTypes.oneOf(['onTouchEnd', 'onTouchStart', false])\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  ClickAwayListener['propTypes' + ''] = exactProp(ClickAwayListener.propTypes);\n}\n\nexport default ClickAwayListener;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getSnackbarContentUtilityClass(slot) {\n  return generateUtilityClass('MuiSnackbarContent', slot);\n}\nconst snackbarContentClasses = generateUtilityClasses('MuiSnackbarContent', ['root', 'message', 'action']);\nexport default snackbarContentClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"action\", \"className\", \"message\", \"role\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { emphasize } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Paper from '../Paper';\nimport { getSnackbarContentUtilityClass } from './snackbarContentClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    action: ['action'],\n    message: ['message']\n  };\n  return composeClasses(slots, getSnackbarContentUtilityClass, classes);\n};\n\nconst SnackbarContentRoot = styled(Paper, {\n  name: 'MuiSnackbarContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => {\n  const emphasis = theme.palette.mode === 'light' ? 0.8 : 0.98;\n  const backgroundColor = emphasize(theme.palette.background.default, emphasis);\n  return _extends({}, theme.typography.body2, {\n    color: theme.palette.getContrastText(backgroundColor),\n    backgroundColor,\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    padding: '6px 16px',\n    borderRadius: theme.shape.borderRadius,\n    flexGrow: 1,\n    [theme.breakpoints.up('sm')]: {\n      flexGrow: 'initial',\n      minWidth: 288\n    }\n  });\n});\nconst SnackbarContentMessage = styled('div', {\n  name: 'MuiSnackbarContent',\n  slot: 'Message',\n  overridesResolver: (props, styles) => styles.message\n})({\n  padding: '8px 0'\n});\nconst SnackbarContentAction = styled('div', {\n  name: 'MuiSnackbarContent',\n  slot: 'Action',\n  overridesResolver: (props, styles) => styles.action\n})({\n  display: 'flex',\n  alignItems: 'center',\n  marginLeft: 'auto',\n  paddingLeft: 16,\n  marginRight: -8\n});\nconst SnackbarContent = /*#__PURE__*/React.forwardRef(function SnackbarContent(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSnackbarContent'\n  });\n\n  const {\n    action,\n    className,\n    message,\n    role = 'alert'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(SnackbarContentRoot, _extends({\n    role: role,\n    square: true,\n    elevation: 6,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: [/*#__PURE__*/_jsx(SnackbarContentMessage, {\n      className: classes.message,\n      ownerState: ownerState,\n      children: message\n    }), action ? /*#__PURE__*/_jsx(SnackbarContentAction, {\n      className: classes.action,\n      ownerState: ownerState,\n      children: action\n    }) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? SnackbarContent.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * The ARIA role attribute of the element.\n   * @default 'alert'\n   */\n  role: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default SnackbarContent;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getSnackbarUtilityClass(slot) {\n  return generateUtilityClass('MuiSnackbar', slot);\n}\nconst snackbarClasses = generateUtilityClasses('MuiSnackbar', ['root', 'anchorOriginTopCenter', 'anchorOriginBottomCenter', 'anchorOriginTopRight', 'anchorOriginBottomRight', 'anchorOriginTopLeft', 'anchorOriginBottomLeft']);\nexport default snackbarClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"onEnter\", \"onExited\"],\n      _excluded2 = [\"action\", \"anchorOrigin\", \"autoHideDuration\", \"children\", \"className\", \"ClickAwayListenerProps\", \"ContentProps\", \"disableWindowBlurListener\", \"message\", \"onBlur\", \"onClose\", \"onFocus\", \"onMouseEnter\", \"onMouseLeave\", \"open\", \"resumeHideDuration\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport ClickAwayListener from '@mui/base/ClickAwayListener';\nimport styled from '../styles/styled';\nimport useTheme from '../styles/useTheme';\nimport useThemeProps from '../styles/useThemeProps';\nimport { duration } from '../styles/createTransitions';\nimport useEventCallback from '../utils/useEventCallback';\nimport capitalize from '../utils/capitalize';\nimport Grow from '../Grow';\nimport SnackbarContent from '../SnackbarContent';\nimport { getSnackbarUtilityClass } from './snackbarClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    anchorOrigin\n  } = ownerState;\n  const slots = {\n    root: ['root', `anchorOrigin${capitalize(anchorOrigin.vertical)}${capitalize(anchorOrigin.horizontal)}`]\n  };\n  return composeClasses(slots, getSnackbarUtilityClass, classes);\n};\n\nconst SnackbarRoot = styled('div', {\n  name: 'MuiSnackbar',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[`anchorOrigin${capitalize(ownerState.anchorOrigin.vertical)}${capitalize(ownerState.anchorOrigin.horizontal)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const center = _extends({}, !ownerState.isRtl && {\n    left: '50%',\n    right: 'auto',\n    transform: 'translateX(-50%)'\n  }, ownerState.isRtl && {\n    right: '50%',\n    left: 'auto',\n    transform: 'translateX(50%)'\n  });\n\n  return _extends({\n    zIndex: theme.zIndex.snackbar,\n    position: 'fixed',\n    display: 'flex',\n    left: 8,\n    right: 8,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }, ownerState.anchorOrigin.vertical === 'top' ? {\n    top: 8\n  } : {\n    bottom: 8\n  }, ownerState.anchorOrigin.horizontal === 'left' && {\n    justifyContent: 'flex-start'\n  }, ownerState.anchorOrigin.horizontal === 'right' && {\n    justifyContent: 'flex-end'\n  }, {\n    [theme.breakpoints.up('sm')]: _extends({}, ownerState.anchorOrigin.vertical === 'top' ? {\n      top: 24\n    } : {\n      bottom: 24\n    }, ownerState.anchorOrigin.horizontal === 'center' && center, ownerState.anchorOrigin.horizontal === 'left' && _extends({}, !ownerState.isRtl && {\n      left: 24,\n      right: 'auto'\n    }, ownerState.isRtl && {\n      right: 24,\n      left: 'auto'\n    }), ownerState.anchorOrigin.horizontal === 'right' && _extends({}, !ownerState.isRtl && {\n      right: 24,\n      left: 'auto'\n    }, ownerState.isRtl && {\n      left: 24,\n      right: 'auto'\n    }))\n  });\n});\nconst Snackbar = /*#__PURE__*/React.forwardRef(function Snackbar(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSnackbar'\n  });\n\n  const {\n    action,\n    anchorOrigin: {\n      vertical,\n      horizontal\n    } = {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    autoHideDuration = null,\n    children,\n    className,\n    ClickAwayListenerProps,\n    ContentProps,\n    disableWindowBlurListener = false,\n    message,\n    onBlur,\n    onClose,\n    onFocus,\n    onMouseEnter,\n    onMouseLeave,\n    open,\n    resumeHideDuration,\n    TransitionComponent = Grow,\n    transitionDuration = {\n      enter: duration.enteringScreen,\n      exit: duration.leavingScreen\n    },\n    TransitionProps: {\n      onEnter,\n      onExited\n    } = {}\n  } = props,\n        TransitionProps = _objectWithoutPropertiesLoose(props.TransitionProps, _excluded),\n        other = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  const theme = useTheme();\n  const isRtl = theme.direction === 'rtl';\n\n  const ownerState = _extends({}, props, {\n    anchorOrigin: {\n      vertical,\n      horizontal\n    },\n    isRtl\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const timerAutoHide = React.useRef();\n  const [exited, setExited] = React.useState(true);\n  const handleClose = useEventCallback((...args) => {\n    if (onClose) {\n      onClose(...args);\n    }\n  });\n  const setAutoHideTimer = useEventCallback(autoHideDurationParam => {\n    if (!onClose || autoHideDurationParam == null) {\n      return;\n    }\n\n    clearTimeout(timerAutoHide.current);\n    timerAutoHide.current = setTimeout(() => {\n      handleClose(null, 'timeout');\n    }, autoHideDurationParam);\n  });\n  React.useEffect(() => {\n    if (open) {\n      setAutoHideTimer(autoHideDuration);\n    }\n\n    return () => {\n      clearTimeout(timerAutoHide.current);\n    };\n  }, [open, autoHideDuration, setAutoHideTimer]); // Pause the timer when the user is interacting with the Snackbar\n  // or when the user hide the window.\n\n  const handlePause = () => {\n    clearTimeout(timerAutoHide.current);\n  }; // Restart the timer when the user is no longer interacting with the Snackbar\n  // or when the window is shown back.\n\n\n  const handleResume = React.useCallback(() => {\n    if (autoHideDuration != null) {\n      setAutoHideTimer(resumeHideDuration != null ? resumeHideDuration : autoHideDuration * 0.5);\n    }\n  }, [autoHideDuration, resumeHideDuration, setAutoHideTimer]);\n\n  const handleFocus = event => {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    handlePause();\n  };\n\n  const handleMouseEnter = event => {\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n\n    handlePause();\n  };\n\n  const handleBlur = event => {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    handleResume();\n  };\n\n  const handleMouseLeave = event => {\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    handleResume();\n  };\n\n  const handleClickAway = event => {\n    if (onClose) {\n      onClose(event, 'clickaway');\n    }\n  };\n\n  const handleExited = node => {\n    setExited(true);\n\n    if (onExited) {\n      onExited(node);\n    }\n  };\n\n  const handleEnter = (node, isAppearing) => {\n    setExited(false);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  };\n\n  React.useEffect(() => {\n    // TODO: window global should be refactored here\n    if (!disableWindowBlurListener && open) {\n      window.addEventListener('focus', handleResume);\n      window.addEventListener('blur', handlePause);\n      return () => {\n        window.removeEventListener('focus', handleResume);\n        window.removeEventListener('blur', handlePause);\n      };\n    }\n\n    return undefined;\n  }, [disableWindowBlurListener, handleResume, open]);\n  React.useEffect(() => {\n    if (!open) {\n      return undefined;\n    }\n    /**\n     * @param {KeyboardEvent} nativeEvent\n     */\n\n\n    function handleKeyDown(nativeEvent) {\n      if (!nativeEvent.defaultPrevented) {\n        // IE11, Edge (prior to using Bink?) use 'Esc'\n        if (nativeEvent.key === 'Escape' || nativeEvent.key === 'Esc') {\n          // not calling `preventDefault` since we don't know if people may ignore this event e.g. a permanently open snackbar\n          if (onClose) {\n            onClose(nativeEvent, 'escapeKeyDown');\n          }\n        }\n      }\n    }\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [exited, open, onClose]); // So we only render active snackbars.\n\n  if (!open && exited) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsx(ClickAwayListener, _extends({\n    onClickAway: handleClickAway\n  }, ClickAwayListenerProps, {\n    children: /*#__PURE__*/_jsx(SnackbarRoot, _extends({\n      className: clsx(classes.root, className),\n      onBlur: handleBlur,\n      onFocus: handleFocus,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      ownerState: ownerState,\n      ref: ref\n    }, other, {\n      children: /*#__PURE__*/_jsx(TransitionComponent, _extends({\n        appear: true,\n        in: open,\n        timeout: transitionDuration,\n        direction: vertical === 'top' ? 'down' : 'up',\n        onEnter: handleEnter,\n        onExited: handleExited\n      }, TransitionProps, {\n        children: children || /*#__PURE__*/_jsx(SnackbarContent, _extends({\n          message: message,\n          action: action\n        }, ContentProps))\n      }))\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Snackbar.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The anchor of the `Snackbar`.\n   * On smaller screens, the component grows to occupy all the available width,\n   * the horizontal alignment is ignored.\n   * @default { vertical: 'bottom', horizontal: 'left' }\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['center', 'left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The number of milliseconds to wait before automatically calling the\n   * `onClose` function. `onClose` should then set the state of the `open`\n   * prop to hide the Snackbar. This behavior is disabled by default with\n   * the `null` value.\n   * @default null\n   */\n  autoHideDuration: PropTypes.number,\n\n  /**\n   * Replace the `SnackbarContent` component.\n   */\n  children: PropTypes.element,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Props applied to the `ClickAwayListener` element.\n   */\n  ClickAwayListenerProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`SnackbarContent`](/api/snackbar-content/) element.\n   */\n  ContentProps: PropTypes.object,\n\n  /**\n   * If `true`, the `autoHideDuration` timer will expire even if the window is not focused.\n   * @default false\n   */\n  disableWindowBlurListener: PropTypes.bool,\n\n  /**\n   * When displaying multiple consecutive Snackbars from a parent rendering a single\n   * <Snackbar/>, add the key prop to ensure independent treatment of each message.\n   * e.g. <Snackbar key={message} />, otherwise, the message may update-in-place and\n   * features such as autoHideDuration may be canceled.\n   */\n  key: () => null,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * Typically `onClose` is used to set state in the parent component,\n   * which is used to control the `Snackbar` `open` prop.\n   * The `reason` parameter can optionally be used to control the response to `onClose`,\n   * for example ignoring `clickaway`.\n   *\n   * @param {React.SyntheticEvent<any> | Event} event The event source of the callback.\n   * @param {string} reason Can be: `\"timeout\"` (`autoHideDuration` expired), `\"clickaway\"`, or `\"escapeKeyDown\"`.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseLeave: PropTypes.func,\n\n  /**\n   * If `true`, the component is shown.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * The number of milliseconds to wait before dismissing after user interaction.\n   * If `autoHideDuration` prop isn't specified, it does nothing.\n   * If `autoHideDuration` prop is specified but `resumeHideDuration` isn't,\n   * we default to `autoHideDuration / 2` ms.\n   */\n  resumeHideDuration: PropTypes.number,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   * @default Grow\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   * @default {\n   *   enter: duration.enteringScreen,\n   *   exit: duration.leavingScreen,\n   * }\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * Props applied to the transition element.\n   * By default, the element is based on this [`Transition`](https://reactcommunity.org/react-transition-group/transition) component.\n   * @default {}\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default Snackbar;","// @ts-nocheck\r\n// The *type* of these data are in schema and so are unknown at compile time.\r\n// Type annotation here will only amount to adding `any` everywhere\r\n\r\n/// Schema keys\r\n/// Common {\r\n///   encode?: A function that transform encoding object into the specified format\r\n///   decode?: A function that transform object in the specified format into the decoded object\r\n/// }\r\n///\r\n/// UInt: { type: \"uint\",\r\n///   length?: number of bytes, uses variable-length format if not set,\r\n/// }\r\n/// String: { type: \"string\" }\r\n/// Array: { type: \"array\",\r\n///   schemas?: Array of schemas, in the same order as the item,\r\n///   defaultSchema?: Default schema for when `schemas[i]` is `null`,\r\n/// }\r\n/// Object: { type: \"object\",\r\n///   schemas: A key-schema dictionary. All keys are encoded\r\n///   default: default value if the object[key] doesn't exist\r\n/// }\r\n/// Sparse: { type: \"sparse\",\r\n///   keys?: A list of permitted keys, `null` if all keys are permitted,\r\n///   keySchema: Common schema for keys,\r\n///   valueSchema: Common schema for values,\r\n/// }\r\n\r\nexport function encode(data, schema) {\r\n  return encodeItem(data, schema, null)\r\n}\r\nexport function decode(string, schema) {\r\n  const stream = new BlockStream(string)\r\n  const result = decodeItem(stream, schema, null)\r\n  stream.end()\r\n  return result\r\n}\r\n\r\nfunction encodeItem(data, schema, pathItem) {\r\n  try {\r\n    if (schema.encode)\r\n      data = schema.encode(data)\r\n    switch (schema.type) {\r\n      case \"uint\": return encodeUInt(data, schema)\r\n      case \"string\": return encodeString(data, schema)\r\n      case \"array\": return encodeArray(data, schema)\r\n      case \"object\": return encodeObject(data, schema)\r\n      case \"sparse\": return encodeSparse(data, schema)\r\n      default: throw new Error(`Unsupported schema type ${schema.type} on array`)\r\n    }\r\n  } catch (error) {\r\n    error.path = error.path ?? []\r\n    error.path.push(pathItem)\r\n    throw error\r\n  }\r\n}\r\nfunction decodeItem(stream, schema, pathItem) {\r\n  try {\r\n    let result\r\n    switch (schema.type) {\r\n      case \"uint\": result = decodeUInt(stream, schema); break\r\n      case \"string\": result = decodeString(stream, schema); break\r\n      case \"array\": result = decodeArray(stream, schema); break\r\n      case \"object\": result = decodeObject(stream, schema); break\r\n      case \"sparse\": result = decodeSparse(stream, schema); break\r\n      default: throw new Error(`Unsupported schema type ${schema.type} on array`)\r\n    }\r\n    if (schema.decode)\r\n      return schema.decode(result)\r\n    return result\r\n  } catch (error) {\r\n    error.path = error.path ?? []\r\n    error.path.push(pathItem)\r\n    throw error\r\n  }\r\n}\r\n\r\nfunction encodeSparse(data, schema) {\r\n  const { keySchema, keys, valueSchema } = schema\r\n  const items = Object.entries(data).filter(([key]) => keys?.includes(key) ?? true)\r\n\r\n  return encodeLength(items.length) + items.map(([key, value]) =>\r\n    encodeItem(key, keySchema, key) + encodeItem(value, valueSchema, key)\r\n  ).join('')\r\n}\r\nfunction decodeSparse(stream, schema) {\r\n  const { keys, keySchema, valueSchema } = schema\r\n  const length = decodeLength(stream)\r\n\r\n  return Object.fromEntries([...new Array(length)].map(() => {\r\n    const key = decodeItem(stream, keySchema, null)\r\n    const value = decodeItem(stream, valueSchema, key)\r\n    return [key, value]\r\n  }).filter(([key]) => keys?.includes(key) ?? true))\r\n}\r\n\r\nfunction encodeObject(data, schema: { schemas: any[], default: any }) {\r\n  const { schemas = [] } = schema\r\n  return Object.entries(schemas).map(([key, schema]) =>\r\n    encodeItem(key in data ? data[key] : schema.default, schema, key)\r\n  ).join('')\r\n}\r\nfunction decodeObject(stream, schema) {\r\n  const { schemas = [] } = schema\r\n  return Object.fromEntries(Object.entries(schemas).map(([key, schema]) =>\r\n    [key, decodeItem(stream, schema, key)]\r\n  ))\r\n}\r\n\r\nfunction encodeArray(data, schema) {\r\n  const { schemas = [], defaultSchema } = schema\r\n  return encodeLength(data.length) + data.map((item, i) =>\r\n    encodeItem(item, schemas[i] ?? defaultSchema, i)\r\n  ).join('')\r\n}\r\nfunction decodeArray(stream, schema) {\r\n  const { schemas = [], defaultSchema } = schema, length = decodeLength(stream)\r\n  return [...new Array(length)].map((unused, i) =>\r\n    decodeItem(stream, schemas[i] ?? defaultSchema, i))\r\n}\r\n\r\nfunction encodeString(string, schema) {\r\n  if (!string.match(/^[a-z0-9\\-_]*$/i))\r\n    throw new Error(`Cannot encode string ${string}: not alphanumeric or -_`)\r\n  return encodeLength(string.length) + string\r\n}\r\nfunction decodeString(stream, schema) {\r\n  const string = stream.take(decodeLength(stream))\r\n  if (!string.match(/^[a-z0-9\\-_]*$/i))\r\n    throw new Error(`Cannot decode string ${string}: not alphanumeric or -_`)\r\n  return string\r\n}\r\n\r\nfunction encodeUInt(uint, schema) {\r\n  const string = uintToString(uint, schema.length)\r\n  return schema.length ? string : (encodeLength(string.length) + string)\r\n}\r\nfunction decodeUInt(stream, schema) {\r\n  let length = schema.length || decodeLength(stream)\r\n  return stringToUInt(stream.take(length))\r\n}\r\n\r\n// Keep the length low. We might want to reserve high bits for later extension.\r\nfunction encodeLength(length) {\r\n  if (length >= 32)\r\n    throw new Error(`Length (${length}) too large`)\r\n  return uintToString(length, 1)\r\n}\r\nfunction decodeLength(stream) {\r\n  let length = stringToUInt(stream.take(1))\r\n  if (length >= 32)\r\n    throw new Error(`Length (${length}) too large`)\r\n  return length\r\n}\r\n\r\nexport function uintToString(number, length = 0) {\r\n  if (number < 0) throw new Error(`Cannot encode negative number ${number}`)\r\n\r\n  var string = \"\"\r\n  while (number > 0) {\r\n    const remainder = number % 64\r\n    number = Math.floor(number / 64)\r\n    if (remainder < 10) // 0-9\r\n      string += String.fromCharCode(remainder + 48 - 0)\r\n    else if (remainder < 36) // a-z\r\n      string += String.fromCharCode(remainder + 97 - 10)\r\n    else if (remainder < 62) // A-Z\r\n      string += String.fromCharCode(remainder + 65 - 36)\r\n    else if (remainder === 62) // -\r\n      string += \"-\"\r\n    else if (remainder === 63) // _\r\n      string += \"_\"\r\n  }\r\n\r\n  if (!length)\r\n    return string\r\n\r\n  if (string.length > length)\r\n    throw new Error(`Cannot encode uint ${number}: value too large`)\r\n  return string.padEnd(length, \"0\")\r\n}\r\nexport function stringToUInt(string) {\r\n  let result = 0, multiplier = 1\r\n\r\n  for (let i = 0; i < string.length; i++) {\r\n    let code = string.charCodeAt(i)\r\n\r\n    if (48 <= code && code < 58) // 0-9\r\n      result += multiplier * (code - 48 + 0)\r\n    else if (97 <= code && code < 123) // a-z\r\n      result += multiplier * (code - 97 + 10)\r\n    else if (65 <= code && code < 91) // A-Z\r\n      result += multiplier * (code - 65 + 36)\r\n    else if (string[i] === '-')\r\n      result += multiplier * 62\r\n    else if (string[i] === '_')\r\n      result += multiplier * 63\r\n    else throw new Error(`Cannot parse UInt from \"${string}\", which contains \"${String.fromCharCode(code)}\"`)\r\n\r\n    multiplier *= 64\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nclass BlockStream {\r\n  string: string\r\n  offset: number\r\n  constructor(string) {\r\n    this.string = string\r\n    this.offset = 0\r\n  }\r\n  take(count) {\r\n    if (this.offset + count > this.string.length)\r\n      throw new Error(`Cannot take ${count} items from ${this.string.slice(this.offset)}`)\r\n\r\n    const result = this.string.slice(this.offset, this.offset + count)\r\n    this.offset += count\r\n    return result\r\n  }\r\n  end() {\r\n    if (this.string.length !== this.offset)\r\n      throw new Error(`Unused string ${this.string.slice(this.offset)}`)\r\n  }\r\n}\r\n","import { ascensionMaxLevel } from \"../../Data/LevelData\"\r\nimport { allSlotKeys, allElements, allArtifactSets, allHitModes, allReactionModes, allCharacterKeys, CharacterKey } from \"../../Types/consts\"\r\nimport { crawlObject } from \"../../Util/Util\"\r\nimport { uintToString, stringToUInt } from \"./stringSerialization\"\r\n\r\n// DO NOT REMOVE ITEMS FROM THESE LISTS\r\n//        ONLY APPEND NEW ENTRIES\r\n// The index of items in this list is used to\r\n// compress the exported data. Removing an item\r\n// from this list will shift subsequent entries.\r\nconst stats = [\r\n  \"\", \"hp\", \"hp_\", \"atk\", \"atk_\", \"def\", \"def_\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\", \"heal_\",\r\n  \"physical_dmg_\", \"anemo_dmg_\", \"cryo_dmg_\", \"dendro_dmg_\", \"electro_dmg_\", \"geo_dmg_\", \"hydro_dmg_\", \"pyro_dmg_\",\r\n] as const\r\n\r\n// Common schemas\r\n\r\nconst uint = (length) => ({ type: \"uint\", length })\r\nconst float = {\r\n  type: \"string\",\r\n  encode: (value) => value.toString().replace(/\\./g, '_'),\r\n  decode: (string) => parseFloat(string.replace(/_/g, '.')),\r\n}\r\nconst string = { type: \"string\" }\r\nconst array = (defaultSchema, other = {}) => ({ type: \"array\", defaultSchema, ...other })\r\nconst object = (schemas, other = {}) => ({ type: \"object\", schemas, ...other })\r\nconst sparse = (keySchema, valueSchema, keys = null) => ({ type: \"sparse\", keys, keySchema, valueSchema })\r\n\r\n// Util schema\r\n\r\nconst optional = (list, defaultValue: any = undefined, length = 1) => ({\r\n  type: \"uint\", length,\r\n  encode: item => list.indexOf(item) + 1,\r\n  decode: index => list[index - 1] ?? defaultValue,\r\n})\r\nconst fixed = (list, length = 1) => ({\r\n  type: \"uint\", length,\r\n  encode: (item) => list.indexOf(item),\r\n  decode: (index) => list[index],\r\n})\r\nconst stat = fixed(stats)\r\nconst artifactSet = fixed(allArtifactSets)\r\nconst slot = fixed(allSlotKeys)\r\nconst characterKey = fixed(allCharacterKeys)\r\nconst hitMode = fixed(allHitModes)\r\nconst reactionMode = fixed([\"\", ...allReactionModes])\r\nconst element = optional(allElements, '')\r\n\r\n// Complex schema\r\n\r\nconst substat = object({\r\n  key: stat,\r\n  value: uint(2),\r\n}, {\r\n  encode: ({ key, value }) => {\r\n    let factor = key.endsWith(\"_\") ? 10 : 1 // one decimal place for percentage\r\n    return { key, value: value * factor }\r\n  },\r\n  decode: ({ key, value }) => {\r\n    let factor = key.endsWith(\"_\") ? 10 : 1 // one decomal place for percentage\r\n    return { key, value: value / factor }\r\n  }\r\n})\r\nconst conditionalValues = array(object({\r\n  path: array(string), value: array(string)\r\n}), {\r\n  encode: (conditionalValues) => {\r\n    let result: { path, value }[] = []\r\n    crawlObject(conditionalValues, [], c => Array.isArray(c), (value, path) => {\r\n      result.push({ path, value: value.map(item => item.toString()) })\r\n    })\r\n    result.filter(({ path }) => {\r\n      switch (path[0]) {\r\n        case \"character\":\r\n          path[0] = \"c\"\r\n          path[1] = uintToString(allCharacterKeys.indexOf(path[1]))\r\n          break\r\n        case \"weapon\":\r\n          path[0] = \"w\"\r\n          break\r\n        case \"artifact\":\r\n          path[0] = \"a\"\r\n          path[1] = uintToString(allArtifactSets.indexOf(path[1]))\r\n          break\r\n        default: return false\r\n      }\r\n      return true\r\n    })\r\n    return result\r\n  },\r\n  decode: (pathvalues) => {\r\n    const conditionalValues = { weapon: {}, artifact: {}, character: {} }\r\n    for (const { path, value } of pathvalues) {\r\n      switch (path[0]) {\r\n        case \"c\":\r\n          path[0] = \"character\"\r\n          path[1] = allCharacterKeys[stringToUInt(path[1])]\r\n          break\r\n        case \"w\":\r\n          path[0] = \"weapon\"\r\n          break\r\n        case \"a\":\r\n          path[0] = \"artifact\"\r\n          path[1] = allArtifactSets[stringToUInt(path[1])]\r\n          break\r\n        default:\r\n          continue\r\n      }\r\n      const last = path.pop()\r\n      let current = conditionalValues\r\n      for (const key of path) {\r\n        const next = current[key] ?? {}\r\n        current[key] = next\r\n        current = next\r\n      }\r\n      value[0] = parseFloat(value[0])\r\n      current[last] = value\r\n    }\r\n    return conditionalValues\r\n  }\r\n})\r\n\r\n// V2\r\n\r\nconst artifactV2 = object({\r\n  setKey: artifactSet,\r\n  numStars: uint(1),\r\n  level: uint(2),\r\n  mainStatKey: stat,\r\n  slotKey: slot,\r\n  substats: array(substat)\r\n}, {\r\n  decode: art => {\r\n    art.id = \"\"\r\n    art.lock = false\r\n    return art\r\n  }\r\n})\r\nconst weaponV2 = object({\r\n  key: string,\r\n  levelKey: string,\r\n  refineIndex: uint(1),\r\n  overrideMainVal: float,\r\n  overrideSubVal: float,\r\n}, {\r\n  decode: object => {\r\n    const levelKey = object.levelKey\r\n    delete object.levelKey\r\n    delete object.overrideMainVal\r\n    delete object.overrideSubVal\r\n    const [, lvla] = levelKey.split(\"L\")\r\n    const level = parseInt(lvla)\r\n    const ascension = ascensionMaxLevel.findIndex(maxLevel => level <= maxLevel)\r\n    const addAsc = lvla.includes(\"A\")\r\n    if (level < 0 || level > 90 || ascension < 0) {\r\n      object.level = 1\r\n      object.ascension = 0\r\n    } else {\r\n      object.level = level\r\n      object.ascension = ascension + (addAsc ? 1 : 0)\r\n    }\r\n    return object\r\n  }\r\n})\r\nconst characterV2 = object({\r\n  characterKey,\r\n  hitMode,\r\n  reactionMode,\r\n  constellation: uint(1),\r\n  overrideLevel: uint(2),\r\n  levelKey: string,\r\n  infusionAura: element,\r\n  talentLevelKeys: object({ auto: uint(1), skill: uint(1), burst: uint(1) }),\r\n  baseStatOverrides: sparse(string, float),\r\n  weapon: weaponV2,\r\n  conditionalValues,\r\n  reserved: array(uint(1)),\r\n}, {\r\n  decode: (value) => {\r\n    const isAscended = value.levelKey.slice(-1) === \"A\"\r\n    const levelString = isAscended ? value.levelKey.slice(1, -1) : value.levelKey.slice(1)\r\n    value.level = parseInt(levelString)\r\n    switch (value.level) {\r\n      case 1: value.ascension = 0; break\r\n      case 20: value.ascension = 0; break\r\n      case 40: value.ascension = 1; break\r\n      case 50: value.ascension = 2; break\r\n      case 60: value.ascension = 3; break\r\n      case 70: value.ascension = 4; break\r\n      case 80: value.ascension = 5; break\r\n      case 90: value.ascension = 6; break\r\n    }\r\n    if (isAscended) {\r\n      value.ascension += 1\r\n    }\r\n    if (value.baseStatOverrides.characterLevel) {\r\n      value.level = value.baseStatOverrides.characterLevel\r\n      delete value.baseStatOverrides.characterLevel\r\n    }\r\n    if (value.baseStatOverrides.weaponLevel) {\r\n      value.weapon.level = value.baseStatOverrides.weaponLevel\r\n      delete value.baseStatOverrides.weaponLevel\r\n    }\r\n    if (value.overrideLevel) {\r\n      value.level = value.overrideLevel\r\n    }\r\n    delete value.overrideLevel\r\n    delete value.levelKey\r\n\r\n    if (value.characterKey === \"Traveler\") {\r\n      value.elementKey = allElements[value.reserved[0] - 1] ?? \"anemo\"\r\n    }\r\n    delete value.reserved\r\n    return value\r\n  },\r\n})\r\n\r\nconst flexV2 = object({\r\n  artifacts: array(artifactV2),\r\n  character: characterV2,\r\n})\r\n\r\n// V3\r\n\r\nconst artifactV3 = object({\r\n  setKey: artifactSet,\r\n  // numStars\r\n  level: uint(2),\r\n  // slotKey\r\n  mainStatKey: stat,\r\n  substats: array(substat),\r\n  location: optional(allCharacterKeys),\r\n\r\n  // Mixed\r\n  raritySlotKey: uint(1),\r\n}, {\r\n  encode: value => {\r\n    value.raritySlotKey = allSlotKeys.indexOf(value.slotKey) * 8 + value.rarity\r\n    return value\r\n  },\r\n  decode: value => {\r\n    value.rarity = value.raritySlotKey % 8\r\n    value.slotKey = allSlotKeys[(value.raritySlotKey - value.rarity) / 8]\r\n    return value\r\n  }\r\n})\r\nconst weaponV3 = object({\r\n  key: string,\r\n  // level, ascension, refinement\r\n  location: optional(allCharacterKeys),\r\n\r\n  // Mixed\r\n  ascensionRefine: uint(1),\r\n  levelDiff: uint(1),\r\n}, {\r\n  encode: object => {\r\n    object.ascensionRefine = object.ascension * 8 + object.refinement\r\n    object.levelDiff = ascensionMaxLevel[object.ascension] - object.level\r\n    return object\r\n  },\r\n  decode: object => {\r\n    object.refinement = object.ascensionRefine % 8\r\n    object.ascension = (object.ascensionRefine - object.refinement) / 8\r\n    object.level = ascensionMaxLevel[object.ascension] - object.levelDiff\r\n    object.lock = false\r\n    return object\r\n  }\r\n})\r\nconst characterV3 = object({\r\n  key: characterKey,\r\n  // level, ascension\r\n  hitMode,\r\n  // elementKey\r\n  reactionMode,\r\n  conditionalValues,\r\n  bonusStats: sparse(string, float),\r\n  talent: object({ auto: uint(1), skill: uint(1), burst: uint(1) }),\r\n  infusionAura: element,\r\n  // constellation\r\n\r\n  // Mixed\r\n  levelDiff: uint(1),\r\n  ascensionConstellation: uint(1),\r\n  reserved: array(uint(1)),\r\n}, {\r\n  encode: (value) => {\r\n    value.levelDiff = ascensionMaxLevel[value.ascension] - value.level\r\n    value.ascensionConstellation = value.ascension * 8 + value.constellation\r\n\r\n    if ((value.characterKey as CharacterKey) !== \"Traveler\") value.reserved = []\r\n    else value.reserved = [allElements.indexOf(value.elementKey)]\r\n\r\n    return value\r\n  },\r\n  decode: (value) => {\r\n    value.constellation = value.ascensionConstellation % 8\r\n    value.ascension = (value.ascensionConstellation - value.constellation) / 8\r\n    value.level = ascensionMaxLevel[value.ascension] - value.levelDiff\r\n\r\n    if ((value.characterKey as CharacterKey) === \"Traveler\")\r\n      value.elementKey = allElements[value.reserved[0]] ?? \"anemo\"\r\n    return value\r\n  },\r\n})\r\n\r\nconst flexV3 = object({\r\n  characters: array(characterV3),\r\n  artifacts: array(artifactV3),\r\n  weapons: array(weaponV3),\r\n})\r\n\r\nconst flexV4 = object({\r\n  characters: array(characterV3),\r\n  artifacts: array(artifactV3),\r\n  weapons: array(weaponV3),\r\n  dbVer: uint(1),\r\n})\r\n\r\n// MIGRATION STEP: Update ONLY the latest flex (currently v3) to match the current format\r\n\r\nexport const schemas = {\r\n  flexV2, flexV3, flexV4,\r\n}\r\n// For testing purpose only, no need to maintain strict ordering\r\nexport const constants = {\r\n  reactionModes: [\"\", ...allReactionModes], stats\r\n}\r\n","import { ArtCharDatabase } from \"../Database\";\r\nimport { SandboxStorage } from \"../DBStorage\";\r\nimport { currentDBVersion } from \"../migration\";\r\nimport { IArtifact } from \"../../Types/artifact\";\r\nimport { CharacterKey } from \"../../Types/consts\";\r\nimport { decode, encode } from \"./stringSerialization\";\r\nimport { schemas } from \"./flexSchema\";\r\nimport { Sheets } from \"../../ReactHooks/useSheets\";\r\nimport Character from \"../../Character/Character\";\r\nimport { deepClone } from \"../../Util/Util\";\r\n\r\nexport function exportFlex(characterKey: CharacterKey, database: ArtCharDatabase, sheets: Sheets): string | null {\r\n  const char = database._getChar(characterKey)\r\n  if (!char) return null;\r\n  const character = deepClone(char)\r\n  const build = Character.calculateBuild(character, database, sheets)\r\n  Object.entries(build.partyBuff).forEach(([key, val]: any) => {\r\n    // Need to check for enemyRes because its an override instead of additive\r\n    if (character.bonusStats[key] === undefined) character.bonusStats[key] = (key.includes(\"_enemyRes_\") ? 10 : 0) + val\r\n    else if (typeof character.bonusStats[key] === \"number\") character.bonusStats[key] += val\r\n  })\r\n  const weapon = database._getWeapon(character.equippedWeapon)!\r\n  const artifacts = Object.values(character.equippedArtifacts)\r\n    .filter(art => art)\r\n    .map(id => database._getArt(id)!)\r\n\r\n  try {\r\n    return \"v=4&d=\" + encode({ characters: [character], weapons: [weapon], artifacts, dbVer: currentDBVersion }, schemas.flexV4)\r\n  } catch (error) {\r\n    if (process.env.NODE_ENV === \"development\")\r\n      console.error(`Fail to encode data on path ${(error as any).path?.reverse() ?? []}: ${error}`)\r\n    return null\r\n  }\r\n}\r\n\r\nexport function importFlex(string: string): [ArtCharDatabase, CharacterKey, number] | undefined {\r\n  const parameters = Object.fromEntries(string.split('&').map(s => s.split('=')))\r\n\r\n  try {\r\n    switch (parameters.v) {\r\n      case \"2\": return [...importFlexV2(parameters.d), 2]\r\n      case \"3\": return [...importFlexV3(parameters.d), 3]\r\n      case \"4\": return [...importFlexV4(parameters.d), 4]\r\n      default: return\r\n    }\r\n  } catch (error) {\r\n    //if (process.env.NODE_ENV === \"development\")\r\n    console.error(`Fail to encode data on path ${(error as any).path?.reverse() ?? []}: ${error}`)\r\n    return\r\n  }\r\n}\r\n\r\nfunction importFlexV2(string: string): [ArtCharDatabase, CharacterKey] {\r\n  const schema = schemas.flexV2\r\n  const decoded = decode(string, schema) as { character: any, artifacts: IArtifact[] }\r\n  const { character, artifacts } = decoded, newCharacterKey = character.characterKey, characterKey = newCharacterKey.toLowerCase() as CharacterKey\r\n  character.characterKey = characterKey\r\n\r\n  const storage = new SandboxStorage()\r\n  // DON'T CHANGE THIS.\r\n  // Flex v2 (decoding) scheme won't be updated even when newer\r\n  // db versions come along. So the object created from the url\r\n  // will remain a valid dbv7. The actual migration happens\r\n  // together with the validation down below.\r\n  storage.setString(\"db_ver\", \"7\")\r\n\r\n  storage.set(`char_${characterKey}`, character)\r\n  artifacts.forEach((artifact, i) => {\r\n    artifact.location = characterKey\r\n    storage.set(`artifact_${i + 1}`, artifact)\r\n  })\r\n\r\n  const database = new ArtCharDatabase(storage) // Validate storage\r\n\r\n  if (!database._getChar(newCharacterKey))\r\n    throw new Error(`Invalid flex object`)\r\n  return [database, newCharacterKey]\r\n}\r\n\r\nfunction importFlexV3(string: string): [ArtCharDatabase, CharacterKey] {\r\n  const schema = schemas.flexV3\r\n  const { characters, artifacts, weapons } = decode(string, schema) as { characters: { key: CharacterKey }[], artifacts: any[], weapons: any[] }\r\n  const charKey = characters[0].key\r\n\r\n  const storage = new SandboxStorage()\r\n  // DON'T CHANGE THIS.\r\n  // The last supported db version for Flex v3 is dbv13.\r\n  storage.setString(\"db_ver\", \"13\")\r\n\r\n  characters.forEach(character => storage.set(`char_${character.key}`, character))\r\n  artifacts.forEach((artifact, i) => storage.set(`artifact_${i}`, artifact))\r\n  weapons.forEach((weapon, i) => storage.set(`weapon_${i}`, weapon))\r\n\r\n  const database = new ArtCharDatabase(storage) // Validate storage\r\n\r\n  if (!database._getChar(charKey as any))\r\n    throw new Error(`Invalid flex object`)\r\n  return [database, charKey]\r\n}\r\n\r\nfunction importFlexV4(string: string): [ArtCharDatabase, CharacterKey] {\r\n  const schema = schemas.flexV4\r\n  const { characters, artifacts, weapons, dbVer } = decode(string, schema) as { characters: { key: CharacterKey }[], artifacts: any[], weapons: any[], dbVer: number }\r\n  const charKey = characters[0].key\r\n\r\n  const storage = new SandboxStorage()\r\n  storage.setString(\"db_ver\", `${dbVer}`)\r\n\r\n  characters.forEach(character => storage.set(`char_${character.key}`, character))\r\n  artifacts.forEach((artifact, i) => storage.set(`artifact_${i}`, artifact))\r\n  weapons.forEach((weapon, i) => storage.set(`weapon_${i}`, weapon))\r\n\r\n  const database = new ArtCharDatabase(storage) // Validate storage\r\n\r\n  if (!database._getChar(charKey as any))\r\n    throw new Error(`Invalid flex object`)\r\n\r\n  return [database, charKey]\r\n}\r\n","import { faLink } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Alert, Box, Button, ButtonGroup, Snackbar } from \"@mui/material\";\r\nimport { useCallback, useContext, useState } from \"react\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\nimport CharacterDisplayCard from \"../Character/CharacterDisplayCard\";\r\nimport CardDark from \"../Components/Card/CardDark\";\r\nimport { CustomNumberInputButtonGroupWrapper, StyledInputBase } from \"../Components/CustomNumberInput\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\nimport { exportFlex, importFlex } from \"../Database/exim/flex\";\r\nimport useSheets from \"../ReactHooks/useSheets\";\r\nimport '../StatDependency';\r\n\r\nexport default function FlexDisplay() {\r\n  const location = useLocation()\r\n  const database = useContext(DatabaseContext)\r\n  const sheets = useSheets()\r\n  const searchStr = location.search\r\n  if (!sheets) return null\r\n  if (searchStr) {\r\n    const flexResult = importFlex(searchStr.substring(1))\r\n    if (!flexResult) return <Redirect to={`/`} />\r\n    const [database, charKey, version] = flexResult\r\n    if (version !== 4)\r\n      return <Redirect to={`/flex?${exportFlex(charKey, database, sheets)}`} />\r\n    return <DatabaseContext.Provider value={database}><Display characterKey={charKey} /></DatabaseContext.Provider>\r\n  } else {\r\n    const characterKey = (location as any).characterKey\r\n    if (!characterKey) return <Redirect to={`/`} />\r\n    const flexObj = exportFlex(characterKey, database, sheets)\r\n    if (!flexObj) return <Redirect to={`/`} />\r\n    window.scrollTo(0, 0)//sometimes the window isnt scrolled to the top on redirect.\r\n    return <Redirect to={`/flex?${flexObj}`} />\r\n  }\r\n}\r\nfunction Display({ characterKey }) {\r\n  const [open, setOpen] = useState(false);\r\n  const handleClick = useCallback(() => setOpen(true), [setOpen],)\r\n  const handleClose = useCallback(\r\n    (event, reason) => {\r\n      if (reason === 'clickaway') return;\r\n      setOpen(false);\r\n    }, [setOpen])\r\n  const copyToClipboard = useCallback(() => {\r\n    const url = window.location.href\r\n    navigator.clipboard.writeText(url).then(handleClick).catch(console.error)\r\n  }, [handleClick])\r\n  const isUpToDate = false\r\n  return <Box display=\"flex\" flexDirection=\"column\" gap={theme => theme.spacing(1)} mt={1} mb={1}>\r\n    <Snackbar open={open} autoHideDuration={5000} onClose={handleClose}>\r\n      <Alert variant=\"filled\" severity=\"success\" sx={{ width: '100%' }}>\r\n        URL copied to clipboard.\r\n      </Alert>\r\n    </Snackbar>\r\n    <CardDark>\r\n      <ButtonGroup sx={{ width: \"100%\" }}>\r\n        <Button color=\"info\" onClick={copyToClipboard} startIcon={<FontAwesomeIcon icon={faLink} />}>Copy URL to clipboard</Button>\r\n        <CustomNumberInputButtonGroupWrapper sx={{ flexBasis: 30, flexGrow: 1 }}>\r\n          <StyledInputBase readOnly value={window.location.href} onClick={e => {\r\n            const target = e.target as HTMLInputElement;\r\n            target.selectionStart = 0;\r\n            target.selectionEnd = target.value.length;\r\n          }} sx={{ px: 2 }} />\r\n        </CustomNumberInputButtonGroupWrapper>\r\n      </ButtonGroup>\r\n      {!!isUpToDate && <Alert variant=\"outlined\" sx={{ m: 1, mt: 2 }} severity=\"warning\" >This URL is generated on an older database version of Genshin Optimizer. The character data below might not be displayed as intended.</Alert>}\r\n    </CardDark>\r\n    <CharacterDisplayCard characterKey={characterKey} isFlex />\r\n  </Box>\r\n}","import StatIcon from \"../Components/StatIcon\"\r\nimport { Translate } from \"../Components/Translate\"\r\nimport { sgt } from \"../Data/Characters/SheetUtil\"\r\nimport { allElements } from \"../Types/consts\"\r\nimport IConditional from \"../Types/IConditional\"\r\nimport { BasicStats } from \"../Types/stats\"\r\nconst tr = (strKey: string) => <Translate ns=\"resonance_gen\" key18={strKey} />\r\n\r\ntype resonanceDoc = {\r\n  header: IConditional[\"header\"],\r\n  description: Displayable,\r\n  canShow: (stats: BasicStats) => boolean,\r\n  conditionals: IConditional[]\r\n}\r\nconst resonanceSheets: resonanceDoc[] = [{// Protective Canopy\r\n  header: {\r\n    title: tr(\"ProtectiveCanopy.name\"),\r\n    action: <span>{StatIcon.anemo} {StatIcon.geo} {StatIcon.pyro} {StatIcon.hydro} {StatIcon.cryo} {StatIcon.electro} x4</span>\r\n  },\r\n  description: tr(\"ProtectiveCanopy.desc\"),\r\n  canShow: stats => (new Set([...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e))).size === 4,\r\n  conditionals: [{\r\n    key: \"pc\",\r\n    partyBuff: \"partyAll\",\r\n    canShow: stats => (new Set([...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle])).size === 4,\r\n    maxStack: 0,\r\n    stats: Object.fromEntries([...allElements, \"physical\"].map(ele => [`${ele}_res_`, 15]))\r\n  }]\r\n}, {// Fervent Flames\r\n  header: {\r\n    title: tr(\"FerventFlames.name\"),\r\n    action: <span>{StatIcon.pyro} {StatIcon.pyro}</span>,\r\n  },\r\n  description: tr(\"FerventFlames.desc\"),\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"pyro\").length >= 2,\r\n  conditionals: [{\r\n    key: \"ff\",\r\n    partyBuff: \"partyAll\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"pyro\").length >= 2,\r\n    maxStack: 0,\r\n    stats: {\r\n      atk_: 25,\r\n    },\r\n    fields: [{\r\n      text: \"Cryo affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  }]\r\n}, {// Soothing Waters\r\n  header: {\r\n    title: tr(\"SoothingWater.name\"),\r\n    action: <span>{StatIcon.hydro} {StatIcon.hydro}</span>,\r\n  },\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"hydro\").length >= 2,\r\n  description: tr(\"SoothingWater.desc\"),\r\n  conditionals: [{\r\n    key: \"sw\",\r\n    maxStack: 0,\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"hydro\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      incHeal_: 30,\r\n    },\r\n    fields: [{\r\n      text: \"Pyro affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  }]\r\n}, {\r\n  header: {\r\n    title: tr(\"ShatteringIce.name\"),\r\n    action: <span>{StatIcon.cryo} {StatIcon.cryo}</span>,\r\n  },\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"cryo\").length >= 2,\r\n  description: tr(\"ShatteringIce.desc\"),\r\n  conditionals: [{\r\n    key: \"si\",// Shattering Ice\r\n    name: \"Against enemies that are Frozen or affected by Cryo\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"cryo\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      critRate_: 15,\r\n    },\r\n    fields: [{\r\n      text: \"Electro affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  },]\r\n}, {\r\n  header: {// High Voltage\r\n    title: tr(\"HighVoltage.name\"),\r\n    action: <span>{StatIcon.electro} {StatIcon.electro}</span>,\r\n  },\r\n  description: tr(\"HighVoltage.desc\"),\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"electro\").length >= 2,\r\n  conditionals: [{\r\n    key: \"hv\",\r\n    partyBuff: \"partyAll\",\r\n    maxStack: 0,\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"electro\").length >= 2,\r\n    fields: [{\r\n      text: \"Hydro affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  }]\r\n}, {\r\n  header: {// Impetuous Winds\r\n    title: tr(\"ImpetuousWinds.name\"),\r\n    action: <span>{StatIcon.anemo} {StatIcon.anemo}</span>,\r\n  },\r\n  description: tr(\"ImpetuousWinds.desc\"),\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"anemo\").length >= 2,\r\n  conditionals: [{\r\n    key: \"iw\",\r\n    partyBuff: \"partyAll\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"anemo\").length >= 2,\r\n    maxStack: 0,\r\n    stats: {\r\n      staminaDec_: 15,\r\n      moveSPD_: 10,\r\n      skillCDRed_: 5,\r\n    },\r\n    fields: [{\r\n      text: \"Pyro affect Duration\",\r\n      value: -40,\r\n      unit: \"%\"\r\n    }]\r\n  }]\r\n}, {\r\n  header: {\r\n    title: tr(\"EnduringRock.name\"),\r\n    action: <span>{StatIcon.geo} {StatIcon.geo}</span>,\r\n  },\r\n  description: tr(\"EnduringRock.desc\"),\r\n  canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"geo\").length >= 2,\r\n  conditionals: [{\r\n    key: \"er\", // Enduring Rock\r\n    name: \"Increases shield strength\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"geo\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      shield_: 15,\r\n    }\r\n  }, {\r\n    key: \"ers\", // Enduring Rock\r\n    name: \"characters protected by a shield\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"geo\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      dmg_: 15,\r\n    }\r\n  }, {\r\n    key: \"erd\", // Enduring Rock\r\n    name: \"characters protected by a shield: dealing DMG to enemies\",\r\n    canShow: stats => [...stats.teamStats.map(t => t?.characterEle ?? \"\"), stats.characterEle].filter(e => e === \"geo\").length >= 2,\r\n    partyBuff: \"partyAll\",\r\n    stats: {\r\n      geo_enemyRes_: -20,\r\n    },\r\n    fields: [{\r\n      text: sgt(\"duration\"),\r\n      value: 15,\r\n      unit: \"s\"\r\n    }],\r\n  }]\r\n}]\r\n\r\n\r\nexport default resonanceSheets","import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardLight = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentLight.main\r\n}));\r\n\r\nexport default CardLight","import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardDark = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentDark.main\r\n}));\r\n\r\nexport default CardDark","import { KeyboardArrowDown } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps, Menu, Skeleton } from \"@mui/material\";\r\nimport { Suspense, useCallback, useState } from \"react\";\r\n\r\nexport type DropdownButtonProps = Omit<ButtonProps, \"title\"> & {\r\n  title: React.ReactNode,\r\n  id?: string,\r\n  children: React.ReactNode\r\n}\r\nexport default function DropdownButton({ title, children, id = \"dropdownbtn\", ...props }: DropdownButtonProps) {\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLButtonElement>) => setAnchorEl(event.currentTarget),\r\n    [setAnchorEl],\r\n  )\r\n  const handleClose = useCallback(\r\n    () => setAnchorEl(null),\r\n    [setAnchorEl],\r\n  )\r\n\r\n  return <Suspense fallback={<Button endIcon={<KeyboardArrowDown />}{...props}><Skeleton width={50} /></Button>} >\r\n    <Button\r\n      {...props}\r\n      id={id}\r\n      aria-controls=\"basic-menu\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded={open ? 'true' : undefined}\r\n      onClick={handleClick}\r\n      endIcon={<KeyboardArrowDown />}\r\n    >\r\n      {title}\r\n    </Button>\r\n    <Menu\r\n      id=\"basic-menu\"\r\n      anchorEl={anchorEl}\r\n      open={open}\r\n      onClose={handleClose}\r\n      MenuListProps={{\r\n        'aria-labelledby': id,\r\n      }}\r\n      onClick={handleClose}\r\n    >\r\n      {/* set Skeleton to be really high so the taller dropdowns can still be placed properly... */}\r\n      <Suspense fallback={<Skeleton width=\"100%\" height=\"1000\" />}>\r\n        {children}\r\n      </Suspense>\r\n    </Menu>\r\n  </Suspense>\r\n}","import Artifact from \"../Artifact/Artifact\";\r\nimport { ArtifactSheet } from \"../Artifact/ArtifactSheet\";\r\nimport Conditional from \"../Conditional/Conditional\";\r\nimport { ascensionMaxLevel } from \"../Data/LevelData\";\r\nimport { ArtCharDatabase } from \"../Database/Database\";\r\nimport finalStatProcess from \"../ProcessFormula\";\r\nimport { Sheets } from \"../ReactHooks/useSheets\";\r\nimport { ElementToReactionKeys } from \"../StatData\";\r\nimport { ICachedArtifact, StatKey } from \"../Types/artifact\";\r\nimport { DocumentSection, ICachedCharacter } from \"../Types/character\";\r\nimport { ArtifactSetKey, SlotKey } from \"../Types/consts\";\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\";\r\nimport { ICalculatedStats } from \"../Types/stats\";\r\nimport { characterBaseStats, mergeCalculatedStats, mergeStats, overrideStatKeys } from \"../Util/StatUtil\";\r\nimport { evalIfFunc } from \"../Util/Util\";\r\nimport { defaultInitialWeapon } from \"../Weapon/WeaponUtil\";\r\n\r\nexport default class Character {\r\n  //do not instantiate.\r\n  constructor() { if (this instanceof Character) throw Error('A static class cannot be instantiated.'); }\r\n\r\n  static getLevelString = (character: ICachedCharacter): string =>\r\n    `${character.level}/${ascensionMaxLevel[character.ascension]}`\r\n\r\n  static getTalentFieldValue = (field: IFieldDisplay, key: keyof IFieldDisplay, stats = {}, defVal = \"\"): any => {\r\n    if (!field[key]) return defVal\r\n    return evalIfFunc(field[key] as any, stats!)\r\n  }\r\n\r\n  static hasBonusStats = (character: ICachedCharacter, statKey): boolean => {\r\n    if (statKey === \"finalHP\")\r\n      return Character.hasBonusStats(character, \"hp\") || Character.hasBonusStats(character, \"hp_\") || Character.hasBonusStats(character, \"characterHP\")\r\n    if (statKey === \"finalDEF\")\r\n      return Character.hasBonusStats(character, \"def\") || Character.hasBonusStats(character, \"def_\") || Character.hasBonusStats(character, \"characterDEF\")\r\n    if (statKey === \"finalATK\")\r\n      return Character.hasBonusStats(character, \"atk\") || Character.hasBonusStats(character, \"atk_\") || Character.hasBonusStats(character, \"characterATK\")\r\n    return character?.bonusStats ? (statKey in character.bonusStats) : false;\r\n  }\r\n\r\n  static getStatValueWithBonus = (character: ICachedCharacter, statKey: string) => {\r\n    if (overrideStatKeys.includes(statKey))\r\n      return character.bonusStats?.[statKey] ?? characterBaseStats(character)[statKey] ?? 0\r\n    else\r\n      return character.bonusStats?.[statKey] ?? 0\r\n  }\r\n\r\n  static calculateBuild = (character: ICachedCharacter, database: ArtCharDatabase, sheets: Sheets, mainStatAssumptionLevel = 0): ICalculatedStats => {\r\n    const initialStats = this.calculatePreBuild(character, database, sheets, mainStatAssumptionLevel)\r\n    return finalStatProcess(initialStats)\r\n  }\r\n  static calculatePreBuild = (character: ICachedCharacter, database: ArtCharDatabase, sheets: Sheets, mainStatAssumptionLevel = 0): ICalculatedStats => {\r\n    const artifacts = Object.fromEntries(Object.entries(character.equippedArtifacts).map(([key, artid]) => [key, database._getArt(artid)]))\r\n    const initialStats = Character.createInitialStats(character, database, sheets)\r\n    initialStats.mainStatAssumptionLevel = mainStatAssumptionLevel\r\n    Character.calculateBuildwithArtifact(initialStats, artifacts, sheets.artifactSheets)\r\n    return initialStats\r\n  }\r\n\r\n  static calculateBuildwithArtifact = (stats: ICalculatedStats, artifacts: Dict<SlotKey, ICachedArtifact>, artifactSheets: StrictDict<ArtifactSetKey, ArtifactSheet>): ICalculatedStats => {\r\n    const setToSlots = Artifact.setToSlots(artifacts)\r\n    const artifactSetEffectsStats = ArtifactSheet.setEffectsStats(artifactSheets, stats, setToSlots)\r\n    stats.equippedArtifacts = Object.fromEntries(Object.entries(artifacts).map(([key, val]: any) => [key, val?.id]))\r\n    stats.setToSlots = setToSlots\r\n    //add artifact and artifactsets\r\n    Object.values(artifacts).forEach(art => {\r\n      if (!art) return\r\n      //main stats\r\n      stats[art.mainStatKey] = (stats[art.mainStatKey] ?? 0) + Artifact.mainStatValue(art.mainStatKey, art.rarity, Math.max(Math.min(stats.mainStatAssumptionLevel ?? 20, art.rarity * 4), art.level))\r\n      //substats\r\n      art.substats.forEach((substat) =>\r\n        substat && substat.key && (stats[substat.key] = (stats[substat.key] || 0) + substat.value))\r\n    })\r\n    //setEffects\r\n    mergeStats(stats, artifactSetEffectsStats)\r\n    //setEffects conditionals\r\n    Conditional.parseConditionalValues({ artifact: stats?.conditionalValues?.artifact }, (conditional, conditionalValue, [, setKey, setNumKey]) => {\r\n      if (!Conditional.canShow(conditional, stats)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, stats, conditionalValue)\r\n      mergeCalculatedStats(stats, condStats)\r\n    })\r\n    return stats\r\n  }\r\n\r\n  static createInitialStatsWithoutConds = (character: ICachedCharacter, database: ArtCharDatabase, sheets: Sheets, activeCharacter = true): ICalculatedStats => {\r\n    const { characterSheets, weaponSheets } = sheets\r\n    const { key: characterKey, bonusStats = {}, elementKey, level, ascension, hitMode, infusionAura, reactionMode, talent,\r\n      constellation, equippedArtifacts, conditionalValues = {}, equippedWeapon, team } = character\r\n    const characterSheet = characterSheets[characterKey]\r\n    const weapon = database._getWeapon(equippedWeapon) ?? defaultInitialWeapon(characterSheet.weaponTypeKey) // need to ensure all characters have a weapon\r\n    const weaponSheet = weaponSheets[weapon.key]\r\n    const overrideStats = Object.fromEntries(Object.entries(bonusStats).filter(([s]) => overrideStatKeys.includes(s)))\r\n    const additionalStats = Object.fromEntries(Object.entries(bonusStats).filter(([s]) => !overrideStatKeys.includes(s)))\r\n    //generate the initalStats obj with data from Character\r\n    let initialStats = characterBaseStats(character)\r\n    initialStats.characterKey = characterKey\r\n    initialStats.characterLevel = level\r\n    initialStats.characterHP = characterSheet.getBase(\"characterHP\", level, ascension)\r\n    initialStats.characterDEF = characterSheet.getBase(\"characterDEF\", level, ascension)\r\n    initialStats.characterATK = characterSheet.getBase(\"characterATK\", level, ascension)\r\n    initialStats.characterEle = characterSheet.elementKey ?? elementKey ?? \"anemo\";\r\n    initialStats.hitMode = hitMode;\r\n    if (infusionAura)\r\n      initialStats.infusionAura = infusionAura\r\n    initialStats.reactionMode = reactionMode;\r\n    initialStats.conditionalValues = conditionalValues\r\n    initialStats.weaponType = characterSheet.weaponTypeKey\r\n    initialStats.tlvl = Object.fromEntries(Object.entries(talent ?? {}).map(([key, value]) => [key, value - 1])) as any;\r\n    initialStats.constellation = constellation\r\n    initialStats.ascension = ascension\r\n    initialStats.weapon = { key: weapon.key, refineIndex: weapon.refinement - 1 }\r\n    initialStats.equippedArtifacts = equippedArtifacts;\r\n    initialStats.team = team\r\n    initialStats = { ...initialStats, ...overrideStats }\r\n    mergeStats(initialStats, additionalStats)\r\n\r\n    initialStats.partyBuff = {}\r\n    // This stores any party stats from this character.\r\n    initialStats.partyAllModifiers = {}\r\n    initialStats.partyOnlyModifiers = {}\r\n    initialStats.partyActiveModifiers = {}\r\n\r\n    //add specialized stat\r\n    const specialStatKey = characterSheet.getSpecializedStat(ascension)\r\n    if (specialStatKey) {\r\n      const specializedStatVal = characterSheet.getSpecializedStatVal(ascension)\r\n      mergeStats(initialStats, { [specialStatKey]: specializedStatVal })\r\n    }\r\n\r\n    //add stats from weapons\r\n    const weaponATK = weaponSheet.getMainStatValue(weapon.level, weapon.ascension)\r\n    initialStats.weaponATK = weaponATK\r\n    const weaponSubKey = weaponSheet.getSubStatKey()\r\n    if (weaponSubKey) mergeStats(initialStats, { [weaponSubKey]: weaponSheet.getSubStatValue(weapon.level, weapon.ascension) })\r\n    mergeStats(initialStats, weaponSheet.stats(initialStats as ICalculatedStats))\r\n\r\n    initialStats.activeCharacter = activeCharacter\r\n\r\n    // Team stuff\r\n    if (activeCharacter) {\r\n      // initiate Team stats.\r\n      initialStats.teamStats = team.map(tCharKey => {\r\n        if (!tCharKey) return null\r\n        const tChar = database._getChar(tCharKey)\r\n        if (!tChar) return null\r\n        // Empty teammate's team in calculation to stop recursion\r\n        const x = tChar.team\r\n        tChar.team = [\"\", \"\", \"\"] // Whatever this is, we're sooooooo not supposed to edit ICharacter objects in-place like this.\r\n        const stats = Character.createInitialStatsWithoutConds(tChar, database, sheets, false)\r\n        tChar.team = x\r\n        return stats\r\n      }) as ICalculatedStats[\"teamStats\"]\r\n\r\n      const allTeam = [characterKey, ...initialStats.team]\r\n      const allTeamStats = [initialStats, ...initialStats.teamStats]\r\n      initialStats.teamStats.forEach((tStats, tindex) => {\r\n        if (!tStats) return\r\n        tStats.team = allTeam.filter((_, i) => i !== (tindex + 1)) as ICalculatedStats[\"team\"]\r\n        tStats.teamStats = allTeamStats.filter((_, i) => i !== (tindex + 1)) as ICalculatedStats[\"teamStats\"]\r\n      });\r\n    }\r\n\r\n    Object.entries(initialStats).forEach(([key, val]) => {\r\n      if (Number.isNaN(val)) debugger\r\n    })\r\n    return initialStats\r\n  }\r\n\r\n  static createInitialStats = (character: ICachedCharacter, database: ArtCharDatabase, sheets: Sheets): ICalculatedStats => {\r\n    //generate the initalStats obj with data from Character\r\n    const initialStats = Character.createInitialStatsWithoutConds(character, database, sheets)\r\n    this.calculateBuildWithConditionalsWithoutArtifacts(initialStats, database, sheets)\r\n\r\n    return initialStats\r\n  }\r\n  static calculateBuildWithConditionalsWithoutArtifacts(initialStats: ICalculatedStats, database: ArtCharDatabase, sheets: Sheets) {\r\n    const { characterKey, characterEle: elementKey, conditionalValues = {} } = initialStats\r\n    // Handle maxStack:0 conditionals on the character. This is mainly skill boosts.\r\n    Object.entries(Conditional.conditionals.character?.[characterKey === \"Traveler\" ? `Traveler_${elementKey}` : characterKey] ?? {}).map(([cKey, conditional]) =>\r\n      !(\"states\" in conditional) && conditional.maxStack === 0 && Conditional.canShow(conditional, initialStats)\r\n      && mergeCalculatedStats(initialStats, Conditional.resolve(conditional, initialStats).stats))\r\n    // Add levelBoosts, from Talent stats.\r\n    for (const key in initialStats.tlvl)\r\n      initialStats.tlvl[key] += initialStats[`${key}Boost`] ?? 0\r\n\r\n    // Handle resonance autoconditionals on the context of the character\r\n    initialStats.activeCharacter && Object.entries(Conditional.conditionals.resonance ?? {}).map(([cKey, conditional]) =>\r\n      !(\"states\" in conditional) && conditional.maxStack === 0 && Conditional.canShow(conditional, initialStats)\r\n      && mergeCalculatedStats(initialStats, Conditional.resolve(conditional, initialStats).stats))\r\n\r\n    // Handle conditionals.\r\n    Conditional.parseConditionalValues(conditionalValues, (conditional, conditionalValue, keys) => {\r\n      // Ignore artifact conditionals.\r\n      if (conditional.keys![0] === \"artifact\") return\r\n      //Ignore resonance on non-active character\r\n      if (conditional.keys![0] === \"resonance\" && !initialStats.activeCharacter) return\r\n      if (!Conditional.canShow(conditional, initialStats)) return\r\n      const { stats: condStats } = Conditional.resolve(conditional, initialStats, conditionalValue)\r\n      mergeCalculatedStats(initialStats, condStats)\r\n    })\r\n    // Handle Teammate's conditional\r\n    if (initialStats.activeCharacter) {\r\n      initialStats.teamStats.forEach(tstats => {\r\n        if (!tstats) return\r\n        // Calculate Teammate's build with artifacts, since the manual step of calculating artifacts is skipped in the builder path.\r\n        const tChar = database._getChar(tstats.characterKey)\r\n        if (!tChar) return\r\n        const artifacts = Object.fromEntries(Object.entries(tChar.equippedArtifacts).map(([key, artid]) => [key, database._getArt(artid)]))\r\n        this.calculateBuildWithConditionalsWithoutArtifacts(tstats, database, sheets)\r\n        Character.calculateBuildwithArtifact(tstats, artifacts, sheets.artifactSheets)\r\n      })\r\n    }\r\n    Object.entries(initialStats).forEach(([key, val]) => {\r\n      if (Number.isNaN(val)) debugger\r\n    })\r\n    return initialStats\r\n  }\r\n\r\n  static getDisplayStatKeys = (stats: ICalculatedStats, sheets: Sheets) => {\r\n    const eleKey = stats.characterEle\r\n    const basicKeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"heal_\", \"enerRech_\", `${eleKey}_dmg_`] as StatKey[]\r\n    const characterSheet = sheets.characterSheets[stats.characterKey]\r\n    const weaponSheet = sheets.weaponSheets[stats.weapon.key]\r\n    const isAutoElemental = characterSheet.isAutoElemental\r\n    if (!isAutoElemental) basicKeys.push(\"physical_dmg_\")\r\n\r\n    //show elemental interactions\r\n    const transReactions = [...ElementToReactionKeys[eleKey]]\r\n    const weaponTypeKey = characterSheet.weaponTypeKey\r\n    if (!transReactions.includes(\"shattered_hit\") && weaponTypeKey === \"claymore\") transReactions.push(\"shattered_hit\")\r\n    const charFormulas = {}\r\n    const talentSheet = characterSheet.getTalent(eleKey)\r\n    const addFormula = (fields: IFieldDisplay[], key: string) => fields.forEach(field => {\r\n      if (!field.formula || !field?.canShow?.(stats)) return\r\n      if (!charFormulas[key]) charFormulas[key] = []\r\n      charFormulas[key].push((field.formula as any).keys)\r\n    })\r\n    const parseSection = (section: DocumentSection, key: string) => {\r\n      //conditional\r\n      if (section.conditional && Conditional.canShow(section.conditional, stats)) {\r\n        const { fields } = Conditional.resolve(section.conditional, stats)\r\n        fields && addFormula(fields, key)\r\n      }\r\n      //fields\r\n      if (section.fields) addFormula(section.fields, key)\r\n    }\r\n    talentSheet && Object.entries(talentSheet.sheets).forEach(([talentKey, { sections }]) =>\r\n      sections.forEach(section => parseSection(section, `talentKey_${talentKey}`)))\r\n\r\n    const formKey = `weapon_${stats.weapon.key}`\r\n    weaponSheet.document && weaponSheet.document.map(section => parseSection(section, formKey))\r\n\r\n    stats.setToSlots && Object.entries(stats.setToSlots).map(([setKey, slots]) => [setKey, slots.length]).forEach(([setKey, num]) => {\r\n      const artifactSheet: ArtifactSheet = sheets.artifactSheets[setKey]\r\n      if (!artifactSheet) return\r\n      Object.entries(artifactSheet.setEffects).forEach(([setNum, { document }]) => {\r\n        if (num < parseInt(setNum)) return\r\n        document && document.map(section => parseSection(section, `artifact_${setKey}_${setNum}`))\r\n      })\r\n    })\r\n    return { basicKeys, ...charFormulas, transReactions }\r\n  }\r\n}","import { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Typography } from '@mui/material'\r\nimport { Rarity } from '../Types/consts'\r\n\r\nconst StarIcon = () => <FontAwesomeIcon icon={faStar} />\r\nconst Stars = ({ stars, colored = false }: { stars: Rarity, colored?: boolean }) =>\r\n  <Typography color={colored ? \"warning.main\" : undefined} component=\"span\">\r\n    {stars ? [...Array(stars).keys()].map((_, i) => <StarIcon key={i} />) : null}\r\n  </Typography>\r\n\r\nexport {\r\n  StarIcon,\r\n  Stars\r\n}\r\n","import { useCallback, useContext } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\nimport { characterBaseStats, overrideStatKeys } from \"../Util/StatUtil\";\r\n\r\ntype characterEquipWeapon = {\r\n  type: \"weapon\", id: string\r\n}\r\ntype characterReducerBonusStatsAction = {\r\n  type: \"editStats\",\r\n  statKey: string\r\n  value: any | undefined\r\n}\r\ntype characterReducerResetStatsAction = {\r\n  type: \"resetStats\",\r\n  statKey: string\r\n}\r\ntype characterTeamAction = {\r\n  type: \"team\",\r\n  index: number,\r\n  charKey: CharacterKey | \"\"\r\n}\r\nexport type characterReducerAction = characterEquipWeapon | characterReducerBonusStatsAction | characterReducerResetStatsAction | characterTeamAction | Partial<ICachedCharacter>\r\n\r\nexport default function useCharacterReducer(characterKey: CharacterKey | \"\") {\r\n  const database = useContext(DatabaseContext)\r\n\r\n  return useCallback((action: characterReducerAction): void => {\r\n    if (!characterKey) return\r\n\r\n    if (\"type\" in action) switch (action.type) {\r\n      case \"weapon\":\r\n        database.setWeaponLocation(action.id, characterKey)\r\n        break\r\n      case \"editStats\": {\r\n        const character = database._getChar(characterKey)!\r\n        const { statKey, value } = action\r\n\r\n        const bonusStats = character.bonusStats\r\n\r\n        if (bonusStats[statKey] === value) return\r\n        if (overrideStatKeys.includes(statKey)) {\r\n          if ((characterBaseStats(character)[statKey] ?? 0) === value)\r\n            delete bonusStats[statKey]\r\n          else\r\n            bonusStats[statKey] = value\r\n        } else {\r\n          if (value)\r\n            bonusStats[statKey] = value\r\n          else\r\n            delete bonusStats[statKey]\r\n        }\r\n        database.updateChar({ ...character, bonusStats })\r\n        break\r\n      }\r\n      case \"resetStats\": {\r\n        const character = database._getChar(characterKey)!\r\n        const { statKey } = action\r\n\r\n        const bonusStats = character.bonusStats\r\n        delete bonusStats[statKey]\r\n\r\n        database.updateChar({ ...character, bonusStats })\r\n        break\r\n      }\r\n      case \"team\": {\r\n        const character = database._getChar(characterKey)!\r\n        const { team } = character\r\n\r\n        const { index, charKey: newCharKey } = action\r\n        const oldCharKey = team[index]\r\n        team[index] = newCharKey\r\n\r\n        // move the old char to \"inventory\"\r\n        if (oldCharKey) {\r\n          const oldChar = database._getChar(oldCharKey)\r\n          if (oldChar) database.updateChar({ ...oldChar, team: [\"\", \"\", \"\"] })\r\n        }\r\n\r\n        // unequip new char from its old teammates\r\n        if (newCharKey) {\r\n          const newChar = database._getChar(newCharKey)\r\n          if (newChar) {\r\n            newChar.team.forEach(t => {\r\n              if (!t) return\r\n              const tChar = database._getChar(t)\r\n              tChar && database.updateChar({ ...tChar, team: tChar.team.map(c => c === newCharKey ? \"\" : c) as ICachedCharacter[\"team\"] })\r\n            })\r\n          }\r\n        }\r\n\r\n        // equip new char to new teammates\r\n        team.forEach((t, tind) => {\r\n          if (!t) return\r\n          const newChar = database._getChar(t)\r\n          if (newChar) database.updateChar({ ...newChar, team: [characterKey, ...team].filter((_, i) => i !== tind + 1) as ICachedCharacter[\"team\"] })\r\n        })\r\n\r\n        // update src character\r\n        database.updateChar({ ...character, team })\r\n      }\r\n    } else\r\n      database.updateChar({ ...database._getChar(characterKey)!, ...action })\r\n  }, [characterKey, database])\r\n\r\n}","export default __webpack_public_path__ + \"static/media/icon_bow.7ceaa8e2.png\";","import bow from './icon_bow.png'\r\nimport catalyst from './icon_catalyst.png'\r\nimport claymore from './icon_claymore.png'\r\nimport polearm from './icon_polearm.png'\r\nimport sword from './icon_sword.png'\r\n\r\nimport fragile from './Item_Fragile_Resin.png'\r\nimport condensed from './Item_Condensed_Resin.png'\r\n\r\n//EXP BOOKS\r\nimport advice from './Item_Wanderer\\'s_Advice.png'\r\nimport wit from './Item_Hero\\'s_Wit.png'\r\nimport experience from './Item_Adventurer\\'s_Experience.png'\r\n\r\nconst Assets = {\r\n  weaponTypes: { bow, catalyst, claymore, polearm, sword },\r\n  resin: {\r\n    fragile,\r\n    condensed\r\n  },\r\n  exp_books: {\r\n    advice,\r\n    wit,\r\n    experience,\r\n  }\r\n};\r\nexport default Assets;","export default __webpack_public_path__ + \"static/media/icon_catalyst.db078b7b.png\";","export default __webpack_public_path__ + \"static/media/icon_claymore.63b1abb8.png\";","export default __webpack_public_path__ + \"static/media/icon_polearm.e5f4a2a1.png\";","export default __webpack_public_path__ + \"static/media/icon_sword.619c9c2d.png\";","export default __webpack_public_path__ + \"static/media/Item_Fragile_Resin.f9ec8223.png\";","export default __webpack_public_path__ + \"static/media/Item_Condensed_Resin.1cecf64a.png\";","export default __webpack_public_path__ + \"static/media/Item_Wanderer's_Advice.58c62cf7.png\";","export default __webpack_public_path__ + \"static/media/Item_Hero's_Wit.a79e36d0.png\";","export default __webpack_public_path__ + \"static/media/Item_Adventurer's_Experience.92b5d195.png\";","import { Close } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps } from \"@mui/material\";\r\nimport { useTranslation } from \"react-i18next\";\r\ntype CloseButtonProps = ButtonProps & {\r\n  large?: boolean\r\n}\r\nexport default function CloseButton({ large = false, ...props }: CloseButtonProps) {\r\n  const { t } = useTranslation(\"ui\")\r\n  if (large)\r\n    return <Button color=\"error\" startIcon={<Close />} {...props} >{t`close`}</Button>\r\n  return <Button color=\"error\" sx={{ p: 1, minWidth: 0 }} {...props} >\r\n    <Close />\r\n  </Button>\r\n}","import { CardContent, Container, ContainerProps, Modal, ModalProps, Skeleton, styled } from \"@mui/material\"\r\nimport { Suspense } from \"react\"\r\nimport CardLight from \"./Card/CardLight\"\r\n\r\nconst ScrollModal = styled(Modal)(({ theme }) => ({\r\n  overflow: \"scroll\",\r\n  paddingTop: theme.spacing(2),\r\n  paddingBottom: theme.spacing(2),\r\n\r\n}))\r\nconst ModalContainer = styled(Container)(({ theme }) => ({\r\n  padding: 0,\r\n  minHeight: \"100%\",\r\n  display: \"flex\", flexDirection: \"column\", justifyContent: \"center\",\r\n  pointerEvents: \"none\",\r\n  \"& > *\": {\r\n    pointerEvents: \"auto\"\r\n  }\r\n}))\r\n\r\ntype ModalWrapperProps = ModalProps & {\r\n  containerProps?: ContainerProps\r\n}\r\nexport default function ModalWrapper({ children, containerProps, ...props }: ModalWrapperProps) {\r\n  return <ScrollModal {...props}>\r\n    <ModalContainer {...containerProps}>\r\n      <Suspense fallback={<CardLight><CardContent><Skeleton variant=\"rectangular\" width=\"100%\" height={300} /></CardContent></CardLight>}>\r\n        {children}\r\n      </Suspense>\r\n    </ModalContainer>\r\n  </ScrollModal>\r\n}","import { BusinessCenter, Replay } from \"@mui/icons-material\";\r\nimport { Divider, ListItemIcon, MenuItem, Typography } from \"@mui/material\";\r\nimport { useContext } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CharacterSheet from \"../../Character/CharacterSheet\";\r\nimport { DatabaseContext } from \"../../Database/Database\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\nimport { CharacterKey } from \"../../Types/consts\";\r\nimport DropdownButton, { DropdownButtonProps } from \"../DropdownMenu/DropdownButton\";\r\nimport ThumbSide from \"./ThumbSide\";\r\n\r\nexport type CharacterDropdownButtonProps = Omit<DropdownButtonProps, \"title\" | \"onChange\" | \"children\"> & {\r\n  value: CharacterKey | \"\"\r\n  onChange: (ck: CharacterKey | \"\") => void\r\n  filter?: (cs: CharacterSheet, ck: CharacterKey) => boolean\r\n  inventory?: boolean\r\n  noUnselect?: boolean,\r\n  unSelectText?: Displayable,\r\n  unSelectIcon?: Displayable,\r\n}\r\n\r\nexport default function CharacterDropdownButton({ value, onChange, unSelectText, unSelectIcon, inventory = false, noUnselect = false, filter = () => true, ...props }: CharacterDropdownButtonProps) {\r\n  const { t } = useTranslation(\"ui\");\r\n  const database = useContext(DatabaseContext)\r\n  const characterSheets = usePromise(CharacterSheet.getAll(), [])\r\n  const characterSheet = usePromise(CharacterSheet.get(value), [value])\r\n  const characterKeys = database._getCharKeys().filter(ck => characterSheets?.[ck] && filter(characterSheets[ck], ck)).sort()\r\n  return <DropdownButton\r\n    {...props}\r\n    title={characterSheet?.name ?? (inventory ? t`inventory` : (unSelectText ?? t`unselect`))}\r\n    color={value ? \"success\" : \"primary\"}\r\n    startIcon={characterSheet?.thumbImg ? <ThumbSide src={characterSheet.thumbImgSide} /> : (inventory ? <BusinessCenter /> : (unSelectIcon ?? <Replay />))}>\r\n    {!noUnselect && (inventory ? <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\r\n      <ListItemIcon>\r\n        <BusinessCenter />\r\n      </ListItemIcon>\r\n      <Typography variant=\"inherit\" noWrap>\r\n        {t`inventory`}\r\n      </Typography>\r\n    </MenuItem> : <MenuItem onClick={() => onChange(\"\")} selected={value === \"\"} disabled={value === \"\"}>\r\n      <ListItemIcon>\r\n        <Replay />\r\n      </ListItemIcon>\r\n      <Typography variant=\"inherit\" noWrap>\r\n        {t`unselect`}\r\n      </Typography>\r\n    </MenuItem>)}\r\n    {!noUnselect && <Divider key=\"div\" />}\r\n    {!!characterSheets && CharacterMenuItemArray(characterSheets, characterKeys, onChange, value)}\r\n  </DropdownButton >\r\n}\r\n\r\n// Returning an array instead of Fragment because MUI Menu doesn't like fragments.\r\nexport function CharacterMenuItemArray(characterSheets: StrictDict<CharacterKey, CharacterSheet>, characterKeys: CharacterKey[], onChange: (ck: CharacterKey) => void, selectedCharacterKey: CharacterKey | \"\" = \"\") {\r\n  return characterKeys.map(characterKey =>\r\n    <MenuItem onClick={() => onChange(characterKey)} key={characterKey} selected={selectedCharacterKey === characterKey} disabled={selectedCharacterKey === characterKey} >\r\n      <ListItemIcon>\r\n        <ThumbSide src={characterSheets[characterKey].thumbImgSide} />\r\n      </ListItemIcon>\r\n      <Typography variant=\"inherit\" noWrap>\r\n        {characterSheets?.[characterKey]?.name}\r\n      </Typography>\r\n    </MenuItem>)\r\n}","import { Button, ButtonProps, InputBase, InputProps, styled } from '@mui/material'\r\nimport { useCallback, useEffect, useMemo, useState } from 'react'\r\ntype props = Omit<InputProps, \"onChange\"> & {\r\n  value?: number | undefined,\r\n  onChange: (newValue: number | undefined) => void,\r\n  disabled?: boolean\r\n  float?: boolean,\r\n  allowEmpty?: boolean,\r\n}\r\n\r\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  transition: \"all 0.5s ease\",\r\n  \"&:hover\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  \"&.Mui-focused\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  \"&.Mui-disabled\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n}))\r\n\r\nconst Wrapper = styled(Button)(({ theme }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  padding: 0,\r\n  overflow: \"hidden\",\r\n  \"div\": {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n}))\r\n\r\n// wrap the Input with this when using the input in a buttongroup\r\nexport function CustomNumberInputButtonGroupWrapper({ children, disableRipple, disableFocusRipple, disableTouchRipple, ...props }: ButtonProps) {\r\n  return <Wrapper disableRipple disableFocusRipple disableTouchRipple {...props}>{children}</Wrapper>\r\n}\r\n\r\nexport default function CustomNumberInput({ value = 0, onChange, disabled = false, float = false, ...props }: props) {\r\n  const [number, setNumber] = useState(value)\r\n  const [focused, setFocus] = useState(false)\r\n  const parseFunc = useMemo(() => float ? parseFloat : parseInt, [float],)\r\n  const onBlur = useCallback(\r\n    () => {\r\n      onChange(number)\r\n      setFocus(false)\r\n    },\r\n    [onChange, number, setFocus],\r\n  )\r\n  const onFocus = useCallback(\r\n    () => {\r\n      setFocus(true)\r\n    },\r\n    [setFocus],\r\n  )\r\n  useEffect(() => setNumber(value), [value, setNumber]) // update value on value change\r\n  const onInputChange = useCallback(e => setNumber(parseFunc(e.target.value) || 0), [setNumber, parseFunc],)\r\n  const onKeyDOwn = useCallback(e => e.key === \"Enter\" && onBlur(), [onBlur],)\r\n  return <StyledInputBase\r\n    value={(focused && !number) ? \"\" : number}\r\n    aria-label=\"custom-input\"\r\n    type=\"number\"\r\n    onChange={onInputChange}\r\n    onBlur={onBlur}\r\n    onFocus={onFocus}\r\n    disabled={disabled}\r\n    onKeyDown={onKeyDOwn}\r\n    {...props}\r\n  />\r\n}","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Box, List, ListItem, styled, Typography } from \"@mui/material\";\r\nimport React, { useContext, useMemo } from 'react';\r\nimport { buildContext } from \"../Build/Build\";\r\nimport Character from \"../Character/Character\";\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\";\r\nimport BootstrapTooltip from \"./BootstrapTooltip\";\r\nimport ColorText from \"./ColoredText\";\r\n\r\nexport default function FieldDisplay({ field }: { field: IFieldDisplay }) {\r\n  const { newBuild, equippedBuild, compareBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild)\r\n  const canShow = useMemo(() => build ? field?.canShow?.(build) : false, [field, build])\r\n  const fixedVal = field?.fixed || 0\r\n  const fieldVal = useMemo(() => {\r\n    if (field.value) return Character.getTalentFieldValue(field, \"value\", build)\r\n    else if (field.formula) {\r\n      let retVal = Character.getTalentFieldValue(field, \"formula\", build)?.[0]?.(build)\r\n      //compareAgainstEquipped\r\n      if (compareBuild && equippedBuild && typeof retVal === \"number\") {\r\n        let fieldEquippedVal = field.value ? field.value : field.formula?.(equippedBuild)?.[0]?.(equippedBuild)\r\n        if (typeof fieldEquippedVal === \"function\")\r\n          fieldEquippedVal = parseInt(fieldEquippedVal?.(equippedBuild)?.toFixed?.(fixedVal))\r\n        let diff = retVal - fieldEquippedVal\r\n        retVal = <span>{fieldEquippedVal?.toFixed(fixedVal) ?? fieldEquippedVal}{diff ? <ColorText color={diff > 0 ? \"success\" : \"error\"}> ({diff > 0 ? \"+\" : \"\"}{diff?.toFixed?.(fixedVal) || diff})</ColorText> : \"\"}</span>\r\n      }\r\n      return retVal\r\n    }\r\n  }, [compareBuild, fixedVal, equippedBuild, field, build])\r\n\r\n  const fieldText = useMemo(() => Character.getTalentFieldValue(field, \"text\", build), [field, build])\r\n  const fieldVariant = useMemo(() => Character.getTalentFieldValue(field, \"variant\", build), [field, build])\r\n\r\n  const formulaTextOverlay = useMemo(() => {\r\n    const fieldFormulaText = Character.getTalentFieldValue(field, \"formulaText\", build)\r\n    return fieldFormulaText ? <BootstrapTooltip placement=\"top\" title={<Typography>{fieldFormulaText}</Typography>}>\r\n      <Box component=\"span\" sx={{ cursor: \"help\", ml: 1 }}><FontAwesomeIcon icon={faQuestionCircle} /></Box>\r\n    </BootstrapTooltip> : null\r\n  }, [field, build])\r\n\r\n  const unit = useMemo(() => Character.getTalentFieldValue(field, \"unit\", build), [field, build])\r\n\r\n  if (!canShow) return null\r\n  return <ListItem sx={{ display: \"flex\", justifyContent: \"space-between\" }}  >\r\n    <span><b>{fieldText}</b>{formulaTextOverlay}</span>\r\n    <Typography color={`${fieldVariant}.main`}>{fieldVal?.toFixed?.(fixedVal) ?? fieldVal}{unit}</Typography>\r\n  </ListItem>\r\n}\r\nexport const FieldDisplayList = styled(List)(({ theme }) => ({\r\n  borderRadius: theme.shape.borderRadius,\r\n  overflow: \"hidden\",\r\n  margin: 0,\r\n  '> .MuiListItem-root:nth-of-type(even)': {\r\n    backgroundColor: theme.palette.contentDark.main\r\n  },\r\n  '> .MuiListItem-root:nth-of-type(odd)': {\r\n    backgroundColor: theme.palette.contentDarker.main\r\n  },\r\n}));","import { ButtonProps, styled, ToggleButtonGroup, ToggleButtonGroupProps } from \"@mui/material\";\r\n\r\nexport type SolidToggleButtonGroupProps = SolidToggleButtonGroupPropsPartial & ToggleButtonGroupProps\r\ntype SolidToggleButtonGroupPropsPartial = {\r\n  baseColor?: ButtonProps[\"color\"];\r\n  selectedColor?: ButtonProps[\"color\"];\r\n}\r\n\r\nconst SolidToggleButtonGroup = styled(ToggleButtonGroup, {\r\n  shouldForwardProp: (prop) => prop !== \"baseColor\" && prop !== \"selectedColor\"\r\n})<SolidToggleButtonGroupPropsPartial>(({ theme, baseColor = \"primary\", selectedColor = \"success\" }) => ({\r\n  '& .MuiToggleButtonGroup-grouped': {\r\n    '&': {\r\n      backgroundColor: theme.palette[baseColor].main,\r\n      color: theme.palette[baseColor].contrastText,\r\n    },\r\n    '&:hover': {\r\n      backgroundColor: theme.palette[baseColor].dark,\r\n    },\r\n    '&.Mui-selected': {\r\n      backgroundColor: theme.palette[selectedColor].main,\r\n      color: theme.palette[selectedColor].contrastText,\r\n    },\r\n    '&.Mui-selected:hover': {\r\n      backgroundColor: theme.palette[selectedColor].dark,\r\n    },\r\n    '&.Mui-disabled': {\r\n      backgroundColor: theme.palette[baseColor].dark,\r\n    },\r\n    '&.Mui-selected.Mui-disabled': {\r\n      backgroundColor: theme.palette[selectedColor].dark,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default SolidToggleButtonGroup","import { styled, Tooltip, tooltipClasses, TooltipProps } from \"@mui/material\";\r\n\r\nconst BootstrapTooltip = styled(({ className, ...props }: TooltipProps) => (\r\n  <Tooltip {...props} arrow classes={{ popper: className }} />\r\n))(({ theme }) => ({\r\n  [`& .${tooltipClasses.arrow}`]: {\r\n    color: theme.palette.common.black,\r\n  },\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    backgroundColor: theme.palette.common.black,\r\n  },\r\n}));\r\nexport default BootstrapTooltip","import { ArtifactSheet } from \"../Artifact/ArtifactSheet\";\r\nimport CharacterSheet from \"../Character/CharacterSheet\";\r\nimport { ArtifactSetKey, CharacterKey, WeaponKey } from \"../Types/consts\";\r\nimport WeaponSheet from \"../Weapon/WeaponSheet\";\r\nimport usePromise from \"./usePromise\";\r\n\r\nexport type Sheets = { characterSheets: Record<CharacterKey, CharacterSheet>, weaponSheets: Record<WeaponKey, WeaponSheet>, artifactSheets: Record<ArtifactSetKey, ArtifactSheet> }\r\nexport default function useSheets() {\r\n  return usePromise(getSheets(), [])\r\n}\r\n\r\nexport function getSheets() {\r\n  return Promise.all([CharacterSheet.getAll(), WeaponSheet.getAll(), ArtifactSheet.getAll()])\r\n    .then(([characterSheets, weaponSheets, artifactSheets]) => ({ characterSheets, weaponSheets, artifactSheets }))\r\n}","import { useCallback, useState } from \"react\"\r\n\r\nexport default function useForceUpdate(): [object, () => void] {\r\n  const [stateDirty, update] = useState({})\r\n  const forceUpdateHook = useCallback(() => update({}), [])\r\n  return [stateDirty, forceUpdateHook]\r\n}","import { ReactNode } from \"react\";\r\n\r\ntype Prop = {\r\n  condition: boolean,\r\n  wrapper: (children: ReactNode) => ReactNode\r\n  falseWrapper?: (children: ReactNode) => ReactNode\r\n  children: ReactNode\r\n}\r\n// Wrap children with element provided by wrapper func when condition is true.\r\nexport default function ConditionalWrapper({ condition, wrapper, falseWrapper, children }: Prop) {\r\n  return (condition ? wrapper(children) : (falseWrapper ? falseWrapper(children) : children)) as JSX.Element;\r\n}","import { Box } from \"@mui/material\"\r\nimport { useCallback, useContext } from \"react\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport Conditional from \"../Conditional/Conditional\"\r\nimport useCharacterReducer from \"../ReactHooks/useCharacterReducer\"\r\nimport { DocumentSection } from \"../Types/character\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { evalIfFunc } from \"../Util/Util\"\r\nimport ConditionalDisplay from \"./ConditionalDisplay\"\r\nimport FieldDisplay, { FieldDisplayList } from \"./FieldDisplay\"\r\n\r\ntype SkillDisplayCardProps = {\r\n  sections: DocumentSection[],\r\n  characterKey: CharacterKey,\r\n  skipConditionalEquipmentCheck?: boolean\r\n}\r\nexport default function DocumentDisplay({ sections, characterKey, skipConditionalEquipmentCheck }: SkillDisplayCardProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const onCVChange = useCallback(\r\n    v => characterDispatch({ conditionalValues: v }), [characterDispatch])\r\n  if (!build) return null\r\n\r\n  const sectionsDisplay = sections?.map((section, i) => {\r\n    if (!section.canShow!(build)) return null\r\n    const talentText = evalIfFunc(section.text, build)\r\n    const fields = section.fields ?? []\r\n    const canShowConditional = section.conditional && section.conditional.partyBuff !== \"partyOnly\" && Conditional.canShow(section.conditional, build, skipConditionalEquipmentCheck)\r\n    if (!talentText && !fields.length && !canShowConditional) return null\r\n    return <Box key={\"section\" + i} display=\"flex\" flexDirection=\"column\" gap={1}>\r\n      {talentText && <div>{talentText}</div>}\r\n      {fields.length > 0 && <FieldDisplayList>\r\n        {fields?.map?.((field, i) => <FieldDisplay key={i} field={field} />)}\r\n      </FieldDisplayList>}\r\n      {!!section.conditional && canShowConditional && <ConditionalDisplay conditional={section.conditional} stats={build} onChange={onCVChange} hideDesc skipConditionalEquipmentCheck={skipConditionalEquipmentCheck} />}\r\n    </Box>\r\n  }).filter(s => s)\r\n  if (!sectionsDisplay.length) return null\r\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1}>{sectionsDisplay}</Box>\r\n}\r\n","import { IconButton, IconButtonProps, styled } from \"@mui/material\";\r\n\r\ninterface ExpandMoreProps extends IconButtonProps {\r\n  expand: boolean;\r\n}\r\nconst ExpandButton = styled((props: ExpandMoreProps) => {\r\n  const { expand, ...other } = props;\r\n  return <IconButton {...other} />;\r\n})(({ theme, expand }) => ({\r\n  transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n  marginLeft: 'auto',\r\n  transition: (theme as any).transitions.create('transform', {\r\n    duration: (theme as any).transitions.duration.shortest,\r\n  }),\r\n}));\r\n\r\nexport default ExpandButton","import { initialBuildSettings } from \"../Build/BuildSetting\"\r\nimport SqBadge from \"../Components/SqBadge\"\r\nimport { Sheets } from \"../ReactHooks/useSheets\"\r\nimport { ICachedCharacter, TalentSheetElementKey } from \"../Types/character\"\r\nimport { allSlotKeys, CharacterKey } from \"../Types/consts\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { objectFromKeyMap } from \"../Util/Util\"\r\n\r\nexport function getFormulaTargetsDisplayHeading(key: string, sheets: Sheets, build: ICalculatedStats): {\r\n  title: Displayable,\r\n  icon?: string\r\n} {\r\n  if (key === \"basicKeys\") return {\r\n    title: \"Basic Stats\"\r\n  }\r\n  else if (key === \"genericAvgHit\") return {\r\n    title: \"Generic Optimization Values\"\r\n  }\r\n  else if (key === \"transReactions\") return {\r\n    title: \"Transformation Reaction\"\r\n  }\r\n  else if (key.startsWith(\"talentKey_\")) {\r\n    const subkey = key.split(\"talentKey_\")[1]\r\n    const talent = sheets.characterSheets[build.characterKey].getTalentOfKey(subkey as TalentSheetElementKey, build.characterEle)\r\n    return {\r\n      icon: talent?.img,\r\n      title: talent?.name ?? subkey\r\n    }\r\n  } else if (key.startsWith(\"weapon_\")) {\r\n    const subkey = key.split(\"weapon_\")[1]\r\n    const sheet = sheets.weaponSheets[build.weapon.key]\r\n    return {\r\n      icon: build.weapon.refineIndex < 2 ? sheet?.img : sheet?.imgAwaken,\r\n      title: (sheet.name ?? subkey)\r\n    }\r\n  } else if (key.startsWith(\"artifact_\")) {\r\n    const [, setKey, num] = key.split('_')\r\n    const sheet = sheets.artifactSheets[setKey]\r\n    return {\r\n      icon: sheet.defIconSrc,\r\n      title: <span>{sheet.name} <SqBadge color=\"success\">{num}-Set</SqBadge></span>\r\n    }\r\n  }\r\n  return {\r\n    title: \"\"\r\n  }\r\n}\r\n\r\nexport function initialCharacter(key: CharacterKey): ICachedCharacter {\r\n  return {\r\n    key, // the game character this is based off\r\n    level: 1,\r\n    ascension: 0,\r\n    hitMode: \"avgHit\",\r\n    reactionMode: \"\",\r\n    equippedArtifacts: objectFromKeyMap(allSlotKeys, () => \"\"),\r\n    equippedWeapon: \"\",\r\n    conditionalValues: {},\r\n    bonusStats: {},\r\n    buildSettings: initialBuildSettings(),\r\n    talent: {\r\n      auto: 1,\r\n      skill: 1,\r\n      burst: 1,\r\n    },\r\n    infusionAura: \"\",\r\n    constellation: 0,\r\n    team: [\"\", \"\", \"\"]\r\n  }\r\n}","import { styled } from \"@mui/system\";\r\n\r\nconst ThumbSide = styled(\"img\")(({ theme }) => ({\r\n  display: \"inline-block\",\r\n  width: \"auto\",\r\n  height: `2.3em`,\r\n  lineHeight: 1,\r\n  verticalAlign: \"text-bottom\",\r\n  marginTop: theme.spacing(-3),\r\n  marginLeft: theme.spacing(-1.25),\r\n  marginRight: theme.spacing(-1),\r\n  marginBottom: theme.spacing(-1),\r\n}))\r\n\r\nexport default ThumbSide","import { BusinessCenter } from \"@mui/icons-material\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CharacterSheet from \"../../Character/CharacterSheet\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\n\r\nexport default function LocationName({ location }) {\r\n  const { t } = useTranslation(\"ui\");\r\n  const characterSheet = usePromise(CharacterSheet.get(location ?? \"\"), [location])\r\n  return <Typography component=\"span\">\r\n    {characterSheet?.name ? characterSheet.nameWIthIcon : <span><BusinessCenter sx={{ verticalAlign: \"text-bottom\" }} /> {t`inventory`}</span>}\r\n  </Typography>\r\n\r\n}","import Formula from \"./Formula\"\r\nimport { Formulas, StatData } from \"./StatData\"\r\nimport { GetDependencies } from \"./StatDependency\"\r\nimport { ICalculatedStats, Modifier } from \"./Types/stats\"\r\nimport { mergeCalculatedStats, mergeModifiers, mergeStats } from \"./Util/StatUtil\"\r\n\r\nexport default function finalStatProcess(stats): ICalculatedStats {\r\n  let dependencies = GetDependencies(stats, stats?.modifiers)\r\n  const { initialStats: preprocessedStats, formula } = PreprocessFormulas(dependencies, stats)\r\n  formula(preprocessedStats)\r\n  return { ...stats, ...preprocessedStats }\r\n}\r\n\r\nfunction addPreModValues(stats: ICalculatedStats, mod: Modifier) {\r\n  if (!mod || !stats) return\r\n  Object.keys(mod).forEach(k => {\r\n    if (!stats.premod) stats.premod = {}\r\n    stats.premod[k] = stats?.premod?.[k] ?? stats[k]\r\n  })\r\n}\r\n\r\nfunction modStatsFormula(stats: ICalculatedStats, mods: Modifier, targets: (s: ICalculatedStats) => (ICalculatedStats | null)[], context: \"partyAll\" | \"partyOnly\" | \"partyActive\") {\r\n  if (!mods || !Object.keys(mods).length) return () => null\r\n  const modStatsFunc = Formula.computeModifier(stats, mods)\r\n  return (s: ICalculatedStats) => {\r\n    const modStats = modStatsFunc(s);\r\n    // Use mergeCalculatedStats here to allow the application to s.partyBuff\r\n    mergeCalculatedStats(s, { [context]: modStats })\r\n    targets(s).forEach(b => {\r\n      if (!b) return\r\n      addPreModValues(b, mods)\r\n    })\r\n  }\r\n}\r\nfunction relevantMod(dependencyKeys: string[], modifiers: Modifier) {\r\n  return Object.fromEntries(Object.entries(modifiers)\r\n    .filter(([key]) => dependencyKeys.includes(key)) // Keep only relevant keys\r\n  )\r\n}\r\ntype KeyedFormula = [string, (s: ICalculatedStats) => number]\r\n//assume all the dependency for the modifiers are part of the dependencyKeys as well\r\nexport function PreprocessFormulas(dependencyKeys: string[], stats: ICalculatedStats, ui = true) {\r\n  const { modifiers = {} } = stats, initialStats = {} as ICalculatedStats\r\n  const premodFormulaList: KeyedFormula[] = [], postmodFormulaList: KeyedFormula[] = []\r\n  for (const key of dependencyKeys) {\r\n    switch (getStage(key)) {\r\n      case 0: initialStats[key] = stats[key] ?? StatData[key]?.default ?? 0; break // Stat\r\n      case 1: initialStats[key] = Formulas[key]!(initialStats); break // Const Formula\r\n      case 2: premodFormulaList.push([key, Formulas[key]!]); break // Premod\r\n      case 3:  // Premod + Postmod\r\n        premodFormulaList.push([key, Formulas[key]!])\r\n        postmodFormulaList.push([key, Formulas[key]!])\r\n        break\r\n      case 4: postmodFormulaList.push([key, Formulas[key]!]); break // Postmod\r\n    }\r\n  }\r\n\r\n  initialStats.activeCharacter = stats.activeCharacter\r\n  initialStats.partyBuff = stats.partyBuff\r\n\r\n  let processTeam = (s: ICalculatedStats) => { }\r\n  if (stats.activeCharacter) {\r\n    const beforePreprocess = [...stats.teamStats]\r\n    const preprocessed: [ICalculatedStats | null, undefined | ((s: ICalculatedStats) => void)][] = stats.teamStats.map(t => {\r\n      if (!t) return [null, undefined]\r\n      if (!ui) { // if in builder, prune irrelevant mods to depdencies\r\n        // Teammates do not need to calculate modifier that only applies to themselves in builder\r\n        t.modifiers = {}\r\n        t.partyAllModifiers = relevantMod(dependencyKeys, t.partyAllModifiers)\r\n        t.partyOnlyModifiers = relevantMod(dependencyKeys, t.partyOnlyModifiers)\r\n        t.partyActiveModifiers = relevantMod(dependencyKeys, t.partyActiveModifiers)\r\n      }\r\n      const tPartyModifiers = {} as Modifier\r\n      mergeModifiers(tPartyModifiers, t.partyAllModifiers)\r\n      mergeModifiers(tPartyModifiers, t.partyOnlyModifiers)\r\n      mergeModifiers(tPartyModifiers, t.partyActiveModifiers)\r\n\r\n      // If teammate does not have a party modifier, then don't bother calculating its stats at all in builder\r\n      if (!ui && !Object.keys(tPartyModifiers)) return [null, undefined]\r\n      const tprocessKeys = GetDependencies(stats, tPartyModifiers, ui ? undefined : Object.keys(tPartyModifiers))\r\n      const { initialStats: tStats, formula: tFormula } = PreprocessFormulas(tprocessKeys, t, ui)\r\n      return [tStats, tFormula]\r\n    })\r\n    initialStats.teamStats = preprocessed.map(([stats]) => stats) as ICalculatedStats['teamStats']\r\n    const team = [initialStats, ...initialStats.teamStats]\r\n    initialStats.teamStats.forEach((t, i) => {\r\n      if (!t) return\r\n      t.teamStats = team.filter((_, index) => index !== i + 1) as ICalculatedStats['teamStats']\r\n    })\r\n    const teamFormula = preprocessed.map(([_, formula]) => formula)\r\n    processTeam = (s: ICalculatedStats) => {\r\n      s.teamStats.forEach((t, i) => {\r\n        if (!t || !teamFormula[i]) return\r\n        teamFormula[i]!(t)\r\n      })\r\n      if (ui)\r\n        s.teamStats = s.teamStats.map((t, i) =>\r\n          (!t || !beforePreprocess[i]) ? t : { ...beforePreprocess[i], ...t }\r\n        ) as ICalculatedStats['teamStats']\r\n    }\r\n  }\r\n\r\n  const modFormula = Formula.computeModifier(stats, relevantMod(dependencyKeys, modifiers))\r\n  const partyAllFormula = modStatsFormula(stats, relevantMod(dependencyKeys, stats.partyAllModifiers), (s) => [s, ...s.teamStats], \"partyAll\")\r\n  const partyOnlyFormula = modStatsFormula(stats, relevantMod(dependencyKeys, stats.partyOnlyModifiers), (s) => s.teamStats, \"partyOnly\")\r\n  const partyActiveFormula = modStatsFormula(stats, relevantMod(dependencyKeys, stats.partyActiveModifiers), (s) => [s], \"partyActive\")\r\n\r\n  return {\r\n    initialStats: initialStats as ICalculatedStats,\r\n    formula: (s: ICalculatedStats) => {\r\n      premodFormulaList.forEach(([key, formula]) => s[key] = formula(s))\r\n\r\n      const modStats = Formula.computeModifier(s, s.modifiers)(s) // late-binding modifiers (arts mod)\r\n      mergeStats(modStats, modFormula(s))\r\n      modifiers && addPreModValues(s, modifiers)\r\n      s.modifiers && addPreModValues(s, s.modifiers)\r\n\r\n      // Calculate & apply modStats.\r\n      partyAllFormula(s)\r\n      partyOnlyFormula(s)\r\n      partyActiveFormula(s)\r\n\r\n      processTeam(s)\r\n\r\n      // Apply modifiers\r\n      mergeCalculatedStats(s, modStats)\r\n      mergeStats(s, { modifiers })\r\n\r\n      if (s.activeCharacter || ui)\r\n        postmodFormulaList.forEach(([key, formula]) => s[key] = formula(s))\r\n    }\r\n  }\r\n}\r\nexport const numStages = 5\r\nexport function getStage(key: string): number {\r\n  if (!(key in Formulas)) return 0 // Stat\r\n  if (StatData[key]?.const) return 1 // Const\r\n  // Premod (doesn't exist right now)\r\n  if (key === \"finalATK\" || key === \"finalDEF\" || key === \"finalHP\") return 3 // Premod + Postmod\r\n  return 4 // Postmod\r\n}","import { ToggleButton } from \"@mui/material\";\r\nimport { useCallback } from \"react\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport { allWeaponTypeKeys, WeaponTypeKey } from \"../../Types/consts\";\r\nimport ImgIcon from \"../Image/ImgIcon\";\r\nimport SolidToggleButtonGroup, { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\r\ntype WeaponToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\r\n  onChange: (value: WeaponTypeKey | \"\") => void\r\n  value: WeaponTypeKey | \"\"\r\n}\r\nexport default function WeaponToggle({ value, onChange, ...props }: WeaponToggleProps) {\r\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\r\n  return <SolidToggleButtonGroup exclusive onChange={cb} value={value || allWeaponTypeKeys} {...props}>\r\n    {allWeaponTypeKeys.map(wt => <ToggleButton key={wt} value={wt}>\r\n      <ImgIcon src={Assets.weaponTypes?.[wt]} size={2} />\r\n    </ToggleButton>)}\r\n  </SolidToggleButtonGroup>\r\n}","import { Box, Typography } from \"@mui/material\"\r\nimport { useMemo } from \"react\"\r\nimport Character from \"../Character/Character\"\r\nimport { sgt } from \"../Data/Characters/SheetUtil\"\r\nimport Formula from \"../Formula\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport Stat from \"../Stat\"\r\nimport { ICachedCharacter } from \"../Types/character\"\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { characterBaseStats } from \"../Util/StatUtil\"\r\nimport ColorText from \"./ColoredText\"\r\nimport StatIcon from \"./StatIcon\"\r\n\r\nfunction DisplayStatDiff({ label = \"\", val, oldVal, fixed = 0, unit = \"\", hasBonus = false }) {\r\n  if (typeof oldVal === \"undefined\" && typeof val === \"number\") {//if only one value is filled, display that one.\r\n    oldVal = val\r\n    val = undefined\r\n  }\r\n  const diff = val !== undefined ? val - oldVal : 0;\r\n  let oldText: Displayable = \"\", diffText: Displayable = \"\"\r\n  if (oldVal || diff === 0) oldText = oldVal?.toFixed(fixed)\r\n  else if (oldVal === undefined) oldText = val?.toFixed(fixed)//if oldval isnt defined, just display val.\r\n  if (oldText) oldText = <span>{oldText}{unit}</span>\r\n  if (diff !== 0) diffText = <ColorText color={diff > 0 ? \"success\" : \"error\"}>{diff > 0 ? \"+\" : \"\"}{diff?.toFixed(fixed)}{unit}</ColorText>\r\n  const valueText = <>{oldText}{diffText}</>\r\n  return <Box display=\"flex\" justifyContent=\"space-between\" >\r\n    <Typography>{label}</Typography>\r\n    <Typography>\r\n      {hasBonus ? <strong>{valueText}</strong> : valueText}\r\n    </Typography>\r\n  </Box>\r\n}\r\ntype StatDisplayProps = {\r\n  character: ICachedCharacter,\r\n  equippedBuild?: ICalculatedStats,\r\n  newBuild?: ICalculatedStats,\r\n  statKey: string,\r\n  partyBuff?: boolean\r\n}\r\nexport default function StatDisplay({ character, equippedBuild, newBuild, statKey, partyBuff = false }: StatDisplayProps) {\r\n  const formula = usePromise(Array.isArray(statKey) ? Formula.get(statKey) : undefined, [statKey])\r\n\r\n  const { val, oldVal, fixed, unit, label, hasBonus } = useMemo(() => {\r\n    let val, oldVal, fixed, unit, label: Displayable = \"\"\r\n    if (typeof statKey === \"string\") {//basic statKey\r\n      if (newBuild && equippedBuild) {//comparable\r\n        //newbuild -> val\r\n        //equippedbuild ->old\r\n        val = newBuild?.[statKey] ?? 0\r\n        oldVal = equippedBuild?.[statKey] ?? 0\r\n        if (partyBuff) {\r\n          val = newBuild?.partyBuff?.[statKey] ?? 0\r\n          oldVal = equippedBuild?.partyBuff?.[statKey] ?? 0\r\n        }\r\n      } else {\r\n        const build = newBuild ? newBuild : equippedBuild\r\n        //build ->val\r\n        val = build?.[statKey] ?? 0\r\n        if (partyBuff) {\r\n          val = build?.partyBuff?.[statKey] ?? 0\r\n        }\r\n        if (!partyBuff) {\r\n          //statvaluewith override -> old\r\n          oldVal = characterBaseStats(character)[statKey] as number | undefined\r\n          if (build) {\r\n            if (statKey === \"finalHP\")\r\n              oldVal = build.characterHP\r\n            else if (statKey === \"finalDEF\")\r\n              oldVal = build.characterDEF\r\n            else if (statKey === \"finalATK\")\r\n              oldVal = build.characterATK + build.weaponATK\r\n          }\r\n        }\r\n      }\r\n      unit = Stat.getStatUnit(statKey)\r\n      fixed = Stat.fixedUnit(statKey)\r\n      label = <span>{StatIcon[statKey]} {Stat.getStatName(statKey)}</span>\r\n    } else if (formula) {//Formula\r\n      const build = newBuild ? newBuild : equippedBuild\r\n      const field = (formula as any).field as IFieldDisplay //assume it is attached in post-processing\r\n      const labelVariant = Character.getTalentFieldValue(field, \"variant\", build)\r\n      label = <ColorText color={labelVariant} >{Character.getTalentFieldValue(field, \"text\", build)}</ColorText>\r\n      fixed = Character.getTalentFieldValue(field, \"fixed\", build, 0 as any)\r\n      unit = Character.getTalentFieldValue(field, \"unit\", build, \"\")\r\n      val = Character.getTalentFieldValue(field, \"formula\", build)?.[0]?.(build)\r\n      if (newBuild && equippedBuild) {//comparable\r\n        oldVal = Character.getTalentFieldValue(field, \"formula\", equippedBuild)?.[0]?.(equippedBuild)\r\n      }\r\n    }\r\n    return { val, oldVal, fixed, unit, label, hasBonus: !partyBuff && Character.hasBonusStats(character, statKey) }\r\n  }, [character, equippedBuild, newBuild, statKey, partyBuff, formula])\r\n  if ((val && typeof val !== \"number\") || (oldVal && typeof oldVal !== \"number\")) {\r\n    let displayVal = val\r\n    if (statKey === \"infusionAura\") {\r\n      displayVal = <ColorText color={val}>{sgt(`element.${val}`)}</ColorText>\r\n    }\r\n    return <Box display=\"flex\" justifyContent=\"space-between\" >\r\n      <Typography>{label}</Typography>\r\n      <Typography>\r\n        <strong>{displayVal}</strong>\r\n      </Typography>\r\n    </Box>\r\n  }\r\n  return <DisplayStatDiff {...{ val, oldVal, fixed, unit, label: label as any, hasBonus }} />\r\n}","import Formula from \"./Formula\"\r\nimport { getStage, numStages } from \"./ProcessFormula\"\r\nimport { Formulas, StatData } from \"./StatData\"\r\nimport { IBaseStat } from \"./Types/character\"\r\nimport { Modifier } from \"./Types/stats\"\r\n\r\n// Generate a statKey dependency, to reduce build generation calculation on a single stat.\r\nfunction GetFormulaDependency(formula: (s) => number) {\r\n  const dependency: Set<string> = new Set()\r\n  formula(new Proxy({}, { get: (target, prop, receiver) => { dependency.add(prop.toString()) } }))\r\n  return [...dependency]\r\n}\r\nconst formulaKeyDependency = Object.freeze(Object.fromEntries(\r\n  Object.entries(Formulas).map(([key, value]) => [key, GetFormulaDependency(value)])\r\n)) as Dict<string, string[]>\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  let statKeys = Object.keys(StatData)\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    dependencies.forEach(key =>\r\n      !statKeys.includes(key as any) &&\r\n      console.error(`Formula ${formulaKey} depends key ${key} that does not Exist in StatData.`))\r\n  )\r\n  Object.entries(formulaKeyDependency).forEach(([formulaKey, dependencies]) =>\r\n    StatData[formulaKey]?.const && dependencies.forEach(key =>\r\n      !StatData[key as any]?.const &&\r\n      console.error(`Constant formula ${formulaKey} depends on dynamic key ${key}.`)\r\n    )\r\n  )\r\n}\r\n\r\nfunction GetDependencies(baseStat: IBaseStat, modifiers: Modifier = {}, keys = Object.keys(StatData)): Dependencies {\r\n  const found = new Set<string>()\r\n  const dependencies = [...Array(numStages)].map(_ => new Set<string>())\r\n  keys.forEach(key => InsertDependencies(baseStat, key, modifiers, dependencies, found))\r\n  return dependencies.flatMap(dep => [...dep])\r\n}\r\nfunction InsertDependencies(baseStat: IBaseStat, key: string, modifiers: Modifier, dependencies: Set<string>[], found: Set<string>) {\r\n  if (found.has(key)) return\r\n  found.add(key)\r\n\r\n  formulaKeyDependency[key]?.forEach(k => InsertDependencies(baseStat, k, modifiers, dependencies, found));\r\n  (modifiers[key] ?? []).forEach(path => Formula.getCurrent(path, baseStat)[1].forEach(k =>\r\n    InsertDependencies(baseStat, k, modifiers, dependencies, found)))\r\n  dependencies[getStage(key)].add(key)\r\n}\r\n\r\ntype Dependencies = string[]\r\n\r\nexport {\r\n  GetFormulaDependency,\r\n  GetDependencies,\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\n\r\nexport default function useWeapon(weaponID: string | undefined = \"\") {\r\n  const database = useContext(DatabaseContext)\r\n  const [weapon, setWeapon] = useState(database._getWeapon(weaponID))\r\n  useEffect(() => setWeapon(database._getWeapon(weaponID)), [database, weaponID])\r\n  useEffect(() =>\r\n    weaponID ? database.followWeapon(weaponID, setWeapon) : undefined,\r\n    [weaponID, setWeapon, database])\r\n  return weapon\r\n}","import { useCallback } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\n\r\n/**\r\n * Basically a history hook to go to the dedicated character page.\r\n * @returns \r\n */\r\nexport default function useCharSelectionCallback() {\r\n  const history = useHistory()\r\n  const cb = useCallback(\r\n    (characterKey: CharacterKey) => history.push(`/character/${characterKey}`),\r\n    [history],\r\n  )\r\n  return cb\r\n}","import { CheckBox, CheckBoxOutlineBlank } from '@mui/icons-material';\r\nimport { Button, Divider, MenuItem, Typography } from '@mui/material';\r\nimport React from 'react';\r\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton';\r\nimport SqBadge from '../Components/SqBadge';\r\nimport IConditional, { IConditionalValue } from '../Types/IConditional';\r\nimport { ICalculatedStats } from '../Types/stats';\r\nimport { evalIfFunc } from '../Util/Util';\r\n\r\nexport default function ConditionalSelector({ conditional, conditionalValue, setConditional, name, disabled = false, stats }:\r\n  { conditional: IConditional, conditionalValue: IConditionalValue, setConditional: (newCond: IConditionalValue) => void, name?: Displayable, disabled?: boolean, stats: ICalculatedStats }) {\r\n  const [conditionalNum = 0, conditionalStateKey] = conditionalValue\r\n  if (!conditional) return name as JSX.Element\r\n  if (\"states\" in conditional) {//complex conditional\r\n    const state = conditionalStateKey ? conditional.states[conditionalStateKey] : Object.values(conditional.states)[0]\r\n    const text = conditionalNum === 0 ? \"Not Active\" : <span>{state.name} {(evalIfFunc(state!.maxStack, stats) as number > 1 ? (`: ${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}`) : \"\")}</span>\r\n    const badge = <SqBadge color={conditionalNum === 0 ? \"secondary\" : \"success\"}>{text}</SqBadge>\r\n    return <DropdownButton fullWidth size=\"small\" title={<span>{name} {badge}</span>} disabled={disabled}>\r\n      <MenuItem onClick={() => setConditional([0])} selected={conditionalNum === 0} disabled={conditionalNum === 0}>\r\n        <span>Not Active</span>\r\n      </MenuItem>\r\n      <Divider />\r\n      {Object.entries(conditional.states).flatMap(([stateKey, condial]: any, i) =>\r\n        [...Array(condial.maxStack).keys()].map(v => v + 1).map((stack, i) =>\r\n          <MenuItem key={stateKey + i} onClick={() => setConditional([stack, stateKey])} selected={conditionalStateKey === stateKey && conditionalNum === stack} disabled={conditionalStateKey === stateKey && conditionalNum === stack} >\r\n            {condial.name}{condial.maxStack > 1 ? `: ${stack} stack${stack > 1 ? \"s\" : \"\"}` : \"\"}\r\n          </MenuItem>)\r\n      )}\r\n    </DropdownButton>\r\n  } else {// Simple conditional\r\n    const maxStack = evalIfFunc(conditional!.maxStack, stats) as number\r\n    if (maxStack === 0) {// Auto resolving conditional\r\n      return name ? <Typography>{name}</Typography> : null\r\n    } else if (maxStack === 1) {// Single boolean conditional\r\n      return <Button fullWidth size=\"small\" onClick={() => setConditional([conditionalNum ? 0 : 1])} disabled={disabled} startIcon={conditionalNum ? <CheckBox /> : <CheckBoxOutlineBlank />}>\r\n        {name}\r\n      </Button>\r\n    } else if (maxStack > 1) {\r\n      // Stacking conditional\r\n      const badge = <SqBadge color={conditionalNum === 0 ? \"secondary\" : \"success\"}>{conditionalNum > 0 ? `${conditionalNum} stack${conditionalNum > 1 ? \"s\" : \"\"}` : \"Not Active\"}</SqBadge>\r\n      return <DropdownButton fullWidth size=\"small\" title={<span>{name} {badge}</span>} disabled={disabled}>\r\n        <MenuItem onClick={() => setConditional([0])} selected={conditionalNum === 0} disabled={conditionalNum === 0}>\r\n          <span>Not Active</span>\r\n        </MenuItem>\r\n        <Divider />\r\n        {[...Array(maxStack).keys()].map(v => v + 1).map(stack =>\r\n          <MenuItem key={stack} onClick={() => setConditional([stack])} selected={conditionalNum === stack} disabled={conditionalNum === stack}>\r\n            {`${stack} stack${stack > 1 ? \"s\" : \"\"}`}\r\n          </MenuItem>)}\r\n      </DropdownButton>\r\n    }\r\n  }\r\n  return null\r\n}","import { CardContent, Box, CardHeader, Divider } from \"@mui/material\"\r\nimport { useCallback, useMemo } from \"react\"\r\nimport Conditional from \"../Conditional/Conditional\"\r\nimport ConditionalSelector from \"../Conditional/ConditionalSelector\"\r\nimport IConditional, { IConditionalValue, IConditionalValues } from \"../Types/IConditional\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport statsToFields from \"../Util/FieldUtil\"\r\nimport { deletePropPath, evalIfFunc, layeredAssignment, objClearEmpties } from \"../Util/Util\"\r\nimport CardDark from \"./Card/CardDark\"\r\nimport FieldDisplay, { FieldDisplayList } from \"./FieldDisplay\"\r\n\r\ntype ConditionalDisplayProps = {\r\n  conditional: IConditional,\r\n  stats: ICalculatedStats,\r\n  hideHeader?: boolean,\r\n  hideDesc?: boolean,\r\n  onChange: (value: IConditionalValues<IConditionalValue>) => void\r\n  skipConditionalEquipmentCheck?: boolean\r\n}\r\n\r\nexport default function ConditionalDisplay({ conditional, stats, hideHeader = false, hideDesc = false, onChange, skipConditionalEquipmentCheck = false }: ConditionalDisplayProps) {\r\n  const canShow = useMemo(() => Conditional.canShow(conditional, stats, skipConditionalEquipmentCheck), [conditional, stats, skipConditionalEquipmentCheck])\r\n  const { stats: conditionalStats = {}, fields: conditionalFields = [], conditionalValue } = useMemo(() => canShow ? Conditional.resolve(conditional, stats) : { stats: {}, fields: [], conditionalValue: [0] as IConditionalValue }, [canShow, conditional, stats])\r\n  const displayFields = useMemo(() => canShow ? [...statsToFields(conditionalStats, stats), ...conditionalFields] : [], [canShow, conditionalStats, stats, conditionalFields])\r\n  const setConditional = useCallback(condV => {\r\n    const [conditionalNum = 0] = condV\r\n    if (!conditionalNum) {\r\n      deletePropPath(stats.conditionalValues, conditional!.keys)\r\n      objClearEmpties(stats.conditionalValues)\r\n    } else if (conditional.keys)\r\n      layeredAssignment(stats.conditionalValues, conditional!.keys, condV)\r\n    onChange(stats.conditionalValues)\r\n  }, [conditional, stats, onChange])\r\n\r\n  const description = !hideDesc && conditional.description && evalIfFunc(conditional.description, stats)\r\n\r\n  if (!canShow || !stats) return null\r\n  return <CardDark>\r\n    {!hideHeader && conditional.header && <CardHeader avatar={conditional.header.icon && evalIfFunc(conditional.header.icon, stats)} title={conditional.header.title} action={conditional.header.action} titleTypographyProps={{ variant: \"subtitle2\" }} />}\r\n    {!hideHeader && conditional.header && <Divider />}\r\n    {!!conditional.name && <CardContent>\r\n      {description && <Box mb={1}>{description}</Box>}\r\n      <ConditionalSelector\r\n        conditional={conditional}\r\n        conditionalValue={conditionalValue}\r\n        setConditional={setConditional}\r\n        name={conditional.name}\r\n        stats={stats} />\r\n    </CardContent>}\r\n    <FieldDisplayList sx={{ m: 0 }}>\r\n      {displayFields.map((field, i) => <FieldDisplay key={i} field={field} />)}\r\n    </FieldDisplayList>\r\n  </CardDark>\r\n}","type SortConfig<T> = {\r\n  getValue: (id: T) => number | string\r\n  tieBreaker?: string\r\n}\r\nexport type SortConfigs<Keys extends string, T> = Record<Keys, SortConfig<T>>\r\n\r\nexport function sortFunction<Keys extends string, T>(sortby: string, ascending: boolean, configs: SortConfigs<Keys, T>) {\r\n  function Sort(a: T, b: T, ascending: boolean, config: SortConfig<T>) {\r\n    const aV = config.getValue(a)\r\n    const bV = config.getValue(b)\r\n    let diff = 0\r\n    if (typeof aV === \"string\" && typeof bV === \"string\")\r\n      diff = aV.localeCompare(bV)\r\n    else\r\n      diff = ((bV as number) - (aV as number))\r\n    return (ascending ? -1 : 1) * diff\r\n  }\r\n  return (a: T, b: T) => {\r\n    if (!configs[sortby]) return 0\r\n    const filterOption = configs[sortby]\r\n    let diff = Sort(a, b, ascending, filterOption)\r\n    if (!diff && filterOption.tieBreaker && configs[filterOption.tieBreaker])\r\n      diff = Sort(a, b, ascending, configs[filterOption.tieBreaker])\r\n    return diff\r\n  }\r\n}\r\n\r\ntype FilterConfig<T> = (obj: T, filter: any) => boolean\r\nexport type FilterConfigs<Keys extends string, T> = Record<Keys, FilterConfig<T>>\r\nexport function filterFunction<Keys extends string, T>(filterOptions: Record<Keys, any>, filterConfigs: FilterConfigs<Keys, T>) {\r\n  return (obj: T) => Object.entries(filterOptions).every(([optionKey, optionVal]) => filterConfigs[optionKey as any](obj, optionVal))\r\n}","import { faSortAmountDownAlt, faSortAmountUp } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Button, ButtonGroup, ButtonGroupProps, MenuItem } from \"@mui/material\";\r\nimport { Trans, useTranslation } from \"react-i18next\";\r\nimport DropdownButton from \"./DropdownMenu/DropdownButton\";\r\n\r\ntype SortByButtonProps = ButtonGroupProps & {\r\n  sortKeys: string[]\r\n  value: string\r\n  onChange: (value: string) => void\r\n  ascending: boolean\r\n  onChangeAsc: (value: boolean) => void\r\n}\r\n// Assumes that all the sortKeys has corresponding translations in ui.json sortMap\r\nexport default function SortByButton({ sortKeys, value, onChange, ascending, onChangeAsc, ...props }: SortByButtonProps) {\r\n  const { t } = useTranslation(\"ui\")\r\n  return <ButtonGroup {...props} >\r\n    <DropdownButton title={<Trans t={t} i18nKey=\"sortByFormat\" value={t(`sortMap.${value}`) as any}>Sort By: {{ value: t(`sortMap.${value}`) }}</Trans>}>\r\n      {sortKeys.map(key =>\r\n        <MenuItem key={key} selected={value === key} disabled={value === key} onClick={() => onChange(key)}>{t(`sortMap.${key}`) as any}</MenuItem>)}\r\n    </DropdownButton>\r\n    <Button onClick={() => onChangeAsc(!ascending)} startIcon={<FontAwesomeIcon icon={ascending ? faSortAmountDownAlt : faSortAmountUp} className=\"fa-fw\" />}>\r\n      {ascending ? <Trans t={t} i18nKey=\"ascending\" >Ascending</Trans> : <Trans t={t} i18nKey=\"descending\" >Descending</Trans>}\r\n    </Button>\r\n  </ButtonGroup>\r\n}","import { useContext, useEffect, useState } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\n\r\nexport default function useCharacter(characterKey: CharacterKey | \"\" | undefined = \"\") {\r\n  const database = useContext(DatabaseContext)\r\n  const [character, updateCharacter] = useState(database._getChar(characterKey))\r\n  useEffect(() => updateCharacter(database._getChar(characterKey)), [database, characterKey])\r\n  useEffect(() =>\r\n    characterKey ? database.followChar(characterKey, updateCharacter) : undefined,\r\n    [characterKey, updateCharacter, database])\r\n  return character\r\n}","import { IArtifact, ISubstat, MainStatKey, SubstatKey } from '../Types/artifact'\r\nimport { crawlObject, layeredAssignment } from '../Util/Util'\r\nimport Artifact from './Artifact'\r\nimport ArtifactMainStatsData from './artifact_main_gen.json'\r\n\r\n// We separate rolls into \"filler rolls\" that occurs when there are less than 4 substats,\r\n// and \"upgrade rolls\" that occurs when all 4 substats are added. They have different\r\n// probability distribution and require separate consideration.\r\n\r\n// Notations for the remainder of this file.\r\n//\r\n// i, j, k := substat\r\n// E(i) := Extra substat that rolls into substat i\r\n// T(i) := Targetted (extra) substat for substat i\r\n// Nf(i) := # of filler roll into substat i (0 <= Nfi <= 1)\r\n// Nu(i) := # of upgrade rolls into substat i\r\n//\r\n// E := { E1, E2, ... }\r\n// T := { T1, T2, ... }\r\n// N(i) := Nf(i) + Nu(i)\r\n// Nf := Nf(1) + Nf(2) + ...\r\n// Nu := Nu(1) + Nu(2) + ...\r\n//\r\n// For example, if the artifact has 14 atk, and the target atk is 30,\r\n// in a scenario where we roll 2 rolls of 16 and 18 into atk, then\r\n// \r\n// i = atk, E(atk) = 16 + 18, T(atk) = 30 - 14, Nf(atk) = 0 roll, Nu(atk) = 2 rolls\r\n\r\nconst allWeights = [3, 4, 6] as const\r\ntype Weight = typeof allWeights[number]\r\n\r\n/**\r\n * Weight used when rolling a filler roll. Each roll will choose from available\r\n * substats (excluding main stat and existing substats) with these weights.\r\n */\r\nconst fWeight: StrictDict<SubstatKey, Weight> = {\r\n  hp: 6, atk: 6, def: 6,\r\n  hp_: 4, atk_: 4, def_: 4, eleMas: 4, enerRech_: 4,\r\n  critRate_: 3, critDMG_: 3\r\n}\r\n\r\n/**\r\n * Probability of observing a filler sequence with particular weights\r\n * \r\n * pFillerSeq[w0][w1][w2][...] = Pr [ fWeight[main stat] = w0, fWeight[substat1] = w1, fWeight[substat2] = w2, ... ]\r\n */\r\nconst pFillerSeq: Dict<0 | Weight, Dict<Weight, Dict<Weight, Dict<Weight, Dict<Weight, number>>>>> = {}\r\nfunction populatePFillerSeq(prefix: (0 | Weight)[], prob: { [key in Weight]: number }, sumProb: number, current: number) {\r\n  if (prefix.length === 5) {\r\n    layeredAssignment(pFillerSeq, prefix as any, current)\r\n    return\r\n  }\r\n\r\n  for (const i of allWeights)\r\n    if (prob[i] > 0)\r\n      populatePFillerSeq([...prefix, i], { ...prob, [i]: prob[i] - i }, sumProb - i, current * prob[i] / sumProb)\r\n}\r\npopulatePFillerSeq([0], { 3: 6, 4: 20, 6: 18 }, 44, 1)\r\n\r\npopulatePFillerSeq([3], { 3: 3, 4: 20, 6: 18 }, 41, 1)\r\npopulatePFillerSeq([4], { 3: 6, 4: 16, 6: 18 }, 40, 1)\r\npopulatePFillerSeq([6], { 3: 6, 4: 20, 6: 12 }, 38, 1)\r\n\r\n/**\r\n * cnr[n][r] = C(n, r) = n! / (r!(n-r)!)\r\n * \r\n * 0 <= n <= 5; 0 <= r <= n\r\n */\r\nconst cnr = Array(6).fill(0).map((_, n) => {\r\n  const result = [1]\r\n  let r = 0, value = 1\r\n  while (++r <= n) {\r\n    value *= n - r + 1\r\n    value /= r\r\n    result.push(value)\r\n  }\r\n\r\n  return result\r\n})\r\n\r\n/** \r\n * pNExtra[n][i] = Pr[ E(k) >= (i - 7n) * alpha(i) | N(k) = n ]\r\n *               = Pr[ (E(k) / alpha(k)) - 7n >= i | N(k) = n ]\r\n * \r\n * 0 <= n <= 5; 0 <= i < 3*n + 1\r\n */\r\nconst pNExtra = [[1]]\r\nwhile (pNExtra.length < 6) {\r\n  const last = pNExtra[pNExtra.length - 1]\r\n  const next = Array(last.length + 3).fill(0)\r\n  last.forEach((value, i) => {\r\n    for (const j of [0, 1, 2, 3]) {\r\n      next[i + j] += value\r\n    }\r\n  })\r\n\r\n  pNExtra.push(next.map(x => x / 4))\r\n}\r\nfor (const array of pNExtra) {\r\n  let accu = array.reduce((a, b) => a + b)\r\n  array.forEach((x, i, array) => {\r\n    array[i] = accu\r\n    accu -= x\r\n  })\r\n}\r\n\r\n/** Probability that `artifact` will have at least `target` stats at max level */\r\nfunction probability(artifact: IArtifact, _target: { [key in SubstatKey]?: number }): number {\r\n  if (artifact.rarity <= 2) return NaN // Doesn't work with 1* and 2* should we decide to add them\r\n\r\n  const { rarity, level, substats } = artifact\r\n\r\n  // `target = target - mainstat - substat` to find the extra substats we need\r\n  // Also count filler rolls (4 - # of substats) while we're at it\r\n  const target = { ..._target }, required = new Set(Object.keys(target))\r\n  let numFillerSlots = 0\r\n  {\r\n    const key = artifact.mainStatKey\r\n    if (key in target) {\r\n      const maxLevel = rarity * 4 // Note: this formula doesn't work with 1* and 2* artifacts\r\n      const maxLevelMainStat = ArtifactMainStatsData[rarity][key][maxLevel]\r\n      if (maxLevelMainStat < target[key]!) return 0 // Main stat won't meet the target\r\n\r\n      delete target[key]\r\n      required.delete(key as SubstatKey)\r\n    }\r\n  }\r\n  for (const { key, value } of substats) {\r\n    if (key) {\r\n      if (required.has(key)) {\r\n        required.delete(key)\r\n        if (target[key]! > value)\r\n          target[key]! -= value\r\n        else delete target[key] // Requirement already met\r\n      }\r\n    } else numFillerSlots += 1\r\n  }\r\n  numFillerSlots += 4 - substats.length\r\n\r\n  if (required.size > numFillerSlots || Object.keys(target).length > 4) return 0 // Not enough filler rolls\r\n\r\n  const numUpgradeRolls = Artifact.rollsRemaining(level, rarity) - numFillerSlots\r\n\r\n  // normalize `target`\r\n  for (const [key, value] of Object.entries(target))\r\n    target[key] = Math.max(Math.ceil(10 * value / Artifact.maxSubstatValues(key, rarity)), 1)\r\n\r\n  let minTotalUpgrades = 0\r\n  const targetEntries = Object.entries(target).map(([key, target]) => {\r\n    const filler = required.has(key) ? 1 : 0 // Nf(i)\r\n    const minUpgrade = Math.ceil(target / 10) - filler // Minimum # of upgrade rolls to ensure E(i) > T(i)\r\n    minTotalUpgrades += minUpgrade\r\n    return { target, filler, minUpgrade }\r\n  }).reverse()\r\n\r\n  if (minTotalUpgrades > numUpgradeRolls) return 0 // Not enough upgrade rolls\r\n\r\n  /**\r\n   * The optimization trick here is to write Pr[ E > T | N ] using a recursive relation. Let\r\n   * \r\n   *  f(n, t) = Pr[ E(i) >= t | N(i) = n ]\r\n   *  g(k, n) = Pr[ E(1) >= T(1), E(2) >= T(2), ..., E(k) >= T(k) | Nu - Nu(1) - Nu(2) - ... - Nu(k) = n ]\r\n   *  h(n, m, M) = Pr[ Nu(k) = m | 0 <= Nu(k) <= n, |K| = M ]\r\n   * \r\n   * Then\r\n   * \r\n   *  Pr [ E > T | N ] = Pr[ Nf(k) = I(k requires filler) for all k | N ] sum{0 <= n <= Nu} g(|K|, n)\r\n   * \r\n   * where I(X) is the indicator function, and |K| is the number of substat constraints, and\r\n   * \r\n   *  f(n, e * alpha(i)) = pNExtra[n][ e - 7n ]\r\n   *  h(n, m, M) = C(n, m) (M-1)^(n - m) M^(-n) = pRollInto(n, m, M)\r\n   *  g(0, N) = 1\r\n   *  g(0, n) = 0 for n != N\r\n   * \r\n   *  g(k + 1, n) = sum{0 <= m <= n} g(k, n + m) f(m + Nf(k), T(k)) h(n + m, m, |K| - k)\r\n   */\r\n\r\n  // At this point,\r\n  //  `target` = ceil(T / alpha)\r\n  //  `numUpgradeRolls` = Nu\r\n\r\n  let result = { [numUpgradeRolls]: 1 }, additionalUpgradeRolls = numUpgradeRolls - minTotalUpgrades\r\n\r\n  // Keep applying `target` from first to last.\r\n  // At each step i in the loop, `result[n]` = g(i, n)\r\n  targetEntries.forEach(({ target, filler, minUpgrade }, targetIndex) => {\r\n    const next: typeof result = {}\r\n\r\n    for (let rolls = minUpgrade; rolls <= minUpgrade + additionalUpgradeRolls; rolls++) {\r\n      // rolls = m; extra = T(i) / alpha - 7n\r\n\r\n      // Extra substat (mutiple of alpha) required from upgrade & filler rolls\r\n      const extra = target - 7 * (rolls + filler)\r\n      // pExtra = Pr[ Has at least `extra` * alpha from `rolls` upgrade or filler rolls into `key` ]\r\n      //        = f(m + Nf(i), T(i))\r\n      const pExtra = (extra > 0 ? pNExtra[rolls + filler][extra] : 1)\r\n\r\n      for (const [_remaining, probability] of Object.entries(result)) {\r\n        const remaining = parseInt(_remaining)\r\n        if (remaining < rolls) continue\r\n\r\n        // n := remaining - m\r\n        // remaining = n + m\r\n        // probability = g(i, n + m)\r\n\r\n        // `pRolls` = Pr[ Has `rolls` rolls into `key` from `remaining` upgrade rolls ]\r\n        //          = h(n + m, m, |K| - i)\r\n        const pRolls = pRollInto(remaining, rolls, 4 - targetIndex)\r\n        const index = remaining - rolls // n\r\n\r\n        // g(i + 1, n) += g(i, n + m) f(m + Nf(i), T(i)) h(n + m, m, |K| - i)\r\n        next[index] = (next[index] ?? 0) + probability * pExtra * pRolls\r\n      }\r\n    }\r\n    result = next\r\n  })\r\n\r\n  // At this point, `result[i]` = g(|K|, i)\r\n\r\n  return calculatePFillerRolls(artifact.mainStatKey, substats, required) * Object.values(result).reduce((a, b) => a + b)\r\n}\r\n\r\n/**\r\n * Pr[ N(k) = n | N = m, |K| = M ]\r\n * \r\n * 0 <= n <= N <= 5; 0 <= M <= 4\r\n */\r\nfunction pRollInto(m: number, n: number, M: number) {\r\n  return cnr[m][n] * Math.pow(M - 1, m - n) / Math.pow(M, m)\r\n}\r\n\r\n// Given a list of substat (in that order), calculate the probability that filler rolls will have all `required` substats in any order\r\nfunction calculatePFillerRolls(mainStat: MainStatKey, substats: ISubstat[], required: Set<SubstatKey>) {\r\n  // Instead of picking substats in a particular order [critDMG_, atk_, ...],\r\n  // We pick substat weights first [3, 4, 3, ...], then assign proper substats\r\n  // that corresponds to that weight: 3 => critDMG_ | critRate_ ; 4 => atk_, etc.\r\n  // This reduces the search space significantly (5040 substat sequences => 71 weight sequences).\r\n\r\n  const mainStatRatio = fWeight[mainStat] ?? 0\r\n  let pFillerRolls = 0 // Pr[ filler rolls include all `required` substats, Substats are in the same order as `substats` ]\r\n\r\n  const numUnusedSubstats = { 3: 2, 4: 5, 6: 3 } // # of substat not used by main stat or substats\r\n  let pSuffixFillerSeq: any = pFillerSeq[mainStatRatio] // Suffix of `pFillerSeq` that excludes the `substats` portion\r\n  for (const { key } of substats) {\r\n    if (key) {\r\n      const ratio = fWeight[key]\r\n      pSuffixFillerSeq = pSuffixFillerSeq[ratio]\r\n      numUnusedSubstats[ratio] -= 1\r\n    }\r\n  }\r\n  if (mainStatRatio) numUnusedSubstats[mainStatRatio] -= 1\r\n\r\n  const requiredCount = { 3: 0, 4: 0, 6: 0 }\r\n  for (const key of required) requiredCount[fWeight[key]] += 1\r\n\r\n  let total = 0\r\n  crawlObject(pSuffixFillerSeq, [], obj => typeof obj === \"number\", (prob: number, path: string[]) => {\r\n    total += prob\r\n    const currentCount = { 3: 0, 4: 0, 6: 0 }\r\n    for (const key of path) currentCount[key] += 1\r\n\r\n    let sum = prob\r\n    for (const i of allWeights) {\r\n      const current = currentCount[i], required = requiredCount[i]\r\n      if (current < required) return\r\n      sum *= cnr[current][required]\r\n    }\r\n\r\n    pFillerRolls += sum\r\n  })\r\n\r\n  for (const i of allWeights)\r\n    pFillerRolls /= cnr[numUnusedSubstats[i]][requiredCount[i]]\r\n  return pFillerRolls / total\r\n}\r\n\r\nexport { probability }\r\n","import SqBadge from '../Components/SqBadge';\r\nimport { clamp } from '../Util/Util';\r\n\r\nexport default function PercentBadge({ value, valid }: Data) {\r\n  let [badgeColor, text] = typeof value === 'number' ?\r\n    [`roll${clamp(Math.floor(value * 0.05) + 1, 1, 6)}`, value.toFixed(2) + \"%\"] : [\"secondary\", value]\r\n  if (!valid) badgeColor = \"error\"\r\n  return <SqBadge color={badgeColor} >{text}</SqBadge>\r\n}\r\n\r\ntype Data = {\r\n  valid: boolean,\r\n  value: number | string,\r\n}\r\n","import { Button, ButtonProps, styled } from \"@mui/material\";\r\n\r\nconst DisabledButton = styled(Button)(({ theme }) => ({\r\n  \"&.Mui-disabled\": {\r\n    backgroundColor: theme.palette.primary.dark,\r\n    color: theme.palette.text.secondary,\r\n  }\r\n}))\r\n\r\nexport default function TextButton({ children, disabled, ...props }: ButtonProps) {\r\n  return <DisabledButton {...props} disabled  >\r\n    {children}\r\n  </DisabledButton>\r\n}\r\n","import { Replay } from \"@mui/icons-material\"\r\nimport { Button, ButtonGroup, ButtonGroupProps, styled } from \"@mui/material\"\r\nimport { ReactNode } from \"react\"\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from \"../Components/CustomNumberInput\"\r\nimport TextButton from \"../Components/TextButton\"\r\n\r\ntype StatInputInput = ButtonGroupProps & {\r\n  name: Displayable,\r\n  children?: ReactNode,\r\n  value: number,\r\n  placeholder?: string,\r\n  defaultValue?: number,\r\n  onValueChange: (newValue: number | undefined) => void,\r\n  percent?: boolean,\r\n  disabled?: boolean,\r\n  onReset?: () => void\r\n}\r\nconst FlexButtonGroup = styled(ButtonGroup)({\r\n  display: \"flex\"\r\n})\r\n\r\nexport default function StatInput({ name, children, value, placeholder, defaultValue = 0, onValueChange, percent = false, disabled = false, onReset, ...restProps }: StatInputInput) {\r\n\r\n  return <FlexButtonGroup {...restProps} >\r\n    {children}\r\n    <TextButton sx={{ whiteSpace: \"nowrap\" }} >\r\n      {name}\r\n    </TextButton>\r\n    <CustomNumberInputButtonGroupWrapper sx={{ flexBasis: 30, flexGrow: 1 }} >\r\n      <CustomNumberInput\r\n        sx={{ px: 1 }}\r\n        inputProps={{\r\n          sx: { textAlign: \"right\" }\r\n        }}\r\n        float={percent}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onValueChange}\r\n        disabled={disabled}\r\n        endAdornment={percent ? \"%\" : undefined}\r\n      />\r\n    </CustomNumberInputButtonGroupWrapper>\r\n    <Button onClick={() => onReset ? onReset() : onValueChange(defaultValue)} disabled={disabled || value === defaultValue} >\r\n      <Replay />\r\n    </Button>\r\n  </FlexButtonGroup>\r\n}","import { Box, CardActionArea, CardContent, Divider, Grid, Typography } from \"@mui/material\"\r\nimport { useEffect, useState } from \"react\"\r\nimport Assets from \"../../Assets/Assets\"\r\nimport usePromise from \"../../ReactHooks/usePromise\"\r\nimport { allWeaponKeys, WeaponKey, WeaponTypeKey } from \"../../Types/consts\"\r\nimport WeaponSheet from \"../../Weapon/WeaponSheet\"\r\nimport CardDark from \"../Card/CardDark\"\r\nimport CardLight from \"../Card/CardLight\"\r\nimport CloseButton from \"../CloseButton\"\r\nimport ImgIcon from \"../Image/ImgIcon\"\r\nimport ModalWrapper from \"../ModalWrapper\"\r\nimport { Stars } from \"../StarDisplay\"\r\nimport WeaponToggle from \"../ToggleButton/WeaponToggle\"\r\n\r\ntype WeaponSelectionModalProps = {\r\n  show: boolean,\r\n  onHide: () => void,\r\n  onSelect: (wKey: WeaponKey) => void,\r\n  filter?: (sheet: WeaponSheet) => boolean,\r\n  weaponFilter?: WeaponTypeKey,\r\n}\r\n\r\nexport default function WeaponSelectionModal({ show, onHide, onSelect, filter = () => true, weaponFilter: propWeaponFilter }: WeaponSelectionModalProps) {\r\n  const weaponSheets = usePromise(WeaponSheet.getAll(), [])\r\n  const [weaponFilter, setWeaponfilter] = useState<WeaponTypeKey | \"\">(propWeaponFilter ?? \"\")\r\n\r\n  useEffect(() => propWeaponFilter && setWeaponfilter(propWeaponFilter), [propWeaponFilter])\r\n\r\n  const weaponIdList = !weaponSheets ? [] : [...new Set(allWeaponKeys)].filter(wKey => filter(weaponSheets[wKey]))\r\n    .filter(wKey => {\r\n      if (weaponFilter && weaponFilter !== weaponSheets?.[wKey]?.weaponType) return false\r\n      return true\r\n    })\r\n    .sort((a, b) => (weaponSheets?.[b]?.rarity ?? 0) - (weaponSheets?.[a]?.rarity ?? 0))\r\n\r\n  if (!weaponSheets) return null\r\n\r\n  return <ModalWrapper open={show} onClose={onHide}>\r\n    <CardDark>\r\n      <CardContent sx={{ py: 1 }}>\r\n        <Grid container>\r\n          <Grid item flexGrow={1}>\r\n            <WeaponToggle value={weaponFilter} onChange={setWeaponfilter} disabled={!!propWeaponFilter} size=\"small\" />\r\n          </Grid >\r\n          <Grid item>\r\n            <CloseButton onClick={onHide} />\r\n          </Grid >\r\n        </Grid>\r\n      </CardContent>\r\n      <Divider />\r\n      <CardContent><Grid container spacing={1}>\r\n        {weaponIdList.map(weaponKey => {\r\n          const weaponSheet = weaponSheets[weaponKey]\r\n          return <Grid item key={weaponKey} lg={3} md={4}>\r\n            <CardLight sx={{ height: \"100%\" }} >\r\n              <CardActionArea onClick={() => { onHide(); onSelect(weaponKey) }} sx={{ display: \"flex\" }}>\r\n                <Box component=\"img\" src={weaponSheet.img} sx={{ width: 100, height: \"auto\" }} className={` grad-${weaponSheet.rarity}star`} />\r\n                <Box sx={{ flexGrow: 1, px: 1 }}>\r\n                  <Typography variant=\"subtitle1\">{weaponSheet.name}</Typography>\r\n                  <Typography><ImgIcon src={Assets.weaponTypes?.[weaponSheet.weaponType]} /> <Stars stars={weaponSheet.rarity} colored /></Typography>\r\n                </Box>\r\n              </CardActionArea>\r\n            </CardLight>\r\n          </Grid>\r\n        })}\r\n      </Grid></CardContent>\r\n      <Divider />\r\n      <CardContent sx={{ py: 1 }}>\r\n        <CloseButton large onClick={onHide} />\r\n      </CardContent>\r\n    </CardDark>\r\n  </ModalWrapper>\r\n}","import { faEdit, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { Lock, LockOpen } from \"@mui/icons-material\"\r\nimport { Box, Button, ButtonGroup, CardActionArea, CardContent, CardHeader, Grid, IconButton, Skeleton, Typography } from \"@mui/material\"\r\nimport { Suspense, useCallback, useContext } from \"react\"\r\nimport Assets from \"../Assets/Assets\"\r\nimport CharacterSheet from \"../Character/CharacterSheet\"\r\nimport CardLight from \"../Components/Card/CardLight\"\r\nimport CharacterDropdownButton from '../Components/Character/CharacterDropdownButton'\r\nimport LocationName from \"../Components/Character/LocationName\"\r\nimport ConditionalWrapper from \"../Components/ConditionalWrapper\"\r\nimport ImgIcon from \"../Components/Image/ImgIcon\"\r\nimport { Stars } from \"../Components/StarDisplay\"\r\nimport StatIcon from \"../Components/StatIcon\"\r\nimport { ascensionMaxLevel } from \"../Data/LevelData\"\r\nimport { DatabaseContext } from \"../Database/Database\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport useWeapon from \"../ReactHooks/useWeapon\"\r\nimport Stat from \"../Stat\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\nimport WeaponSheet from \"./WeaponSheet\"\r\n\r\ntype WeaponCardProps = { weaponId: string, onClick?: (weaponId: string) => void, onEdit?: (weaponId: string) => void, onDelete?: (weaponId: string) => void, canEquip?: boolean }\r\nexport default function WeaponCard({ weaponId, onClick, onEdit, onDelete, canEquip = false }: WeaponCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n  const databaseWeapon = useWeapon(weaponId)\r\n  const weapon = databaseWeapon\r\n  const weaponSheet = usePromise(weapon?.key && WeaponSheet.get(weapon.key), [weapon?.key])\r\n\r\n  const filter = useCallback(\r\n    (cs: CharacterSheet) => cs.weaponTypeKey === weaponSheet?.weaponType,\r\n    [weaponSheet],\r\n  )\r\n\r\n  const actionWrapperFunc = useCallback(\r\n    children => <CardActionArea onClick={() => onClick?.(weaponId)} sx={{ height: \"100%\" }}>{children}</CardActionArea>,\r\n    [onClick, weaponId],\r\n  )\r\n\r\n  const equipOnChar = useCallback((charKey: CharacterKey | \"\") => database.setWeaponLocation(weaponId, charKey), [database, weaponId],)\r\n  if (!weapon || !weaponSheet) return null;\r\n  const { level, ascension, refinement, id, location = \"\", lock } = weapon\r\n\r\n\r\n  const weaponTypeKey = weaponSheet.weaponType\r\n  const weaponMainVal = weaponSheet.getMainStatValue(level, ascension).toFixed(Stat.fixedUnit(\"atk\"))\r\n  const weaponSubKey = weaponSheet.getSubStatKey()\r\n  const weaponSubVal = weaponSheet.getSubStatValue(level, ascension).toFixed(Stat.fixedUnit(weaponSubKey))\r\n  const weaponPassiveName = weaponSheet?.passiveName\r\n  const statMap = [[\"weaponATK\", weaponMainVal]]\r\n  weaponPassiveName && statMap.push([weaponSubKey, weaponSubVal])\r\n  const img = ascension < 2 ? weaponSheet?.img : weaponSheet?.imgAwaken\r\n\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 300 }} />}>\r\n    <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc}>\r\n      <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n        <div className={`grad-${weaponSheet.rarity}star`} >\r\n          <CardHeader title={weaponSheet.name} avatar={<ImgIcon sx={{ fontSize: \"2em\" }} src={Assets.weaponTypes?.[weaponTypeKey]} />} titleTypographyProps={{ variant: \"h6\" }}\r\n            action={!onClick && <IconButton color=\"primary\" onClick={() => database.updateWeapon({ lock: !lock }, id)}>\r\n              {lock ? <Lock /> : <LockOpen />}\r\n            </IconButton>} />\r\n          <Grid container sx={{ flexWrap: \"nowrap\", pl: 2 }}>\r\n            <Grid item flexGrow={1}>\r\n              <Typography component=\"span\" variant=\"h4\">Lv. {level}</Typography>\r\n              <Typography component=\"span\" variant=\"h4\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\r\n              <Typography variant=\"h6\">Refinement <strong>{refinement}</strong></Typography>\r\n              <Typography><Stars stars={weaponSheet.rarity} colored /></Typography>\r\n            </Grid>\r\n            {/* use flex-end here to align the image to the bottom. */}\r\n            <Grid item container maxWidth=\"40%\" alignContent=\"flex-end\" sx={{ mt: -3 }}>\r\n              <Box component=\"img\" src={img} width=\"100%\" height=\"auto\" />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n        <CardContent>\r\n          {statMap.map(([statKey, statVal]) => {\r\n            let unit = Stat.getStatUnit(statKey)\r\n            return <Box key={statKey} sx={{ display: \"flex\" }}>\r\n              <Typography flexGrow={1}>{StatIcon[statKey]} {Stat.getStatName(statKey)}</Typography>\r\n              <Typography>{statVal + unit}</Typography>\r\n            </Box>\r\n          })}\r\n        </CardContent>\r\n        {/* grow to fill the 100% heigh */}\r\n        <Box flexGrow={1} />\r\n        <CardContent sx={{ py: 1 }}>\r\n          <Grid container sx={{ flexWrap: \"nowrap\" }} >\r\n            <Grid item xs=\"auto\" flexShrink={1}>\r\n              {canEquip ? <CharacterDropdownButton size=\"small\" noUnselect inventory value={location} onChange={equipOnChar} filter={filter} /> : <LocationName location={location} />}\r\n            </Grid>\r\n            <Grid item flexGrow={1} sx={{ mr: 1 }} />\r\n            <Grid item xs=\"auto\">\r\n              <ButtonGroup sx={{ height: \"100%\" }}>\r\n                {!!onEdit && <Button color=\"info\" size=\"small\" onClick={() => onEdit(id)} >\r\n                  <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\r\n                </Button>}\r\n                {!!onDelete && <Button color=\"error\" size=\"small\" onClick={() => onDelete(id)} disabled={!!location || lock} >\r\n                  <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\r\n                </Button>}\r\n              </ButtonGroup>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n\r\n      </CardLight>\r\n    </ConditionalWrapper>\r\n  </Suspense>\r\n}","import { faBan, faChartLine, faEdit, faInfoCircle, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Lock, LockOpen } from '@mui/icons-material';\r\nimport { Box, Button, ButtonGroup, CardActions, CardContent, CardMedia, Chip, Grid, IconButton, Skeleton, Tooltip, Typography } from '@mui/material';\r\nimport React, { Suspense, useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport BootstrapTooltip from '../Components/BootstrapTooltip';\r\nimport CardLight from '../Components/Card/CardLight';\r\nimport CharacterDropdownButton from '../Components/Character/CharacterDropdownButton';\r\nimport LocationName from '../Components/Character/LocationName';\r\nimport ColorText from '../Components/ColoredText';\r\nimport SqBadge from '../Components/SqBadge';\r\nimport { Stars } from '../Components/StarDisplay';\r\nimport { database as localDatabase, DatabaseContext } from '../Database/Database';\r\nimport useArtifact from '../ReactHooks/useArtifact';\r\nimport usePromise from '../ReactHooks/usePromise';\r\nimport Stat from '../Stat';\r\nimport { allSubstats, ICachedArtifact, ICachedSubstat, SubstatKey } from '../Types/artifact';\r\nimport { CharacterKey } from '../Types/consts';\r\nimport { valueStringWithUnit } from '../Util/UIUtil';\r\nimport { clamp } from '../Util/Util';\r\nimport Artifact from './Artifact';\r\nimport { ArtifactSheet } from './ArtifactSheet';\r\nimport SlotNameWithIcon from './Component/SlotNameWIthIcon';\r\nimport PercentBadge from './PercentBadge';\r\nimport { probability } from './RollProbability';\r\n\r\ntype Data = {\r\n  artifactId?: string,\r\n  artifactObj?: ICachedArtifact,\r\n  onEdit?: (string) => void,\r\n  onDelete?: (string) => void, mainStatAssumptionLevel?: number,\r\n  effFilter?: Set<SubstatKey>,\r\n  probabilityFilter?: Dict<SubstatKey, number>\r\n}\r\nconst allSubstatFilter = new Set(allSubstats)\r\n\r\nexport default function ArtifactCard({ artifactId, artifactObj, onEdit, onDelete, mainStatAssumptionLevel = 0, effFilter = allSubstatFilter, probabilityFilter }: Data): JSX.Element | null {\r\n  const { t } = useTranslation([\"artifact\"]);\r\n  const database = useContext(DatabaseContext)\r\n  const databaseArtifact = useArtifact(artifactId)\r\n  const sheet = usePromise(ArtifactSheet.get((artifactObj ?? databaseArtifact)?.setKey), [artifactObj, databaseArtifact])\r\n  const equipOnChar = (charKey: CharacterKey | \"\") => database.setArtLocation(artifactId!, charKey)\r\n\r\n  const editable = !artifactObj && database === localDatabase // dont allow edit for flex artifacts\r\n  const art = artifactObj ?? databaseArtifact\r\n  if (!art) return null\r\n\r\n  const { id, lock, slotKey, rarity, level, mainStatKey, substats, exclude, location = \"\" } = art\r\n  const mainStatLevel = Math.max(Math.min(mainStatAssumptionLevel, rarity * 4), level)\r\n  const levelVariant = \"roll\" + (Math.floor(Math.max(level, 0) / 4) + 1)\r\n  const mainStatVal = <ColorText color={mainStatLevel !== level ? \"warning\" : undefined}>{valueStringWithUnit(Artifact.mainStatValue(mainStatKey, rarity, mainStatLevel) ?? 0, Stat.getStatUnit(mainStatKey))}</ColorText>\r\n  const { currentEfficiency, maxEfficiency } = Artifact.getArtifactEfficiency(art, effFilter)\r\n  const artifactValid = maxEfficiency !== 0\r\n  const slotName = sheet?.getSlotName(slotKey) || \"Unknown Piece Name\"\r\n  const slotDesc = sheet?.getSlotDesc(slotKey)\r\n  const slotDescTooltip = slotDesc && <BootstrapTooltip placement=\"top\" title={<Typography>{slotDesc}</Typography>}>\r\n    <span><FontAwesomeIcon icon={faInfoCircle} /></span>\r\n  </BootstrapTooltip>\r\n  const setEffects = sheet?.setEffects\r\n  const setDescTooltip = sheet && setEffects && <BootstrapTooltip placement=\"top\" title={\r\n    <span>\r\n      {Object.keys(setEffects).map(setNumKey => <span key={setNumKey}>\r\n        <Typography variant=\"h6\"><SqBadge color=\"success\">{t(`setEffectNum`, { setNum: setNumKey })}</SqBadge></Typography>\r\n        <Typography>{sheet.setEffectDesc(setNumKey as any)}</Typography>\r\n      </span>)}\r\n    </span>\r\n  }>\r\n    <span><FontAwesomeIcon icon={faInfoCircle} /></span>\r\n  </BootstrapTooltip>\r\n\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\r\n    <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n      <CardContent className={`grad-${rarity}star`} sx={{ pt: 1, pb: 0, pr: 0 }}>\r\n        <Box component=\"div\" sx={{ display: \"flex\", alignItems: \"center\", pr: 1 }}>\r\n          <Chip size=\"small\" label={<strong>{` +${level}`}</strong>} color={levelVariant as any} />\r\n          <Typography sx={{ pl: 1, flexGrow: 1 }}>{slotName} {slotDescTooltip}</Typography>\r\n          <IconButton color=\"primary\" disabled={!editable} onClick={() => database.updateArt({ lock: !lock }, id)}>\r\n            {lock ? <Lock /> : <LockOpen />}\r\n          </IconButton>\r\n        </Box>\r\n        <Grid container sx={{ flexWrap: \"nowrap\" }}>\r\n          <Grid item flexGrow={1}>\r\n            <Typography color=\"text.secondary\" variant=\"body2\">\r\n              <SlotNameWithIcon slotKey={slotKey} />\r\n            </Typography>\r\n            <Typography variant=\"h6\">\r\n              {Stat.getStatName(mainStatKey)}\r\n            </Typography>\r\n            <Typography variant=\"h5\">\r\n              <strong>{mainStatVal}</strong>\r\n            </Typography>\r\n            <Stars stars={rarity} colored />\r\n            {/* {process.env.NODE_ENV === \"development\" && <Typography color=\"common.black\">{id || `\"\"`} </Typography>} */}\r\n          </Grid>\r\n          <Grid item maxWidth=\"40%\" sx={{ mt: -3, mb: -1, pl: -2 }} alignSelf=\"flex-end\">\r\n            <CardMedia\r\n              component=\"img\"\r\n              image={sheet?.slotIcons[slotKey] ?? \"\"}\r\n              width=\"100%\"\r\n              height=\"auto\"\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n      <CardContent sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\", pt: 1, pb: 0 }}>\r\n        {substats.map((stat: ICachedSubstat, i) => {\r\n          if (!stat.value) return null\r\n          const numRolls = stat.rolls?.length ?? 0\r\n          const rollColor = `roll${clamp(numRolls, 1, 6)}`\r\n          const efficiency = stat.efficiency ?? 0\r\n          const effOpacity = 0.3 + (efficiency / 100) * 0.7\r\n          const statName = Stat.getStatName(stat.key)\r\n          return (<Box key={i} sx={{ display: \"flex\" }}>\r\n            <Box sx={{ flexGrow: 1 }}>\r\n              <SqBadge color={(numRolls ? rollColor : \"error\") as any} sx={{ mr: 1 }}><strong>{numRolls ? numRolls : \"?\"}</strong></SqBadge>\r\n              <Typography color={(numRolls ? `${rollColor}.main` : \"error.main\") as any} component=\"span\">{statName}{`+${valueStringWithUnit(stat.value, Stat.getStatUnit(stat.key))}`}</Typography>\r\n            </Box>\r\n            <Typography sx={{ opacity: effOpacity }}>{stat.key && effFilter.has(stat.key) ? valueStringWithUnit(efficiency, \"eff\") : \"-\"}</Typography>\r\n          </Box>)\r\n        })}\r\n        <Box sx={{ display: \"flex\", my: 1 }}>\r\n          <Typography color=\"text.secondary\" component=\"span\" variant=\"caption\" sx={{ flexGrow: 1 }}>{t`editor.curSubEff`}</Typography>\r\n          <PercentBadge value={currentEfficiency} valid={artifactValid} />\r\n        </Box>\r\n        {currentEfficiency !== maxEfficiency && <Box sx={{ display: \"flex\", mb: 1 }}>\r\n          <Typography color=\"text.secondary\" component=\"span\" variant=\"caption\" sx={{ flexGrow: 1 }}>{t`editor.maxSubEff`}</Typography>\r\n          <PercentBadge value={maxEfficiency} valid={artifactValid} />\r\n        </Box>}\r\n        <Box flexGrow={1} />\r\n        {probabilityFilter && <strong>Probability: {(probability(art, probabilityFilter) * 100).toFixed(2)}%</strong>}\r\n        <Typography color=\"success.main\">{sheet?.name ?? \"Artifact Set\"} {setDescTooltip}</Typography>\r\n      </CardContent>\r\n      <CardActions>\r\n        <Grid container sx={{ flexWrap: \"nowrap\" }}>\r\n          <Grid item xs=\"auto\" flexShrink={1}>\r\n            {editable ?\r\n              <CharacterDropdownButton size=\"small\" inventory value={location} onChange={equipOnChar} /> : <LocationName location={location} />}\r\n          </Grid>\r\n          <Grid item flexGrow={1} sx={{ mr: 1 }} />\r\n          {editable && <Grid item xs=\"auto\">\r\n            <ButtonGroup sx={{ height: \"100%\" }}>\r\n              {!!onEdit && <Button color=\"info\" onClick={() => onEdit(id)} size=\"small\">\r\n                <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\r\n              </Button>}\r\n              <Tooltip title={<Typography>{t`excludeArtifactTip`}</Typography>} placement=\"top\" arrow>\r\n                <Button onClick={() => database.updateArt({ exclude: !exclude }, id)} color={exclude ? \"error\" : \"success\"} size=\"small\">\r\n                  <FontAwesomeIcon icon={exclude ? faBan : faChartLine} className=\"fa-fw\" />\r\n                </Button>\r\n              </Tooltip>\r\n              {!!onDelete && <Button color=\"error\" size=\"small\" onClick={() => onDelete(id)} disabled={lock}>\r\n                <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\r\n              </Button>}\r\n            </ButtonGroup>\r\n          </Grid>}\r\n        </Grid>\r\n      </CardActions>\r\n    </CardLight >\r\n  </Suspense>\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\n\r\nexport default function useArtifact(artifactID: string | undefined = \"\") {\r\n  const database = useContext(DatabaseContext)\r\n  const [artifact, setArtifact] = useState(database._getArt(artifactID))\r\n  useEffect(() => setArtifact(database._getArt(artifactID)), [database, artifactID])\r\n  useEffect(() =>\r\n    artifactID ? database.followArt(artifactID, setArtifact) : undefined,\r\n    [artifactID, setArtifact, database])\r\n  return artifact\r\n}","import { Box, CardActionArea, CardContent, Chip, Grid, Skeleton, Typography } from '@mui/material';\r\nimport { Suspense, useCallback, useContext, useMemo } from 'react';\r\nimport { ArtifactSheet } from '../Artifact/ArtifactSheet';\r\nimport CardDark from '../Components/Card/CardDark';\r\nimport CardLight from '../Components/Card/CardLight';\r\nimport ConditionalWrapper from '../Components/ConditionalWrapper';\r\nimport ImgIcon from '../Components/Image/ImgIcon';\r\nimport SqBadge from '../Components/SqBadge';\r\nimport { Stars } from '../Components/StarDisplay';\r\nimport StatIcon from '../Components/StatIcon';\r\nimport { ascensionMaxLevel } from '../Data/LevelData';\r\nimport { DatabaseContext } from '../Database/Database';\r\nimport useCharacter from '../ReactHooks/useCharacter';\r\nimport usePromise from '../ReactHooks/usePromise';\r\nimport useSheets, { Sheets } from '../ReactHooks/useSheets';\r\nimport Stat from '../Stat';\r\nimport { CharacterKey, SlotKey } from '../Types/consts';\r\nimport { ICalculatedStats } from '../Types/stats';\r\nimport { ICachedWeapon } from '../Types/weapon';\r\nimport WeaponSheet from '../Weapon/WeaponSheet';\r\nimport Character from './Character';\r\nimport CharacterSheet from './CharacterSheet';\r\n\r\ntype CharacterCardProps = {\r\n  characterKey: CharacterKey | \"\",\r\n  onClick?: (characterKey: CharacterKey) => void,\r\n  onClickHeader?: (characterKey: CharacterKey) => void,\r\n  artifactChildren?: Displayable,\r\n  weaponChildren?: Displayable,\r\n  footer?: Displayable,\r\n  build?: ICalculatedStats\r\n}\r\nexport default function CharacterCard({ build, characterKey, artifactChildren, weaponChildren, onClick, onClickHeader, footer }: CharacterCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n  const character = useCharacter(characterKey)\r\n  const sheets = useSheets()\r\n  const characterSheet = sheets?.characterSheets[characterKey] as CharacterSheet | undefined\r\n  const stats = useMemo(() => build ?? (character && sheets && Character.calculateBuild(character, database, sheets)), [build, character, sheets, database])\r\n  const onClickHandler = useCallback(() => characterKey && onClick?.(characterKey), [characterKey, onClick])\r\n  const actionWrapperFunc = useCallback(\r\n    children => <CardActionArea onClick={onClickHandler} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\r\n    [onClickHandler],\r\n  )\r\n  if (!character || !characterSheet || !stats) return null;\r\n\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\r\n    <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n      <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\r\n        <Header characterSheet={characterSheet} stats={stats} onClick={!onClick ? onClickHeader : undefined} />\r\n        <CardContent sx={{ width: \"100%\", display: \"flex\", flexDirection: \"column\", gap: 1, flexGrow: 1 }}>\r\n          {sheets && <Weapon weaponId={character.equippedWeapon} sheets={sheets.weaponSheets} />}\r\n          {weaponChildren}\r\n          {/* will grow to fill the 100% height */}\r\n          <Box flexGrow={1} display=\"flex\" flexDirection=\"column\" gap={1}>\r\n            <ArtifactDisplay stats={stats} />\r\n            {artifactChildren}\r\n          </Box>\r\n          <Stats stats={stats} />\r\n        </CardContent>\r\n      </ConditionalWrapper>\r\n      {footer}\r\n    </CardLight>\r\n  </Suspense>\r\n}\r\nfunction Header({ onClick, characterSheet, stats: { characterKey, tlvl, characterLevel, ascension, constellation, characterEle, autoBoost, skillBoost, burstBoost } }:\r\n  { onClick?: (characterKey: CharacterKey) => void, characterSheet: CharacterSheet, stats: ICalculatedStats }) {\r\n  const actionWrapperFunc = useCallback(\r\n    children => <CardActionArea onClick={() => characterKey && onClick?.(characterKey)} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\r\n    [onClick, characterKey],\r\n  )\r\n  return <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\r\n    <Box display=\"flex\"\r\n      position=\"relative\"\r\n      className={`grad-${characterSheet.rarity}star`}\r\n      sx={{\r\n        \"&::before\": {\r\n          content: '\"\"',\r\n          display: \"block\", position: \"absolute\",\r\n          left: 0, top: 0,\r\n          width: \"100%\", height: \"100%\",\r\n          opacity: 0.7,\r\n          backgroundImage: `url(${characterSheet.bannerImg})`, backgroundPosition: \"center\", backgroundSize: \"cover\",\r\n        }\r\n      }}\r\n      width=\"100%\" >\r\n      <Box flexShrink={1} sx={{ maxWidth: { xs: \"40%\", lg: \"40%\" } }} alignSelf=\"flex-end\" display=\"flex\" flexDirection=\"column\" zIndex={1}>\r\n        <Box\r\n          component=\"img\"\r\n          src={characterSheet.thumbImg}\r\n          width=\"100%\"\r\n          height=\"auto\"\r\n          maxWidth={256}\r\n          sx={{ mt: \"auto\" }}\r\n        />\r\n      </Box>\r\n      <Box flexGrow={1} sx={{ p: 1 }} display=\"flex\" flexDirection=\"column\" zIndex={1}>\r\n        <Chip label={<Typography variant=\"subtitle1\">{characterSheet.name}</Typography>} size=\"small\" color={characterEle} />\r\n        <Grid container spacing={1} flexWrap=\"nowrap\">\r\n          <Grid item sx={{ textShadow: \"0 0 5px gray\" }}>\r\n            <Typography component=\"span\" variant=\"h6\" whiteSpace=\"nowrap\" >Lv. {characterLevel}</Typography>\r\n            <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <Typography variant=\"h6\"><SqBadge>C{constellation}</SqBadge></Typography>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1} flexWrap=\"nowrap\">\r\n          <Grid item>\r\n            <Chip color={autoBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.auto + 1}</strong>} />\r\n          </Grid>\r\n          <Grid item>\r\n            <Chip color={skillBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.skill + 1}</strong>} />\r\n          </Grid>\r\n          <Grid item>\r\n            <Chip color={burstBoost ? \"info\" : \"secondary\"} label={<strong >{tlvl.burst + 1}</strong>} />\r\n          </Grid>\r\n        </Grid>\r\n        <Typography mt={1} ><Stars stars={characterSheet.rarity} colored /></Typography>\r\n      </Box>\r\n    </Box>\r\n  </ConditionalWrapper>\r\n}\r\nfunction Weapon({ weaponId, sheets }: { weaponId: string, sheets: Sheets[\"weaponSheets\"] }) {\r\n  const database = useContext(DatabaseContext)\r\n  const weapon = database._getWeapon(weaponId)\r\n  if (!weapon) return null;\r\n  const weaponSheet = sheets[weapon.key]\r\n  const { level, ascension } = weapon\r\n  const name = weaponSheet?.name\r\n  const mainVal = weaponSheet.getMainStatValue(level, ascension).toFixed(Stat.fixedUnit(\"atk\"))\r\n  const subKey = weaponSheet.getSubStatKey()\r\n  const subVal = weaponSheet.getSubStatValue(level, ascension).toFixed(Stat.fixedUnit(subKey))\r\n  const levelName = WeaponSheet.getLevelString(weapon as ICachedWeapon)\r\n  const passiveName = weaponSheet?.passiveName\r\n  return <CardDark>\r\n    <Box display=\"flex\" >\r\n      <Box flexShrink={1} maxWidth=\"35%\" display=\"flex\" flexDirection=\"column\" alignContent=\"flex-end\" className={`grad-${weaponSheet.rarity}star`} >\r\n        <Box\r\n          component=\"img\"\r\n          src={weaponSheet.img}\r\n          width=\"100%\"\r\n          height=\"auto\"\r\n          sx={{ mt: \"auto\" }}\r\n        />\r\n      </Box>\r\n      <Box flexGrow={1} sx={{ p: 1 }}>\r\n        <Typography variant=\"body2\"><strong>{name}</strong></Typography>\r\n        <Typography whiteSpace=\"nowrap\" lineHeight={1}>\r\n          <SqBadge color=\"primary\" sx={{ mr: 1 }}>Lv. {levelName}</SqBadge>\r\n          {passiveName && <SqBadge color=\"info\"> Refinement {weapon.refinement}</SqBadge>}\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\">ATK: {mainVal}</Typography>\r\n        {passiveName && <Typography variant=\"subtitle2\" lineHeight={1}>{Stat.getStatName(subKey)}: {subVal}{Stat.getStatUnit(subKey)}</Typography>}\r\n      </Box>\r\n    </Box>\r\n  </CardDark>\r\n}\r\nfunction ArtifactDisplay({ stats }: { stats?: ICalculatedStats }) {\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n  const database = useContext(DatabaseContext)\r\n  if (!artifactSheets || !stats) return null\r\n  const { equippedArtifacts } = stats\r\n  return <Grid container spacing={1} >\r\n    {Object.entries(equippedArtifacts ?? {} as Dict<SlotKey, string>).map(([key, id]) => {\r\n      const art = database._getArt(id)\r\n      if (!art) return null\r\n      const { setKey, slotKey, mainStatKey } = art\r\n      return <Grid item key={key} flexGrow={1}>\r\n        <Chip color=\"secondary\" sx={{ width: \"100%\" }} icon={<ImgIcon src={artifactSheets?.[setKey].slotIcons[slotKey]} size={2.5} />}\r\n          label={<span>{Stat.getStatNameWithPercent(mainStatKey)}</span>} />\r\n      </Grid>\r\n    })}\r\n  </Grid>\r\n}\r\nfunction Stats({ stats }: { stats: ICalculatedStats }) {\r\n  const statkeys = [\"finalHP\", \"finalATK\", \"finalDEF\", \"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\",]\r\n  return <Box sx={{ width: \"100%\" }} >\r\n    {statkeys.map(statKey => {\r\n      let unit = Stat.getStatUnit(statKey)\r\n      let statVal = stats[statKey]\r\n      return <Box sx={{ display: \"flex\" }} key={statKey}>\r\n        <Typography flexGrow={1}><strong>{StatIcon[statKey]} {Stat.getStatName(statKey)}</strong></Typography>\r\n        <Typography>\r\n          {statVal?.toFixed(Stat.fixedUnit(statKey)) + unit}\r\n        </Typography>\r\n      </Box>\r\n    })}\r\n  </Box>\r\n}","import { Box, CardContent, Typography } from \"@mui/material\"\r\nimport CardDark from \"../../Components/Card/CardDark\"\r\nimport DocumentDisplay from \"../../Components/DocumentDisplay\"\r\nimport FieldDisplay, { FieldDisplayList } from \"../../Components/FieldDisplay\"\r\nimport SqBadge from \"../../Components/SqBadge\"\r\nimport usePromise from \"../../ReactHooks/usePromise\"\r\nimport { ArtifactSetKey, SetNum } from \"../../Types/consts\"\r\nimport { ICalculatedStats } from \"../../Types/stats\"\r\nimport statsToFields from \"../../Util/FieldUtil\"\r\nimport { ArtifactSheet } from \"../ArtifactSheet\"\r\n\r\ntype Data = {\r\n  setKey: ArtifactSetKey,\r\n  setNumKey: SetNum,\r\n  newBuild?: ICalculatedStats,\r\n  equippedBuild?: ICalculatedStats,\r\n  skipConditionalEquipmentCheck?: boolean\r\n}\r\n\r\nexport default function SetEffectDisplay({ setKey, setNumKey, equippedBuild, newBuild, skipConditionalEquipmentCheck }: Data) {\r\n  const sheet = usePromise(ArtifactSheet.get(setKey), [setKey])\r\n  if (!sheet) return null\r\n\r\n  const stats = newBuild ?? equippedBuild!\r\n  const setEffectText = sheet.setEffectDesc(setNumKey)\r\n  const setStats = sheet.setNumStats(setNumKey, stats)\r\n  const setStatsFields = statsToFields(setStats, stats)\r\n  const document = sheet.setEffectDocument(setNumKey)\r\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1}>\r\n    <CardDark>\r\n      <CardContent>\r\n        <Typography><SqBadge color=\"success\">{setNumKey}-Set</SqBadge> {setEffectText}</Typography>\r\n      </CardContent>\r\n      <FieldDisplayList sx={{ m: 0 }}>\r\n        {setStatsFields.map((field, i) => <FieldDisplay key={i} field={field} />)}\r\n      </FieldDisplayList>\r\n    </CardDark>\r\n    {document ? <DocumentDisplay sections={document} characterKey={stats.characterKey} skipConditionalEquipmentCheck={skipConditionalEquipmentCheck} /> : null}\r\n  </Box>\r\n}\r\n","import { Box, CardActionArea, CardContent, Divider, Grid, Typography } from \"@mui/material\";\r\nimport { useContext, useMemo, useState } from \"react\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport Character from '../../Character/Character';\r\nimport CharacterSheet from \"../../Character/CharacterSheet\";\r\nimport { DatabaseContext } from \"../../Database/Database\";\r\nimport usePromise from \"../../ReactHooks/usePromise\";\r\nimport useSheets from \"../../ReactHooks/useSheets\";\r\nimport { ICachedCharacter } from \"../../Types/character\";\r\nimport { allCharacterKeys, CharacterKey, ElementKey, WeaponTypeKey } from \"../../Types/consts\";\r\nimport { characterFilterConfigs, characterSortConfigs } from \"../../Util/CharacterSort\";\r\nimport { filterFunction, sortFunction } from \"../../Util/SortByFilters\";\r\nimport CardDark from \"../Card/CardDark\";\r\nimport CardLight from \"../Card/CardLight\";\r\nimport CloseButton from \"../CloseButton\";\r\nimport ImgIcon from \"../Image/ImgIcon\";\r\nimport ModalWrapper from \"../ModalWrapper\";\r\nimport SortByButton from \"../SortByButton\";\r\nimport SqBadge from \"../SqBadge\";\r\nimport { Stars } from \"../StarDisplay\";\r\nimport StatIcon from \"../StatIcon\";\r\nimport ElementToggle from \"../ToggleButton/ElementToggle\";\r\nimport WeaponToggle from \"../ToggleButton/WeaponToggle\";\r\n\r\nconst defaultSortKeys = [\"level\", \"rarity\", \"name\"]\r\n\r\ntype characterFilter = (character: ICachedCharacter | undefined, sheet: CharacterSheet) => boolean\r\n\r\ntype CharacterSelectionModalProps = {\r\n  show: boolean,\r\n  newFirst?: boolean\r\n  onHide: () => void,\r\n  onSelect?: (ckey: CharacterKey) => void,\r\n  filter?: characterFilter\r\n}\r\n\r\nexport function CharacterSelectionModal({ show, onHide, onSelect, filter = () => true, newFirst = false }: CharacterSelectionModalProps) {\r\n  const sortKeys = useMemo(() => newFirst ? [\"new\", ...defaultSortKeys] : defaultSortKeys, [newFirst])\r\n  const database = useContext(DatabaseContext)\r\n\r\n  const [sortBy, setsortBy] = useState(sortKeys[0])\r\n  const [ascending, setascending] = useState(false)\r\n  const [elementalFilter, setelementalFilter] = useState<ElementKey | \"\">(\"\")\r\n  const [weaponFilter, setweaponFilter] = useState<WeaponTypeKey | \"\">(\"\")\r\n\r\n  const characterSheets = usePromise(CharacterSheet.getAll(), [])\r\n\r\n  const sortConfigs = useMemo(() => characterSheets && characterSortConfigs(database, characterSheets), [database, characterSheets])\r\n  const filterConfigs = useMemo(() => characterSheets && characterFilterConfigs(characterSheets), [characterSheets])\r\n  const characterKeyList = useMemo(() => (characterSheets && sortConfigs && filterConfigs) ?\r\n    [...new Set(allCharacterKeys)].filter(cKey => filter(database._getChar(cKey), characterSheets[cKey]))\r\n      .filter(filterFunction({ element: elementalFilter, weaponType: weaponFilter }, filterConfigs))\r\n      .sort(sortFunction(sortBy, ascending, sortConfigs) as (a: CharacterKey, b: CharacterKey) => number) : [],\r\n    [database, characterSheets, filter, elementalFilter, weaponFilter, sortBy, ascending, sortConfigs, filterConfigs])\r\n\r\n  if (!characterSheets) return null\r\n  return <ModalWrapper open={show} onClose={onHide} >\r\n    <CardDark>\r\n      <CardContent sx={{ py: 1 }}>\r\n        <Grid container spacing={1} >\r\n          <Grid item>\r\n            <WeaponToggle sx={{ height: \"100%\" }} onChange={setweaponFilter} value={weaponFilter} size=\"small\" />\r\n          </Grid>\r\n          <Grid item flexGrow={1}>\r\n            <ElementToggle sx={{ height: \"100%\" }} onChange={setelementalFilter} value={elementalFilter} size=\"small\" />\r\n          </Grid>\r\n\r\n          <Grid item flexGrow={1} />\r\n\r\n          <Grid item >\r\n            <SortByButton sx={{ height: \"100%\" }}\r\n              sortKeys={sortKeys} value={sortBy} onChange={setsortBy as any}\r\n              ascending={ascending} onChangeAsc={setascending} />\r\n          </Grid>\r\n          <Grid item>\r\n            <CloseButton onClick={onHide} />\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n      <Divider />\r\n      <CardContent><Grid container spacing={1}>\r\n        {characterKeyList.map(characterKey => <Grid item key={characterKey} xs={6} md={4} lg={3} >\r\n          <CharacterBtn key={characterKey} characterKey={characterKey} onClick={() => { onHide(); onSelect?.(characterKey) }} />\r\n        </Grid>)}\r\n      </Grid></CardContent>\r\n    </CardDark>\r\n  </ModalWrapper>\r\n}\r\n\r\nfunction CharacterBtn({ onClick, characterKey }: { onClick: () => void, characterKey: CharacterKey }) {\r\n  const sheets = useSheets()\r\n  const database = useContext(DatabaseContext)\r\n  const character = database._getChar(characterKey)\r\n  const characterSheet = sheets?.characterSheets[characterKey]\r\n  const stats = useMemo(() => character && sheets && Character.calculateBuild(character, database, sheets), [character, sheets, database])\r\n  if (!characterSheet) return null\r\n  const rarity = characterSheet.rarity\r\n  return <CardActionArea onClick={onClick} >\r\n    <CardLight sx={{ display: \"flex\", alignItems: \"center\" }}  >\r\n      <Box component=\"img\" src={characterSheet.thumbImg} sx={{ width: 130, height: \"auto\" }} className={`grad-${rarity}star`} />\r\n      <Box sx={{ pl: 1 }}>\r\n        <Typography><strong>{characterSheet.name}</strong></Typography>\r\n        {stats && character ? <>\r\n          <Typography variant=\"h6\"> {characterSheet.elementKey && StatIcon[characterSheet.elementKey]} <ImgIcon src={Assets.weaponTypes?.[characterSheet.weaponTypeKey]} />{` `}{Character.getLevelString(character)}</Typography>\r\n          <Typography >\r\n            <SqBadge color=\"success\">{`C${character.constellation}`}</SqBadge>{` `}\r\n            <SqBadge color=\"secondary\"><strong >{stats.tlvl.auto + 1}</strong></SqBadge>{` `}\r\n            <SqBadge color={stats.skillBoost ? \"info\" : \"secondary\"}><strong >{stats.tlvl.skill + 1}</strong></SqBadge>{` `}\r\n            <SqBadge color={stats.burstBoost ? \"info\" : \"secondary\"}><strong >{stats.tlvl.burst + 1}</strong></SqBadge>\r\n          </Typography>\r\n        </> : <>\r\n          <Typography variant=\"h6\"><SqBadge color=\"primary\">NEW</SqBadge></Typography>\r\n        </>}\r\n        <small><Stars stars={rarity} colored /></small>\r\n      </Box>\r\n    </CardLight>\r\n  </CardActionArea >\r\n}","import CharacterSheet from \"../Character/CharacterSheet\";\r\nimport { ArtCharDatabase } from \"../Database/Database\";\r\nimport { CharacterKey } from \"../Types/consts\";\r\nimport { FilterConfigs, SortConfigs } from \"./SortByFilters\";\r\nexport const characterSortKeys = [\"level\", \"rarity\", \"name\"]\r\nexport type CharacterSortKey = typeof characterSortKeys[number]\r\n\r\nexport function characterSortConfigs(database: ArtCharDatabase, characterSheets: Record<CharacterKey, CharacterSheet>): SortConfigs<CharacterSortKey, CharacterKey> {\r\n  return {\r\n    new: {\r\n      getValue: (ck) => database._getChar(ck as CharacterKey) ? 0 : 1,\r\n      tieBreaker: \"name\"\r\n    },\r\n    name: {\r\n      getValue: (ck) => ck,\r\n    },\r\n    level: {\r\n      getValue: (ck) => database._getChar(ck as CharacterKey)?.level ?? 0,\r\n      tieBreaker: \"rarity\"\r\n    },\r\n    rarity: {\r\n      getValue: (ck) => characterSheets?.[ck]?.rarity,\r\n      tieBreaker: \"level\"\r\n    }\r\n  }\r\n}\r\n\r\nexport function characterFilterConfigs(characterSheets: Record<CharacterKey, CharacterSheet>): FilterConfigs<\"element\" | \"weaponType\", CharacterKey> {\r\n  return {\r\n    element: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.elementKey),\r\n    weaponType: (ck, filter) => !filter || (filter === characterSheets?.[ck]?.weaponTypeKey),\r\n  }\r\n}","import { Masonry } from \"@mui/lab\"\r\nimport { CardContent, CardHeader, Divider } from \"@mui/material\"\r\nimport { Box } from \"@mui/system\"\r\nimport CardDark from \"../../Components/Card/CardDark\"\r\nimport ImgIcon from \"../../Components/Image/ImgIcon\"\r\nimport StatDisplay from \"../../Components/StatDisplay\"\r\nimport { Sheets } from \"../../ReactHooks/useSheets\"\r\nimport { ICachedCharacter } from \"../../Types/character\"\r\nimport { ICalculatedStats } from \"../../Types/stats\"\r\nimport { getFormulaTargetsDisplayHeading } from \"../CharacterUtil\"\r\n\r\ntype StatDisplayComponentProps = {\r\n  sheets: Sheets\r\n  character: ICachedCharacter\r\n  statsDisplayKeys: any,\r\n  equippedBuild?: ICalculatedStats\r\n  newBuild?: ICalculatedStats\r\n}\r\n\r\nexport default function StatDisplayComponent({ sheets, character, equippedBuild, newBuild, statsDisplayKeys }: StatDisplayComponentProps) {\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  return <Box sx={{ mr: -1, mb: -1 }}><Masonry columns={{ xs: 1, sm: 2, md: 3 }} spacing={1}>{Object.entries(statsDisplayKeys).map(([sectionKey, sectionValues]: any) => {\r\n    const header = getFormulaTargetsDisplayHeading(sectionKey, sheets, build)\r\n    return <CardDark key={sectionKey}>\r\n      <CardHeader avatar={header.icon && <ImgIcon size={2} sx={{ m: -1 }} src={header.icon} />} title={header.title} titleTypographyProps={{ variant: \"subtitle1\" }} />\r\n      <Divider />\r\n      <CardContent>\r\n        {sectionValues.map(statKey => <StatDisplay key={JSON.stringify(statKey)} {...{ character, equippedBuild, newBuild, statKey }} />)}\r\n      </CardContent>\r\n    </CardDark>\r\n  })}</Masonry ></Box>\r\n}","import { faCheckSquare, faSquare } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { ExpandMore } from \"@mui/icons-material\";\r\nimport { Button, CardContent, Chip, Collapse, Grid, Typography } from \"@mui/material\";\r\nimport { useCallback, useState } from 'react';\r\nimport Character from \"../Character/Character\";\r\nimport StatInput from \"../Character/StatInput\";\r\nimport useCharacterReducer from \"../ReactHooks/useCharacterReducer\";\r\nimport Stat from \"../Stat\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { allElementsWithPhy } from \"../Types/consts\";\r\nimport { characterBaseStats } from \"../Util/StatUtil\";\r\nimport CardLight from \"./Card/CardLight\";\r\nimport ColorText from \"./ColoredText\";\r\nimport ExpandButton from \"./ExpandButton\";\r\nimport { uncoloredEleIcons } from \"./StatIcon\";\r\n\r\nexport function EnemyExpandCard({ character }) {\r\n  const [expanded, setexpanded] = useState(false)\r\n  const toggle = useCallback(() => setexpanded(!expanded), [setexpanded, expanded])\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Grid container>\r\n        <Grid item flexGrow={1} alignItems=\"center\">\r\n          <Grid container spacing={1}>\r\n            <Grid item>\r\n              <Chip size=\"small\" color=\"success\" label={<span>{Stat.getStatName(\"enemyLevel\")} <strong>{Character.getStatValueWithBonus(character, \"enemyLevel\")}</strong></span>} />\r\n            </Grid>\r\n            {allElementsWithPhy.map(element => <Grid item key={element}>\r\n              <Typography key={element} ><EnemyResText element={element} character={character} /></Typography>\r\n            </Grid>)}\r\n            <Grid item>\r\n              <Typography>DEF Reduction {Character.getStatValueWithBonus(character, \"enemyDEFRed_\")}%</Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item>\r\n          <ExpandButton\r\n            expand={expanded}\r\n            onClick={toggle}\r\n            aria-expanded={expanded}\r\n            aria-label=\"show more\"\r\n            size=\"small\"\r\n            sx={{ p: 0 }}\r\n          >\r\n            <ExpandMore />\r\n          </ExpandButton>\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n      <CardContent sx={{ pt: 0 }}>\r\n        <EnemyEditor character={character} />\r\n      </CardContent>\r\n    </Collapse>\r\n  </CardLight>\r\n}\r\n\r\nexport function EnemyResText({ character, element }: { character: ICachedCharacter, element: string }) {\r\n  const immune = !!Character.getStatValueWithBonus(character, `${element}_enemyImmunity`)\r\n  const resKey = `${element}_enemyRes_`\r\n  const content = immune ? <span >{uncoloredEleIcons[element]} IMMUNE</span> :\r\n    <span >{uncoloredEleIcons[element]}RES <strong>{Character.getStatValueWithBonus(character, resKey)}%</strong></span>\r\n  return <ColorText color={element}>{content}</ColorText>\r\n}\r\n\r\n\r\nexport function EnemyEditor({ character, character: { key: characterKey, }, bsProps = { xs: 12, md: 6 } }: { character: ICachedCharacter, bsProps?: object }) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const charBaseStats = characterBaseStats(character)\r\n  return <Grid container spacing={1}>\r\n    <Grid item {...bsProps}>\r\n      <Button fullWidth sx={{ height: \"100%\" }} size=\"small\" component=\"a\" color=\"warning\" href=\"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances\" target=\"_blank\" rel=\"noreferrer\">\r\n        To get the specific resistance values of enemies, please visit the wiki.\r\n      </Button>\r\n    </Grid>\r\n    <Grid item {...bsProps}>\r\n      <StatInput\r\n        sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\r\n        name={<b>Enemy Level</b>}\r\n        value={Character.getStatValueWithBonus(character, \"enemyLevel\")}\r\n        placeholder={Stat.getStatNameRaw(\"enemyLevel\")}\r\n        defaultValue={charBaseStats.enemyLevel}\r\n        onValueChange={value => characterDispatch({ type: \"editStats\", statKey: \"enemyLevel\", value })}\r\n      />\r\n    </Grid>\r\n    {allElementsWithPhy.map(eleKey => {\r\n      let statKey = `${eleKey}_enemyRes_`\r\n      let immunityStatKey = `${eleKey}_enemyImmunity`\r\n      let elementImmunity = Character.getStatValueWithBonus(character, immunityStatKey)\r\n      return <Grid item key={eleKey} {...bsProps}>\r\n        <StatInput\r\n          sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\r\n          name={<b>{Stat.getStatName(statKey)}</b>}\r\n          value={Character.getStatValueWithBonus(character, statKey)}\r\n          placeholder={Stat.getStatNameRaw(statKey)}\r\n          defaultValue={charBaseStats[statKey]}\r\n          onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n          disabled={elementImmunity}\r\n          percent\r\n        >\r\n          <Button color={eleKey} onClick={() => characterDispatch({ type: \"editStats\", statKey: immunityStatKey, value: !elementImmunity })} >\r\n            <FontAwesomeIcon icon={elementImmunity ? faCheckSquare : faSquare} className=\"fa-fw\" /> Immunity\r\n          </Button>\r\n        </StatInput>\r\n      </Grid>\r\n    })}\r\n    <Grid item {...bsProps}>\r\n      <StatInput\r\n        sx={{ bgcolor: t => t.palette.contentLight.main, width: \"100%\" }}\r\n        name={<b>{Stat.getStatName(\"enemyDEFRed_\")}</b>}\r\n        value={Character.getStatValueWithBonus(character, \"enemyDEFRed_\")}\r\n        placeholder={Stat.getStatNameRaw(\"enemyDEFRed_\")}\r\n        defaultValue={charBaseStats[\"enemyDEFRed_\"]}\r\n        onValueChange={value => characterDispatch({ type: \"editStats\", statKey: \"enemyDEFRed_\", value })}\r\n        percent\r\n      />\r\n    </Grid>\r\n    <Grid item xs={12}>\r\n      <small>Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)</small>\r\n    </Grid>\r\n  </Grid>\r\n}","import { CardContent, Grid, MenuItem, ToggleButton, ToggleButtonGroupProps } from \"@mui/material\";\r\nimport { useContext } from 'react';\r\nimport { buildContext } from \"../Build/Build\";\r\nimport CharacterSheet from \"../Character/CharacterSheet\";\r\nimport useCharacterReducer from \"../ReactHooks/useCharacterReducer\";\r\nimport usePromise from \"../ReactHooks/usePromise\";\r\nimport { ICachedCharacter } from \"../Types/character\";\r\nimport { ICalculatedStats } from \"../Types/stats\";\r\nimport CardLight from \"./Card/CardLight\";\r\nimport ColorText from \"./ColoredText\";\r\nimport DropdownButton, { DropdownButtonProps } from \"./DropdownMenu/DropdownButton\";\r\nimport SolidToggleButtonGroup from \"./SolidToggleButtonGroup\";\r\nimport StatIcon, { uncoloredEleIcons } from \"./StatIcon\";\r\nconst infusionVals = {\r\n  \"\": <span>No External Infusion</span>,\r\n  \"pyro\": <span >{uncoloredEleIcons.pyro} Pyro Infusion</span>,\r\n  \"cryo\": <span >{uncoloredEleIcons.cryo} Cryo Infusion</span>,\r\n}\r\ntype InfusionAuraDropdownProps = Omit<DropdownButtonProps, \"title\" | \"onChange\" | \"children\"> & {\r\n  character: ICachedCharacter,\r\n}\r\nexport function InfusionAuraDropdown({ character: { infusionAura = \"\", key: characterKey }, ...props }: InfusionAuraDropdownProps) {\r\n  const characterSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  if (!characterSheet?.isMelee()) return null\r\n  return <DropdownButton title={infusionVals[infusionAura]} color={infusionAura || \"secondary\"} {...props}>\r\n    {Object.entries(infusionVals).map(([key, text]) =>\r\n      <MenuItem key={key} sx={key ? { color: `${key}.main` } : undefined}\r\n        selected={key === infusionAura} disabled={key === infusionAura}\r\n        onClick={() => characterDispatch({ infusionAura: key })}>{text}</MenuItem>)}\r\n  </DropdownButton>\r\n}\r\n\r\ntype ReactionToggleProps = Omit<ToggleButtonGroupProps, \"color\"> & {\r\n  character: ICachedCharacter,\r\n  build: ICalculatedStats,\r\n}\r\nexport function ReactionToggle({ character: { reactionMode = \"\", infusionAura, key: characterKey }, build, ...props }: ReactionToggleProps) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  if (!build) return null\r\n  const charEleKey = build.characterEle\r\n  if (![\"pyro\", \"hydro\", \"cryo\"].includes(charEleKey) && ![\"pyro\", \"hydro\", \"cryo\"].includes(infusionAura)) return null\r\n  return <SolidToggleButtonGroup exclusive baseColor=\"secondary\"\r\n    value={reactionMode} onChange={(e, reactionMode) => characterDispatch({ reactionMode })} {...props}>\r\n    <ToggleButton value=\"\" >No Reactions</ToggleButton >\r\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value=\"pyro_vaporize\"  >\r\n      <ColorText color=\"vaporize\">Vaporize(Pyro){StatIcon.hydro}+{StatIcon.pyro}</ColorText>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"pyro\" || infusionAura === \"pyro\") && <ToggleButton value={\"pyro_melt\"}  >\r\n      <ColorText color=\"melt\">Melt(Pyro) {StatIcon.cryo}+{StatIcon.pyro}</ColorText>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"hydro\" || infusionAura === \"hydro\") && <ToggleButton value={\"hydro_vaporize\"}  >\r\n      <ColorText color=\"vaporize\">Vaporize(Hydro) {StatIcon.pyro}+{StatIcon.hydro}</ColorText>\r\n    </ToggleButton >}\r\n    {(charEleKey === \"cryo\" || infusionAura === \"cryo\") && <ToggleButton value={\"cryo_melt\"}  >\r\n      <ColorText color=\"melt\">Melt(Cryo) {StatIcon.pyro}+{StatIcon.cryo}</ColorText>\r\n    </ToggleButton >}\r\n  </SolidToggleButtonGroup>\r\n}\r\ntype HitModeToggleProps = Omit<ToggleButtonGroupProps, \"color\"> & {\r\n  character: ICachedCharacter\r\n}\r\nexport function HitModeToggle({ character: { hitMode = \"avgHit\", key: characterKey }, ...props }: HitModeToggleProps) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  return <SolidToggleButtonGroup exclusive baseColor=\"secondary\"\r\n    value={hitMode} onChange={(e, hitMode) => characterDispatch({ hitMode })} {...props} >\r\n    <ToggleButton value=\"avgHit\">Avg. DMG</ToggleButton>\r\n    <ToggleButton value=\"hit\">Non Crit DMG</ToggleButton>\r\n    <ToggleButton value=\"critHit\">Crit Hit DMG</ToggleButton>\r\n  </SolidToggleButtonGroup>\r\n}\r\n\r\n\r\nexport function DamageOptionsCard({ character }: { character: ICachedCharacter }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  //choose which one to display stats for\r\n  const build = newBuild ? newBuild : equippedBuild!\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        <Grid item><HitModeToggle character={character} size=\"small\" /></Grid>\r\n        <Grid item><InfusionAuraDropdown character={character} /></Grid>\r\n        <Grid item><ReactionToggle character={character} build={build} size=\"small\" /></Grid>\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n\r\n","import * as React from 'react';\n/**\n * @ignore - internal component.\n * @type {React.Context<{} | {expanded: boolean, disabled: boolean, toggle: () => void}>}\n */\n\nconst AccordionContext = /*#__PURE__*/React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  AccordionContext.displayName = 'AccordionContext';\n}\n\nexport default AccordionContext;","import { CardContent, Typography } from \"@mui/material\"\r\nimport React from \"react\"\r\nimport CardDark from \"../Components/Card/CardDark\"\r\nimport FieldDisplay, { FieldDisplayList } from \"../Components/FieldDisplay\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport statsToFields from \"../Util/FieldUtil\"\r\nexport default function WeaponStatsCard({ title, statsVals = {}, stats }: { title: Displayable, statsVals?: object, stats: ICalculatedStats }) {\r\n  if ((Object.keys(statsVals) as string[]).filter(s => s !== \"modifiers\").length === 0) return null\r\n  const fields = statsToFields(statsVals, stats)\r\n  return <CardDark >\r\n    <CardContent>\r\n      <Typography>{title}</Typography>\r\n    </CardContent>\r\n    <FieldDisplayList>\r\n      {fields.map((field, i) => <FieldDisplay key={i} field={field} />)}\r\n    </FieldDisplayList>\r\n  </CardDark>\r\n}","import { Lock, LockOpen, SwapHoriz } from \"@mui/icons-material\"\r\nimport { Box, Button, ButtonGroup, CardContent, Divider, Grid, MenuItem, Typography } from \"@mui/material\"\r\nimport { useCallback, useContext, useState } from \"react\"\r\nimport Assets from \"../Assets/Assets\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport CharacterSheet from \"../Character/CharacterSheet\"\r\nimport CardDark from \"../Components/Card/CardDark\"\r\nimport CardLight from \"../Components/Card/CardLight\"\r\nimport CharacterDropdownButton from \"../Components/Character/CharacterDropdownButton\"\r\nimport CloseButton from \"../Components/CloseButton\"\r\nimport ColorText from \"../Components/ColoredText\"\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from \"../Components/CustomNumberInput\"\r\nimport DocumentDisplay from \"../Components/DocumentDisplay\"\r\nimport DropdownButton from \"../Components/DropdownMenu/DropdownButton\"\r\nimport ImgIcon from \"../Components/Image/ImgIcon\"\r\nimport ModalWrapper from \"../Components/ModalWrapper\"\r\nimport SqBadge from \"../Components/SqBadge\"\r\nimport { Stars } from \"../Components/StarDisplay\"\r\nimport WeaponSelectionModal from \"../Components/Weapon/WeaponSelectionModal\"\r\nimport { ambiguousLevel, ascensionMaxLevel, milestoneLevels } from \"../Data/LevelData\"\r\nimport { database as localDatabase, DatabaseContext } from \"../Database/Database\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport useWeapon from \"../ReactHooks/useWeapon\"\r\nimport { ICachedCharacter } from \"../Types/character\"\r\nimport { CharacterKey } from \"../Types/consts\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport { ICachedWeapon } from \"../Types/weapon\"\r\nimport { clamp } from \"../Util/Util\"\r\nimport WeaponCard from \"./WeaponCard\"\r\nimport WeaponSheet from \"./WeaponSheet\"\r\nimport WeaponStatsCard from \"./WeaponStatsCard\"\r\n\r\n\r\ntype WeaponStatsEditorCardProps = {\r\n  weaponId: string\r\n  charData?: {\r\n    character: ICachedCharacter,\r\n    characterSheet: CharacterSheet,\r\n    equippedBuild?: ICalculatedStats\r\n    newBuild?: ICalculatedStats\r\n    characterDispatch: (any) => void\r\n  }\r\n  footer?: boolean\r\n  onClose?: () => void\r\n}\r\nexport default function WeaponDisplayCard({\r\n  weaponId: propWeaponId,\r\n  charData,\r\n  footer = false,\r\n  onClose\r\n}: WeaponStatsEditorCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n\r\n  const buildContextObj = useContext(buildContext)\r\n  const weapon = useWeapon(propWeaponId)\r\n  const { key = \"\", level, refinement = 0, ascension = 0, lock, location = \"\", id } = weapon ?? {}\r\n  const weaponSheet = usePromise(WeaponSheet.get(key), [key])\r\n  const weaponTypeKey = weaponSheet?.weaponType\r\n\r\n  const weaponDispatch = useCallback((newWeapon: Partial<ICachedWeapon>) => {\r\n    database.updateWeapon(newWeapon, propWeaponId)\r\n  }, [propWeaponId, database])\r\n\r\n  const setLevel = useCallback(level => {\r\n    level = clamp(level, 1, 90)\r\n    const ascension = ascensionMaxLevel.findIndex(ascenML => level <= ascenML)\r\n    weaponDispatch({ level, ascension })\r\n  }, [weaponDispatch])\r\n\r\n  const setAscension = useCallback(() => {\r\n    const lowerAscension = ascensionMaxLevel.findIndex(ascenML => level !== 90 && level === ascenML)\r\n    if (ascension === lowerAscension) weaponDispatch({ ascension: ascension + 1 })\r\n    else weaponDispatch({ ascension: lowerAscension })\r\n  }, [weaponDispatch, ascension, level])\r\n\r\n  const build = { ...(charData ? (charData.newBuild ?? charData.equippedBuild) : { weapon: { refineIndex: refinement - 1, level, ascension } }) } as any\r\n\r\n  const characterSheet = usePromise(location ? CharacterSheet.get(location) : undefined, [location])\r\n  const weaponFilter = characterSheet ? (ws) => ws.weaponType === characterSheet.weaponTypeKey : undefined\r\n  const initialWeaponFilter = characterSheet && characterSheet.weaponTypeKey\r\n\r\n  const equipOnChar = useCallback((charKey: CharacterKey | \"\") => id && database.setWeaponLocation(id, charKey), [database, id])\r\n  const filter = useCallback(\r\n    (cs: CharacterSheet) => cs.weaponTypeKey === weaponSheet?.weaponType,\r\n    [weaponSheet],\r\n  )\r\n  const [showModal, setshowModal] = useState(false)\r\n  const img = ascension < 2 ? weaponSheet?.img : weaponSheet?.imgAwaken\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Grid container spacing={1}>\r\n        <Grid item flexGrow={1}>\r\n          <Grid container spacing={1}>\r\n            <Grid item >\r\n              <WeaponSelectionModal show={showModal} onHide={() => setshowModal(false)} onSelect={k => weaponDispatch({ key: k })} filter={weaponFilter} weaponFilter={initialWeaponFilter} />\r\n              <ButtonGroup>\r\n                <Button onClick={() => setshowModal(true)} >{weaponSheet?.name ?? \"Select a Weapon\"}</Button>\r\n                <DropdownButton title={`Refinement ${refinement}`}>\r\n                  <MenuItem>Select Weapon Refinement</MenuItem>\r\n                  <Divider />\r\n                  {[...Array(5).keys()].map(key =>\r\n                    <MenuItem key={key} onClick={() => weaponDispatch({ refinement: key + 1 })} selected={refinement === (key + 1)} disabled={refinement === (key + 1)}>\r\n                      {`Refinement ${key + 1}`}\r\n                    </MenuItem>)}\r\n                </DropdownButton>\r\n              </ButtonGroup>\r\n            </Grid>\r\n            <Grid item >\r\n              <ButtonGroup sx={{ bgcolor: t => t.palette.contentLight.main }} >\r\n                <CustomNumberInputButtonGroupWrapper >\r\n                  <CustomNumberInput onChange={setLevel} value={level}\r\n                    startAdornment=\"Lvl. \"\r\n                    inputProps={{ min: 1, max: 90, sx: { textAlign: \"center\" } }}\r\n                    sx={{ width: \"100%\", height: \"100%\", pl: 2 }}\r\n                  />\r\n                </CustomNumberInputButtonGroupWrapper>\r\n                <Button sx={{ pl: 1 }} disabled={!ambiguousLevel(level)} onClick={setAscension}><strong>/ {ascensionMaxLevel[ascension]}</strong></Button>\r\n                <DropdownButton title={\"Select Level\"} >\r\n                  {milestoneLevels.map(([lv, as]) => {\r\n                    const sameLevel = lv === ascensionMaxLevel[as]\r\n                    const lvlstr = sameLevel ? `Lv. ${lv}` : `Lv. ${lv}/${ascensionMaxLevel[as]}`\r\n                    const selected = lv === level && as === ascension\r\n                    return <MenuItem key={`${lv}/${as}`} selected={selected} disabled={selected} onClick={() => weaponDispatch({ level: lv, ascension: as })}>{lvlstr}</MenuItem>\r\n                  })}\r\n                </DropdownButton>\r\n              </ButtonGroup>\r\n            </Grid>\r\n            <Grid item>\r\n              <Button color=\"error\" onClick={() => id && database.updateWeapon({ lock: !lock }, id)} startIcon={lock ? <Lock /> : <LockOpen />}>\r\n                {lock ? \"Locked\" : \"Unlocked\"}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        {!!onClose && <Grid item  >\r\n          <CloseButton onClick={onClose} />\r\n        </Grid>}\r\n        {!!charData && database === localDatabase && <Grid item >\r\n          <SwapBtn weaponTypeKey={weaponTypeKey} onChangeId={id => database.setWeaponLocation(id, charData.character.key)} />\r\n        </Grid>}\r\n      </Grid>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent >\r\n      {(() => {\r\n        if (!weaponSheet) return null\r\n        const substatKey = weaponSheet.getSubStatKey()\r\n        const weaponDisplayMainVal = weaponSheet.getMainStatValue(level, ascension)\r\n        const weaponDisplaySubVal = weaponSheet.getSubStatValue(level, ascension)\r\n        const weaponPassiveName = weaponSheet.passiveName\r\n        const weaponBonusStats = weaponSheet.stats(build)\r\n        const sections = weaponSheet.document\r\n        return <Box display=\"flex\" gap={{ xs: 1, md: 1.5, lg: 2 }} >\r\n          <Box sx={{ maxWidth: 256 }} flexShrink={1} minWidth=\"25%\">\r\n            <Box component=\"img\" src={img} className={`grad-${weaponSheet.rarity}star`} sx={{ maxWidth: 256, width: \"100%\", height: \"auto\", borderRadius: 1 }} />\r\n            <Typography><small>{weaponSheet.description}</small></Typography>\r\n          </Box>\r\n          <Box sx={{ mb: -1 }} flexGrow={1} >\r\n            <Typography variant=\"h6\" >{process.env.NODE_ENV === \"development\" && <ColorText color=\"warning\">{id || `\"\"`} </ColorText>}{weaponSheet.name} Lv. {weapon && WeaponSheet.getLevelString(weapon)} {weaponPassiveName && <SqBadge color=\"info\">Refinement {refinement}</SqBadge>}</Typography>\r\n            <Typography><Stars stars={weaponSheet.rarity} /></Typography>\r\n            <Typography variant=\"subtitle1\">{weaponPassiveName}</Typography>\r\n            <Typography gutterBottom>{weaponPassiveName && weaponSheet.passiveDescription(build)}</Typography>\r\n            {build && <buildContext.Provider value={charData ? buildContextObj : { equippedBuild: build, newBuild: undefined, compareBuild: false, setCompareBuild: undefined }}>\r\n              <Box display=\"flex\" flexDirection=\"column\" gap={1}>\r\n                <WeaponStatsCard title={\"Main Stats\"} statsVals={{ atk: weaponDisplayMainVal, [substatKey]: substatKey ? weaponDisplaySubVal : undefined }} stats={build} />\r\n                <WeaponStatsCard title={\"Bonus Stats\"} statsVals={weaponBonusStats} stats={build} />\r\n              </Box>\r\n            </buildContext.Provider>}\r\n            {charData && sections ? (() => {\r\n              const { equippedBuild, newBuild } = charData\r\n              const characterKey = (newBuild ? newBuild : equippedBuild)?.characterKey as CharacterKey | undefined\r\n              return !!characterKey && < DocumentDisplay sections={sections} characterKey={characterKey} />\r\n            })() : null}\r\n          </Box>\r\n        </Box>\r\n      })()}\r\n    </CardContent>\r\n    {footer && id && <CardContent sx={{ py: 1 }}>\r\n      <Grid container>\r\n        <Grid item flexGrow={1}>\r\n          <CharacterDropdownButton noUnselect inventory value={location} onChange={equipOnChar} filter={filter} />\r\n        </Grid>\r\n        {!!onClose && <Grid item><CloseButton large onClick={onClose} /></Grid>}\r\n      </Grid>\r\n    </CardContent>}\r\n  </CardLight>\r\n}\r\nfunction SwapBtn({ onChangeId, weaponTypeKey }) {\r\n  const database = useContext(DatabaseContext)\r\n  const [show, setShow] = useState(false)\r\n  const open = () => setShow(true)\r\n  const close = () => setShow(false)\r\n\r\n  const clickHandler = (id) => {\r\n    onChangeId(id)\r\n    close()\r\n  }\r\n\r\n  const weaponSheets = usePromise(WeaponSheet.getAll(), [])\r\n\r\n  const weaponIdList = database.weapons.keys.filter(wKey => {\r\n    const dbWeapon = database._getWeapon(wKey)\r\n    if (!dbWeapon) return false\r\n    if (weaponTypeKey && weaponTypeKey !== weaponSheets?.[dbWeapon.key]?.weaponType) return false\r\n    return true\r\n  })\r\n\r\n\r\n  return <>\r\n    <Button color=\"info\" onClick={open} startIcon={<SwapHoriz />} >SWAP WEAPON</Button>\r\n    <ModalWrapper open={show} onClose={close} >\r\n      <CardDark>\r\n        <CardContent sx={{ py: 1 }}>\r\n          <Grid container>\r\n            <Grid item flexGrow={1}>\r\n              <Typography variant=\"h6\">{weaponTypeKey ? <ImgIcon src={Assets.weaponTypes[weaponTypeKey]} /> : null} Swap Weapon</Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <CloseButton onClick={close} />\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardContent>\r\n          <Grid container spacing={1}>\r\n            {weaponIdList.map(weaponId =>\r\n              <Grid item key={weaponId} xs={6} sm={6} md={4} lg={3} >\r\n                <WeaponCard\r\n                  weaponId={weaponId}\r\n                  onClick={clickHandler}\r\n                />\r\n              </Grid>)}\r\n          </Grid>\r\n        </CardContent>\r\n      </CardDark>\r\n    </ModalWrapper>\r\n  </>\r\n}","import { ButtonProps, ToggleButton, ToggleButtonProps, styled } from \"@mui/material\";\r\n\r\ntype SolidColoredToggleButtonPartial = {\r\n  baseColor?: ButtonProps[\"color\"];\r\n  selectedColor?: ButtonProps[\"color\"];\r\n}\r\nexport type SolidColoredToggleButtonProps = SolidColoredToggleButtonPartial & ToggleButtonProps\r\n\r\n\r\nconst SolidColoredToggleButton = styled(ToggleButton, {\r\n  shouldForwardProp: (prop) => prop !== \"baseColor\" && prop !== \"selectedColor\"\r\n})<SolidColoredToggleButtonPartial>(({ theme, baseColor = \"primary\", selectedColor = \"success\" }) => ({\r\n  '&': {\r\n    backgroundColor: theme.palette[baseColor].main,\r\n    color: theme.palette[baseColor].contrastText,\r\n  },\r\n  '&:hover': {\r\n    backgroundColor: theme.palette[baseColor].dark,\r\n  },\r\n  '&.Mui-selected': {\r\n    backgroundColor: theme.palette[selectedColor].main,\r\n    color: theme.palette[selectedColor].contrastText,\r\n  },\r\n  '&.Mui-selected:hover': {\r\n    backgroundColor: theme.palette[selectedColor].dark,\r\n  },\r\n  '&.Mui-disabled': {\r\n    backgroundColor: theme.palette[baseColor].dark,\r\n  },\r\n  '&.Mui-selected.Mui-disabled': {\r\n    backgroundColor: theme.palette[selectedColor].dark,\r\n  },\r\n}));\r\n\r\nexport default SolidColoredToggleButton","import { Box, ToggleButtonGroup } from \"@mui/material\";\r\nimport { useCallback } from \"react\";\r\nimport { allElements, ElementKey } from \"../../Types/consts\";\r\nimport SolidColoredToggleButton from \"../SolidColoredToggleButton\";\r\nimport { SolidToggleButtonGroupProps } from \"../SolidToggleButtonGroup\";\r\nimport { uncoloredEleIcons } from \"../StatIcon\";\r\ntype ElementToggleProps = Omit<SolidToggleButtonGroupProps, \"onChange\" | \"value\"> & {\r\n  onChange: (value: ElementKey | \"\") => void\r\n  value: ElementKey | \"\"\r\n}\r\nexport default function ElementToggle({ value, onChange, ...props }: ElementToggleProps) {\r\n  const cb = useCallback((e, newVal) => onChange(newVal || \"\"), [onChange])\r\n  return <ToggleButtonGroup exclusive onChange={cb} value={value || allElements} {...props}>\r\n    {allElements.map(ele => <SolidColoredToggleButton key={ele} value={ele} selectedColor={ele} >\r\n      <Box sx={{ fontSize: \"2em\", lineHeight: 1 }}>{uncoloredEleIcons[ele]}</Box>\r\n    </SolidColoredToggleButton>)}\r\n  </ToggleButtonGroup>\r\n}\r\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardHeaderUtilityClass(slot) {\n  return generateUtilityClass('MuiCardHeader', slot);\n}\nconst cardHeaderClasses = generateUtilityClasses('MuiCardHeader', ['root', 'avatar', 'action', 'content', 'title', 'subheader']);\nexport default cardHeaderClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"action\", \"avatar\", \"className\", \"component\", \"disableTypography\", \"subheader\", \"subheaderTypographyProps\", \"title\", \"titleTypographyProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport Typography from '../Typography';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardHeaderClasses, { getCardHeaderUtilityClass } from './cardHeaderClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    avatar: ['avatar'],\n    action: ['action'],\n    content: ['content'],\n    title: ['title'],\n    subheader: ['subheader']\n  };\n  return composeClasses(slots, getCardHeaderUtilityClass, classes);\n};\n\nconst CardHeaderRoot = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Root',\n  overridesResolver: (props, styles) => _extends({\n    [`& .${cardHeaderClasses.title}`]: styles.title,\n    [`& .${cardHeaderClasses.subheader}`]: styles.subheader\n  }, styles.root)\n})({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 16\n});\nconst CardHeaderAvatar = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Avatar',\n  overridesResolver: (props, styles) => styles.avatar\n})({\n  display: 'flex',\n  flex: '0 0 auto',\n  marginRight: 16\n});\nconst CardHeaderAction = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Action',\n  overridesResolver: (props, styles) => styles.action\n})({\n  flex: '0 0 auto',\n  alignSelf: 'flex-start',\n  marginTop: -4,\n  marginRight: -8,\n  marginBottom: -4\n});\nconst CardHeaderContent = styled('div', {\n  name: 'MuiCardHeader',\n  slot: 'Content',\n  overridesResolver: (props, styles) => styles.content\n})({\n  flex: '1 1 auto'\n});\nconst CardHeader = /*#__PURE__*/React.forwardRef(function CardHeader(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardHeader'\n  });\n\n  const {\n    action,\n    avatar,\n    className,\n    component = 'div',\n    disableTypography = false,\n    subheader: subheaderProp,\n    subheaderTypographyProps,\n    title: titleProp,\n    titleTypographyProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    component,\n    disableTypography\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  let title = titleProp;\n\n  if (title != null && title.type !== Typography && !disableTypography) {\n    title = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: avatar ? 'body2' : 'h5',\n      className: classes.title,\n      component: \"span\",\n      display: \"block\"\n    }, titleTypographyProps, {\n      children: title\n    }));\n  }\n\n  let subheader = subheaderProp;\n\n  if (subheader != null && subheader.type !== Typography && !disableTypography) {\n    subheader = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: avatar ? 'body2' : 'body1',\n      className: classes.subheader,\n      color: \"text.secondary\",\n      component: \"span\",\n      display: \"block\"\n    }, subheaderTypographyProps, {\n      children: subheader\n    }));\n  }\n\n  return /*#__PURE__*/_jsxs(CardHeaderRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [avatar && /*#__PURE__*/_jsx(CardHeaderAvatar, {\n      className: classes.avatar,\n      ownerState: ownerState,\n      children: avatar\n    }), /*#__PURE__*/_jsxs(CardHeaderContent, {\n      className: classes.content,\n      ownerState: ownerState,\n      children: [title, subheader]\n    }), action && /*#__PURE__*/_jsx(CardHeaderAction, {\n      className: classes.action,\n      ownerState: ownerState,\n      children: action\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardHeader.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display in the card header.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, `subheader` and `title` won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `title` text, and optional `subheader` text\n   * with the Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  subheader: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the subheader\n   * (as long as disableTypography is not `true`).\n   */\n  subheaderTypographyProps: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The content of the component.\n   */\n  title: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the title\n   * (as long as disableTypography is not `true`).\n   */\n  titleTypographyProps: PropTypes.object\n} : void 0;\nexport default CardHeader;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","/* eslint-disable react-hooks/rules-of-hooks, react-hooks/exhaustive-deps */\nimport * as React from 'react';\nexport default function useControlled({\n  controlled,\n  default: defaultProp,\n  name,\n  state = 'value'\n}) {\n  // isControlled is ignored in the hook dependency lists as it should never change.\n  const {\n    current: isControlled\n  } = React.useRef(controlled !== undefined);\n  const [valueState, setValue] = React.useState(defaultProp);\n  const value = isControlled ? controlled : valueState;\n\n  if (process.env.NODE_ENV !== 'production') {\n    React.useEffect(() => {\n      if (isControlled !== (controlled !== undefined)) {\n        console.error([`MUI: A component is changing the ${isControlled ? '' : 'un'}controlled ${state} state of ${name} to be ${isControlled ? 'un' : ''}controlled.`, 'Elements should not switch from uncontrolled to controlled (or vice versa).', `Decide between using a controlled or uncontrolled ${name} ` + 'element for the lifetime of the component.', \"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.\", 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [state, name, controlled]);\n    const {\n      current: defaultValue\n    } = React.useRef(defaultProp);\n    React.useEffect(() => {\n      if (!isControlled && defaultValue !== defaultProp) {\n        console.error([`MUI: A component is changing the default ${state} state of an uncontrolled ${name} after being initialized. ` + `To suppress this warning opt to use a controlled ${name}.`].join('\\n'));\n      }\n    }, [JSON.stringify(defaultProp)]);\n  }\n\n  const setValueIfUncontrolled = React.useCallback(newValue => {\n    if (!isControlled) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}","import createStyled from './createStyled';\nconst styled = createStyled();\nexport default styled;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z\"\n}), 'BusinessCenter');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"\n}), 'Replay');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAlertUtilityClass(slot) {\n  return generateUtilityClass('MuiAlert', slot);\n}\nconst alertClasses = generateUtilityClasses('MuiAlert', ['root', 'action', 'icon', 'message', 'filled', 'filledSuccess', 'filledInfo', 'filledWarning', 'filledError', 'outlined', 'outlinedSuccess', 'outlinedInfo', 'outlinedWarning', 'outlinedError', 'standard', 'standardSuccess', 'standardInfo', 'standardWarning', 'standardError']);\nexport default alertClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _CloseIcon;\n\nconst _excluded = [\"action\", \"children\", \"className\", \"closeText\", \"color\", \"icon\", \"iconMapping\", \"onClose\", \"role\", \"severity\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { darken, lighten } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport capitalize from '../utils/capitalize';\nimport Paper from '../Paper';\nimport alertClasses, { getAlertUtilityClass } from './alertClasses';\nimport IconButton from '../IconButton';\nimport SuccessOutlinedIcon from '../internal/svg-icons/SuccessOutlined';\nimport ReportProblemOutlinedIcon from '../internal/svg-icons/ReportProblemOutlined';\nimport ErrorOutlineIcon from '../internal/svg-icons/ErrorOutline';\nimport InfoOutlinedIcon from '../internal/svg-icons/InfoOutlined';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    variant,\n    color,\n    severity,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', `${variant}${capitalize(color || severity)}`, `${variant}`],\n    icon: ['icon'],\n    message: ['message'],\n    action: ['action']\n  };\n  return composeClasses(slots, getAlertUtilityClass, classes);\n};\n\nconst AlertRoot = styled(Paper, {\n  name: 'MuiAlert',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`${ownerState.variant}${capitalize(ownerState.color || ownerState.severity)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const getColor = theme.palette.mode === 'light' ? darken : lighten;\n  const getBackgroundColor = theme.palette.mode === 'light' ? lighten : darken;\n  const color = ownerState.color || ownerState.severity;\n  return _extends({}, theme.typography.body2, {\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: 'transparent',\n    display: 'flex',\n    padding: '6px 16px'\n  }, color && ownerState.variant === 'standard' && {\n    color: getColor(theme.palette[color].light, 0.6),\n    backgroundColor: getBackgroundColor(theme.palette[color].light, 0.9),\n    [`& .${alertClasses.icon}`]: {\n      color: theme.palette.mode === 'dark' ? theme.palette[color].main : theme.palette[color].light\n    }\n  }, color && ownerState.variant === 'outlined' && {\n    color: getColor(theme.palette[color].light, 0.6),\n    border: `1px solid ${theme.palette[color].light}`,\n    [`& .${alertClasses.icon}`]: {\n      color: theme.palette.mode === 'dark' ? theme.palette[color].main : theme.palette[color].light\n    }\n  }, color && ownerState.variant === 'filled' && {\n    color: '#fff',\n    fontWeight: theme.typography.fontWeightMedium,\n    backgroundColor: theme.palette.mode === 'dark' ? theme.palette[color].dark : theme.palette[color].main\n  });\n});\nconst AlertIcon = styled('div', {\n  name: 'MuiAlert',\n  slot: 'Icon',\n  overridesResolver: (props, styles) => styles.icon\n})({\n  marginRight: 12,\n  padding: '7px 0',\n  display: 'flex',\n  fontSize: 22,\n  opacity: 0.9\n});\nconst AlertMessage = styled('div', {\n  name: 'MuiAlert',\n  slot: 'Message',\n  overridesResolver: (props, styles) => styles.message\n})({\n  padding: '8px 0'\n});\nconst AlertAction = styled('div', {\n  name: 'MuiAlert',\n  slot: 'Action',\n  overridesResolver: (props, styles) => styles.action\n})({\n  display: 'flex',\n  alignItems: 'flex-start',\n  padding: '4px 0 0 16px',\n  marginLeft: 'auto',\n  marginRight: -8\n});\nconst defaultIconMapping = {\n  success: /*#__PURE__*/_jsx(SuccessOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  warning: /*#__PURE__*/_jsx(ReportProblemOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  error: /*#__PURE__*/_jsx(ErrorOutlineIcon, {\n    fontSize: \"inherit\"\n  }),\n  info: /*#__PURE__*/_jsx(InfoOutlinedIcon, {\n    fontSize: \"inherit\"\n  })\n};\nconst Alert = /*#__PURE__*/React.forwardRef(function Alert(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAlert'\n  });\n\n  const {\n    action,\n    children,\n    className,\n    closeText = 'Close',\n    color,\n    icon,\n    iconMapping = defaultIconMapping,\n    onClose,\n    role = 'alert',\n    severity = 'success',\n    variant = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    color,\n    severity,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(AlertRoot, _extends({\n    role: role,\n    square: true,\n    elevation: 0,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other, {\n    children: [icon !== false ? /*#__PURE__*/_jsx(AlertIcon, {\n      ownerState: ownerState,\n      className: classes.icon,\n      children: icon || iconMapping[severity] || defaultIconMapping[severity]\n    }) : null, /*#__PURE__*/_jsx(AlertMessage, {\n      ownerState: ownerState,\n      className: classes.message,\n      children: children\n    }), action != null ? /*#__PURE__*/_jsx(AlertAction, {\n      className: classes.action,\n      children: action\n    }) : null, action == null && onClose ? /*#__PURE__*/_jsx(AlertAction, {\n      ownerState: ownerState,\n      className: classes.action,\n      children: /*#__PURE__*/_jsx(IconButton, {\n        size: \"small\",\n        \"aria-label\": closeText,\n        title: closeText,\n        color: \"inherit\",\n        onClick: onClose,\n        children: _CloseIcon || (_CloseIcon = /*#__PURE__*/_jsx(CloseIcon, {\n          fontSize: \"small\"\n        }))\n      })\n    }) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Alert.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the alert.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Override the default label for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   * @default 'Close'\n   */\n  closeText: PropTypes.string,\n\n  /**\n   * The main color for the alert. Unless provided, the value is taken from the `severity` prop.\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * Override the icon displayed before the children.\n   * Unless provided, the icon is mapped to the value of the `severity` prop.\n   * Set to `false` to remove the `icon`.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The component maps the `severity` prop to a range of different icons,\n   * for instance success to `<SuccessOutlined>`.\n   * If you wish to change this mapping, you can provide your own.\n   * Alternatively, you can use the `icon` prop to override the icon displayed.\n   */\n  iconMapping: PropTypes.shape({\n    error: PropTypes.node,\n    info: PropTypes.node,\n    success: PropTypes.node,\n    warning: PropTypes.node\n  }),\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * When provided and no `action` prop is set, a close icon button is displayed that triggers the callback when clicked.\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * The ARIA role attribute of the element.\n   * @default 'alert'\n   */\n  role: PropTypes.string,\n\n  /**\n   * The severity of the alert. This defines the color and icon used.\n   * @default 'success'\n   */\n  severity: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['filled', 'outlined', 'standard']), PropTypes.string])\n} : void 0;\nexport default Alert;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\"\n}), 'SuccessOutlined');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"\n}), 'ReportProblemOutlined');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z\"\n}), 'InfoOutlined');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n *\n * Alias to `Clear`.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","import { ExpandMore } from \"@mui/icons-material\"\r\nimport { Accordion, AccordionDetails, AccordionSummary, Box, CardContent, CardHeader, Collapse, Divider, Grid, Skeleton, Typography } from \"@mui/material\"\r\nimport { Suspense, useCallback, useContext, useMemo, useState } from \"react\"\r\nimport { buildContext } from \"../Build/Build\"\r\nimport Character from \"../Character/Character\"\r\nimport { getFormulaTargetsDisplayHeading } from \"../Character/CharacterUtil\"\r\nimport Formula from \"../Formula\"\r\nimport usePromise from \"../ReactHooks/usePromise\"\r\nimport { Sheets } from \"../ReactHooks/useSheets\"\r\nimport Stat, { FormulaDisplay } from \"../Stat\"\r\nimport { GetDependencies } from \"../StatDependency\"\r\nimport { IFieldDisplay } from \"../Types/IFieldDisplay\"\r\nimport { ICalculatedStats } from \"../Types/stats\"\r\nimport CardDark from \"./Card/CardDark\"\r\nimport CardLight from \"./Card/CardLight\"\r\nimport ColorText from \"./ColoredText\"\r\nimport ExpandButton from \"./ExpandButton\"\r\nimport ImgIcon from \"./Image/ImgIcon\"\r\n\r\nexport default function FormulaCalcCard({ sheets }: { sheets: Sheets }) {\r\n  const [expanded, setexpanded] = useState(false)\r\n  const toggle = useCallback(() => setexpanded(!expanded), [setexpanded, expanded])\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Grid container>\r\n        <Grid item flexGrow={1}>\r\n          <Typography>Formulas {\"&\"} Calculations</Typography>\r\n          <Typography variant=\"caption\" color=\"text.secondary\">Expand to see every formula and all their calculations.</Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <ExpandButton\r\n            expand={expanded}\r\n            onClick={toggle}\r\n            aria-expanded={expanded}\r\n            aria-label=\"show more\"\r\n          >\r\n            <ExpandMore />\r\n          </ExpandButton>\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n      <CardContent sx={{ pt: 0 }}>\r\n        <CalculationDisplay sheets={sheets} />\r\n      </CardContent>\r\n    </Collapse>\r\n  </CardLight>\r\n}\r\n\r\nfunction CalculationDisplay({ sheets }: { sheets: Sheets }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  //choose which one to display stats for\r\n  const build = (newBuild ? newBuild : equippedBuild)!\r\n  const displayStatKeys = useMemo(() => Character.getDisplayStatKeys(build, sheets), [build, sheets])\r\n  if (!build || !displayStatKeys) return null\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={1000} />} >\r\n    {Object.entries(displayStatKeys).map(([sectionKey, fields]: [string, any]) => {\r\n      const header = getFormulaTargetsDisplayHeading(sectionKey, sheets, build)\r\n      return <CardDark key={sectionKey} sx={{ mb: 1 }}>\r\n        <CardHeader avatar={header.icon && <ImgIcon size={2} sx={{ m: -1 }} src={header.icon} />} title={header.title} titleTypographyProps={{ variant: \"subtitle1\" }} />\r\n        <Divider />\r\n        <CardContent>\r\n          {fields.map((field, fieldIndex) => {\r\n            if (Array.isArray(field))\r\n              return <FormulaCalculationField key={fieldIndex} fieldKeys={field} build={build} />\r\n            else if (typeof field === \"string\") {//simple statKey field\r\n              const subFormulaKeys: any[] = Stat.getPrintableFormulaStatKeyList(GetDependencies(build, build?.modifiers, [field]), build?.modifiers).reverse()\r\n              return Boolean(subFormulaKeys.length) && <Accordion sx={{ bgcolor: \"contentLight.main\" }} key={fieldIndex}>\r\n                <AccordionSummary expandIcon={<ExpandMore />}>\r\n                  <Typography>{Stat.printStat(field, build)}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  {subFormulaKeys.map(subKey =>\r\n                    <Typography key={subKey}>{Stat.printStat(subKey, build)} = <small><FormulaDisplay statKey={subKey} stats={build} modifiers={build.modifiers} expand={false} /></small></Typography>\r\n                  )}\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            }\r\n            return null\r\n          })}\r\n        </CardContent>\r\n      </CardDark>\r\n    })}\r\n  </Suspense>\r\n}\r\n\r\nfunction FormulaCalculationField({ fieldKeys, build }: { fieldKeys: string[], build: ICalculatedStats }) {\r\n  const formula = usePromise(Formula.get(fieldKeys), [fieldKeys])\r\n  if (!formula) return null\r\n  const formulaField = (formula as any).field as IFieldDisplay\r\n  const fieldText = Character.getTalentFieldValue(formulaField, \"text\", build)\r\n  const fieldVariant = Character.getTalentFieldValue(formulaField, \"variant\", build)\r\n  const fieldFormulaText = Character.getTalentFieldValue(formulaField, \"formulaText\", build)\r\n  const fieldFixed = Character.getTalentFieldValue(formulaField, \"fixed\", build) ?? 0\r\n  const fieldUnit = Character.getTalentFieldValue(formulaField, \"unit\", build) ?? \"\"\r\n  const [fieldFormula, fieldFormulaDependency] = Character.getTalentFieldValue(formulaField, \"formula\", build, [] as any)\r\n  if (!fieldFormula || !fieldFormulaDependency) return null\r\n  const fieldValue = fieldFormula?.(build)?.toFixed?.(fieldFixed)\r\n  const subFormulaKeys = Stat.getPrintableFormulaStatKeyList(GetDependencies(build, build?.modifiers, fieldFormulaDependency), build?.modifiers).reverse()\r\n  return <Accordion sx={{ bgcolor: \"contentLight.main\" }}>\r\n    <AccordionSummary expandIcon={<ExpandMore />}>\r\n      <Typography><Box color={`${fieldVariant}.main`} component=\"strong\">{fieldText}</Box> <ColorText color=\"info\">{fieldValue}{fieldUnit}</ColorText></Typography>\r\n    </AccordionSummary>\r\n    <AccordionDetails>\r\n      <Typography><Box color={`${fieldVariant}.main`} component=\"strong\">{fieldText}</Box> <ColorText color=\"info\">{fieldValue}</ColorText> = <small>{fieldFormulaText}</small></Typography>\r\n      {subFormulaKeys.map(subKey =>\r\n        <Typography key={subKey}>{Stat.printStat(subKey, build)} = <small><FormulaDisplay statKey={subKey} stats={build} modifiers={build.modifiers} expand={false} /></small></Typography>\r\n      )}\r\n    </AccordionDetails>\r\n  </Accordion>\r\n}","import { Button, Card, CardContent, Divider, Grid, ToggleButton, Typography } from '@mui/material';\r\nimport { useCallback, useContext, useEffect, useMemo } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport ArtifactCard from '../../Artifact/ArtifactCard';\r\nimport { ArtifactSheet } from '../../Artifact/ArtifactSheet';\r\nimport SetEffectDisplay from '../../Artifact/Component/SetEffectDisplay';\r\nimport { buildContext } from '../../Build/Build';\r\nimport CardLight from '../../Components/Card/CardLight';\r\nimport SolidToggleButtonGroup from '../../Components/SolidToggleButtonGroup';\r\nimport { database as localDatabase, DatabaseContext } from '../../Database/Database';\r\nimport useForceUpdate from '../../ReactHooks/useForceUpdate';\r\nimport usePromise from '../../ReactHooks/usePromise';\r\nimport { Sheets } from '../../ReactHooks/useSheets';\r\nimport { ICachedCharacter } from '../../Types/character';\r\nimport { allSlotKeys } from '../../Types/consts';\r\nimport { objectFromKeyMap } from '../../Util/Util';\r\nimport Character from \"../Character\";\r\nimport StatDisplayComponent from './StatDisplayComponent';\r\n\r\ntype CharacterArtifactPaneProps = {\r\n  sheets: Sheets\r\n  character: ICachedCharacter,\r\n}\r\nfunction CharacterArtifactPane({ sheets, character, character: { key: characterKey } }: CharacterArtifactPaneProps) {\r\n  const { newBuild, equippedBuild, compareBuild, setCompareBuild } = useContext(buildContext)\r\n  const database = useContext(DatabaseContext)\r\n  const history = useHistory()\r\n  //choose which one to display stats for\r\n  const stats = (newBuild ? newBuild : equippedBuild)\r\n  const mainStatAssumptionLevel = stats?.mainStatAssumptionLevel ?? 0\r\n  const statKeys = useMemo(() => stats && sheets && Character.getDisplayStatKeys(stats, sheets), [stats, sheets])\r\n  const edit = useCallback(\r\n    artid => history.push({\r\n      pathname: \"/artifact\",\r\n      artToEditId: artid\r\n    } as any), [history])\r\n  const artifactSheets = usePromise(ArtifactSheet.getAll(), [])\r\n\r\n  // TODO: We can also listen only to equipped artifacts\r\n  const [, updateArt] = useForceUpdate()\r\n  useEffect(() => database.followAnyArt(updateArt))\r\n\r\n  const equipArts = useCallback(() => {\r\n    if (!window.confirm(\"Do you want to equip this artifact build to this character?\")) return\r\n    if (!newBuild) return\r\n    newBuild.equippedArtifacts && database.equipArtifacts(characterKey, newBuild.equippedArtifacts)\r\n  }, [characterKey, newBuild, database])\r\n\r\n  const unequipArts = useCallback(() => {\r\n    if (!window.confirm(\"Do you want to move all the artifacts equipped to inventory?\")) return\r\n    database.equipArtifacts(characterKey, objectFromKeyMap(allSlotKeys, () => \"\"))\r\n  }, [characterKey, database])\r\n  if (!stats) return null\r\n  return <>\r\n    <CardLight sx={{ mb: 1 }}>\r\n      <CardContent>\r\n        <StatDisplayComponent {...{ sheets, character, equippedBuild: (newBuild && !compareBuild) ? undefined : equippedBuild, newBuild, statsDisplayKeys: statKeys }} />\r\n      </CardContent>\r\n      <Divider />\r\n      <CardContent sx={{ py: 1 }}>\r\n        <Grid container spacing={1}>\r\n          <Grid item>\r\n            {newBuild ? <Button onClick={equipArts} className=\"mr-2\">Equip artifacts</Button> : (database === localDatabase && <Button color=\"error\" onClick={unequipArts}>Unequip all artifacts</Button>)}\r\n          </Grid>\r\n          <Grid item>\r\n            {/* Compare against new build toggle */}\r\n            {!!newBuild && <SolidToggleButtonGroup exclusive value={compareBuild} onChange={(e, v) => setCompareBuild?.(v)} size=\"small\">\r\n              <ToggleButton value={false} disabled={!compareBuild}>\r\n                <small>Show New artifact Stats</small>\r\n              </ToggleButton>\r\n              <ToggleButton value={true} disabled={compareBuild}>\r\n                <small>Compare against equipped artifacts</small>\r\n              </ToggleButton>\r\n            </SolidToggleButtonGroup>}\r\n          </Grid>\r\n          <Grid item flexGrow={1}></Grid>\r\n          <Grid item>{!!mainStatAssumptionLevel && <Card sx={{ p: 1, bgcolor: t => t.palette.warning.dark }}><Typography><strong>Assume Main Stats are Level {mainStatAssumptionLevel}</strong></Typography></Card>}</Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </CardLight>\r\n    <Grid container spacing={1}>\r\n      <Grid item xs={12} sm={6} md={4} >\r\n        <CardLight sx={{ height: \"100%\" }} ><CardContent sx={{ height: \"100%\" }}><Grid container spacing={1} flexDirection=\"column\" height=\"100%\" >\r\n          {artifactSheets && Object.entries(ArtifactSheet.setEffects(artifactSheets, stats.setToSlots)).map(([setKey, setNumKeyArr]) =>\r\n            <Grid item key={setKey} display=\"flex\" flexDirection=\"column\" gap={1}>\r\n              <Typography variant=\"subtitle1\">{artifactSheets?.[setKey].name ?? \"\"}</Typography>\r\n              {setNumKeyArr.map(setNumKey => <SetEffectDisplay key={setKey + setNumKey} {...{ setKey, setNumKey, equippedBuild, newBuild }} />)}\r\n            </Grid>\r\n          )}\r\n        </Grid></CardContent></CardLight>\r\n      </Grid>\r\n      {allSlotKeys.map(slotKey =>\r\n        !!stats?.equippedArtifacts?.[slotKey] && <Grid item xs={6} md={4} key={stats?.equippedArtifacts?.[slotKey]} >\r\n          <ArtifactCard artifactId={stats?.equippedArtifacts?.[slotKey]} mainStatAssumptionLevel={mainStatAssumptionLevel} onEdit={() => edit(stats?.equippedArtifacts?.[slotKey])} />\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  </>\r\n}\r\nexport default CharacterArtifactPane\r\n","import { faEdit, faSave } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Badge, Box, Button, CardContent, CardMedia, Divider, Grid, Typography } from \"@mui/material\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport Assets from \"../../Assets/Assets\";\r\nimport { buildContext } from \"../../Build/Build\";\r\nimport CardLight from \"../../Components/Card/CardLight\";\r\nimport ImgIcon from \"../../Components/Image/ImgIcon\";\r\nimport { Stars } from \"../../Components/StarDisplay\";\r\nimport StatDisplay from \"../../Components/StatDisplay\";\r\nimport StatIcon from \"../../Components/StatIcon\";\r\nimport useCharacterReducer from \"../../ReactHooks/useCharacterReducer\";\r\nimport Stat from \"../../Stat\";\r\nimport { ICachedCharacter, TalentSheetElementKey } from \"../../Types/character\";\r\nimport { allElementsWithPhy } from \"../../Types/consts\";\r\nimport { ICalculatedStats } from \"../../Types/stats\";\r\nimport { characterStatKeys } from \"../../Util/StatUtil\";\r\nimport WeaponDisplayCard from \"../../Weapon/WeaponDisplayCard\";\r\nimport Character from \"../Character\";\r\nimport CharacterSheet from \"../CharacterSheet\";\r\nimport StatInput from \"../StatInput\";\r\ntype CharacterOverviewPaneProps = {\r\n  characterSheet: CharacterSheet;\r\n  character: ICachedCharacter\r\n}\r\nexport default function CharacterOverviewPane({ characterSheet, character, character: { constellation, key: characterKey } }: CharacterOverviewPaneProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  if (!build) return null\r\n  const { tlvl } = build\r\n  const elementKey = build.characterEle\r\n  const weaponTypeKey = characterSheet.weaponTypeKey\r\n  return <Grid container spacing={1}>\r\n    <Grid item xs={12} md={3}  >\r\n      {/* Image card with star and name and level */}\r\n      <CardLight >\r\n        <CardMedia src={characterSheet.cardImg} component=\"img\" width=\"100%\" height=\"auto\" />\r\n        <CardContent>\r\n          <Typography variant=\"h4\" >{characterSheet.name} <ImgIcon src={Assets.weaponTypes?.[weaponTypeKey]} /> {StatIcon[elementKey]} </Typography>\r\n          <Typography variant=\"h6\"><Stars stars={characterSheet.rarity} colored /></Typography>\r\n          <Typography variant=\"h5\">Lvl. {Character.getLevelString(character)}</Typography>\r\n          <Grid container spacing={1} mt={1}>\r\n            {([\"auto\", \"skill\", \"burst\"] as TalentSheetElementKey[]).map(tKey =>\r\n              <Grid item xs={4} key={tKey}>\r\n                <Badge badgeContent={tlvl[tKey] + 1} color={((tKey === \"skill\" && build.skillBoost) || (tKey === \"burst\" && build.burstBoost)) ? \"info\" : \"secondary\"}\r\n                  overlap=\"circular\"\r\n                  anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  sx={{\r\n                    \"& > .MuiBadge-badge\": {\r\n                      fontSize: \"1.25em\",\r\n                      padding: \".25em .4em\",\r\n                      borderRadius: \".5em\",\r\n                      lineHeight: 1,\r\n                      height: \"1.25em\"\r\n                    }\r\n                  }}>\r\n                  <Box component=\"img\" src={characterSheet.getTalentOfKey(tKey, build.characterEle)?.img} width=\"100%\" height=\"auto\" />\r\n                </Badge>\r\n              </Grid>)}\r\n          </Grid>\r\n          <Typography sx={{ textAlign: \"center\", mt: 1 }} variant=\"h6\">{characterSheet.constellationName}</Typography>\r\n          <Grid container spacing={1}>\r\n            {[...Array(6).keys()].map(i =>\r\n              <Grid item xs={4} key={i}>\r\n                <Box component=\"img\" src={characterSheet.getTalentOfKey(`constellation${i + 1}` as TalentSheetElementKey, build.characterEle)?.img}\r\n                  sx={{\r\n                    cursor: \"pointer\",\r\n                    ...(constellation > i ? {} : { filter: \"brightness(50%)\" })\r\n                  }}\r\n                  width=\"100%\" height=\"auto\"\r\n                  onClick={() => characterDispatch({ constellation: (i + 1) === constellation ? i : i + 1 })} />\r\n              </Grid>)}\r\n          </Grid>\r\n        </CardContent>\r\n      </CardLight>\r\n    </Grid>\r\n    <Grid item xs={12} md={9} sx={{\r\n      \"> div:not(:last-child)\": { mb: 1 }\r\n    }} >\r\n      <WeaponDisplayCard {...{ charData: { character, characterSheet, equippedBuild, newBuild, characterDispatch }, weaponId: character.equippedWeapon }} />\r\n      <MainStatsCards {...{ characterSheet, character, equippedBuild, newBuild }} />\r\n    </Grid>\r\n  </Grid >\r\n}\r\nconst EDIT = \"Edit Stats\"\r\nconst EXIT = \"EXIT\"\r\n\r\nconst additionalKeys = [\"eleMas\", \"critRate_\", \"critDMG_\", \"enerRech_\", \"heal_\"]\r\nconst displayStatKeys = [\"characterATK\", \"finalATK\", \"finalHP\", \"finalDEF\"]\r\ndisplayStatKeys.push(...additionalKeys)\r\nconst editStatKeys = [\"hp\", \"hp_\", \"def\", \"def_\", \"atk\", \"atk_\"]\r\neditStatKeys.push(...additionalKeys)\r\nconst otherStatKeys: any[] = [];\r\n\r\nallElementsWithPhy.forEach(ele => {\r\n  otherStatKeys.push(`${ele}_dmg_`)\r\n  otherStatKeys.push(`${ele}_res_`)\r\n})\r\notherStatKeys.push(\"stamina\", \"incHeal_\", \"shield_\", \"cdRed_\")\r\n\r\nconst miscStatkeys = [\r\n  \"normal_dmg_\", \"normal_critRate_\",\r\n  \"charged_dmg_\", \"charged_critRate_\",\r\n  \"plunging_dmg_\", \"plunging_critRate_\",\r\n  \"skill_dmg_\", \"skill_critRate_\",\r\n  \"burst_dmg_\", \"burst_critRate_\",\r\n  \"dmg_\", \"electrocharged_dmg_\",\r\n  \"vaporize_dmg_\", \"swirl_dmg_\",\r\n  \"moveSPD_\", \"atkSPD_\",\r\n  \"weakspotDMG_\",\r\n]\r\n\r\nconst resetString = {\r\n  \"characterATK\": \"Override Base ATK\",\r\n  \"characterHP\": \"Override Base HP\",\r\n  \"characterDEF\": \"Override Base DEF\"\r\n}\r\ntype MainStatsCardsProps = {\r\n  characterSheet: CharacterSheet,\r\n  character: ICachedCharacter,\r\n  equippedBuild?: ICalculatedStats,\r\n  newBuild?: ICalculatedStats\r\n}\r\nconst statBreakpoint = {\r\n  xs: 12, sm: 6, md: 6, lg: 4,\r\n} as const\r\n\r\n\r\nfunction MainStatsCards({ characterSheet, character, character: { key: characterKey, level, ascension }, equippedBuild, newBuild }: MainStatsCardsProps) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n\r\n  const specializedStatKey = characterSheet.getSpecializedStat(character.ascension)\r\n  const specializedStatVal = characterSheet.getSpecializedStatVal(character.ascension)\r\n  const specializedStatUnit = Stat.getStatUnit(specializedStatKey)\r\n\r\n  const displayNewBuildProps = { character, equippedBuild, newBuild }\r\n\r\n  return <>\r\n    <TeamBuffDisplay character={character} />\r\n    <StatDisplayCard\r\n      title=\"Main Stats\"\r\n      content={<Grid container columnSpacing={{ xs: 2, lg: 3 }} rowSpacing={1}>\r\n        {displayStatKeys.map(statKey => <Grid item key={statKey} {...statBreakpoint} >\r\n          <StatDisplay statKey={statKey} {...displayNewBuildProps} />\r\n        </Grid>)}\r\n        <Grid item {...statBreakpoint} display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\r\n          <span><b>Specialized:</b> <span>{specializedStatKey && StatIcon[specializedStatKey]} {Stat.getStatName(specializedStatKey)}</span></span>\r\n          <span >{`${specializedStatVal.toFixed(Stat.fixedUnit(specializedStatKey))}${specializedStatUnit}`}</span>\r\n        </Grid>\r\n      </Grid>}\r\n      editContent={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {characterStatKeys.map(statKey => {\r\n          const defVal = Math.round(characterSheet.getBase(statKey, level, ascension))\r\n          return <Grid item xs={12} lg={6} key={statKey}>\r\n            <StatInput\r\n              name={<span>{StatIcon[statKey]} {resetString[statKey]}</span>}\r\n              placeholder={Stat.getStatNameRaw(statKey)}\r\n              value={character.bonusStats[statKey] ?? defVal}\r\n              defaultValue={defVal}\r\n              percent={Stat.getStatUnit(statKey) === \"%\"}\r\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n              onReset={() => characterDispatch({ type: \"resetStats\", statKey })}\r\n            />\r\n          </Grid>\r\n        })}\r\n        {editStatKeys.map(statKey =>\r\n          <Grid item xs={12} lg={6} key={statKey}>\r\n            <StatInput\r\n              name={<span>{StatIcon[statKey]} {Stat.getStatNameWithPercent(statKey)}</span>}\r\n              placeholder={Stat.getStatNameRaw(statKey)}\r\n              value={character.bonusStats[statKey] ?? 0}\r\n              percent={Stat.getStatUnit(statKey) === \"%\"}\r\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n            />\r\n          </Grid>)}\r\n      </Grid>}\r\n    />\r\n    <StatDisplayCard\r\n      title=\"Other Stats\"\r\n      content={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {otherStatKeys.map(statKey => <Grid item {...statBreakpoint} key={statKey} ><StatDisplay statKey={statKey} {...displayNewBuildProps} /></Grid>)}\r\n      </Grid>}\r\n      editContent={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {otherStatKeys.map(statKey =>\r\n          <Grid item xs={12} lg={6} key={statKey}>\r\n            <StatInput\r\n              name={<span>{StatIcon[statKey]} {Stat.getStatName(statKey)}</span>}\r\n              placeholder={Stat.getStatNameRaw(statKey)}\r\n              value={character.bonusStats[statKey] ?? (statKey === \"stamina\" ? 100 : 0)}\r\n              percent={Stat.getStatUnit(statKey) === \"%\"}\r\n              defaultValue={statKey === \"stamina\" ? 100 : undefined}\r\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n            />\r\n          </Grid>)}\r\n      </Grid>}\r\n    />\r\n    <StatDisplayCard\r\n      title=\"Misc Stats\"\r\n      content={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {miscStatkeys.map(statKey => <Grid item {...statBreakpoint} key={statKey} ><StatDisplay statKey={statKey} {...displayNewBuildProps} /></Grid>)}\r\n      </Grid>}\r\n      editContent={<Grid container columnSpacing={2} rowSpacing={1}>\r\n        {miscStatkeys.map(statKey =>\r\n          <Grid item xs={12} lg={6} key={statKey}>\r\n            <StatInput\r\n              name={<span>{StatIcon[statKey]} {Stat.getStatName(statKey)}</span>}\r\n              placeholder={Stat.getStatNameRaw(statKey)}\r\n              value={character.bonusStats[statKey] ?? 0}\r\n              percent={Stat.getStatUnit(statKey) === \"%\"}\r\n              onValueChange={value => characterDispatch({ type: \"editStats\", statKey, value })}\r\n            />\r\n          </Grid>)}\r\n      </Grid>}\r\n    />\r\n  </>\r\n}\r\nfunction StatDisplayCard({ title, content, editContent }) {\r\n  const [edit, setedit] = useState(false)\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Box display=\"flex\" justifyContent=\"space-between\">\r\n        <Typography variant=\"subtitle1\">{title}</Typography>\r\n        <Button size=\"small\" color={edit ? \"error\" : \"info\"} onClick={() => setedit(!edit)} >\r\n          <span><FontAwesomeIcon icon={edit ? faSave : faEdit} /> {edit ? EXIT : EDIT}</span>\r\n        </Button>\r\n      </Box>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      {edit ? editContent : content}\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\nfunction TeamBuffDisplay({ character }: { character: ICachedCharacter }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  if (!Object.keys(build.partyBuff).length) return null\r\n  return <CardLight>\r\n    <CardContent>\r\n      Team Buffs\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container columnSpacing={2} rowSpacing={1}>\r\n        {Object.entries(build.partyBuff).map(([statKey, value]) => <Grid item {...statBreakpoint} key={statKey} >\r\n          <StatDisplay character={character} newBuild={newBuild} equippedBuild={equippedBuild} statKey={statKey} partyBuff />\r\n        </Grid>)}\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Box, CardActionArea, CardContent, Divider, Grid, MenuItem, Typography } from \"@mui/material\";\r\nimport React, { useCallback, useContext, useState } from 'react';\r\nimport { buildContext } from \"../../Build/Build\";\r\nimport BootstrapTooltip from \"../../Components/BootstrapTooltip\";\r\nimport CardDark from \"../../Components/Card/CardDark\";\r\nimport CardLight from \"../../Components/Card/CardLight\";\r\nimport ColorText from \"../../Components/ColoredText\";\r\nimport ConditionalWrapper from \"../../Components/ConditionalWrapper\";\r\nimport DocumentDisplay from \"../../Components/DocumentDisplay\";\r\nimport DropdownButton from \"../../Components/DropdownMenu/DropdownButton\";\r\nimport StatIcon from \"../../Components/StatIcon\";\r\nimport useCharacterReducer from \"../../ReactHooks/useCharacterReducer\";\r\nimport Stat from \"../../Stat\";\r\nimport { ElementToReactionKeys } from \"../../StatData\";\r\nimport { ICachedCharacter, TalentSheetElementKey } from \"../../Types/character\";\r\nimport CharacterSheet from \"../CharacterSheet\";\r\ntype CharacterTalentPaneProps = {\r\n  characterSheet: CharacterSheet,\r\n  character: ICachedCharacter,\r\n}\r\nexport default function CharacterTalentPane({ characterSheet, character, character: { ascension, constellation, key: characterKey } }: CharacterTalentPaneProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const skillBurstList = [[\"auto\", \"Normal/Charged Attack\"], [\"skill\", \"Elemental Skill\"], [\"burst\", \"Elemental Burst\"]] as [TalentSheetElementKey, string][]\r\n  const passivesList: [tKey: TalentSheetElementKey, tText: string, asc: number][] = [[\"passive1\", \"Unlocked at Ascension 1\", 1], [\"passive2\", \"Unlocked at Ascension 4\", 4], [\"passive3\", \"Unlocked by Default\", 0]]\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  return <>\r\n    <ReactionDisplay characterSheet={characterSheet} />\r\n    <Grid container spacing={1} sx={{ mb: 1 }}>\r\n      {/* auto, skill, burst */}\r\n      {skillBurstList.map(([tKey, tText]) =>\r\n        <Grid item key={tKey} xs={12} md={6} lg={4} >\r\n          <SkillDisplayCard\r\n            characterSheet={characterSheet}\r\n            character={character}\r\n            characterDispatch={characterDispatch}\r\n            talentKey={tKey}\r\n            subtitle={tText}\r\n          />\r\n        </Grid>)}\r\n      {!!characterSheet.getTalentOfKey(\"sprint\", build?.characterEle) && <Grid item xs={12} md={6} lg={4} >\r\n        <SkillDisplayCard\r\n          characterSheet={characterSheet}\r\n          character={character}\r\n          characterDispatch={characterDispatch}\r\n          talentKey=\"sprint\"\r\n          subtitle=\"Alternative Sprint\"\r\n        />\r\n      </Grid>}\r\n      {!!characterSheet.getTalentOfKey(\"passive\", build?.characterEle) && <Grid item xs={12} md={6} lg={4} >\r\n        <SkillDisplayCard\r\n          characterSheet={characterSheet}\r\n          character={character}\r\n          characterDispatch={characterDispatch}\r\n          talentKey=\"passive\"\r\n          subtitle=\"Passive\"\r\n        />\r\n      </Grid>}\r\n    </Grid>\r\n    <Grid container spacing={1}>\r\n      {/* passives */}\r\n      {passivesList.map(([tKey, tText, asc]) => {\r\n        let enabled = ascension >= asc\r\n        if (!characterSheet.getTalentOfKey(tKey, build?.characterEle)) return null\r\n        return <Grid item key={tKey} style={{ opacity: enabled ? 1 : 0.5 }} xs={12} md={4} >\r\n          <SkillDisplayCard\r\n            characterSheet={characterSheet}\r\n            character={character}\r\n            characterDispatch={characterDispatch}\r\n            talentKey={tKey}\r\n            subtitle={tText}\r\n          />\r\n        </Grid>\r\n      })}\r\n    </Grid>\r\n    <Typography variant=\"h6\" sx={{ textAlign: \"center\" }}>Constellation Lv. {constellation}</Typography>\r\n    <Grid container spacing={1}>\r\n      {/* constellations */}\r\n      {[...Array(6).keys()].map(i => {\r\n        let tKey = `constellation${i + 1}` as TalentSheetElementKey\r\n        return <Grid item key={i} xs={12} md={4}\r\n          sx={{ opacity: constellation > i ? 1 : 0.5 }}>\r\n          <SkillDisplayCard\r\n            characterSheet={characterSheet}\r\n            character={character}\r\n            characterDispatch={characterDispatch}\r\n            talentKey={tKey}\r\n            subtitle={`Contellation Lv. ${i + 1}`}\r\n            onClickTitle={() => characterDispatch({ constellation: (i + 1) === constellation ? i : i + 1 })}\r\n          />\r\n        </Grid>\r\n      })}\r\n    </Grid>\r\n  </>\r\n}\r\nconst ReactionComponents = {\r\n  superconduct_hit: SuperConductCard,\r\n  electrocharged_hit: ElectroChargedCard,\r\n  overloaded_hit: OverloadedCard,\r\n  pyro_swirl_hit: SwirlCard,\r\n  cryo_swirl_hit: SwirlCard,\r\n  electro_swirl_hit: SwirlCard,\r\n  hydro_swirl_hit: SwirlCard,\r\n  shattered_hit: ShatteredCard,\r\n  crystalize_hit: CrystalizeCard,\r\n}\r\nfunction ReactionDisplay({ characterSheet }: { characterSheet: CharacterSheet }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = newBuild ? newBuild : equippedBuild\r\n  if (!build) return null\r\n  const charEleKey = build.characterEle\r\n  const eleInterArr = [...(ElementToReactionKeys[charEleKey] || [])]\r\n  if (!eleInterArr.includes(\"shattered_hit\") && characterSheet.weaponTypeKey === \"claymore\") eleInterArr.push(\"shattered_hit\")\r\n  return <CardLight sx={{ mb: 1 }}>\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        {eleInterArr.map(key => {\r\n          const Ele = ReactionComponents[key]\r\n          if (!Ele) return null\r\n          return <Grid item key={key}><Ele stats={build} /></Grid>\r\n        })}\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\nfunction SuperConductCard({ stats }) {\r\n  const sKey = \"superconduct_hit\"\r\n  return <CardDark><CardContent sx={{ p: 1 }}>\r\n    <Typography color=\"superconduct.main\">{Stat.getStatName(sKey)} {StatIcon.electro}+{StatIcon.cryo} <strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Typography>\r\n  </CardContent></CardDark>\r\n}\r\nfunction ElectroChargedCard({ stats }) {\r\n  const sKey = \"electrocharged_hit\"\r\n  return <CardDark><CardContent sx={{ p: 1 }}>\r\n    <Typography color=\"electrocharged.main\">{Stat.getStatName(sKey)} {StatIcon.electro}+{StatIcon.hydro} <strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Typography>\r\n  </CardContent></CardDark>\r\n}\r\nfunction OverloadedCard({ stats }) {\r\n  const sKey = \"overloaded_hit\"\r\n  return <CardDark><CardContent sx={{ p: 1 }}>\r\n    <Typography color=\"overloaded.main\" >{Stat.getStatName(sKey)} {StatIcon.electro}+{StatIcon.pyro} <strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Typography>\r\n  </CardContent></CardDark>\r\n}\r\n\r\nconst swirlEleToDisplay = {\r\n  \"pyro\": <span>{Stat.getStatName(\"pyro_swirl_hit\")} {StatIcon.pyro} + {StatIcon.anemo}</span>,\r\n  \"electro\": <span>{Stat.getStatName(\"electro_swirl_hit\")} {StatIcon.electro}+{StatIcon.anemo}</span>,\r\n  \"cryo\": <span>{Stat.getStatName(\"cryo_swirl_hit\")} {StatIcon.cryo} + {StatIcon.anemo}</span>,\r\n  \"hydro\": <span>{Stat.getStatName(\"hydro_swirl_hit\")} {StatIcon.hydro} + {StatIcon.anemo}</span>\r\n} as const\r\nfunction SwirlCard({ stats }) {\r\n  const [ele, setele] = useState(Object.keys(swirlEleToDisplay)[0])\r\n  const sKey = `${ele}_swirl_hit`\r\n  return <CardDark sx={{ display: \"flex\" }}>\r\n    <DropdownButton size=\"small\" title={swirlEleToDisplay[ele]} color=\"success\">\r\n      {Object.entries(swirlEleToDisplay).map(([key, element]) => <MenuItem key={key} selected={ele === key} disabled={ele === key} onClick={() => setele(key)}>{element}</MenuItem>)}\r\n    </DropdownButton>\r\n    <Box sx={{ color: `${ele}.main`, p: 1 }}><strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Box>\r\n  </CardDark>\r\n}\r\nfunction ShatteredCard({ stats }) {\r\n  const sKey = \"shattered_hit\"\r\n  const information = <BootstrapTooltip placement=\"top\" title={<Typography>Claymores, Plunging Attacks and <ColorText color=\"geo\">Geo DMG</ColorText></Typography>}>\r\n    <Box component=\"span\" sx={{ cursor: \"help\" }}><FontAwesomeIcon icon={faQuestionCircle} /></Box>\r\n  </BootstrapTooltip>\r\n\r\n  return <CardDark><CardContent sx={{ p: 1 }}>\r\n    <ColorText color=\"shattered\">{Stat.getStatName(sKey)} {StatIcon.hydro}+{StatIcon.cryo}+ <ColorText color=\"physical\"><small>Heavy Attack{information} </small></ColorText> <strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></ColorText>\r\n  </CardContent></CardDark>\r\n}\r\nconst crystalizeEleToDisplay = {\r\n  \"default\": <ColorText color=\"crystalize\">{Stat.getStatName(\"crystalize_hit\")} {StatIcon.electro}/{StatIcon.hydro}/{StatIcon.pyro}/{StatIcon.cryo}+{StatIcon.geo}</ColorText>,\r\n  \"pyro\": <span>{Stat.getStatName(\"pyro_crystalize_hit\")} {StatIcon.pyro}+{StatIcon.geo}</span>,\r\n  \"electro\": <span>{Stat.getStatName(\"electro_crystalize_hit\")} {StatIcon.electro}+{StatIcon.geo}</span>,\r\n  \"cryo\": <span>{Stat.getStatName(\"cryo_crystalize_hit\")} {StatIcon.cryo}+{StatIcon.geo}</span>,\r\n  \"hydro\": <span>{Stat.getStatName(\"hydro_crystalize_hit\")} {StatIcon.hydro}+{StatIcon.geo}</span>\r\n} as const\r\nfunction CrystalizeCard({ stats }) {\r\n  const [ele, setele] = useState(Object.keys(crystalizeEleToDisplay)[0])\r\n  const sKey = ele === \"default\" ? \"crystalize_hit\" : `${ele}_crystalize_hit`\r\n  return <CardDark sx={{ display: \"flex\" }}>\r\n    <DropdownButton size=\"small\" title={crystalizeEleToDisplay[ele]} color=\"success\">\r\n      {Object.entries(crystalizeEleToDisplay).map(([key, element]) => <MenuItem key={key} selected={ele === key} disabled={ele === key} onClick={() => setele(key)}>{element}</MenuItem>)}\r\n    </DropdownButton>\r\n    <Box sx={{ color: `${ele}.main`, p: 1 }}><strong>{stats[sKey]?.toFixed(Stat.fixedUnit(sKey))}</strong></Box>\r\n  </CardDark>\r\n}\r\n\r\nconst talentLimits = [1, 1, 2, 4, 6, 8, 10]\r\ntype SkillDisplayCardProps = {\r\n  characterSheet: CharacterSheet\r\n  character: ICachedCharacter,\r\n  characterDispatch: (any) => void,\r\n  talentKey: TalentSheetElementKey,\r\n  subtitle: string,\r\n  onClickTitle?: (any) => any\r\n}\r\nfunction SkillDisplayCard({ characterSheet, character: { talent, ascension, key: characterKey }, characterDispatch, talentKey, subtitle, onClickTitle }: SkillDisplayCardProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  let build = newBuild ? newBuild : equippedBuild\r\n\r\n  const actionWrapeprFunc = useCallback(\r\n    children => <CardActionArea onClick={onClickTitle}>{children}</CardActionArea>,\r\n    [onClickTitle],\r\n  )\r\n\r\n  if (!build) return null\r\n  let header: Displayable | null = null\r\n\r\n  if (talentKey in talent) {\r\n    const levelBoost: number = build[`${talentKey}Boost`] ?? 0\r\n    const talentLvlKey = talent[talentKey] + levelBoost\r\n    const setTalentLevel = (tKey, newTalentLevelKey) => {\r\n      talent[tKey] = newTalentLevelKey\r\n      characterDispatch({ talent })\r\n    }\r\n    header = <>\r\n      <CardContent sx={{ py: 1 }}>\r\n        <DropdownButton fullWidth title={`Talent Lv. ${talentLvlKey}`} color={levelBoost ? \"info\" : \"primary\"}>\r\n          {[...Array(talentLimits[ascension]).keys()].map(i =>\r\n            <MenuItem key={i} selected={talent[talentKey] === (i + 1)} disabled={talent[talentKey] === (i + 1)} onClick={() => setTalentLevel(talentKey, i + 1)}>Talent Lv. {i + levelBoost + 1}</MenuItem>)}\r\n        </DropdownButton>\r\n      </CardContent>\r\n      <Divider />\r\n    </>\r\n  }\r\n  const talentSheet = characterSheet.getTalentOfKey(talentKey, build.characterEle)\r\n\r\n  return <CardLight sx={{ height: \"100%\" }}>\r\n    {header}\r\n    <CardContent>\r\n      <ConditionalWrapper condition={!!onClickTitle} wrapper={actionWrapeprFunc} >\r\n        <Grid container sx={{ flexWrap: \"nowrap\" }}>\r\n          <Grid item>\r\n            <Box component=\"img\" src={talentSheet?.img} sx={{ width: 60, height: \"auto\" }} />\r\n          </Grid>\r\n          <Grid item flexGrow={1} sx={{ pl: 1 }}>\r\n            <Typography variant=\"h6\">{talentSheet?.name}</Typography>\r\n            <Typography variant=\"subtitle1\">{subtitle}</Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </ConditionalWrapper>\r\n      {/* Display document sections */}\r\n      {talentSheet?.sections ? <DocumentDisplay sections={talentSheet.sections} characterKey={characterKey} /> : null}\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n","import { PersonAdd } from \"@mui/icons-material\";\r\nimport { CardContent, CardHeader, Divider, Grid } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useContext } from 'react';\r\nimport { buildContext } from \"../../Build/Build\";\r\nimport CardDark from \"../../Components/Card/CardDark\";\r\nimport CardLight from \"../../Components/Card/CardLight\";\r\nimport CharacterDropdownButton from \"../../Components/Character/CharacterDropdownButton\";\r\nimport ConditionalDisplay from \"../../Components/ConditionalDisplay\";\r\nimport StatDisplay from \"../../Components/StatDisplay\";\r\nimport Conditional from \"../../Conditional/Conditional\";\r\nimport resonanceSheets from \"../../Conditional/Resonance\";\r\nimport useCharacterReducer from \"../../ReactHooks/useCharacterReducer\";\r\nimport useCharSelectionCallback from \"../../ReactHooks/useCharSelectionCallback\";\r\nimport useSheets, { Sheets } from \"../../ReactHooks/useSheets\";\r\nimport { ICachedCharacter } from \"../../Types/character\";\r\nimport { CharacterKey } from \"../../Types/consts\";\r\nimport { ICalculatedStats } from \"../../Types/stats\";\r\nimport CharacterCard from \"../CharacterCard\";\r\nimport CharacterSheet from \"../CharacterSheet\";\r\ntype CharacterTalentPaneProps = {\r\n  characterSheet: CharacterSheet,\r\n  character: ICachedCharacter,\r\n}\r\nexport default function CharacterTeamBuffsPane({ character, character: { key: characterKey, team } }: CharacterTalentPaneProps) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  const sheets = useSheets()\r\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1} alignItems=\"stretch\">\r\n    <TeamBuffDisplay character={character} />\r\n    <ResonanceDisplay characterKey={characterKey} build={build} />\r\n    <Grid container spacing={1}>\r\n      {sheets && build.teamStats.map((tStats, i) => <Grid item xs={12} md={6} lg={4} key={i}>\r\n        <TeammateDisplay character={character} sheets={sheets} index={i} />\r\n      </Grid>)}\r\n    </Grid>\r\n  </Box>\r\n}\r\nconst statBreakpoint = {\r\n  xs: 12, sm: 6, md: 6, lg: 4,\r\n} as const\r\nfunction TeamBuffDisplay({ character }: { character: ICachedCharacter }) {\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const build = (newBuild ? newBuild : equippedBuild) as ICalculatedStats\r\n  if (!Object.keys(build.partyBuff).length) return null\r\n  return <CardLight>\r\n    <CardContent>\r\n      Team Buffs\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container columnSpacing={2} rowSpacing={1}>\r\n        {Object.entries(build.partyBuff).map(([statKey, value]) => <Grid item {...statBreakpoint} key={statKey} >\r\n          <StatDisplay character={character} newBuild={newBuild} equippedBuild={equippedBuild} statKey={statKey} partyBuff />\r\n        </Grid>)}\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\nfunction ResonanceDisplay({ build, characterKey }: { build: ICalculatedStats, characterKey: CharacterKey }) {\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  return <CardLight>\r\n    <CardContent>\r\n      Team Resonance\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container spacing={1}>\r\n        {resonanceSheets.map((doc, i) =>\r\n          <Grid item key={i} xs={12} md={6} lg={4} >\r\n            <CardDark sx={{ opacity: doc.canShow(build) ? 1 : 0.5, height: \"100%\" }}>\r\n              <CardHeader avatar={doc?.header?.icon} title={doc?.header?.title} action={doc?.header?.action} titleTypographyProps={{ variant: \"subtitle2\" }} />\r\n              <Divider />\r\n              <CardContent>\r\n                {doc.description}\r\n              </CardContent>\r\n              {doc.conditionals.map(cond =>\r\n                <ConditionalDisplay key={cond.key} conditional={cond} stats={build} onChange={val => characterDispatch({ conditionalValues: val })} />\r\n              )}\r\n            </CardDark>\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\nfunction TeammateDisplay({ character, character: { key: characterKey, team }, sheets, index }:\r\n  { character: ICachedCharacter, sheets: Sheets, index: number }) {\r\n  const onClickHandler = useCharSelectionCallback()\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const { newBuild, equippedBuild } = useContext(buildContext)\r\n  const condCharStats = equippedBuild?.teamStats[index]\r\n  return <buildContext.Provider value={{ equippedBuild: equippedBuild?.teamStats[index] ?? undefined, newBuild: newBuild?.teamStats[index] ?? undefined }}>\r\n    <CardLight>\r\n      <CardContent>\r\n        <CharacterDropdownButton fullWidth value={condCharStats?.characterKey ?? \"\"}\r\n          onChange={charKey => characterDispatch({ type: \"team\", index, charKey })}\r\n          filter={(_, ck) => ck !== characterKey && !team.includes(ck)} unSelectText={`Teammate ${index + 1}`} unSelectIcon={<PersonAdd />} />\r\n      </CardContent>\r\n      {condCharStats && <CharacterCard characterKey={condCharStats.characterKey}\r\n        onClickHeader={onClickHandler}\r\n        build={condCharStats}\r\n        artifactChildren={<CharArtifactCondDisplay condCharStats={condCharStats} />}\r\n        weaponChildren={<CharWeaponCondDisplay condCharStats={condCharStats} />}\r\n        footer={sheets && character && <CharTalentCondDisplay condCharStats={condCharStats} character={character} sheets={sheets} />} />}\r\n    </CardLight>\r\n  </buildContext.Provider>\r\n}\r\nfunction CharArtifactCondDisplay({ condCharStats }: { condCharStats: ICalculatedStats }) {\r\n  const characterDispatch = useCharacterReducer(condCharStats.characterKey)\r\n  return <Box >\r\n    {Object.entries(condCharStats.setToSlots).map(([artSetKey, slotkeys]) =>\r\n      Object.entries(Conditional.partyConditionals?.artifact?.[artSetKey] ?? {})\r\n        .filter(([setNum, conds]) => parseInt(setNum) <= slotkeys.length)\r\n        .flatMap(([setNum, conds]) => Object.entries(conds).map(([condKey, c]) =>\r\n          <ConditionalDisplay key={c.key} conditional={c} stats={condCharStats} onChange={val => characterDispatch({ conditionalValues: val })} />\r\n        )))}\r\n  </Box>\r\n}\r\nfunction CharWeaponCondDisplay({ condCharStats }: { condCharStats: ICalculatedStats }) {\r\n  const characterDispatch = useCharacterReducer(condCharStats.characterKey)\r\n  return <Box >{Object.entries(Conditional.partyConditionals?.weapon?.[condCharStats.weapon.key] ?? {}).map(([condKey, cond]) =>\r\n    <ConditionalDisplay key={cond.key} conditional={cond} stats={condCharStats} onChange={val => characterDispatch({ conditionalValues: val })} />\r\n  )}</Box>\r\n}\r\nfunction CharTalentCondDisplay({ character, condCharStats, sheets }:\r\n  { character: ICachedCharacter, condCharStats: ICalculatedStats, sheets: Sheets }) {\r\n  // Edit the Teammate's ConditionalValues\r\n  const characterDispatch = useCharacterReducer(condCharStats.characterKey)\r\n  const condCharKey = condCharStats.characterKey\r\n  const condCharKeyHashed = condCharKey === \"Traveler\" ? `Traveler_${condCharStats.characterEle}` : condCharKey\r\n\r\n  const charConds = Object.entries(Conditional.partyConditionals?.character?.[condCharKeyHashed] ?? {}).filter(([cKey, conditional]) =>\r\n    Conditional.canShow(conditional, condCharStats))\r\n  return <CardContent sx={{ display: \"flex\", flexDirection: \"column\", gap: 1, pt: 0 }} >\r\n    {charConds.map(([condKey, cond]) =>\r\n      <ConditionalDisplay key={condKey} conditional={cond} stats={condCharStats} onChange={val => characterDispatch({ conditionalValues: val })} />\r\n    )}\r\n  </CardContent>\r\n}","import { Button, ButtonGroup, Card, CardContent, Divider, Grid, MenuItem, Skeleton, Tab, Tabs, Typography } from '@mui/material';\r\nimport { Suspense, useCallback, useContext, useEffect, useMemo, useState } from 'react';\r\nimport { buildContext } from '../Build/Build';\r\nimport CardDark from '../Components/Card/CardDark';\r\nimport CardLight from '../Components/Card/CardLight';\r\nimport { CharacterSelectionModal } from '../Components/Character/CharacterSelectionModal';\r\nimport ThumbSide from '../Components/Character/ThumbSide';\r\nimport CloseButton from '../Components/CloseButton';\r\nimport ColorText from '../Components/ColoredText';\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from '../Components/CustomNumberInput';\r\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton';\r\nimport { EnemyExpandCard } from '../Components/EnemyEditor';\r\nimport FormulaCalcCard from '../Components/FormulaCalcCard';\r\nimport { DamageOptionsCard } from '../Components/HitModeEditor';\r\nimport ImgIcon from '../Components/Image/ImgIcon';\r\nimport { sgt } from '../Data/Characters/SheetUtil';\r\nimport { ambiguousLevel, ascensionMaxLevel, milestoneLevels } from '../Data/LevelData';\r\nimport { DatabaseContext } from '../Database/Database';\r\nimport useCharacter from '../ReactHooks/useCharacter';\r\nimport useCharacterReducer from '../ReactHooks/useCharacterReducer';\r\nimport useCharSelectionCallback from '../ReactHooks/useCharSelectionCallback';\r\nimport useForceUpdate from '../ReactHooks/useForceUpdate';\r\nimport useSheets from '../ReactHooks/useSheets';\r\nimport { ICachedCharacter } from '../Types/character';\r\nimport { CharacterKey } from '../Types/consts';\r\nimport { ICalculatedStats } from '../Types/stats';\r\nimport { deepCloneStats } from '../Util/StatUtil';\r\nimport { clamp } from '../Util/Util';\r\nimport { defaultInitialWeapon } from '../Weapon/WeaponUtil';\r\nimport Character from './Character';\r\nimport CharacterArtifactPane from './CharacterDisplay/CharacterArtifactPane';\r\nimport CharacterOverviewPane from './CharacterDisplay/CharacterOverviewPane';\r\nimport CharacterTalentPane from './CharacterDisplay/CharacterTalentPane';\r\nimport CharacterTeamBuffsPane from './CharacterDisplay/CharacterTeamBuffsPane';\r\nimport CharacterSheet from './CharacterSheet';\r\nimport { initialCharacter } from './CharacterUtil';\r\n\r\ninterface TabPanelProps {\r\n  children?: React.ReactNode;\r\n  value: string;\r\n  current: string | boolean;\r\n}\r\n\r\nfunction TabPanel({ children, current, value, ...other }: TabPanelProps) {\r\n  if (value !== current) return null\r\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" width=\"100%\" height={1000} />}>\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== current}\r\n      id={`simple-tabpanel-${value}`}\r\n      aria-labelledby={`simple-tab-${value}`}\r\n      {...other}\r\n    >\r\n      {children}\r\n    </div>\r\n  </Suspense>\r\n}\r\n\r\ntype CharacterDisplayCardProps = {\r\n  characterKey: CharacterKey,\r\n  footer?: JSX.Element\r\n  newBuild?: ICalculatedStats,\r\n  onClose?: (any) => void,\r\n  tabName?: string,\r\n  isFlex?: boolean,\r\n  compareBuild?: boolean\r\n}\r\nexport default function CharacterDisplayCard({ characterKey, footer, newBuild: propNewBuild, onClose, tabName, isFlex, compareBuild: propCompareBuild }: CharacterDisplayCardProps) {\r\n  const database = useContext(DatabaseContext)\r\n  const [compareBuild, setCompareBuild] = useState(propCompareBuild ?? false)\r\n  const character = useCharacter(characterKey)\r\n  const [dbDirty, setDbDirty] = useForceUpdate()\r\n\r\n  useEffect(() => {\r\n    typeof propCompareBuild === \"boolean\" && setCompareBuild(propCompareBuild)\r\n  }, [propCompareBuild, setCompareBuild])\r\n\r\n  const sheets = useSheets()\r\n  //follow updates from team\r\n  const [teammate1, teammate2, teammate3] = character?.team ?? []\r\n  useEffect(() =>\r\n    teammate1 ? database.followChar(teammate1, setDbDirty) : undefined,\r\n    [teammate1, setDbDirty, database])\r\n  useEffect(() =>\r\n    teammate2 ? database.followChar(teammate2, setDbDirty) : undefined,\r\n    [teammate2, setDbDirty, database])\r\n  useEffect(() =>\r\n    teammate3 ? database.followChar(teammate3, setDbDirty) : undefined,\r\n    [teammate3, setDbDirty, database])\r\n\r\n  useEffect(() => {\r\n    if (!characterKey) return\r\n    if (database._getChar(characterKey)) return\r\n    // Create a new character + weapon, with linking if char isnt in db.\r\n    (async () => {\r\n      const newChar = initialCharacter(characterKey)\r\n      database.updateChar(newChar)\r\n      const characterSheet = await CharacterSheet.get(characterKey)\r\n      if (!characterSheet) return\r\n      const weapon = defaultInitialWeapon(characterSheet.weaponTypeKey)\r\n      const weaponId = database.createWeapon(weapon)\r\n      database.setWeaponLocation(weaponId, characterKey)\r\n    })()\r\n  }, [database, characterKey])\r\n\r\n\r\n  const characterSheet = sheets?.characterSheets?.[characterKey ?? \"\"]\r\n\r\n  useEffect(() => character && database.followWeapon(character.equippedWeapon, setDbDirty),\r\n    [character, character?.equippedWeapon, setDbDirty, database])\r\n\r\n  const newBuild = useMemo(() => {\r\n    if (!propNewBuild) return undefined\r\n    return deepCloneStats(propNewBuild)\r\n  }, [propNewBuild])\r\n\r\n  // set initial state to false, because it fails to check validity of the tab values on 1st load\r\n  const [tab, settab] = useState<string | boolean>(tabName ? tabName : (newBuild ? \"newartifacts\" : \"character\"))\r\n\r\n  const onTab = useCallback((e, v) => settab(v), [settab])\r\n\r\n  const mainStatAssumptionLevel = newBuild?.mainStatAssumptionLevel ?? 0\r\n  const equippedBuild = useMemo(() => character && dbDirty && sheets &&\r\n    Character.calculateBuild(character, database, sheets, mainStatAssumptionLevel),\r\n    [dbDirty, character, sheets, mainStatAssumptionLevel, database])\r\n  if (!character) return <></>\r\n  // main CharacterDisplayCard\r\n  return <CardDark >\r\n    <buildContext.Provider value={{ newBuild, equippedBuild, compareBuild, setCompareBuild }}>\r\n      <CardContent sx={{\r\n        \"> div:not(:last-child)\": { mb: 1 },\r\n      }}>\r\n        <Grid container spacing={1}>\r\n          <Grid item flexGrow={1}>\r\n            <CharSelectDropdown characterSheet={characterSheet} character={character} />\r\n          </Grid>\r\n          {!!mainStatAssumptionLevel && <Grid item><Card sx={{ p: 1, bgcolor: t => t.palette.warning.dark }}><Typography><strong>Assume Main Stats are Level {mainStatAssumptionLevel}</strong></Typography></Card></Grid>}\r\n          {!!onClose && <Grid item>\r\n            <CloseButton onClick={onClose} />\r\n          </Grid>}\r\n        </Grid>\r\n        <CardLight>\r\n          <Tabs\r\n            onChange={onTab}\r\n            value={tab}\r\n            variant=\"fullWidth\"\r\n          >\r\n            <Tab value=\"character\" label=\"Character\" />\r\n            {!!newBuild && <Tab value=\"newartifacts\" label=\"New Artifacts\" />}\r\n            <Tab value=\"artifacts\" label={newBuild ? \"Current Artifacts\" : \"Artifacts\"} />\r\n            {!isFlex && <Tab value=\"buffs\" label=\"Team Buffs\" />}\r\n            <Tab value=\"talent\" label=\"Talents\" />\r\n          </Tabs>\r\n        </CardLight>\r\n        <DamageOptionsCard character={character} />\r\n        {sheets && <FormulaCalcCard sheets={sheets} />}\r\n        <EnemyExpandCard character={character} />\r\n\r\n        {/* Character Panel */}\r\n        {characterSheet && <TabPanel value=\"character\" current={tab}>\r\n          <CharacterOverviewPane characterSheet={characterSheet} character={character} />\r\n        </TabPanel >}\r\n        {/* Artifacts Panel */}\r\n        {sheets && <buildContext.Provider value={{ newBuild: undefined, equippedBuild, compareBuild, setCompareBuild }}>\r\n          <TabPanel value=\"artifacts\" current={tab} >\r\n            <CharacterArtifactPane character={character} sheets={sheets} />\r\n          </TabPanel >\r\n        </buildContext.Provider>}\r\n        {/* new build panel */}\r\n        {newBuild && sheets && <TabPanel value=\"newartifacts\" current={tab} >\r\n          <CharacterArtifactPane character={character} sheets={sheets} />\r\n        </TabPanel >}\r\n        {/* Buffs panel */}\r\n        {characterSheet && <TabPanel value=\"buffs\" current={tab}>\r\n          <CharacterTeamBuffsPane characterSheet={characterSheet} character={character} />\r\n        </TabPanel >}\r\n        {/* talent panel */}\r\n        {characterSheet && <TabPanel value=\"talent\" current={tab}>\r\n          <CharacterTalentPane characterSheet={characterSheet} character={character} />\r\n        </TabPanel >}\r\n      </CardContent>\r\n      {!!footer && <Divider />}\r\n      {footer && <CardContent >\r\n        {footer}\r\n      </CardContent>}\r\n    </buildContext.Provider>\r\n  </CardDark>\r\n}\r\n\r\ntype CharSelectDropdownProps = {\r\n  characterSheet?: CharacterSheet,\r\n  character: ICachedCharacter\r\n  disabled?: boolean\r\n}\r\nfunction CharSelectDropdown({ characterSheet, character, character: { key: characterKey, elementKey = \"anemo\", level = 1, ascension = 0 }, disabled }: CharSelectDropdownProps) {\r\n  const [showModal, setshowModal] = useState(false)\r\n  const setCharacter = useCharSelectionCallback()\r\n  const characterDispatch = useCharacterReducer(characterKey)\r\n  const HeaderIconDisplay = characterSheet ? <span >\r\n    <ImgIcon src={characterSheet.thumbImg} sx={{ mr: 1 }} />\r\n    {characterSheet.name}\r\n  </span> : <span>Select a Character</span>\r\n  const setLevel = useCallback((level) => {\r\n    level = clamp(level, 1, 90)\r\n    const ascension = ascensionMaxLevel.findIndex(ascenML => level <= ascenML)\r\n    characterDispatch({ level, ascension })\r\n  }, [characterDispatch])\r\n  const setAscension = useCallback(() => {\r\n    const lowerAscension = ascensionMaxLevel.findIndex(ascenML => level !== 90 && level === ascenML)\r\n    if (ascension === lowerAscension) characterDispatch({ ascension: ascension + 1 })\r\n    else characterDispatch({ ascension: lowerAscension })\r\n  }, [characterDispatch, ascension, level])\r\n  return <>{!disabled ? <>\r\n    <CharacterSelectionModal show={showModal} onHide={() => setshowModal(false)} onSelect={setCharacter} />\r\n    <Grid container spacing={1}>\r\n      <Grid item>\r\n        <Button onClick={() => setshowModal(true)} startIcon={<ThumbSide src={characterSheet?.thumbImgSide} />} >{characterSheet?.name ?? \"Select a Character\"}</Button>\r\n      </Grid>\r\n      <Grid item>\r\n        <ButtonGroup sx={{ bgcolor: t => t.palette.contentDark.main }} >\r\n          {characterSheet?.sheet && \"talents\" in characterSheet?.sheet && <DropdownButton title={<strong><ColorText color={elementKey}>{sgt(`element.${elementKey}`)}</ColorText></strong>}>\r\n            {Object.keys(characterSheet.sheet.talents).map(eleKey =>\r\n              <MenuItem key={eleKey} selected={elementKey === eleKey} disabled={elementKey === eleKey} onClick={() => characterDispatch({ elementKey: eleKey })}>\r\n                <strong><ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText></strong></MenuItem>)}\r\n          </DropdownButton>}\r\n          <CustomNumberInputButtonGroupWrapper >\r\n            <CustomNumberInput onChange={setLevel} value={level}\r\n              startAdornment=\"Lvl. \"\r\n              inputProps={{ min: 1, max: 90, sx: { textAlign: \"center\" } }}\r\n              sx={{ width: \"100%\", height: \"100%\", pl: 2 }}\r\n              disabled={!characterSheet} />\r\n          </CustomNumberInputButtonGroupWrapper>\r\n          <Button sx={{ pl: 1 }} disabled={!ambiguousLevel(level) || !characterSheet} onClick={setAscension}><strong>/ {ascensionMaxLevel[ascension]}</strong></Button>\r\n          <DropdownButton title={\"Select Level\"} disabled={!characterSheet}>\r\n            {milestoneLevels.map(([lv, as]) => {\r\n              const sameLevel = lv === ascensionMaxLevel[as]\r\n              const lvlstr = sameLevel ? `Lv. ${lv}` : `Lv. ${lv}/${ascensionMaxLevel[as]}`\r\n              const selected = lv === level && as === ascension\r\n              return <MenuItem key={`${lv}/${as}`} selected={selected} disabled={selected} onClick={() => characterDispatch({ level: lv, ascension: as })}>{lvlstr}</MenuItem>\r\n            })}\r\n          </DropdownButton>\r\n        </ButtonGroup>\r\n      </Grid>\r\n    </Grid>\r\n  </> : <Typography variant=\"h6\">{HeaderIconDisplay} {characterSheet && Character.getLevelString(character)}</Typography>}</>\r\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCollapseUtilityClass(slot) {\n  return generateUtilityClass('MuiCollapse', slot);\n}\nconst collapseClasses = generateUtilityClasses('MuiCollapse', ['root', 'horizontal', 'vertical', 'entered', 'hidden', 'wrapper', 'wrapperInner']);\nexport default collapseClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"addEndListener\", \"children\", \"className\", \"collapsedSize\", \"component\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"orientation\", \"style\", \"timeout\", \"TransitionComponent\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { elementTypeAcceptingRef } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { duration } from '../styles/createTransitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nimport { getCollapseUtilityClass } from './collapseClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    orientation,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', `${orientation}`],\n    entered: ['entered'],\n    hidden: ['hidden'],\n    wrapper: ['wrapper', `${orientation}`],\n    wrapperInner: ['wrapperInner', `${orientation}`]\n  };\n  return composeClasses(slots, getCollapseUtilityClass, classes);\n};\n\nconst CollapseRoot = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.state === 'entered' && styles.entered, ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && styles.hidden];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  height: 0,\n  overflow: 'hidden',\n  transition: theme.transitions.create('height')\n}, ownerState.orientation === 'horizontal' && {\n  height: 'auto',\n  width: 0,\n  transition: theme.transitions.create('width')\n}, ownerState.state === 'entered' && _extends({\n  height: 'auto',\n  overflow: 'visible'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto'\n}), ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && {\n  visibility: 'hidden'\n}));\nconst CollapseWrapper = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Wrapper',\n  overridesResolver: (props, styles) => styles.wrapper\n})(({\n  ownerState\n}) => _extends({\n  // Hack to get children with a negative margin to not falsify the height computation.\n  display: 'flex',\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\nconst CollapseWrapperInner = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'WrapperInner',\n  overridesResolver: (props, styles) => styles.wrapperInner\n})(({\n  ownerState\n}) => _extends({\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nconst Collapse = /*#__PURE__*/React.forwardRef(function Collapse(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCollapse'\n  });\n\n  const {\n    addEndListener,\n    children,\n    className,\n    collapsedSize: collapsedSizeProp = '0px',\n    component,\n    easing,\n    in: inProp,\n    onEnter,\n    onEntered,\n    onEntering,\n    onExit,\n    onExited,\n    onExiting,\n    orientation = 'vertical',\n    style,\n    timeout = duration.standard,\n    // eslint-disable-next-line react/prop-types\n    TransitionComponent = Transition\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    orientation,\n    collapsedSize: collapsedSizeProp\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const theme = useTheme();\n  const timer = React.useRef();\n  const wrapperRef = React.useRef(null);\n  const autoTransitionDuration = React.useRef();\n  const collapsedSize = typeof collapsedSizeProp === 'number' ? `${collapsedSizeProp}px` : collapsedSizeProp;\n  const isHorizontal = orientation === 'horizontal';\n  const size = isHorizontal ? 'width' : 'height';\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  const nodeRef = React.useRef(null);\n  const handleRef = useForkRef(ref, nodeRef);\n\n  const normalizedTransitionCallback = callback => maybeIsAppearing => {\n    if (callback) {\n      const node = nodeRef.current; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n      if (maybeIsAppearing === undefined) {\n        callback(node);\n      } else {\n        callback(node, maybeIsAppearing);\n      }\n    }\n  };\n\n  const getWrapperSize = () => wrapperRef.current ? wrapperRef.current[isHorizontal ? 'clientWidth' : 'clientHeight'] : 0;\n\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    if (wrapperRef.current && isHorizontal) {\n      // Set absolute position to get the size of collapsed content\n      wrapperRef.current.style.position = 'absolute';\n    }\n\n    node.style[size] = collapsedSize;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntering = normalizedTransitionCallback((node, isAppearing) => {\n    const wrapperSize = getWrapperSize();\n\n    if (wrapperRef.current && isHorizontal) {\n      // After the size is read reset the position back to default\n      wrapperRef.current.style.position = '';\n    }\n\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'enter'\n    });\n\n    if (timeout === 'auto') {\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n\n    node.style[size] = `${wrapperSize}px`;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback((node, isAppearing) => {\n    node.style[size] = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  const handleExit = normalizedTransitionCallback(node => {\n    node.style[size] = `${getWrapperSize()}px`;\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(onExited);\n  const handleExiting = normalizedTransitionCallback(node => {\n    const wrapperSize = getWrapperSize();\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'exit'\n    });\n\n    if (timeout === 'auto') {\n      // TODO: rename getAutoHeightDuration to something more generic (width support)\n      // Actually it just calculates animation duration based on size\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n\n    node.style[size] = collapsedSize;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n\n  const handleAddEndListener = next => {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(nodeRef.current, next);\n    }\n  };\n\n  return /*#__PURE__*/_jsx(TransitionComponent, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    nodeRef: nodeRef,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other, {\n    children: (state, childProps) => /*#__PURE__*/_jsx(CollapseRoot, _extends({\n      as: component,\n      className: clsx(classes.root, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedSize === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        [isHorizontal ? 'minWidth' : 'minHeight']: collapsedSize\n      }, style),\n      ownerState: _extends({}, ownerState, {\n        state\n      }),\n      ref: handleRef\n    }, childProps, {\n      children: /*#__PURE__*/_jsx(CollapseWrapper, {\n        ownerState: _extends({}, ownerState, {\n          state\n        }),\n        className: classes.wrapper,\n        ref: wrapperRef,\n        children: /*#__PURE__*/_jsx(CollapseWrapperInner, {\n          ownerState: _extends({}, ownerState, {\n            state\n          }),\n          className: classes.wrapperInner,\n          children: children\n        })\n      })\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning DOM\n   * node and a done callback. Allows for more fine grained transition end\n   * logic. Note: Timeouts are still used as a fallback if provided.\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The width (horizontal) or height (vertical) of the container when collapsed.\n   * @default '0px'\n   */\n  collapsedSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n\n  /**\n   * The transition timing function.\n   * You may specify a single easing or a object containing enter and exit values.\n   */\n  easing: PropTypes.oneOfType([PropTypes.shape({\n    enter: PropTypes.string,\n    exit: PropTypes.string\n  }), PropTypes.string]),\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * The transition orientation.\n   * @default 'vertical'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   * @default duration.standard\n   */\n  timeout: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default Collapse;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"\n}), 'Lock');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"\n}), 'LockOpen');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getListItemUtilityClass(slot) {\n  return generateUtilityClass('MuiListItem', slot);\n}\nconst listItemClasses = generateUtilityClasses('MuiListItem', ['root', 'container', 'focusVisible', 'dense', 'alignItemsFlexStart', 'disabled', 'divider', 'gutters', 'padding', 'button', 'secondaryAction', 'selected']);\nexport default listItemClasses;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getListItemSecondaryActionClassesUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemSecondaryAction', slot);\n}\nconst listItemSecondaryActionClasses = generateUtilityClasses('MuiListItemSecondaryAction', ['root', 'disableGutters']);\nexport default listItemSecondaryActionClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ListContext from '../List/ListContext';\nimport { getListItemSecondaryActionClassesUtilityClass } from './listItemSecondaryActionClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    disableGutters,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', disableGutters && 'disableGutters']\n  };\n  return composeClasses(slots, getListItemSecondaryActionClassesUtilityClass, classes);\n};\n\nconst ListItemSecondaryActionRoot = styled('div', {\n  name: 'MuiListItemSecondaryAction',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.disableGutters && styles.disableGutters];\n  }\n})(({\n  ownerState\n}) => _extends({\n  position: 'absolute',\n  right: 16,\n  top: '50%',\n  transform: 'translateY(-50%)'\n}, ownerState.disableGutters && {\n  right: 0\n}));\n/**\n * Must be used as the last child of ListItem to function properly.\n */\n\nconst ListItemSecondaryAction = /*#__PURE__*/React.forwardRef(function ListItemSecondaryAction(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemSecondaryAction'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const context = React.useContext(ListContext);\n\n  const ownerState = _extends({}, props, {\n    disableGutters: context.disableGutters\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListItemSecondaryActionRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemSecondaryAction.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally an `IconButton` or selection control.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nListItemSecondaryAction.muiName = 'ListItemSecondaryAction';\nexport default ListItemSecondaryAction;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"],\n      _excluded2 = [\"alignItems\", \"autoFocus\", \"button\", \"children\", \"className\", \"component\", \"components\", \"componentsProps\", \"ContainerComponent\", \"ContainerProps\", \"dense\", \"disabled\", \"disableGutters\", \"disablePadding\", \"divider\", \"focusVisibleClassName\", \"secondaryAction\", \"selected\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses, isHostComponent } from '@mui/base';\nimport { chainPropTypes, elementTypeAcceptingRef } from '@mui/utils';\nimport { alpha } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport isMuiElement from '../utils/isMuiElement';\nimport useEnhancedEffect from '../utils/useEnhancedEffect';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport listItemClasses, { getListItemUtilityClass } from './listItemClasses';\nimport { listItemButtonClasses } from '../ListItemButton';\nimport ListItemSecondaryAction from '../ListItemSecondaryAction';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, ownerState.dense && styles.dense, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart, ownerState.divider && styles.divider, !ownerState.disableGutters && styles.gutters, !ownerState.disablePadding && styles.padding, ownerState.button && styles.button, ownerState.hasSecondaryAction && styles.secondaryAction];\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    button,\n    classes,\n    dense,\n    disabled,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction,\n    selected\n  } = ownerState;\n  const slots = {\n    root: ['root', dense && 'dense', !disableGutters && 'gutters', !disablePadding && 'padding', divider && 'divider', disabled && 'disabled', button && 'button', alignItems === 'flex-start' && 'alignItemsFlexStart', hasSecondaryAction && 'secondaryAction', selected && 'selected'],\n    container: ['container']\n  };\n  return composeClasses(slots, getListItemUtilityClass, classes);\n};\n\nexport const ListItemRoot = styled('div', {\n  name: 'MuiListItem',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  position: 'relative',\n  textDecoration: 'none',\n  width: '100%',\n  boxSizing: 'border-box',\n  textAlign: 'left'\n}, !ownerState.disablePadding && _extends({\n  paddingTop: 8,\n  paddingBottom: 8\n}, ownerState.dense && {\n  paddingTop: 4,\n  paddingBottom: 4\n}, !ownerState.disableGutters && {\n  paddingLeft: 16,\n  paddingRight: 16\n}, !!ownerState.secondaryAction && {\n  // Add some space to avoid collision as `ListItemSecondaryAction`\n  // is absolutely positioned.\n  paddingRight: 48\n}), !!ownerState.secondaryAction && {\n  [`& > .${listItemButtonClasses.root}`]: {\n    paddingRight: 48\n  }\n}, {\n  [`&.${listItemClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`&.${listItemClasses.selected}`]: {\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n    [`&.${listItemClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  },\n  [`&.${listItemClasses.disabled}`]: {\n    opacity: theme.palette.action.disabledOpacity\n  }\n}, ownerState.alignItems === 'flex-start' && {\n  alignItems: 'flex-start'\n}, ownerState.divider && {\n  borderBottom: `1px solid ${theme.palette.divider}`,\n  backgroundClip: 'padding-box'\n}, ownerState.button && {\n  transition: theme.transitions.create('background-color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  '&:hover': {\n    textDecoration: 'none',\n    backgroundColor: theme.palette.action.hover,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  },\n  [`&.${listItemClasses.selected}:hover`]: {\n    backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n    }\n  }\n}, ownerState.hasSecondaryAction && {\n  // Add some space to avoid collision as `ListItemSecondaryAction`\n  // is absolutely positioned.\n  paddingRight: 48\n}));\nconst ListItemContainer = styled('li', {\n  name: 'MuiListItem',\n  slot: 'Container',\n  overridesResolver: (props, styles) => styles.container\n})({\n  position: 'relative'\n});\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\n\nconst ListItem = /*#__PURE__*/React.forwardRef(function ListItem(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItem'\n  });\n\n  const {\n    alignItems = 'center',\n    autoFocus = false,\n    button = false,\n    children: childrenProp,\n    className,\n    component: componentProp,\n    components = {},\n    componentsProps = {},\n    ContainerComponent = 'li',\n    ContainerProps: {\n      className: ContainerClassName\n    } = {},\n    dense = false,\n    disabled = false,\n    disableGutters = false,\n    disablePadding = false,\n    divider = false,\n    focusVisibleClassName,\n    secondaryAction,\n    selected = false\n  } = props,\n        ContainerProps = _objectWithoutPropertiesLoose(props.ContainerProps, _excluded),\n        other = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  const context = React.useContext(ListContext);\n  const childContext = {\n    dense: dense || context.dense || false,\n    alignItems,\n    disableGutters\n  };\n  const listItemRef = React.useRef(null);\n  useEnhancedEffect(() => {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('MUI: Unable to set focus to a ListItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  const children = React.Children.toArray(childrenProp); // v4 implementation, deprecated in v5, will be removed in v6\n\n  const hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n\n  const ownerState = _extends({}, props, {\n    alignItems,\n    autoFocus,\n    button,\n    dense: childContext.dense,\n    disabled,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction,\n    selected\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const handleRef = useForkRef(listItemRef, ref);\n  const Root = components.Root || ListItemRoot;\n  const rootProps = componentsProps.root || {};\n\n  const componentProps = _extends({\n    className: clsx(classes.root, rootProps.className, className),\n    disabled\n  }, other);\n\n  let Component = componentProp || 'li';\n\n  if (button) {\n    componentProps.component = componentProp || 'div';\n    componentProps.focusVisibleClassName = clsx(listItemClasses.focusVisible, focusVisibleClassName);\n    Component = ButtonBase;\n  } // v4 implementation, deprecated in v5, will be removed in v6\n\n\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component; // Avoid nesting of li > li.\n\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n\n    return /*#__PURE__*/_jsx(ListContext.Provider, {\n      value: childContext,\n      children: /*#__PURE__*/_jsxs(ListItemContainer, _extends({\n        as: ContainerComponent,\n        className: clsx(classes.container, ContainerClassName),\n        ref: handleRef,\n        ownerState: ownerState\n      }, ContainerProps, {\n        children: [/*#__PURE__*/_jsx(Root, _extends({}, rootProps, !isHostComponent(Root) && {\n          as: Component,\n          ownerState: _extends({}, ownerState, rootProps.ownerState)\n        }, componentProps, {\n          children: children\n        })), children.pop()]\n      }))\n    });\n  }\n\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/_jsxs(Root, _extends({}, rootProps, {\n      as: Component,\n      ref: handleRef,\n      ownerState: ownerState\n    }, !isHostComponent(Root) && {\n      ownerState: _extends({}, ownerState, rootProps.ownerState)\n    }, componentProps, {\n      children: [children, secondaryAction && /*#__PURE__*/_jsx(ListItemSecondaryAction, {\n        children: secondaryAction\n      })]\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItem.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Defines the `align-items` style property.\n   * @default 'center'\n   */\n  alignItems: PropTypes.oneOf(['center', 'flex-start']),\n\n  /**\n   * If `true`, the list item is focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the list item is a button (using `ButtonBase`). Props intended\n   * for `ButtonBase` can then be applied to `ListItem`.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  button: PropTypes.bool,\n\n  /**\n   * The content of the component if a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    const children = React.Children.toArray(props.children); // React.Children.toArray(props.children).findLastIndex(isListItemSecondaryAction)\n\n    let secondaryActionIndex = -1;\n\n    for (let i = children.length - 1; i >= 0; i -= 1) {\n      const child = children[i];\n\n      if (isMuiElement(child, ['ListItemSecondaryAction'])) {\n        secondaryActionIndex = i;\n        break;\n      }\n    } //  is ListItemSecondaryAction the last child of ListItem\n\n\n    if (secondaryActionIndex !== -1 && secondaryActionIndex !== children.length - 1) {\n      return new Error('MUI: You used an element after ListItemSecondaryAction. ' + 'For ListItem to detect that it has a secondary action ' + 'you must pass it as the last child to ListItem.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The components used for each slot inside the InputBase.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Input.\n   * @default {}\n   */\n  componentsProps: PropTypes.object,\n\n  /**\n   * The container component used when a `ListItemSecondaryAction` is the last child.\n   * @default 'li'\n   * @deprecated\n   */\n  ContainerComponent: elementTypeAcceptingRef,\n\n  /**\n   * Props applied to the container component if used.\n   * @default {}\n   * @deprecated\n   */\n  ContainerProps: PropTypes.object,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input is used.\n   * The prop defaults to the value inherited from the parent List component.\n   * @default false\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, all padding is removed.\n   * @default false\n   */\n  disablePadding: PropTypes.bool,\n\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   * @default false\n   */\n  divider: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The element to display at the end of ListItem.\n   */\n  secondaryAction: PropTypes.node,\n\n  /**\n   * Use to apply selected styling.\n   * @default false\n   * @deprecated checkout [ListItemButton](/api/list-item-button/) instead\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItem;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getChipUtilityClass(slot) {\n  return generateUtilityClass('MuiChip', slot);\n}\nconst chipClasses = generateUtilityClasses('MuiChip', ['root', 'sizeSmall', 'sizeMedium', 'colorPrimary', 'colorSecondary', 'disabled', 'clickable', 'clickableColorPrimary', 'clickableColorSecondary', 'deletable', 'deletableColorPrimary', 'deletableColorSecondary', 'outlined', 'filled', 'outlinedPrimary', 'outlinedSecondary', 'avatar', 'avatarSmall', 'avatarMedium', 'avatarColorPrimary', 'avatarColorSecondary', 'icon', 'iconSmall', 'iconMedium', 'iconColorPrimary', 'iconColorSecondary', 'label', 'labelSmall', 'labelMedium', 'deleteIcon', 'deleteIconSmall', 'deleteIconMedium', 'deleteIconColorPrimary', 'deleteIconColorSecondary', 'deleteIconOutlinedColorPrimary', 'deleteIconOutlinedColorSecondary', 'focusVisible']);\nexport default chipClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"avatar\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport chipClasses, { getChipUtilityClass } from './chipClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disabled,\n    size,\n    color,\n    onDelete,\n    clickable,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, disabled && 'disabled', `size${capitalize(size)}`, `color${capitalize(color)}`, clickable && 'clickable', clickable && `clickableColor${capitalize(color)}`, onDelete && 'deletable', onDelete && `deletableColor${capitalize(color)}`, `${variant}${capitalize(color)}`],\n    label: ['label', `label${capitalize(size)}`],\n    avatar: ['avatar', `avatar${capitalize(size)}`, `avatarColor${capitalize(color)}`],\n    icon: ['icon', `icon${capitalize(size)}`, `iconColor${capitalize(color)}`],\n    deleteIcon: ['deleteIcon', `deleteIcon${capitalize(size)}`, `deleteIconColor${capitalize(color)}`, `deleteIconOutlinedColor${capitalize(color)}`]\n  };\n  return composeClasses(slots, getChipUtilityClass, classes);\n};\n\nconst ChipRoot = styled('div', {\n  name: 'MuiChip',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      color,\n      clickable,\n      onDelete,\n      size,\n      variant\n    } = ownerState;\n    return [{\n      [`& .${chipClasses.avatar}`]: styles.avatar\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatar${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatarColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles.icon\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`icon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`iconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles.deleteIcon\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIcon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconOutlinedColor${capitalize(color)}`]\n    }, styles.root, styles[`size${capitalize(size)}`], styles[`color${capitalize(color)}`], clickable && styles.clickable, clickable && color !== 'default' && styles[`clickableColor${capitalize(color)})`], onDelete && styles.deletable, onDelete && color !== 'default' && styles[`deletableColor${capitalize(color)}`], styles[variant], variant === 'outlined' && styles[`outlined${capitalize(color)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const deleteIconColor = alpha(theme.palette.text.primary, 0.26);\n  return _extends({\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.pxToRem(13),\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 32,\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.action.selected,\n    borderRadius: 32 / 2,\n    whiteSpace: 'nowrap',\n    transition: theme.transitions.create(['background-color', 'box-shadow']),\n    // label will inherit this from root, then `clickable` class overrides this for both\n    cursor: 'default',\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    textDecoration: 'none',\n    border: 0,\n    // Remove `button` border\n    padding: 0,\n    // Remove `button` padding\n    verticalAlign: 'middle',\n    boxSizing: 'border-box',\n    [`&.${chipClasses.disabled}`]: {\n      opacity: theme.palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [`& .${chipClasses.avatar}`]: {\n      marginLeft: 5,\n      marginRight: -6,\n      width: 24,\n      height: 24,\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      fontSize: theme.typography.pxToRem(12)\n    },\n    [`& .${chipClasses.avatarColorPrimary}`]: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.dark\n    },\n    [`& .${chipClasses.avatarColorSecondary}`]: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.dark\n    },\n    [`& .${chipClasses.avatarSmall}`]: {\n      marginLeft: 4,\n      marginRight: -4,\n      width: 18,\n      height: 18,\n      fontSize: theme.typography.pxToRem(10)\n    },\n    [`& .${chipClasses.icon}`]: _extends({\n      color: theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    }, ownerState.size === 'small' && {\n      fontSize: 18,\n      marginLeft: 4,\n      marginRight: -4\n    }, ownerState.color !== 'default' && {\n      color: 'inherit'\n    }),\n    [`& .${chipClasses.deleteIcon}`]: _extends({\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      fontSize: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: alpha(deleteIconColor, 0.4)\n      }\n    }, ownerState.size === 'small' && {\n      fontSize: 16,\n      marginRight: 4,\n      marginLeft: -4\n    }, ownerState.color !== 'default' && {\n      color: alpha(theme.palette[ownerState.color].contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette[ownerState.color].contrastText\n      }\n    })\n  }, ownerState.size === 'small' && {\n    height: 24\n  }, ownerState.color !== 'default' && {\n    backgroundColor: theme.palette[ownerState.color].main,\n    color: theme.palette[ownerState.color].contrastText\n  }, ownerState.onDelete && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, ownerState.onDelete && ownerState.color !== 'default' && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: theme.palette[ownerState.color].dark\n    }\n  });\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.clickable && {\n  userSelect: 'none',\n  WebkitTapHighlightColor: 'transparent',\n  cursor: 'pointer',\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n  },\n  '&:active': {\n    boxShadow: theme.shadows[1]\n  }\n}, ownerState.clickable && ownerState.color !== 'default' && {\n  [`&:hover, &.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette[ownerState.color].dark\n  }\n}), ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.variant === 'outlined' && {\n  backgroundColor: 'transparent',\n  border: `1px solid ${theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[700]}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: theme.palette.action.hover\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.palette.action.focus\n  },\n  [`& .${chipClasses.avatar}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.avatarSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.icon}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.iconSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    marginRight: 5\n  },\n  [`& .${chipClasses.deleteIconSmall}`]: {\n    marginRight: 3\n  }\n}, ownerState.variant === 'outlined' && ownerState.color !== 'default' && {\n  color: theme.palette[ownerState.color].main,\n  border: `1px solid ${alpha(theme.palette[ownerState.color].main, 0.7)}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.focusOpacity)\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    color: alpha(theme.palette[ownerState.color].main, 0.7),\n    '&:hover, &:active': {\n      color: theme.palette[ownerState.color].main\n    }\n  }\n}));\nconst ChipLabel = styled('span', {\n  name: 'MuiChip',\n  slot: 'Label',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      size\n    } = ownerState;\n    return [styles.label, styles[`label${capitalize(size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  paddingLeft: 12,\n  paddingRight: 12,\n  whiteSpace: 'nowrap'\n}, ownerState.size === 'small' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}));\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nconst Chip = /*#__PURE__*/React.forwardRef(function Chip(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiChip'\n  });\n\n  const {\n    avatar: avatarProp,\n    className,\n    clickable: clickableProp,\n    color = 'default',\n    component: ComponentProp,\n    deleteIcon: deleteIconProp,\n    disabled = false,\n    icon: iconProp,\n    label,\n    onClick,\n    onDelete,\n    onKeyDown,\n    onKeyUp,\n    size = 'medium',\n    variant = 'filled'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const chipRef = React.useRef(null);\n  const handleRef = useForkRef(chipRef, ref);\n\n  const handleDeleteIconClick = event => {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  const handleKeyDown = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // Will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  const handleKeyUp = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  const clickable = clickableProp !== false && onClick ? true : clickableProp;\n  const small = size === 'small';\n  const component = clickable || onDelete ? ButtonBase : ComponentProp || 'div';\n\n  const ownerState = _extends({}, props, {\n    component,\n    disabled,\n    size,\n    color,\n    onDelete: !!onDelete,\n    clickable,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const moreProps = component === ButtonBase ? _extends({\n    component: ComponentProp || 'div',\n    focusVisibleClassName: classes.focusVisible\n  }, onDelete && {\n    disableRipple: true\n  }) : {};\n  let deleteIcon = null;\n\n  if (onDelete) {\n    const customClasses = clsx(color !== 'default' && (variant === 'outlined' ? classes[`deleteIconOutlinedColor${capitalize(color)}`] : classes[`deleteIconColor${capitalize(color)}`]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/_jsx(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  let avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className)\n    });\n  }\n\n  let icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className)\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('MUI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/_jsxs(ChipRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    disabled: clickable && disabled ? true : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef,\n    ownerState: ownerState\n  }, moreProps, other, {\n    children: [avatar || icon, /*#__PURE__*/_jsx(ChipLabel, {\n      className: clsx(classes.label),\n      ownerState: ownerState,\n      children: label\n    }), deleteIcon]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Chip.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.element,\n\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the chip will appear clickable, and will raise when pressed,\n   * even if the onClick prop is not defined.\n   * If `false`, the chip will not appear clickable, even if onClick prop is defined.\n   * This can be used, for example,\n   * along with the component prop to indicate an anchor Chip is clickable.\n   * Note: this controls the UI and does not affect the onClick event.\n   */\n  clickable: PropTypes.bool,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Override the default delete icon element. Shown only if `onDelete` is set.\n   */\n  deleteIcon: PropTypes.element,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Icon element.\n   */\n  icon: PropTypes.element,\n\n  /**\n   * The content of the component.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback fired when the delete icon is clicked.\n   * If set, the delete icon will be shown.\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The variant to use.\n   * @default 'filled'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string])\n} : void 0;\nexport default Chip;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardMediaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardMedia', slot);\n}\nconst cardMediaClasses = generateUtilityClasses('MuiCardMedia', ['root', 'media', 'img']);\nexport default cardMediaClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"image\", \"src\", \"style\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCardMediaUtilityClass } from './cardMediaClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    isMediaComponent,\n    isImageComponent\n  } = ownerState;\n  const slots = {\n    root: ['root', isMediaComponent && 'media', isImageComponent && 'img']\n  };\n  return composeClasses(slots, getCardMediaUtilityClass, classes);\n};\n\nconst CardMediaRoot = styled('div', {\n  name: 'MuiCardMedia',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      isMediaComponent,\n      isImageComponent\n    } = ownerState;\n    return [styles.root, isMediaComponent && styles.media, isImageComponent && styles.img];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'block',\n  backgroundSize: 'cover',\n  backgroundRepeat: 'no-repeat',\n  backgroundPosition: 'center'\n}, ownerState.isMediaComponent && {\n  width: '100%'\n}, ownerState.isImageComponent && {\n  //  object-fit is not supported by IE11.\n  objectFit: 'cover'\n}));\nconst MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nconst IMAGE_COMPONENTS = ['picture', 'img'];\nconst CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardMedia'\n  });\n\n  const {\n    children,\n    className,\n    component = 'div',\n    image,\n    src,\n    style\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const isMediaComponent = MEDIA_COMPONENTS.indexOf(component) !== -1;\n  const composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: `url(\"${image}\")`\n  }, style) : style;\n\n  const ownerState = _extends({}, props, {\n    component,\n    isMediaComponent,\n    isImageComponent: IMAGE_COMPONENTS.indexOf(component) !== -1\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardMediaRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    role: !isMediaComponent && image ? 'img' : undefined,\n    ref: ref,\n    style: composedStyle,\n    ownerState: ownerState,\n    src: isMediaComponent ? image || src : undefined\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardMedia.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    if (!props.children && !props.image && !props.src && !props.component) {\n      return new Error('MUI: Either `children`, `image`, `src` or `component` prop must be specified.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Image to be displayed as a background image.\n   * Either `image` or `src` prop must be specified.\n   * Note that caller must specify height otherwise the image will not be visible.\n   */\n  image: PropTypes.string,\n\n  /**\n   * An alias for `image` property.\n   * Available only with media components.\n   * Media components: `video`, `audio`, `picture`, `iframe`, `img`.\n   */\n  src: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardMedia;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardActionAreaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActionArea', slot);\n}\nconst cardActionAreaClasses = generateUtilityClasses('MuiCardActionArea', ['root', 'focusVisible', 'focusHighlight']);\nexport default cardActionAreaClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"focusVisibleClassName\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport cardActionAreaClasses, { getCardActionAreaUtilityClass } from './cardActionAreaClasses';\nimport ButtonBase from '../ButtonBase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    focusHighlight: ['focusHighlight']\n  };\n  return composeClasses(slots, getCardActionAreaUtilityClass, classes);\n};\n\nconst CardActionAreaRoot = styled(ButtonBase, {\n  name: 'MuiCardActionArea',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  textAlign: 'inherit',\n  width: '100%',\n  [`&:hover .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.hoverOpacity,\n    '@media (hover: none)': {\n      opacity: 0\n    }\n  },\n  [`&.${cardActionAreaClasses.focusVisible} .${cardActionAreaClasses.focusHighlight}`]: {\n    opacity: theme.palette.action.focusOpacity\n  }\n}));\nconst CardActionAreaFocusHighlight = styled('span', {\n  name: 'MuiCardActionArea',\n  slot: 'FocusHighlight',\n  overridesResolver: (props, styles) => styles.focusHighlight\n})(({\n  theme\n}) => ({\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  borderRadius: 'inherit',\n  opacity: 0,\n  backgroundColor: 'currentcolor',\n  transition: theme.transitions.create('opacity', {\n    duration: theme.transitions.duration.short\n  })\n}));\nconst CardActionArea = /*#__PURE__*/React.forwardRef(function CardActionArea(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActionArea'\n  });\n\n  const {\n    children,\n    className,\n    focusVisibleClassName\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(CardActionAreaRoot, _extends({\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(focusVisibleClassName, classes.focusVisible),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [children, /*#__PURE__*/_jsx(CardActionAreaFocusHighlight, {\n      className: classes.focusHighlight,\n      ownerState: ownerState\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActionArea.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActionArea;","import createBox from '../createBox';\nconst Box = createBox();\nexport default Box;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z\"\n}), 'SwapHoriz');","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getMasonryUtilityClass(slot) {\n  return generateUtilityClass('MuiMasonry', slot);\n}\nconst masonryClasses = generateUtilityClasses('MuiMasonry', ['root']);\nexport default masonryClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"columns\", \"spacing\", \"defaultColumns\", \"defaultHeight\", \"defaultSpacing\"];\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { createUnarySpacing, getValue, handleBreakpoints, unstable_resolveBreakpointValues as resolveBreakpointValues } from '@mui/system';\nimport { deepmerge, unstable_useForkRef as useForkRef } from '@mui/utils';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { getMasonryUtilityClass } from './masonryClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const parseToNumber = val => {\n  return Number(val.replace('px', ''));\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getMasonryUtilityClass, classes);\n};\n\nexport const getStyle = ({\n  ownerState,\n  theme\n}) => {\n  let styles = {\n    width: '100%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    alignContent: 'space-between',\n    boxSizing: 'border-box',\n    '& > *': {\n      boxSizing: 'border-box'\n    }\n  };\n  const stylesSSR = {};\n\n  if (ownerState.isSSR) {\n    const orderStyleSSR = {};\n    const defaultSpacing = Number(theme.spacing(ownerState.defaultSpacing).replace('px', ''));\n\n    for (let i = 1; i <= ownerState.defaultColumns; i += 1) {\n      orderStyleSSR[`&:nth-of-type(${ownerState.defaultColumns}n+${i % ownerState.defaultColumns})`] = {\n        order: i\n      };\n    }\n\n    stylesSSR.height = ownerState.defaultHeight;\n    stylesSSR.margin = -(defaultSpacing / 2);\n    stylesSSR['& > *'] = _extends({}, styles['& > *'], orderStyleSSR, {\n      margin: defaultSpacing / 2,\n      width: `calc(${(100 / ownerState.defaultColumns).toFixed(2)}% - ${defaultSpacing}px)`\n    });\n    return _extends({}, styles, stylesSSR);\n  }\n\n  const spacingValues = resolveBreakpointValues({\n    values: ownerState.spacing,\n    breakpoints: theme.breakpoints.values\n  });\n  const transformer = createUnarySpacing(theme);\n\n  const spacingStyleFromPropValue = propValue => {\n    const themeSpacingValue = Number(propValue);\n    const spacing = Number(getValue(transformer, themeSpacingValue).replace('px', ''));\n    return _extends({\n      margin: -(spacing / 2),\n      '& > *': {\n        margin: spacing / 2\n      }\n    }, ownerState.maxColumnHeight && {\n      height: Math.ceil(ownerState.maxColumnHeight + spacing)\n    });\n  };\n\n  styles = deepmerge(styles, handleBreakpoints({\n    theme\n  }, spacingValues, spacingStyleFromPropValue));\n  const columnValues = resolveBreakpointValues({\n    values: ownerState.columns,\n    breakpoints: theme.breakpoints.values\n  });\n\n  const columnStyleFromPropValue = propValue => {\n    const columnValue = Number(propValue);\n    const width = `${(100 / columnValue).toFixed(2)}%`;\n    const spacing = typeof spacingValues !== 'object' ? getValue(transformer, Number(spacingValues)) : '0px';\n    return {\n      '& > *': {\n        width: `calc(${width} - ${spacing})`\n      }\n    };\n  };\n\n  styles = deepmerge(styles, handleBreakpoints({\n    theme\n  }, columnValues, columnStyleFromPropValue)); // configure width for responsive spacing values\n\n  if (typeof spacingValues === 'object') {\n    styles = deepmerge(styles, handleBreakpoints({\n      theme\n    }, spacingValues, (propValue, breakpoint) => {\n      if (breakpoint) {\n        const themeSpacingValue = Number(propValue);\n        const lastBreakpoint = Object.keys(columnValues).pop();\n        const spacing = getValue(transformer, themeSpacingValue);\n        const column = typeof columnValues === 'object' ? columnValues[breakpoint] || columnValues[lastBreakpoint] : columnValues;\n        const width = `${(100 / column).toFixed(2)}%`;\n        return {\n          '& > *': {\n            width: `calc(${width} - ${spacing})`\n          }\n        };\n      }\n\n      return null;\n    }));\n  }\n\n  return styles;\n};\nconst MasonryRoot = styled('div', {\n  name: 'MuiMasonry',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    return [styles.root];\n  }\n})(getStyle);\nconst Masonry = /*#__PURE__*/React.forwardRef(function Masonry(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiMasonry'\n  });\n\n  const {\n    children,\n    className,\n    component = 'div',\n    columns = 4,\n    spacing = 1,\n    defaultColumns,\n    defaultHeight,\n    defaultSpacing\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const masonryRef = React.useRef();\n  const [maxColumnHeight, setMaxColumnHeight] = React.useState();\n  const isSSR = !maxColumnHeight && defaultHeight && defaultColumns !== undefined && defaultSpacing !== undefined;\n  const [numberOfLineBreaks, setNumberOfLineBreaks] = React.useState(isSSR ? defaultColumns - 1 : 0);\n\n  const ownerState = _extends({}, props, {\n    spacing,\n    columns,\n    maxColumnHeight,\n    defaultColumns,\n    defaultHeight,\n    defaultSpacing,\n    isSSR\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  const handleResize = elements => {\n    if (!elements) {\n      return;\n    }\n\n    let masonry;\n    let masonryFirstChild;\n    let parentWidth;\n    let childWidth;\n\n    if (elements[0].target.className.includes(classes.root)) {\n      var _elements$, _masonryFirstChild, _masonryFirstChild$co, _masonryFirstChild2;\n\n      masonry = elements[0].target;\n      parentWidth = elements[0].contentRect.width;\n      masonryFirstChild = ((_elements$ = elements[1]) == null ? void 0 : _elements$.target) || masonry.firstChild;\n      childWidth = ((_masonryFirstChild = masonryFirstChild) == null ? void 0 : (_masonryFirstChild$co = _masonryFirstChild.contentRect) == null ? void 0 : _masonryFirstChild$co.width) || ((_masonryFirstChild2 = masonryFirstChild) == null ? void 0 : _masonryFirstChild2.clientWidth) || 0;\n    } else {\n      var _elements$2, _masonry$contentRect;\n\n      masonryFirstChild = elements[0].target;\n      childWidth = elements[0].contentRect.width;\n      masonry = ((_elements$2 = elements[1]) == null ? void 0 : _elements$2.target) || masonryFirstChild.parentElement;\n      parentWidth = ((_masonry$contentRect = masonry.contentRect) == null ? void 0 : _masonry$contentRect.width) || masonry.clientWidth;\n    }\n\n    if (parentWidth === 0 || childWidth === 0 || !masonry || !masonryFirstChild) {\n      return;\n    }\n\n    const firstChildComputedStyle = window.getComputedStyle(masonryFirstChild);\n    const firstChildMarginLeft = parseToNumber(firstChildComputedStyle.marginLeft);\n    const firstChildMarginRight = parseToNumber(firstChildComputedStyle.marginRight);\n    const currentNumberOfColumns = Math.round(parentWidth / (childWidth + firstChildMarginLeft + firstChildMarginRight));\n    const columnHeights = new Array(currentNumberOfColumns).fill(0);\n    let skip = false;\n    masonry.childNodes.forEach(child => {\n      if (child.nodeType !== Node.ELEMENT_NODE || child.dataset.class === 'line-break' || skip) {\n        return;\n      }\n\n      const childComputedStyle = window.getComputedStyle(child);\n      const childMarginTop = parseToNumber(childComputedStyle.marginTop);\n      const childMarginBottom = parseToNumber(childComputedStyle.marginBottom); // if any one of children isn't rendered yet, masonry's height shouldn't be computed yet\n\n      const childHeight = parseToNumber(childComputedStyle.height) ? Math.ceil(parseToNumber(childComputedStyle.height)) + childMarginTop + childMarginBottom : 0;\n\n      if (childHeight === 0) {\n        skip = true;\n        return;\n      } // if there is a nested image that isn't rendered yet, masonry's height shouldn't be computed yet\n\n\n      for (let i = 0; i < child.childNodes.length; i += 1) {\n        const nestedChild = child.childNodes[i];\n\n        if (nestedChild.tagName === 'IMG' && nestedChild.clientHeight === 0) {\n          skip = true;\n          break;\n        }\n      }\n\n      if (!skip) {\n        // find the current shortest column (where the current item will be placed)\n        const currentMinColumnIndex = columnHeights.indexOf(Math.min(...columnHeights));\n        columnHeights[currentMinColumnIndex] += childHeight;\n        const order = currentMinColumnIndex + 1;\n        child.style.order = order;\n      }\n    });\n\n    if (!skip) {\n      setMaxColumnHeight(Math.max(...columnHeights));\n      const numOfLineBreaks = currentNumberOfColumns > 0 ? currentNumberOfColumns - 1 : 0;\n      setNumberOfLineBreaks(numOfLineBreaks);\n    }\n  };\n\n  const observer = React.useRef(typeof ResizeObserver === 'undefined' ? undefined : new ResizeObserver(handleResize));\n  React.useEffect(() => {\n    const resizeObserver = observer.current; // IE and old browsers are not supported\n\n    if (resizeObserver === undefined) {\n      return undefined;\n    }\n\n    const container = masonryRef.current;\n\n    if (container && resizeObserver) {\n      // only the masonry container and its first child are observed for resizing;\n      // this might cause unforeseen problems in some use cases;\n      resizeObserver.observe(container);\n\n      if (container.firstChild) {\n        resizeObserver.observe(container.firstChild);\n      }\n    }\n\n    return () => resizeObserver ? resizeObserver.disconnect() : {};\n  }, [columns, spacing, children]);\n  const handleRef = useForkRef(ref, masonryRef);\n  const lineBreakStyle = {\n    flexBasis: '100%',\n    width: 0,\n    margin: 0,\n    padding: 0\n  }; //  columns are likely to have different heights and hence can start to merge;\n  //  a line break at the end of each column prevents columns from merging\n\n  const lineBreaks = new Array(numberOfLineBreaks).fill('').map((_, index) => /*#__PURE__*/_jsx(\"span\", {\n    \"data-class\": \"line-break\",\n    style: _extends({}, lineBreakStyle, {\n      order: index + 1\n    })\n  }, index));\n  return /*#__PURE__*/_jsxs(MasonryRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ref: handleRef,\n    ownerState: ownerState\n  }, other, {\n    children: [children, lineBreaks]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Masonry.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Number of columns.\n   * @default 4\n   */\n  columns: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The default number of columns of the component. This is provided for server-side rendering.\n   */\n  defaultColumns: PropTypes.number,\n\n  /**\n   * The default height of the component in px. This is provided for server-side rendering.\n   */\n  defaultHeight: PropTypes.number,\n\n  /**\n   * The default spacing of the component. Like `spacing`, it is a factor of the theme's spacing. This is provided for server-side rendering.\n   */\n  defaultSpacing: PropTypes.number,\n\n  /**\n   * Defines the space between children. It is a factor of the theme's spacing.\n   * @default 1\n   */\n  spacing: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n\n  /**\n   * Allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Masonry;","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActions', slot);\n}\nconst cardActionsClasses = generateUtilityClasses('MuiCardActions', ['root', 'spacing']);\nexport default cardActionsClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"disableSpacing\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getCardActionsUtilityClass } from './cardActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getCardActionsUtilityClass, classes);\n};\n\nconst CardActionsRoot = styled('div', {\n  name: 'MuiCardActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8\n}, !ownerState.disableSpacing && {\n  '& > :not(:first-of-type)': {\n    marginLeft: 8\n  }\n}));\nconst CardActions = /*#__PURE__*/React.forwardRef(function CardActions(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActions'\n  });\n\n  const {\n    disableSpacing = false,\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActions;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'PersonAdd');","import * as React from 'react';\n\nconst usePreviousProps = value => {\n  const ref = React.useRef({});\n  React.useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nexport default usePreviousProps;","import generateUtilityClasses from '../generateUtilityClasses';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getBadgeUtilityClass(slot) {\n  return generateUtilityClass('MuiBadge', slot);\n}\nconst badgeUnstyledClasses = generateUtilityClasses('MuiBadge', ['root', 'badge', 'dot', 'standard', 'anchorOriginTopLeftCircular', 'anchorOriginTopLeftRectangular', 'anchorOriginTopRightCircular', 'anchorOriginTopRightRectangular', 'anchorOriginBottomLeftCircular', 'anchorOriginBottomLeftRectangular', 'anchorOriginBottomRightCircular', 'anchorOriginBottomRightRectangular', 'invisible']);\nexport default badgeUnstyledClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"anchorOrigin\", \"classes\", \"badgeContent\", \"component\", \"children\", \"className\", \"components\", \"componentsProps\", \"invisible\", \"max\", \"overlap\", \"showZero\", \"variant\", \"theme\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_capitalize as capitalize, usePreviousProps } from '@mui/utils';\nimport isHostComponent from '../utils/isHostComponent';\nimport composeClasses from '../composeClasses';\nimport { getBadgeUtilityClass } from './badgeUnstyledClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    variant,\n    anchorOrigin,\n    overlap,\n    invisible,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    badge: ['badge', variant, `anchorOrigin${capitalize(anchorOrigin.vertical)}${capitalize(anchorOrigin.horizontal)}${capitalize(overlap)}`, invisible && 'invisible']\n  };\n  return composeClasses(slots, getBadgeUtilityClass, classes);\n};\n\nconst BadgeUnstyled = /*#__PURE__*/React.forwardRef(function BadgeUnstyled(props, ref) {\n  const {\n    anchorOrigin: anchorOriginProp = {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    classes: classesProp,\n    badgeContent: badgeContentProp,\n    component = 'span',\n    children,\n    className,\n    components = {},\n    componentsProps = {},\n    invisible: invisibleProp,\n    max: maxProp = 99,\n    overlap: overlapProp = 'rectangular',\n    showZero = false,\n    variant: variantProp = 'standard',\n\n    /* eslint-disable react/prop-types */\n    theme\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const prevProps = usePreviousProps({\n    anchorOrigin: anchorOriginProp,\n    badgeContent: badgeContentProp,\n    max: maxProp,\n    overlap: overlapProp,\n    variant: variantProp\n  });\n  let invisible = invisibleProp;\n\n  if (invisibleProp == null && (badgeContentProp === 0 && !showZero || badgeContentProp == null && variantProp !== 'dot')) {\n    invisible = true;\n  }\n\n  const {\n    anchorOrigin = anchorOriginProp,\n    badgeContent,\n    max = maxProp,\n    overlap = overlapProp,\n    variant = variantProp\n  } = invisible ? prevProps : props;\n\n  const ownerState = _extends({}, props, {\n    anchorOrigin,\n    badgeContent,\n    classes: classesProp,\n    invisible,\n    max,\n    overlap,\n    variant\n  });\n\n  let displayValue = '';\n\n  if (variant !== 'dot') {\n    displayValue = badgeContent > max ? `${max}+` : badgeContent;\n  }\n\n  const classes = useUtilityClasses(ownerState);\n  const Root = components.Root || component;\n  const rootProps = componentsProps.root || {};\n  const Badge = components.Badge || 'span';\n  const badgeProps = componentsProps.badge || {};\n  return /*#__PURE__*/_jsxs(Root, _extends({}, rootProps, !isHostComponent(Root) && {\n    as: component,\n    ownerState: _extends({}, ownerState, rootProps.ownerState),\n    theme\n  }, {\n    ref: ref\n  }, other, {\n    className: clsx(classes.root, rootProps.className, className),\n    children: [children, /*#__PURE__*/_jsx(Badge, _extends({}, badgeProps, !isHostComponent(Badge) && {\n      ownerState: _extends({}, ownerState, badgeProps.ownerState),\n      theme\n    }, {\n      className: clsx(classes.badge, badgeProps.className),\n      children: displayValue\n    }))]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? BadgeUnstyled.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The anchor of the badge.\n   * @default {\n   *   vertical: 'top',\n   *   horizontal: 'right',\n   * }\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The components used for each slot inside the Badge.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Badge: PropTypes.elementType,\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Badge.\n   * @default {}\n   */\n  componentsProps: PropTypes.object,\n\n  /**\n   * If `true`, the badge is invisible.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * Max count to show.\n   * @default 99\n   */\n  max: PropTypes.number,\n\n  /**\n   * Wrapped shape the badge should overlap.\n   * @default 'rectangular'\n   */\n  overlap: PropTypes.oneOf(['circular', 'rectangular']),\n\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   * @default false\n   */\n  showZero: PropTypes.bool,\n\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes.string\n} : void 0;\nexport default BadgeUnstyled;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"components\", \"componentsProps\", \"color\", \"invisible\", \"badgeContent\", \"showZero\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { usePreviousProps } from '@mui/utils';\nimport { generateUtilityClasses, isHostComponent } from '@mui/base';\nimport BadgeUnstyled, { badgeUnstyledClasses, getBadgeUtilityClass } from '@mui/base/BadgeUnstyled';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport capitalize from '../utils/capitalize';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const badgeClasses = _extends({}, badgeUnstyledClasses, generateUtilityClasses('MuiBadge', ['colorError', 'colorInfo', 'colorPrimary', 'colorSecondary', 'colorSuccess', 'colorWarning']));\nconst RADIUS_STANDARD = 10;\nconst RADIUS_DOT = 4;\n\nconst extendUtilityClasses = ownerState => {\n  const {\n    color,\n    classes = {}\n  } = ownerState;\n  return _extends({}, classes, {\n    badge: clsx(classes.badge, color !== 'default' && [getBadgeUtilityClass(`color${capitalize(color)}`), classes[`color${capitalize(color)}`]])\n  });\n};\n\nconst BadgeRoot = styled('span', {\n  name: 'MuiBadge',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  position: 'relative',\n  display: 'inline-flex',\n  // For correct alignment with the text.\n  verticalAlign: 'middle',\n  flexShrink: 0\n});\nconst BadgeBadge = styled('span', {\n  name: 'MuiBadge',\n  slot: 'Badge',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.badge, styles[ownerState.variant], styles[`anchorOrigin${capitalize(ownerState.anchorOrigin.vertical)}${capitalize(ownerState.anchorOrigin.horizontal)}${capitalize(ownerState.overlap)}`], ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`], ownerState.invisible && styles.invisible];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexDirection: 'row',\n  flexWrap: 'wrap',\n  justifyContent: 'center',\n  alignContent: 'center',\n  alignItems: 'center',\n  position: 'absolute',\n  boxSizing: 'border-box',\n  fontFamily: theme.typography.fontFamily,\n  fontWeight: theme.typography.fontWeightMedium,\n  fontSize: theme.typography.pxToRem(12),\n  minWidth: RADIUS_STANDARD * 2,\n  lineHeight: 1,\n  padding: '0 6px',\n  height: RADIUS_STANDARD * 2,\n  borderRadius: RADIUS_STANDARD,\n  zIndex: 1,\n  // Render the badge on top of potential ripples.\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.enteringScreen\n  })\n}, ownerState.color !== 'default' && {\n  backgroundColor: theme.palette[ownerState.color].main,\n  color: theme.palette[ownerState.color].contrastText\n}, ownerState.variant === 'dot' && {\n  borderRadius: RADIUS_DOT,\n  height: RADIUS_DOT * 2,\n  minWidth: RADIUS_DOT * 2,\n  padding: 0\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'rectangular' && {\n  top: 0,\n  right: 0,\n  transform: 'scale(1) translate(50%, -50%)',\n  transformOrigin: '100% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'rectangular' && {\n  bottom: 0,\n  right: 0,\n  transform: 'scale(1) translate(50%, 50%)',\n  transformOrigin: '100% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'rectangular' && {\n  top: 0,\n  left: 0,\n  transform: 'scale(1) translate(-50%, -50%)',\n  transformOrigin: '0% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'rectangular' && {\n  bottom: 0,\n  left: 0,\n  transform: 'scale(1) translate(-50%, 50%)',\n  transformOrigin: '0% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'circular' && {\n  top: '14%',\n  right: '14%',\n  transform: 'scale(1) translate(50%, -50%)',\n  transformOrigin: '100% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'circular' && {\n  bottom: '14%',\n  right: '14%',\n  transform: 'scale(1) translate(50%, 50%)',\n  transformOrigin: '100% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'circular' && {\n  top: '14%',\n  left: '14%',\n  transform: 'scale(1) translate(-50%, -50%)',\n  transformOrigin: '0% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'circular' && {\n  bottom: '14%',\n  left: '14%',\n  transform: 'scale(1) translate(-50%, 50%)',\n  transformOrigin: '0% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, 50%)'\n  }\n}, ownerState.invisible && {\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.leavingScreen\n  })\n}));\nconst Badge = /*#__PURE__*/React.forwardRef(function Badge(inProps, ref) {\n  var _componentsProps$root, _componentsProps$badg;\n\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiBadge'\n  });\n\n  const {\n    components = {},\n    componentsProps = {},\n    color: colorProp = 'default',\n    invisible: invisibleProp,\n    badgeContent: badgeContentProp,\n    showZero = false,\n    variant: variantProp = 'standard'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const prevProps = usePreviousProps({\n    color: colorProp\n  });\n  let invisible = invisibleProp;\n\n  if (invisibleProp == null && (badgeContentProp === 0 && !showZero || badgeContentProp == null && variantProp !== 'dot')) {\n    invisible = true;\n  }\n\n  const {\n    color = colorProp\n  } = invisible ? prevProps : props;\n\n  const ownerState = _extends({}, props, {\n    invisible,\n    color\n  });\n\n  const classes = extendUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(BadgeUnstyled, _extends({\n    invisible: invisibleProp,\n    badgeContent: badgeContentProp,\n    showZero: showZero,\n    variant: variantProp\n  }, other, {\n    components: _extends({\n      Root: BadgeRoot,\n      Badge: BadgeBadge\n    }, components),\n    componentsProps: {\n      root: _extends({}, componentsProps.root, (!components.Root || !isHostComponent(components.Root)) && {\n        ownerState: _extends({}, (_componentsProps$root = componentsProps.root) == null ? void 0 : _componentsProps$root.ownerState, {\n          color\n        })\n      }),\n      badge: _extends({}, componentsProps.badge, (!components.Thumb || !isHostComponent(components.Thumb)) && {\n        ownerState: _extends({}, (_componentsProps$badg = componentsProps.badge) == null ? void 0 : _componentsProps$badg.ownerState, {\n          color\n        })\n      })\n    },\n    classes: classes,\n    ref: ref\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Badge.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The anchor of the badge.\n   * @default {\n   *   vertical: 'top',\n   *   horizontal: 'right',\n   * }\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The components used for each slot inside the Badge.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Badge: PropTypes.elementType,\n    Root: PropTypes.elementType\n  }),\n\n  /**\n   * The props used for each slot inside the Badge.\n   * @default {}\n   */\n  componentsProps: PropTypes.object,\n\n  /**\n   * If `true`, the badge is invisible.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * Max count to show.\n   * @default 99\n   */\n  max: PropTypes.number,\n\n  /**\n   * Wrapped shape the badge should overlap.\n   * @default 'rectangular'\n   */\n  overlap: PropTypes.oneOf(['circular', 'rectangular']),\n\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   * @default false\n   */\n  showZero: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['dot', 'standard']), PropTypes.string])\n} : void 0;\nexport default Badge;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAccordionUtilityClass(slot) {\n  return generateUtilityClass('MuiAccordion', slot);\n}\nconst accordionClasses = generateUtilityClasses('MuiAccordion', ['root', 'rounded', 'expanded', 'disabled', 'gutters', 'region']);\nexport default accordionClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"defaultExpanded\", \"disabled\", \"disableGutters\", \"expanded\", \"onChange\", \"square\", \"TransitionComponent\", \"TransitionProps\"];\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Collapse from '../Collapse';\nimport Paper from '../Paper';\nimport AccordionContext from './AccordionContext';\nimport useControlled from '../utils/useControlled';\nimport accordionClasses, { getAccordionUtilityClass } from './accordionClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    square,\n    expanded,\n    disabled,\n    disableGutters\n  } = ownerState;\n  const slots = {\n    root: ['root', !square && 'rounded', expanded && 'expanded', disabled && 'disabled', !disableGutters && 'gutters'],\n    region: ['region']\n  };\n  return composeClasses(slots, getAccordionUtilityClass, classes);\n};\n\nconst AccordionRoot = styled(Paper, {\n  name: 'MuiAccordion',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${accordionClasses.region}`]: styles.region\n    }, styles.root, !ownerState.square && styles.rounded, !ownerState.disableGutters && styles.gutters];\n  }\n})(({\n  theme\n}) => {\n  const transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    position: 'relative',\n    transition: theme.transitions.create(['margin'], transition),\n    overflowAnchor: 'none',\n    // Keep the same scrolling position\n    '&:before': {\n      position: 'absolute',\n      left: 0,\n      top: -1,\n      right: 0,\n      height: 1,\n      content: '\"\"',\n      opacity: 1,\n      backgroundColor: theme.palette.divider,\n      transition: theme.transitions.create(['opacity', 'background-color'], transition)\n    },\n    '&:first-of-type': {\n      '&:before': {\n        display: 'none'\n      }\n    },\n    [`&.${accordionClasses.expanded}`]: {\n      '&:before': {\n        opacity: 0\n      },\n      '&:first-of-type': {\n        marginTop: 0\n      },\n      '&:last-of-type': {\n        marginBottom: 0\n      },\n      '& + &': {\n        '&:before': {\n          display: 'none'\n        }\n      }\n    },\n    [`&.${accordionClasses.disabled}`]: {\n      backgroundColor: theme.palette.action.disabledBackground\n    }\n  };\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, !ownerState.square && {\n  borderRadius: 0,\n  '&:first-of-type': {\n    borderTopLeftRadius: theme.shape.borderRadius,\n    borderTopRightRadius: theme.shape.borderRadius\n  },\n  '&:last-of-type': {\n    borderBottomLeftRadius: theme.shape.borderRadius,\n    borderBottomRightRadius: theme.shape.borderRadius,\n    // Fix a rendering issue on Edge\n    '@supports (-ms-ime-align: auto)': {\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0\n    }\n  }\n}, !ownerState.disableGutters && {\n  [`&.${accordionClasses.expanded}`]: {\n    margin: '16px 0'\n  }\n}));\nconst Accordion = /*#__PURE__*/React.forwardRef(function Accordion(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAccordion'\n  });\n\n  const {\n    children: childrenProp,\n    className,\n    defaultExpanded = false,\n    disabled = false,\n    disableGutters = false,\n    expanded: expandedProp,\n    onChange,\n    square = false,\n    TransitionComponent = Collapse,\n    TransitionProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const [expanded, setExpandedState] = useControlled({\n    controlled: expandedProp,\n    default: defaultExpanded,\n    name: 'Accordion',\n    state: 'expanded'\n  });\n  const handleChange = React.useCallback(event => {\n    setExpandedState(!expanded);\n\n    if (onChange) {\n      onChange(event, !expanded);\n    }\n  }, [expanded, onChange, setExpandedState]);\n  const [summary, ...children] = React.Children.toArray(childrenProp);\n  const contextValue = React.useMemo(() => ({\n    expanded,\n    disabled,\n    disableGutters,\n    toggle: handleChange\n  }), [expanded, disabled, disableGutters, handleChange]);\n\n  const ownerState = _extends({}, props, {\n    square,\n    disabled,\n    disableGutters,\n    expanded\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(AccordionRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    square: square\n  }, other, {\n    children: [/*#__PURE__*/_jsx(AccordionContext.Provider, {\n      value: contextValue,\n      children: summary\n    }), /*#__PURE__*/_jsx(TransitionComponent, _extends({\n      in: expanded,\n      timeout: \"auto\"\n    }, TransitionProps, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        \"aria-labelledby\": summary.props.id,\n        id: summary.props['aria-controls'],\n        role: \"region\",\n        className: classes.region,\n        children: children\n      })\n    }))]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Accordion.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node.isRequired, props => {\n    const summary = React.Children.toArray(props.children)[0];\n\n    if (isFragment(summary)) {\n      return new Error(\"MUI: The Accordion doesn't accept a Fragment as a child. \" + 'Consider providing an array instead.');\n    }\n\n    if (! /*#__PURE__*/React.isValidElement(summary)) {\n      return new Error('MUI: Expected the first child of Accordion to be a valid element.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, expands the accordion by default.\n   * @default false\n   */\n  defaultExpanded: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, it removes the margin between two expanded accordion items and the increase of height.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, expands the accordion, otherwise collapse it.\n   * Setting this prop enables control over the accordion.\n   */\n  expanded: PropTypes.bool,\n\n  /**\n   * Callback fired when the expand/collapse state is changed.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback. **Warning**: This is a generic event not a change event.\n   * @param {boolean} expanded The `expanded` state of the accordion.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, rounded corners are disabled.\n   * @default false\n   */\n  square: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   * @default Collapse\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the transition element.\n   * By default, the element is based on this [`Transition`](https://reactcommunity.org/react-transition-group/transition) component.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default Accordion;","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAccordionSummaryUtilityClass(slot) {\n  return generateUtilityClass('MuiAccordionSummary', slot);\n}\nconst accordionSummaryClasses = generateUtilityClasses('MuiAccordionSummary', ['root', 'expanded', 'focusVisible', 'disabled', 'gutters', 'contentGutters', 'content', 'expandIconWrapper']);\nexport default accordionSummaryClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"expandIcon\", \"focusVisibleClassName\", \"onClick\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport AccordionContext from '../Accordion/AccordionContext';\nimport accordionSummaryClasses, { getAccordionSummaryUtilityClass } from './accordionSummaryClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    expanded,\n    disabled,\n    disableGutters\n  } = ownerState;\n  const slots = {\n    root: ['root', expanded && 'expanded', disabled && 'disabled', !disableGutters && 'gutters'],\n    focusVisible: ['focusVisible'],\n    content: ['content', expanded && 'expanded', !disableGutters && 'contentGutters'],\n    expandIconWrapper: ['expandIconWrapper', expanded && 'expanded']\n  };\n  return composeClasses(slots, getAccordionSummaryUtilityClass, classes);\n};\n\nconst AccordionSummaryRoot = styled(ButtonBase, {\n  name: 'MuiAccordionSummary',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme,\n  ownerState\n}) => {\n  const transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return _extends({\n    display: 'flex',\n    minHeight: 48,\n    padding: theme.spacing(0, 2),\n    transition: theme.transitions.create(['min-height', 'background-color'], transition),\n    [`&.${accordionSummaryClasses.focusVisible}`]: {\n      backgroundColor: theme.palette.action.focus\n    },\n    [`&.${accordionSummaryClasses.disabled}`]: {\n      opacity: theme.palette.action.disabledOpacity\n    },\n    [`&:hover:not(.${accordionSummaryClasses.disabled})`]: {\n      cursor: 'pointer'\n    }\n  }, !ownerState.disableGutters && {\n    [`&.${accordionSummaryClasses.expanded}`]: {\n      minHeight: 64\n    }\n  });\n});\nconst AccordionSummaryContent = styled('div', {\n  name: 'MuiAccordionSummary',\n  slot: 'Content',\n  overridesResolver: (props, styles) => styles.content\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexGrow: 1,\n  margin: '12px 0'\n}, !ownerState.disableGutters && {\n  transition: theme.transitions.create(['margin'], {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${accordionSummaryClasses.expanded}`]: {\n    margin: '20px 0'\n  }\n}));\nconst AccordionSummaryExpandIconWrapper = styled('div', {\n  name: 'MuiAccordionSummary',\n  slot: 'ExpandIconWrapper',\n  overridesResolver: (props, styles) => styles.expandIconWrapper\n})(({\n  theme\n}) => ({\n  display: 'flex',\n  color: theme.palette.action.active,\n  transform: 'rotate(0deg)',\n  transition: theme.transitions.create('transform', {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${accordionSummaryClasses.expanded}`]: {\n    transform: 'rotate(180deg)'\n  }\n}));\nconst AccordionSummary = /*#__PURE__*/React.forwardRef(function AccordionSummary(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAccordionSummary'\n  });\n\n  const {\n    children,\n    className,\n    expandIcon,\n    focusVisibleClassName,\n    onClick\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    disabled = false,\n    disableGutters,\n    expanded,\n    toggle\n  } = React.useContext(AccordionContext);\n\n  const handleChange = event => {\n    if (toggle) {\n      toggle(event);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  const ownerState = _extends({}, props, {\n    expanded,\n    disabled,\n    disableGutters\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(AccordionSummaryRoot, _extends({\n    focusRipple: false,\n    disableRipple: true,\n    disabled: disabled,\n    component: \"div\",\n    \"aria-expanded\": expanded,\n    className: clsx(classes.root, className),\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    onClick: handleChange,\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [/*#__PURE__*/_jsx(AccordionSummaryContent, {\n      className: classes.content,\n      ownerState: ownerState,\n      children: children\n    }), expandIcon && /*#__PURE__*/_jsx(AccordionSummaryExpandIconWrapper, {\n      className: classes.expandIconWrapper,\n      ownerState: ownerState,\n      children: expandIcon\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionSummary.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The icon to display as the expand indicator.\n   */\n  expandIcon: PropTypes.node,\n\n  /**\n   * This prop can help identify which element has keyboard focus.\n   * The class name will be applied when the element gains the focus through keyboard interaction.\n   * It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).\n   * The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/master/explainer.md).\n   * A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a `focus-visible` class to other components\n   * if needed.\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default AccordionSummary;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getAccordionDetailsUtilityClass(slot) {\n  return generateUtilityClass('MuiAccordionDetails', slot);\n}\nconst accordionDetailsClasses = generateUtilityClasses('MuiAccordionDetails', ['root']);\nexport default accordionDetailsClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getAccordionDetailsUtilityClass } from './accordionDetailsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getAccordionDetailsUtilityClass, classes);\n};\n\nconst AccordionDetailsRoot = styled('div', {\n  name: 'MuiAccordionDetails',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  padding: theme.spacing(1, 2, 2)\n}));\nconst AccordionDetails = /*#__PURE__*/React.forwardRef(function AccordionDetails(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAccordionDetails'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(AccordionDetailsRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionDetails.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default AccordionDetails;"],"sourceRoot":""}