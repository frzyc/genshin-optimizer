(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[16,33],{230:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a(139),r=a(64),i=a(113),l=a(16),s=a(1),o=function(e){return Object(s.jsx)(r.b,{ns:"resonance_gen",key18:e})},j=[{header:{title:o("ProtectiveCanopy.name"),action:Object(s.jsxs)("span",{children:[c.a.anemo," ",c.a.geo," ",c.a.pyro," ",c.a.hydro," ",c.a.cryo," ",c.a.electro," x4"]})},description:o("ProtectiveCanopy.desc"),canShow:function(e){return 4===new Set([].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return e}))).size},conditionals:[{key:"pc",partyBuff:"partyAll",canShow:function(e){return 4===new Set([].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle])).size},maxStack:0,stats:Object.fromEntries([].concat(Object(n.a)(l.d),["physical"]).map((function(e){return["".concat(e,"_res_"),15]})))}]},{header:{title:o("FerventFlames.name"),action:Object(s.jsxs)("span",{children:[c.a.pyro," ",c.a.pyro]})},description:o("FerventFlames.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"pyro"===e})).length>=2},conditionals:[{key:"ff",partyBuff:"partyAll",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"pyro"===e})).length>=2},maxStack:0,stats:{atk_:25},fields:[{text:"Cryo affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("SoothingWater.name"),action:Object(s.jsxs)("span",{children:[c.a.hydro," ",c.a.hydro]})},canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"hydro"===e})).length>=2},description:o("SoothingWater.desc"),conditionals:[{key:"sw",maxStack:0,canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"hydro"===e})).length>=2},partyBuff:"partyAll",stats:{incHeal_:30},fields:[{text:"Pyro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("ShatteringIce.name"),action:Object(s.jsxs)("span",{children:[c.a.cryo," ",c.a.cryo]})},canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"cryo"===e})).length>=2},description:o("ShatteringIce.desc"),conditionals:[{key:"si",name:"Against enemies that are Frozen or affected by Cryo",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"cryo"===e})).length>=2},partyBuff:"partyAll",stats:{critRate_:15},fields:[{text:"Electro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("HighVoltage.name"),action:Object(s.jsxs)("span",{children:[c.a.electro," ",c.a.electro]})},description:o("HighVoltage.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"electro"===e})).length>=2},conditionals:[{key:"hv",partyBuff:"partyAll",maxStack:0,canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"electro"===e})).length>=2},fields:[{text:"Hydro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("ImpetuousWinds.name"),action:Object(s.jsxs)("span",{children:[c.a.anemo," ",c.a.anemo]})},description:o("ImpetuousWinds.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"anemo"===e})).length>=2},conditionals:[{key:"iw",partyBuff:"partyAll",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"anemo"===e})).length>=2},maxStack:0,stats:{staminaDec_:15,moveSPD_:10,skillCDRed_:5},fields:[{text:"Pyro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("EnduringRock.name"),action:Object(s.jsxs)("span",{children:[c.a.geo," ",c.a.geo]})},description:o("EnduringRock.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},conditionals:[{key:"er",name:"Increases shield strength",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},partyBuff:"partyAll",stats:{shield_:15}},{key:"ers",name:"characters protected by a shield",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},partyBuff:"partyAll",stats:{dmg_:15}},{key:"erd",name:"characters protected by a shield: dealing DMG to enemies",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},partyBuff:"partyAll",stats:{geo_enemyRes_:-20},fields:[{text:Object(i.h)("duration"),value:15,unit:"s"}]}]}];t.default=j},288:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(11),c=a(5),r=a(0),i=a(179),l=a(57);function s(e){var t=Object(r.useContext)(i.b);return Object(r.useCallback)((function(a){if(e)if("type"in a)switch(a.type){case"weapon":t.setWeaponLocation(a.id,e);break;case"editStats":var r,i=t._getChar(e),s=a.statKey,o=a.value,j=i.bonusStats;if(j[s]===o)return;if(l.g.includes(s))(null!==(r=Object(l.a)(i)[s])&&void 0!==r?r:0)===o?delete j[s]:j[s]=o;else o?j[s]=o:delete j[s];t.updateChar(Object(c.a)(Object(c.a)({},i),{},{bonusStats:j}));break;case"resetStats":var u=t._getChar(e),d=a.statKey,b=u.bonusStats;delete b[d],t.updateChar(Object(c.a)(Object(c.a)({},u),{},{bonusStats:b}));break;case"team":var h=t._getChar(e),O=h.team,x=a.index,f=a.charKey,v=O[x];if(O[x]=f,v){var p=t._getChar(v);p&&t.updateChar(Object(c.a)(Object(c.a)({},p),{},{team:["","",""]}))}if(f){var m=t._getChar(f);m&&m.team.forEach((function(e){if(e){var a=t._getChar(e);a&&t.updateChar(Object(c.a)(Object(c.a)({},a),{},{team:a.team.map((function(e){return e===f?"":e}))}))}}))}O.forEach((function(a,r){if(a){var i=t._getChar(a);i&&t.updateChar(Object(c.a)(Object(c.a)({},i),{},{team:[e].concat(Object(n.a)(O)).filter((function(e,t){return t!==r+1}))}))}})),t.updateChar(Object(c.a)(Object(c.a)({},h),{},{team:O}))}else t.updateChar(Object(c.a)(Object(c.a)({},t._getChar(e)),a))}),[e,t])}},292:function(e,t,a){"use strict";a.d(t,"b",(function(){return k})),a.d(t,"a",(function(){return w}));var n,c,r,i,l=a(5),s=a(41),o=a(65),j=a(368),u=a(369),d=a(1026),b=a(259),h=a(80),O=a(260),x=a(0),f=a(135),v=a(140),p=a(179),m=a(137),g=a(285),y=a(308),S=a(1);function k(e){var t,a=e.value,k=e.onChange,C=e.unSelectText,_=e.unSelectIcon,B=e.inventory,E=void 0!==B&&B,K=e.noUnselect,A=void 0!==K&&K,T=e.filter,F=void 0===T?function(){return!0}:T,V=Object(o.a)(e,["value","onChange","unSelectText","unSelectIcon","inventory","noUnselect","filter"]),D=Object(f.a)("ui").t,N=Object(x.useContext)(p.b),M=Object(m.a)(v.b.getAll(),[]),R=Object(m.a)(v.b.get(a),[a]),W=N._getCharKeys().filter((function(e){return(null===M||void 0===M?void 0:M[e])&&F(M[e],e)})).sort();return Object(S.jsxs)(g.a,Object(l.a)(Object(l.a)({},V),{},{title:null!==(t=null===R||void 0===R?void 0:R.name)&&void 0!==t?t:E?D(n||(n=Object(s.a)(["inventory"]))):null!==C&&void 0!==C?C:D(c||(c=Object(s.a)(["unselect"]))),color:a?"success":"primary",startIcon:(null===R||void 0===R?void 0:R.thumbImg)?Object(S.jsx)(y.a,{src:R.thumbImgSide}):E?Object(S.jsx)(j.a,{}):null!==_&&void 0!==_?_:Object(S.jsx)(u.a,{}),children:[!A&&(E?Object(S.jsxs)(d.a,{onClick:function(){return k("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:D(r||(r=Object(s.a)(["inventory"])))})]}):Object(S.jsxs)(d.a,{onClick:function(){return k("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(u.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:D(i||(i=Object(s.a)(["unselect"])))})]})),!A&&Object(S.jsx)(O.a,{},"div"),!!M&&w(M,W,k,a)]}))}function w(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.map((function(t){var c;return Object(S.jsxs)(d.a,{onClick:function(){return a(t)},selected:n===t,disabled:n===t,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(y.a,{src:e[t].thumbImgSide})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:null===e||void 0===e||null===(c=e[t])||void 0===c?void 0:c.name})]},t)}))}},293:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return b})),a.d(t,"c",(function(){return h}));var n=a(3),c=a(5),r=a(65),i=a(10),l=a(477),s=a(278),o=a(0),j=a(1),u=Object(i.a)(l.c)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:t.palette.primary.dark},"&.Mui-focused":{backgroundColor:t.palette.primary.dark},"&.Mui-disabled":{backgroundColor:t.palette.primary.dark}}})),d=Object(i.a)(s.a)((function(e){return{backgroundColor:e.theme.palette.primary.main,padding:0,overflow:"hidden",div:{width:"100%",height:"100%"}}}));function b(e){var t=e.children,a=(e.disableRipple,e.disableFocusRipple,e.disableTouchRipple,Object(r.a)(e,["children","disableRipple","disableFocusRipple","disableTouchRipple"]));return Object(j.jsx)(d,Object(c.a)(Object(c.a)({disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0},a),{},{children:t}))}function h(e){var t=e.value,a=void 0===t?0:t,i=e.onChange,l=e.disabled,s=void 0!==l&&l,d=e.float,b=void 0!==d&&d,h=Object(r.a)(e,["value","onChange","disabled","float"]),O=Object(o.useState)(a),x=Object(n.a)(O,2),f=x[0],v=x[1],p=Object(o.useState)(!1),m=Object(n.a)(p,2),g=m[0],y=m[1],S=Object(o.useMemo)((function(){return b?parseFloat:parseInt}),[b]),k=Object(o.useCallback)((function(){i(f),y(!1)}),[i,f,y]),w=Object(o.useCallback)((function(){y(!0)}),[y]);Object(o.useEffect)((function(){return v(a)}),[a,v]);var C=Object(o.useCallback)((function(e){return v(S(e.target.value)||0)}),[v,S]),_=Object(o.useCallback)((function(e){return"Enter"===e.key&&k()}),[k]);return Object(j.jsx)(u,Object(c.a)({value:g&&!f?"":f,"aria-label":"custom-input",type:"number",onChange:C,onBlur:k,onFocus:w,disabled:s,onKeyDown:_},h))}},296:function(e,t,a){"use strict";a.d(t,"b",(function(){return x})),a.d(t,"a",(function(){return f}));var n=a(51),c=a(17),r=a(80),i=a(222),l=a(406),s=a(10),o=a(276),j=a(0),u=a(21),d=a(286),b=a(300),h=a(31),O=a(1);function x(e){var t,a,s=e.field,o=Object(j.useContext)(u.a),x=o.newBuild,f=o.equippedBuild,v=o.compareBuild,p=x||f,m=Object(j.useMemo)((function(){var e;return!!p&&(null===s||void 0===s||null===(e=s.canShow)||void 0===e?void 0:e.call(s,p))}),[s,p]),g=(null===s||void 0===s?void 0:s.fixed)||0,y=Object(j.useMemo)((function(){if(s.value)return d.a.getTalentFieldValue(s,"value",p);if(s.formula){var e,t,a=null===(e=d.a.getTalentFieldValue(s,"formula",p))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.call(e,p);if(v&&f&&"number"===typeof a){var n,c,r,i,l,o,j,u,b,x=s.value?s.value:null===(n=s.formula)||void 0===n||null===(c=n.call(s,f))||void 0===c||null===(r=c[0])||void 0===r?void 0:r.call(c,f);"function"===typeof x&&(x=parseInt(null===(i=x)||void 0===i||null===(l=i(f))||void 0===l||null===(o=l.toFixed)||void 0===o?void 0:o.call(l,g)));var m=a-x;a=Object(O.jsxs)("span",{children:[null!==(j=null===(u=x)||void 0===u?void 0:u.toFixed(g))&&void 0!==j?j:x,m?Object(O.jsxs)(h.a,{color:m>0?"success":"error",children:[" (",m>0?"+":"",(null===m||void 0===m||null===(b=m.toFixed)||void 0===b?void 0:b.call(m,g))||m,")"]}):""]})}return a}}),[v,g,f,s,p]),S=Object(j.useMemo)((function(){return d.a.getTalentFieldValue(s,"text",p)}),[s,p]),k=Object(j.useMemo)((function(){return d.a.getTalentFieldValue(s,"variant",p)}),[s,p]),w=Object(j.useMemo)((function(){var e=d.a.getTalentFieldValue(s,"formulaText",p);return e?Object(O.jsx)(b.a,{placement:"top",title:Object(O.jsx)(r.a,{children:e}),children:Object(O.jsx)(i.a,{component:"span",sx:{cursor:"help",ml:1},children:Object(O.jsx)(c.a,{icon:n.v})})}):null}),[s,p]),C=Object(j.useMemo)((function(){return d.a.getTalentFieldValue(s,"unit",p)}),[s,p]);return m?Object(O.jsxs)(l.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("b",{children:S}),w]}),Object(O.jsxs)(r.a,{color:"".concat(k,".main"),children:[null!==(t=null===y||void 0===y||null===(a=y.toFixed)||void 0===a?void 0:a.call(y,g))&&void 0!==t?t:y,C]})]}):null}var f=Object(s.a)(o.a)((function(e){var t=e.theme;return{borderRadius:t.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:t.palette.contentDark.main},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:t.palette.contentDarker.main}}}))},300:function(e,t,a){"use strict";var n=a(6),c=a(5),r=a(65),i=a(10),l=a(1010),s=a(606),o=a(1),j=Object(i.a)((function(e){var t=e.className,a=Object(r.a)(e,["className"]);return Object(o.jsx)(l.a,Object(c.a)(Object(c.a)({},a),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,a=e.theme;return t={},Object(n.a)(t,"& .".concat(s.a.arrow),{color:a.palette.common.black}),Object(n.a)(t,"& .".concat(s.a.tooltip),{backgroundColor:a.palette.common.black}),t}));t.a=j},305:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(222),c=a(0),r=a(21),i=a(114),l=a(288),s=a(12),o=a(318),j=a(296),u=a(1);function d(e){var t=e.sections,a=e.characterKey,d=e.skipConditionalEquipmentCheck,b=Object(c.useContext)(r.a),h=b.newBuild,O=b.equippedBuild,x=h||O,f=Object(l.a)(a),v=Object(c.useCallback)((function(e){return f({conditionalValues:e})}),[f]);if(!x)return null;var p=null===t||void 0===t?void 0:t.map((function(e,t){var a,c;if(!e.canShow(x))return null;var r=Object(s.f)(e.text,x),l=null!==(a=e.fields)&&void 0!==a?a:[],b=e.conditional&&"partyOnly"!==e.conditional.partyBuff&&i.a.canShow(e.conditional,x,d);return r||l.length||b?Object(u.jsxs)(n.a,{display:"flex",flexDirection:"column",gap:1,children:[r&&Object(u.jsx)("div",{children:r}),l.length>0&&Object(u.jsx)(j.a,{children:null===l||void 0===l||null===(c=l.map)||void 0===c?void 0:c.call(l,(function(e,t){return Object(u.jsx)(j.b,{field:e},t)}))}),!!e.conditional&&b&&Object(u.jsx)(o.a,{conditional:e.conditional,stats:x,onChange:v,hideDesc:!0,skipConditionalEquipmentCheck:d})]},"section"+t):null})).filter((function(e){return e}));return p.length?Object(u.jsx)(n.a,{display:"flex",flexDirection:"column",gap:1,children:p}):null}},306:function(e,t,a){"use strict";var n=a(5),c=a(65),r=a(10),i=a(279),l=a(1),s=Object(r.a)((function(e){e.expand;var t=Object(c.a)(e,["expand"]);return Object(l.jsx)(i.a,Object(n.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));t.a=s},307:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return j}));var n=a(3),c=a(74),r=a(138),i=a(16),l=a(12),s=a(1);function o(e,t,a){if("basicKeys"===e)return"Basic Stats";if("genericAvgHit"===e)return"Generic Optimization Values";if("transReactions"===e)return"Transformation Reaction";if(e.startsWith("talentKey_")){var c,i,l=e.split("talentKey_")[1];return null!==(c=null===(i=t.characterSheets[a.characterKey].getTalentOfKey(l,a.characterEle))||void 0===i?void 0:i.name)&&void 0!==c?c:l}if(e.startsWith("weapon_")){var o,j=e.split("weapon_")[1];return null!==(o=t.weaponSheets[a.weapon.key].name)&&void 0!==o?o:j}if(e.startsWith("artifact_")){var u,d=e.split("_"),b=Object(n.a)(d,3),h=b[1],O=b[2];return Object(s.jsxs)("span",{children:[null===(u=t.artifactSheets[h])||void 0===u?void 0:u.name," ",Object(s.jsxs)(r.a,{color:"success",children:[O,"-Set"]})]})}return""}function j(e){return{key:e,level:1,ascension:0,hitMode:"avgHit",reactionMode:"",equippedArtifacts:Object(l.o)(i.i,(function(){return""})),equippedWeapon:"",conditionalValues:{},bonusStats:{},buildSettings:Object(c.a)(),talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0,team:["","",""]}}},308:function(e,t,a){"use strict";var n=a(367),c=Object(n.a)("img")((function(e){var t=e.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:t.spacing(-3),marginLeft:t.spacing(-1.25),marginRight:t.spacing(-1),marginBottom:t.spacing(-1)}}));t.a=c},309:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,c=a(41),r=a(368),i=a(80),l=a(135),s=a(140),o=a(137),j=a(1);function u(e){var t=e.location,a=Object(l.a)("ui").t,u=Object(o.a)(s.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(j.jsx)(i.a,{component:"span",children:(null===u||void 0===u?void 0:u.name)?u.nameWIthIcon:Object(j.jsxs)("span",{children:[Object(j.jsx)(r.a,{sx:{verticalAlign:"text-bottom"}})," ",a(n||(n=Object(c.a)(["inventory"])))]})})}},313:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(222),c=a(80),r=a(0),i=a(286),l=a(113),s=a(143),o=a(137),j=a(22),u=a(57),d=a(31),b=a(139),h=a(1);function O(e){var t,a,r=e.label,i=void 0===r?"":r,l=e.val,s=e.oldVal,o=e.fixed,j=void 0===o?0:o,u=e.unit,b=void 0===u?"":u,O=e.hasBonus,x=void 0!==O&&O;"undefined"===typeof s&&"number"===typeof l&&(s=l,l=void 0);var f=void 0!==l?l-s:0,v="",p="";s||0===f?v=null===(t=s)||void 0===t?void 0:t.toFixed(j):void 0===s&&(v=null===(a=l)||void 0===a?void 0:a.toFixed(j)),v&&(v=Object(h.jsxs)("span",{children:[v,b]})),0!==f&&(p=Object(h.jsxs)(d.a,{color:f>0?"success":"error",children:[f>0?"+":"",null===f||void 0===f?void 0:f.toFixed(j),b]}));var m=Object(h.jsxs)(h.Fragment,{children:[v,p]});return Object(h.jsxs)(n.a,{display:"flex",justifyContent:"space-between",children:[Object(h.jsx)(c.a,{children:i}),Object(h.jsx)(c.a,{children:x?Object(h.jsx)("strong",{children:m}):m})]})}function x(e){var t=e.character,a=e.equippedBuild,x=e.newBuild,f=e.statKey,v=e.partyBuff,p=void 0!==v&&v,m=Object(o.a)(Array.isArray(f)?s.a.get(f):void 0,[f]),g=Object(r.useMemo)((function(){var e,n,c,r,l="";if("string"===typeof f){if(x&&a){var s,o,O,v,g,y;if(e=null!==(s=null===x||void 0===x?void 0:x[f])&&void 0!==s?s:0,n=null!==(o=null===a||void 0===a?void 0:a[f])&&void 0!==o?o:0,p)e=null!==(O=null===x||void 0===x||null===(v=x.partyBuff)||void 0===v?void 0:v[f])&&void 0!==O?O:0,n=null!==(g=null===a||void 0===a||null===(y=a.partyBuff)||void 0===y?void 0:y[f])&&void 0!==g?g:0}else{var S,k,w,C=x||a;if(e=null!==(S=null===C||void 0===C?void 0:C[f])&&void 0!==S?S:0,p)e=null!==(k=null===C||void 0===C||null===(w=C.partyBuff)||void 0===w?void 0:w[f])&&void 0!==k?k:0;p||(n=Object(u.a)(t)[f],C&&("finalHP"===f?n=C.characterHP:"finalDEF"===f?n=C.characterDEF:"finalATK"===f&&(n=C.characterATK+C.weaponATK)))}r=j.b.getStatUnit(f),c=j.b.fixedUnit(f),l=Object(h.jsxs)("span",{children:[b.a[f]," ",j.b.getStatName(f)]})}else if(m){var _,B,E,K,A=x||a,T=m.field,F=i.a.getTalentFieldValue(T,"variant",A);if(l=Object(h.jsx)(d.a,{color:F,children:i.a.getTalentFieldValue(T,"text",A)}),c=i.a.getTalentFieldValue(T,"fixed",A,0),r=i.a.getTalentFieldValue(T,"unit",A,""),e=null===(_=i.a.getTalentFieldValue(T,"formula",A))||void 0===_||null===(B=_[0])||void 0===B?void 0:B.call(_,A),x&&a)n=null===(E=i.a.getTalentFieldValue(T,"formula",a))||void 0===E||null===(K=E[0])||void 0===K?void 0:K.call(E,a)}return{val:e,oldVal:n,fixed:c,unit:r,label:l,hasBonus:i.a.hasBonusStats(t,f)}}),[t,a,x,f,p,m]),y=g.val,S=g.oldVal,k=g.fixed,w=g.unit,C=g.label,_=g.hasBonus;if(y&&"number"!==typeof y||S&&"number"!==typeof S){var B=y;return"infusionAura"===f&&(B=Object(h.jsx)(d.a,{color:y,children:Object(l.h)("element.".concat(y))})),Object(h.jsxs)(n.a,{display:"flex",justifyContent:"space-between",children:[Object(h.jsx)(c.a,{children:C}),Object(h.jsx)(c.a,{children:Object(h.jsx)("strong",{children:B})})]})}return Object(h.jsx)(O,{val:y,oldVal:S,fixed:k,unit:w,label:C,hasBonus:_})}},315:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(3),c=a(0),r=a(179);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(c.useContext)(r.b),a=Object(c.useState)(t._getWeapon(e)),i=Object(n.a)(a,2),l=i[0],s=i[1];return Object(c.useEffect)((function(){return s(t._getWeapon(e))}),[t,e]),Object(c.useEffect)((function(){return e?t.followWeapon(e,s):void 0}),[e,s,t]),l}},318:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(3),c=a(11),r=a(360),i=a(260),l=a(480),s=a(222),o=a(0),j=a(114),u=a(374),d=a(375),b=a(1026),h=a(80),O=a(278),x=a(285),f=a(138),v=a(12),p=a(1);function m(e){var t=e.conditional,a=e.conditionalValue,r=e.setConditional,l=e.name,s=e.disabled,o=void 0!==s&&s,j=e.stats,m=Object(n.a)(a,2),g=m[0],y=void 0===g?0:g,S=m[1];if(!t)return l;if("states"in t){var k=S?t.states[S]:Object.values(t.states)[0],w=0===y?"Not Active":Object(p.jsxs)("span",{children:[k.name," ",Object(v.f)(k.maxStack,j)>1?": ".concat(y," stack").concat(y>1?"s":""):""]}),C=Object(p.jsx)(f.a,{color:0===y?"secondary":"success",children:w});return Object(p.jsxs)(x.a,{fullWidth:!0,size:"small",title:Object(p.jsxs)("span",{children:[l," ",C]}),disabled:o,children:[Object(p.jsx)(b.a,{onClick:function(){return r([0])},selected:0===y,disabled:0===y,children:Object(p.jsx)("span",{children:"Not Active"})}),Object(p.jsx)(i.a,{}),Object.entries(t.states).flatMap((function(e,t){var a=Object(n.a)(e,2),i=a[0],l=a[1];return Object(c.a)(Array(l.maxStack).keys()).map((function(e){return e+1})).map((function(e,t){return Object(p.jsxs)(b.a,{onClick:function(){return r([e,i])},selected:S===i&&y===e,disabled:S===i&&y===e,children:[l.name,l.maxStack>1?": ".concat(e," stack").concat(e>1?"s":""):""]},i+t)}))}))]})}var _=Object(v.f)(t.maxStack,j);if(0===_)return l?Object(p.jsx)(h.a,{children:l}):null;if(1===_)return Object(p.jsx)(O.a,{fullWidth:!0,size:"small",onClick:function(){return r([y?0:1])},disabled:o,startIcon:y?Object(p.jsx)(u.a,{}):Object(p.jsx)(d.a,{}),children:l});if(_>1){var B=Object(p.jsx)(f.a,{color:0===y?"secondary":"success",children:y>0?"".concat(y," stack").concat(y>1?"s":""):"Not Active"});return Object(p.jsxs)(x.a,{fullWidth:!0,size:"small",title:Object(p.jsxs)("span",{children:[l," ",B]}),disabled:o,children:[Object(p.jsx)(b.a,{onClick:function(){return r([0])},selected:0===y,disabled:0===y,children:Object(p.jsx)("span",{children:"Not Active"})}),Object(p.jsx)(i.a,{}),Object(c.a)(Array(_).keys()).map((function(e){return e+1})).map((function(e){return Object(p.jsx)(b.a,{onClick:function(){return r([e])},selected:y===e,disabled:y===e,children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})}return null}var g=a(115),y=a(284),S=a(296);function k(e){var t=e.conditional,a=e.stats,u=e.hideHeader,d=void 0!==u&&u,b=e.hideDesc,h=void 0!==b&&b,O=e.onChange,x=e.skipConditionalEquipmentCheck,f=void 0!==x&&x,k=Object(o.useMemo)((function(){return j.a.canShow(t,a,f)}),[t,a,f]),w=Object(o.useMemo)((function(){return k?j.a.resolve(t,a,void 0):{stats:{},fields:[],conditionalValue:[0]}}),[k,t,a]),C=w.stats,_=void 0===C?{}:C,B=w.fields,E=void 0===B?[]:B,K=w.conditionalValue,A=Object(o.useMemo)((function(){return k?[].concat(Object(c.a)(Object(g.a)(_,a)),Object(c.a)(E)):[]}),[k,_,a,E]),T=Object(o.useCallback)((function(e){var c=Object(n.a)(e,1)[0];(void 0===c?0:c)?t.keys&&Object(v.k)(a.conditionalValues,t.keys,e):(Object(v.e)(a.conditionalValues,t.keys),Object(v.l)(a.conditionalValues)),O(a.conditionalValues)}),[t,a,O]),F=!h&&t.description&&Object(v.f)(t.description,a);return k&&a?Object(p.jsxs)(y.a,{children:[!d&&t.header&&Object(p.jsx)(r.a,{avatar:t.header.icon&&Object(v.f)(t.header.icon,a),title:t.header.title,action:t.header.action,titleTypographyProps:{variant:"subtitle2"}}),!d&&t.header&&Object(p.jsx)(i.a,{}),!!t.name&&Object(p.jsxs)(l.a,{children:[F&&Object(p.jsx)(s.a,{mb:1,children:F}),Object(p.jsx)(m,{conditional:t,conditionalValue:K,setConditional:T,name:t.name,stats:a})]}),Object(p.jsx)(S.a,{sx:{m:0},children:A.map((function(e,t){return Object(p.jsx)(S.b,{field:e},t)}))})]}):null}},324:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(3),c=a(20),r=a(6),i=a(5),l=a(11),s=a(12),o=a(82),j=a(118),u=[3,4,6],d={hp:6,atk:6,def:6,hp_:4,atk_:4,def_:4,eleMas:4,enerRech_:4,critRate_:3,critDMG_:3},b={};function h(e,t,a,n){if(5!==e.length)for(var c=0,o=u;c<o.length;c++){var j=o[c];t[j]>0&&h([].concat(Object(l.a)(e),[j]),Object(i.a)(Object(i.a)({},t),{},Object(r.a)({},j,t[j]-j)),a-j,n*t[j]/a)}else Object(s.k)(b,e,n)}h([0],{3:6,4:20,6:18},44,1),h([3],{3:3,4:20,6:18},41,1),h([4],{3:6,4:16,6:18},40,1),h([6],{3:6,4:20,6:12},38,1);for(var O=Array(6).fill(0).map((function(e,t){for(var a=[1],n=0,c=1;++n<=t;)c*=t-n+1,c/=n,a.push(c);return a})),x=[[1]],f=function(){var e=x[x.length-1],t=Array(e.length+3).fill(0);e.forEach((function(e,a){for(var n=0,c=[0,1,2,3];n<c.length;n++){t[a+c[n]]+=e}})),x.push(t.map((function(e){return e/4})))};x.length<6;)f();for(var v=function(){var e=m[p],t=e.reduce((function(e,t){return e+t}));e.forEach((function(e,a,n){n[a]=t,t-=e}))},p=0,m=x;p<m.length;p++)v();function g(e,t){if(e.rarity<=2)return NaN;var a=e.rarity,l=e.level,h=e.substats,f=Object(i.a)({},t),v=new Set(Object.keys(f)),p=0,m=e.mainStatKey;if(m in f){var g=4*a;if(j[a][m][g]<f[m])return 0;delete f[m],v.delete(m)}var y,S=Object(c.a)(h);try{for(S.s();!(y=S.n()).done;){var k=y.value,w=k.key,C=k.value;w?v.has(w)&&(v.delete(w),f[w]>C?f[w]-=C:delete f[w]):p+=1}}catch(M){S.e(M)}finally{S.f()}if(p+=4-h.length,v.size>p||Object.keys(f).length>4)return 0;for(var _=o.a.rollsRemaining(l,a)-p,B=0,E=Object.entries(f);B<E.length;B++){var K=Object(n.a)(E[B],2),A=K[0],T=K[1];f[A]=Math.max(Math.ceil(10*T/o.a.maxSubstatValues(A,a)),1)}var F=0,V=Object.entries(f).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],r=v.has(a)?1:0,i=Math.ceil(c/10)-r;return F+=i,{target:c,filler:r,minUpgrade:i}})).reverse();if(F>_)return 0;var D=Object(r.a)({},_,1),N=_-F;return V.forEach((function(e,t){for(var a,c,r,i=e.target,l=e.filler,s=e.minUpgrade,o={},j=s;j<=s+N;j++)for(var u=i-7*(j+l),d=u>0?x[j+l][u]:1,b=0,h=Object.entries(D);b<h.length;b++){var f,v=Object(n.a)(h[b],2),p=v[0],m=v[1],g=parseInt(p);if(!(g<j)){var y=(c=j,r=4-t,O[a=g][c]*Math.pow(r-1,a-c)/Math.pow(r,a)),S=g-j;o[S]=(null!==(f=o[S])&&void 0!==f?f:0)+m*d*y}}D=o})),function(e,t,a){var n,r,i=null!==(n=d[e])&&void 0!==n?n:0,l=0,o={3:2,4:5,6:3},j=b[i],h=Object(c.a)(t);try{for(h.s();!(r=h.n()).done;){var x=r.value.key;if(x){var f=d[x];j=j[f],o[f]-=1}}}catch(M){h.e(M)}finally{h.f()}i&&(o[i]-=1);var v,p={3:0,4:0,6:0},m=Object(c.a)(a);try{for(m.s();!(v=m.n()).done;){var g=v.value;p[d[g]]+=1}}catch(M){m.e(M)}finally{m.f()}var y=0;Object(s.c)(j,[],(function(e){return"number"===typeof e}),(function(e,t){y+=e;var a,n={3:0,4:0,6:0},r=Object(c.a)(t);try{for(r.s();!(a=r.n()).done;){n[a.value]+=1}}catch(M){r.e(M)}finally{r.f()}var i,s=e,o=Object(c.a)(u);try{for(o.s();!(i=o.n()).done;){var j=i.value,d=n[j],b=p[j];if(d<b)return;s*=O[d][b]}}catch(M){o.e(M)}finally{o.f()}l+=s}));var S,k=Object(c.a)(u);try{for(k.s();!(S=k.n()).done;){var w=S.value;l/=O[o[w]][p[w]]}}catch(M){k.e(M)}finally{k.f()}return l/y}(e.mainStatKey,h,v)*Object.values(D).reduce((function(e,t){return e+t}))}},325:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),c=a(138),r=a(12),i=a(1);function l(e){var t=e.value,a=e.valid,l="number"===typeof t?["roll".concat(Object(r.a)(Math.floor(.05*t)+1,1,6)),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(l,2),o=s[0],j=s[1];return a||(o="error"),Object(i.jsx)(c.a,{color:o,children:j})}},326:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5),c=a(65),r=a(10),i=a(278),l=a(1),s=Object(r.a)(i.a)((function(e){var t=e.theme;return{"&.Mui-disabled":{backgroundColor:t.palette.primary.dark,color:t.palette.text.secondary}}}));function o(e){var t=e.children,a=(e.disabled,Object(c.a)(e,["children","disabled"]));return Object(l.jsx)(s,Object(n.a)(Object(n.a)({},a),{},{disabled:!0,children:t}))}},327:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),c=a(65),r=a(369),i=a(10),l=a(976),s=a(278),o=a(293),j=a(326),u=a(1),d=Object(i.a)(l.a)({display:"flex"});function b(e){var t=e.name,a=e.children,i=e.value,l=e.placeholder,b=e.defaultValue,h=void 0===b?0:b,O=e.onValueChange,x=e.percent,f=void 0!==x&&x,v=e.disabled,p=void 0!==v&&v,m=e.onReset,g=Object(c.a)(e,["name","children","value","placeholder","defaultValue","onValueChange","percent","disabled","onReset"]);return Object(u.jsxs)(d,Object(n.a)(Object(n.a)({},g),{},{children:[a,Object(u.jsx)(j.a,{sx:{whiteSpace:"nowrap"},children:t}),Object(u.jsx)(o.a,{sx:{flexBasis:30,flexGrow:1},children:Object(u.jsx)(o.c,{sx:{px:1},inputProps:{sx:{textAlign:"right"}},float:f,placeholder:l,value:i,onChange:O,disabled:p,endAdornment:f?"%":void 0})}),Object(u.jsx)(s.a,{onClick:function(){return m?m():O(h)},disabled:p||i===h,children:Object(u.jsx)(r.a,{})})]}))}},330:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(11),c=a(3),r=a(480),i=a(272),l=a(260),s=a(409),o=a(222),j=a(80),u=a(0),d=a(289),b=a(137),h=a(16),O=a(142),x=a(284),f=a(282),v=a(290),p=a(71),m=a(291),g=a(287),y=a(311),S=a(1);function k(e){var t=e.show,a=e.onHide,k=e.onSelect,w=e.filter,C=void 0===w?function(){return!0}:w,_=e.weaponFilter,B=Object(b.a)(O.a.getAll(),[]),E=Object(u.useState)(null!==_&&void 0!==_?_:""),K=Object(c.a)(E,2),A=K[0],T=K[1];Object(u.useEffect)((function(){return _&&T(_)}),[_]);var F=B?Object(n.a)(new Set(h.j)).filter((function(e){return C(B[e])})).filter((function(e){var t;return!A||A===(null===B||void 0===B||null===(t=B[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var a,n,c,r;return(null!==(a=null===B||void 0===B||null===(n=B[t])||void 0===n?void 0:n.rarity)&&void 0!==a?a:0)-(null!==(c=null===B||void 0===B||null===(r=B[e])||void 0===r?void 0:r.rarity)&&void 0!==c?c:0)})):[];return B?Object(S.jsx)(m.a,{open:t,onClose:a,children:Object(S.jsxs)(x.a,{children:[Object(S.jsx)(r.a,{sx:{py:1},children:Object(S.jsxs)(i.a,{container:!0,children:[Object(S.jsx)(i.a,{item:!0,flexGrow:1,children:Object(S.jsx)(y.a,{value:A,onChange:T,disabled:!!_,size:"small"})}),Object(S.jsx)(i.a,{item:!0,children:Object(S.jsx)(v.a,{onClick:a})})]})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(r.a,{children:Object(S.jsx)(i.a,{container:!0,spacing:1,children:F.map((function(e){var t,n=B[e];return Object(S.jsx)(i.a,{item:!0,lg:3,md:4,children:Object(S.jsx)(f.a,{sx:{height:"100%"},children:Object(S.jsxs)(s.a,{onClick:function(){a(),k(e)},sx:{display:"flex"},children:[Object(S.jsx)(o.a,{component:"img",src:n.img,sx:{width:100,height:"auto"},className:" grad-".concat(n.rarity,"star")}),Object(S.jsxs)(o.a,{sx:{flexGrow:1,px:1},children:[Object(S.jsx)(j.a,{variant:"subtitle1",children:n.name}),Object(S.jsxs)(j.a,{children:[Object(S.jsx)(p.a,{src:null===(t=d.a.weaponTypes)||void 0===t?void 0:t[n.weaponType]})," ",Object(S.jsx)(g.a,{stars:n.rarity,colored:!0})]})]})]})})},e)}))})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(r.a,{sx:{py:1},children:Object(S.jsx)(v.a,{large:!0,onClick:a})})]})}):null}},331:function(e,t,a){"use strict";a.d(t,"a",(function(){return V}));var n=a(3),c=a(51),r=a(17),i=a(386),l=a(387),s=a(409),o=a(177),j=a(360),u=a(279),d=a(272),b=a(80),h=a(222),O=a(480),x=a(976),f=a(278),v=a(0),p=a(289),m=a(282),g=a(292),y=a(309),S=a(304),k=a(71),w=a(287),C=a(139),_=a(46),B=a(179),E=a(137),K=a(315),A=a(22),T=a(142),F=a(1);function V(e){var t,a=e.weaponId,V=e.onClick,D=e.onEdit,N=e.onDelete,M=e.canEquip,R=void 0!==M&&M,W=Object(v.useContext)(B.b),I=Object(K.a)(a),q=Object(E.a)((null===I||void 0===I?void 0:I.key)&&T.a.get(I.key),[null===I||void 0===I?void 0:I.key]),z=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===q||void 0===q?void 0:q.weaponType)}),[q]),L=Object(v.useCallback)((function(e){return Object(F.jsx)(s.a,{onClick:function(){return null===V||void 0===V?void 0:V(a)},sx:{height:"100%"},children:e})}),[V,a]),G=Object(v.useCallback)((function(e){return W.setWeaponLocation(a,e)}),[W,a]);if(!I||!q)return null;var P=I.level,U=I.ascension,H=I.refinement,J=I.id,X=I.location,Q=void 0===X?"":X,Y=I.lock,Z=q.weaponType,$=q.getMainStatValue(P,U).toFixed(A.b.fixedUnit("atk")),ee=q.getSubStatKey(),te=q.getSubStatValue(P,U).toFixed(A.b.fixedUnit(ee)),ae=[["weaponATK",$]];(null===q||void 0===q?void 0:q.passiveName)&&ae.push([ee,te]);var ne=U<2?null===q||void 0===q?void 0:q.img:null===q||void 0===q?void 0:q.imgAwaken;return Object(F.jsx)(v.Suspense,{fallback:Object(F.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(F.jsx)(S.a,{condition:!!V,wrapper:L,children:Object(F.jsxs)(m.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(F.jsxs)("div",{className:"grad-".concat(q.rarity,"star"),children:[Object(F.jsx)(j.a,{title:q.name,avatar:Object(F.jsx)(k.a,{sx:{fontSize:"2em"},src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[Z]}),titleTypographyProps:{variant:"h6"},action:!V&&Object(F.jsx)(u.a,{color:"primary",onClick:function(){return W.updateWeapon({lock:!Y},J)},children:Y?Object(F.jsx)(i.a,{}):Object(F.jsx)(l.a,{})})}),Object(F.jsxs)(d.a,{container:!0,sx:{flexWrap:"nowrap",pl:2},children:[Object(F.jsxs)(d.a,{item:!0,flexGrow:1,children:[Object(F.jsxs)(b.a,{component:"span",variant:"h4",children:["Lv. ",P]}),Object(F.jsxs)(b.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",_.b[U]]}),Object(F.jsxs)(b.a,{variant:"h6",children:["Refinement ",Object(F.jsx)("strong",{children:H})]}),Object(F.jsx)(b.a,{children:Object(F.jsx)(w.a,{stars:q.rarity,colored:!0})})]}),Object(F.jsx)(d.a,{item:!0,container:!0,maxWidth:"40%",alignContent:"flex-end",sx:{mt:-3},children:Object(F.jsx)(h.a,{component:"img",src:ne,width:"100%",height:"auto"})})]})]}),Object(F.jsx)(O.a,{children:ae.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],r=A.b.getStatUnit(a);return Object(F.jsxs)(h.a,{sx:{display:"flex"},children:[Object(F.jsxs)(b.a,{flexGrow:1,children:[C.a[a]," ",A.b.getStatName(a)]}),Object(F.jsx)(b.a,{children:c+r})]},a)}))}),Object(F.jsx)(h.a,{flexGrow:1}),Object(F.jsx)(O.a,{sx:{py:1},children:Object(F.jsxs)(d.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(F.jsx)(d.a,{item:!0,xs:"auto",flexShrink:1,children:R?Object(F.jsx)(g.b,{size:"small",noUnselect:!0,inventory:!0,value:Q,onChange:G,filter:z}):Object(F.jsx)(y.a,{location:Q})}),Object(F.jsx)(d.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(F.jsx)(d.a,{item:!0,xs:"auto",children:Object(F.jsxs)(x.a,{sx:{height:"100%"},children:[!!D&&Object(F.jsx)(f.a,{color:"info",size:"small",onClick:function(){return D(J)},children:Object(F.jsx)(r.a,{icon:c.m,className:"fa-fw"})}),!!N&&Object(F.jsx)(f.a,{color:"error",size:"small",onClick:function(){return N(J)},disabled:!!Q||Y,children:Object(F.jsx)(r.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})})}},333:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var n=a(41),c=a(51),r=a(17),i=a(386),l=a(387),s=a(80),o=a(177),j=a(480),u=a(222),d=a(407),b=a(279),h=a(272),O=a(408),x=a(482),f=a(976),v=a(278),p=a(1010),m=a(0),g=a(135),y=a(300),S=a(282),k=a(292),w=a(309),C=a(31),_=a(138),B=a(287),E=a(179),K=a(3);var A,T,F,V=a(137),D=a(22),N=a(73),M=a(146),R=a(12),W=a(82),I=a(141),q=a(147),z=a(325),L=a(324),G=a(1),P=new Set(N.b);function U(e){var t,a,N,U,H=e.artifactId,J=e.artifactObj,X=e.onEdit,Q=e.onDelete,Y=e.mainStatAssumptionLevel,Z=void 0===Y?0:Y,$=e.effFilter,ee=void 0===$?P:$,te=e.probabilityFilter,ae=Object(g.a)(["artifact"]).t,ne=Object(m.useContext)(E.b),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(m.useContext)(E.b),a=Object(m.useState)(t._getArt(e)),n=Object(K.a)(a,2),c=n[0],r=n[1];return Object(m.useEffect)((function(){return r(t._getArt(e))}),[t,e]),Object(m.useEffect)((function(){return e?t.followArt(e,r):void 0}),[e,r,t]),c}(H),re=Object(V.a)(I.a.get(null===(t=null!==J&&void 0!==J?J:ce)||void 0===t?void 0:t.setKey),[J,ce]),ie=!J&&ne===E.c,le=null!==J&&void 0!==J?J:ce;if(!le)return null;var se=le.id,oe=le.lock,je=le.slotKey,ue=le.rarity,de=le.level,be=le.mainStatKey,he=le.substats,Oe=le.exclude,xe=le.location,fe=void 0===xe?"":xe,ve=Math.max(Math.min(Z,4*ue),de),pe="roll"+(Math.floor(Math.max(de,0)/4)+1),me=Object(G.jsx)(C.a,{color:ve!==de?"warning":void 0,children:Object(M.b)(null!==(a=W.a.mainStatValue(be,ue,ve))&&void 0!==a?a:0,D.b.getStatUnit(be))}),ge=W.a.getArtifactEfficiency(le,ee),ye=ge.currentEfficiency,Se=ge.maxEfficiency,ke=0!==Se,we=(null===re||void 0===re?void 0:re.getSlotName(je))||"Unknown Piece Name",Ce=null===re||void 0===re?void 0:re.getSlotDesc(je),_e=Ce&&Object(G.jsx)(y.a,{placement:"top",title:Object(G.jsx)(s.a,{children:Ce}),children:Object(G.jsx)("span",{children:Object(G.jsx)(r.a,{icon:c.s})})}),Be=null===re||void 0===re?void 0:re.setEffects,Ee=re&&Be&&Object(G.jsx)(y.a,{placement:"top",title:Object(G.jsx)("span",{children:Object.keys(Be).map((function(e){return Object(G.jsxs)("span",{children:[Object(G.jsx)(s.a,{variant:"h6",children:Object(G.jsx)(_.a,{color:"success",children:ae("setEffectNum",{setNum:e})})}),Object(G.jsx)(s.a,{children:re.setEffectDesc(e)})]},e)}))}),children:Object(G.jsx)("span",{children:Object(G.jsx)(r.a,{icon:c.s})})});return Object(G.jsx)(m.Suspense,{fallback:Object(G.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(G.jsxs)(S.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(G.jsxs)(j.a,{className:"grad-".concat(ue,"star"),sx:{pt:1,pb:0,pr:0},children:[Object(G.jsxs)(u.a,{component:"div",sx:{display:"flex",alignItems:"center",pr:1},children:[Object(G.jsx)(d.a,{size:"small",label:Object(G.jsx)("strong",{children:" +".concat(de)}),color:pe}),Object(G.jsxs)(s.a,{sx:{pl:1,flexGrow:1},children:[we," ",_e]}),Object(G.jsx)(b.a,{color:"primary",disabled:!ie,onClick:function(){return ne.updateArt({lock:!oe},se)},children:oe?Object(G.jsx)(i.a,{}):Object(G.jsx)(l.a,{})})]}),Object(G.jsxs)(h.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(G.jsxs)(h.a,{item:!0,flexGrow:1,children:[Object(G.jsx)(s.a,{color:"text.secondary",variant:"body2",children:Object(G.jsx)(q.c,{slotKey:je})}),Object(G.jsx)(s.a,{variant:"h6",children:D.b.getStatName(be)}),Object(G.jsx)(s.a,{variant:"h5",children:Object(G.jsx)("strong",{children:me})}),Object(G.jsx)(B.a,{stars:ue,colored:!0})]}),Object(G.jsx)(h.a,{item:!0,maxWidth:"40%",sx:{mt:-3,mb:-1,pl:-2},alignSelf:"flex-end",children:Object(G.jsx)(O.a,{component:"img",image:null!==(N=null===re||void 0===re?void 0:re.slotIcons[je])&&void 0!==N?N:"",width:"100%",height:"auto"})})]})]}),Object(G.jsxs)(j.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0},children:[he.map((function(e,t){var a,n,c;if(!e.value)return null;var r=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,i="roll".concat(Object(R.a)(r,1,6)),l=null!==(c=e.efficiency)&&void 0!==c?c:0,o=.3+l/100*.7,j=D.b.getStatName(e.key);return Object(G.jsxs)(u.a,{sx:{display:"flex"},children:[Object(G.jsxs)(u.a,{sx:{flexGrow:1},children:[Object(G.jsx)(_.a,{color:r?i:"error",sx:{mr:1},children:Object(G.jsx)("strong",{children:r||"?"})}),Object(G.jsxs)(s.a,{color:r?"".concat(i,".main"):"error.main",component:"span",children:[j,"+".concat(Object(M.b)(e.value,D.b.getStatUnit(e.key)))]})]}),Object(G.jsx)(s.a,{sx:{opacity:o},children:e.key&&ee.has(e.key)?Object(M.b)(l,"eff"):"-"})]},t)})),Object(G.jsxs)(u.a,{sx:{display:"flex",my:1},children:[Object(G.jsx)(s.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ae(A||(A=Object(n.a)(["editor.curSubEff"])))}),Object(G.jsx)(z.a,{value:ye,valid:ke})]}),ye!==Se&&Object(G.jsxs)(u.a,{sx:{display:"flex",mb:1},children:[Object(G.jsx)(s.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ae(T||(T=Object(n.a)(["editor.maxSubEff"])))}),Object(G.jsx)(z.a,{value:Se,valid:ke})]}),Object(G.jsx)(u.a,{flexGrow:1}),te&&Object(G.jsxs)("strong",{children:["Probability: ",(100*Object(L.a)(le,te)).toFixed(2),"%"]}),Object(G.jsxs)(s.a,{color:"success.main",children:[null!==(U=null===re||void 0===re?void 0:re.name)&&void 0!==U?U:"Artifact Set"," ",Ee]})]}),Object(G.jsx)(x.a,{children:Object(G.jsxs)(h.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(G.jsx)(h.a,{item:!0,xs:"auto",flexShrink:1,children:ie?Object(G.jsx)(k.b,{size:"small",inventory:!0,value:fe,onChange:function(e){return ne.setArtLocation(H,e)}}):Object(G.jsx)(w.a,{location:fe})}),Object(G.jsx)(h.a,{item:!0,flexGrow:1,sx:{mr:1}}),ie&&Object(G.jsx)(h.a,{item:!0,xs:"auto",children:Object(G.jsxs)(f.a,{sx:{height:"100%"},children:[!!X&&Object(G.jsx)(v.a,{color:"info",onClick:function(){return X(se)},size:"small",children:Object(G.jsx)(r.a,{icon:c.m,className:"fa-fw"})}),Object(G.jsx)(p.a,{title:Object(G.jsx)(s.a,{children:ae(F||(F=Object(n.a)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:Object(G.jsx)(v.a,{onClick:function(){return ne.updateArt({exclude:!Oe},se)},color:Oe?"error":"success",size:"small",children:Object(G.jsx)(r.a,{icon:Oe?c.b:c.e,className:"fa-fw"})})}),!!Q&&Object(G.jsx)(v.a,{color:"error",size:"small",onClick:function(){return Q(se)},disabled:oe,children:Object(G.jsx)(r.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})}},339:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(222),c=a(480),r=a(80),i=a(284),l=a(305),s=a(296),o=a(138),j=a(137),u=a(115),d=a(141),b=a(1);function h(e){var t=e.setKey,a=e.setNumKey,h=e.equippedBuild,O=e.newBuild,x=e.skipConditionalEquipmentCheck,f=Object(j.a)(d.a.get(t),[t]);if(!f)return null;var v=null!==O&&void 0!==O?O:h,p=f.setEffectDesc(a),m=f.setNumStats(a,v),g=Object(u.a)(m,v),y=f.setEffectDocument(a);return Object(b.jsxs)(n.a,{display:"flex",flexDirection:"column",gap:1,children:[Object(b.jsxs)(i.a,{children:[Object(b.jsx)(c.a,{children:Object(b.jsxs)(r.a,{children:[Object(b.jsxs)(o.a,{color:"success",children:[a,"-Set"]})," ",p]})}),Object(b.jsx)(s.a,{sx:{m:0},children:g.map((function(e,t){return Object(b.jsx)(s.b,{field:e},t)}))})]}),y?Object(b.jsx)(l.a,{sections:y,characterKey:v.characterKey,skipConditionalEquipmentCheck:x}):null]})}},349:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(3),c=a(272),r=a(480),i=a(80),l=a(260),s=a(284),o=a(313),j=a(307),u=a(1);function d(e){var t=e.sheets,a=e.character,d=e.equippedBuild,b=e.newBuild,h=e.statsDisplayKeys,O=b||d;return Object(u.jsx)(c.a,{container:!0,spacing:1,children:Object.entries(h).map((function(e){var h=Object(n.a)(e,2),x=h[0],f=h[1],v=Object(j.a)(x,t,O);return Object(u.jsx)(c.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(u.jsxs)(s.a,{sx:{height:"100%"},children:[Object(u.jsx)(r.a,{sx:{py:1},children:Object(u.jsx)(i.a,{variant:"subtitle1",children:v})}),Object(u.jsx)(l.a,{}),Object(u.jsx)(r.a,{children:f.map((function(e){return Object(u.jsx)(o.a,{character:a,equippedBuild:d,newBuild:b,statKey:e},JSON.stringify(e))}))})]})},x)}))})}},350:function(e,t,a){"use strict";a.d(t,"b",(function(){return C})),a.d(t,"c",(function(){return _})),a.d(t,"a",(function(){return B}));var n=a(5),c=a(3),r=a(51),i=a(17),l=a(363),s=a(480),o=a(272),j=a(407),u=a(80),d=a(383),b=a(278),h=a(0),O=a(286),x=a(327),f=a(288),v=a(22),p=a(16),m=a(57),g=a(282),y=a(31),S=a(306),k=a(139),w=a(1);function C(e){var t=e.character,a=Object(h.useState)(!1),n=Object(c.a)(a,2),r=n[0],i=n[1],b=Object(h.useCallback)((function(){return i(!r)}),[i,r]);return Object(w.jsxs)(g.a,{children:[Object(w.jsx)(s.a,{children:Object(w.jsxs)(o.a,{container:!0,children:[Object(w.jsx)(o.a,{item:!0,flexGrow:1,alignItems:"center",children:Object(w.jsxs)(o.a,{container:!0,spacing:1,children:[Object(w.jsx)(o.a,{item:!0,children:Object(w.jsx)(j.a,{size:"small",color:"success",label:Object(w.jsxs)("span",{children:[v.b.getStatName("enemyLevel")," ",Object(w.jsx)("strong",{children:O.a.getStatValueWithBonus(t,"enemyLevel")})]})})}),p.e.map((function(e){return Object(w.jsx)(o.a,{item:!0,children:Object(w.jsx)(u.a,{children:Object(w.jsx)(_,{element:e,character:t})},e)},e)})),Object(w.jsx)(o.a,{item:!0,children:Object(w.jsxs)(u.a,{children:["DEF Reduction ",O.a.getStatValueWithBonus(t,"enemyDEFRed_"),"%"]})})]})}),Object(w.jsx)(o.a,{item:!0,children:Object(w.jsx)(S.a,{expand:r,onClick:b,"aria-expanded":r,"aria-label":"show more",size:"small",sx:{p:0},children:Object(w.jsx)(l.a,{})})})]})}),Object(w.jsx)(d.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(w.jsx)(s.a,{sx:{pt:0},children:Object(w.jsx)(B,{character:t})})})]})}function _(e){var t=e.character,a=e.element,n=!!O.a.getStatValueWithBonus(t,"".concat(a,"_enemyImmunity")),c="".concat(a,"_enemyRes_"),r=n?Object(w.jsxs)("span",{children:[k.b[a]," IMMUNE"]}):Object(w.jsxs)("span",{children:[k.b[a],"RES ",Object(w.jsxs)("strong",{children:[O.a.getStatValueWithBonus(t,c),"%"]})]});return Object(w.jsx)(y.a,{color:a,children:r})}function B(e){var t=e.character,a=e.character.key,c=e.bsProps,l=void 0===c?{xs:12,md:6}:c,s=Object(f.a)(a),j=Object(m.a)(t);return Object(w.jsxs)(o.a,{container:!0,spacing:1,children:[Object(w.jsx)(o.a,Object(n.a)(Object(n.a)({item:!0},l),{},{children:Object(w.jsx)(b.a,{fullWidth:!0,sx:{height:"100%"},size:"small",component:"a",color:"warning",href:"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})),Object(w.jsx)(o.a,Object(n.a)(Object(n.a)({item:!0},l),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:"Enemy Level"}),value:O.a.getStatValueWithBonus(t,"enemyLevel"),placeholder:v.b.getStatNameRaw("enemyLevel"),defaultValue:j.enemyLevel,onValueChange:function(e){return s({type:"editStats",statKey:"enemyLevel",value:e})}})})),p.e.map((function(e){var a="".concat(e,"_enemyRes_"),c="".concat(e,"_enemyImmunity"),u=O.a.getStatValueWithBonus(t,c);return Object(w.jsx)(o.a,Object(n.a)(Object(n.a)({item:!0},l),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:v.b.getStatName(a)}),value:O.a.getStatValueWithBonus(t,a),placeholder:v.b.getStatNameRaw(a),defaultValue:j[a],onValueChange:function(e){return s({type:"editStats",statKey:a,value:e})},disabled:u,percent:!0,children:Object(w.jsxs)(b.a,{color:e,onClick:function(){return s({type:"editStats",statKey:c,value:!u})},children:[Object(w.jsx)(i.a,{icon:u?r.f:r.z,className:"fa-fw"})," Immunity"]})})}),e)})),Object(w.jsx)(o.a,Object(n.a)(Object(n.a)({item:!0},l),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:v.b.getStatName("enemyDEFRed_")}),value:O.a.getStatValueWithBonus(t,"enemyDEFRed_"),placeholder:v.b.getStatNameRaw("enemyDEFRed_"),defaultValue:j.enemyDEFRed_,onValueChange:function(e){return s({type:"editStats",statKey:"enemyDEFRed_",value:e})},percent:!0})})),Object(w.jsx)(o.a,{item:!0,xs:12,children:Object(w.jsx)("small",{children:"Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)"})})]})}},351:function(e,t,a){"use strict";a.d(t,"c",(function(){return y})),a.d(t,"d",(function(){return S})),a.d(t,"b",(function(){return k})),a.d(t,"a",(function(){return w}));var n=a(5),c=a(3),r=a(65),i=a(1026),l=a(1027),s=a(480),o=a(272),j=a(0),u=a(21),d=a(140),b=a(288),h=a(137),O=a(282),x=a(31),f=a(285),v=a(299),p=a(139),m=a(1),g={"":Object(m.jsx)("span",{children:"No External Infusion"}),pyro:Object(m.jsxs)("span",{children:[p.b.pyro," Pyro Infusion"]}),cryo:Object(m.jsxs)("span",{children:[p.b.cryo," Cryo Infusion"]})};function y(e){var t=e.character,a=t.infusionAura,l=void 0===a?"":a,s=t.key,o=Object(r.a)(e,["character"]),j=Object(h.a)(d.b.get(s),[s]),u=Object(b.a)(s);return(null===j||void 0===j?void 0:j.isMelee())?Object(m.jsx)(f.a,Object(n.a)(Object(n.a)({title:g[l],color:l||"secondary"},o),{},{children:Object.entries(g).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(m.jsx)(i.a,{sx:a?{color:"".concat(a,".main")}:void 0,selected:a===l,disabled:a===l,onClick:function(){return u({infusionAura:a})},children:n},a)}))})):null}function S(e){var t=e.character,a=t.reactionMode,c=void 0===a?"":a,i=t.infusionAura,s=t.key,o=e.build,j=Object(r.a)(e,["character","build"]),u=Object(b.a)(s);if(!o)return null;var d=o.characterEle;return["pyro","hydro","cryo"].includes(d)||["pyro","hydro","cryo"].includes(i)?Object(m.jsxs)(v.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return u({reactionMode:t})}},j),{},{children:[Object(m.jsx)(l.a,{value:"",children:"No Reactions"}),("pyro"===d||"pyro"===i)&&Object(m.jsx)(l.a,{value:"pyro_vaporize",children:Object(m.jsxs)(x.a,{color:"vaporize",children:["Vaporize(Pyro)",p.a.hydro,"+",p.a.pyro]})}),("pyro"===d||"pyro"===i)&&Object(m.jsx)(l.a,{value:"pyro_melt",children:Object(m.jsxs)(x.a,{color:"melt",children:["Melt(Pyro) ",p.a.cryo,"+",p.a.pyro]})}),("hydro"===d||"hydro"===i)&&Object(m.jsx)(l.a,{value:"hydro_vaporize",children:Object(m.jsxs)(x.a,{color:"vaporize",children:["Vaporize(Hydro) ",p.a.pyro,"+",p.a.hydro]})}),("cryo"===d||"cryo"===i)&&Object(m.jsx)(l.a,{value:"cryo_melt",children:Object(m.jsxs)(x.a,{color:"melt",children:["Melt(Cryo) ",p.a.pyro,"+",p.a.cryo]})})]})):null}function k(e){var t=e.character,a=t.hitMode,c=void 0===a?"avgHit":a,i=t.key,s=Object(r.a)(e,["character"]),o=Object(b.a)(i);return Object(m.jsxs)(v.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return o({hitMode:t})}},s),{},{children:[Object(m.jsx)(l.a,{value:"avgHit",children:"Avg. DMG"}),Object(m.jsx)(l.a,{value:"hit",children:"Non Crit DMG"}),Object(m.jsx)(l.a,{value:"critHit",children:"Crit Hit DMG"})]}))}function w(e){var t=e.character,a=Object(j.useContext)(u.a),n=a.newBuild,c=a.equippedBuild,r=n||c;return Object(m.jsx)(O.a,{children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(o.a,{container:!0,spacing:1,children:[Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(k,{character:t,size:"small"})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(y,{character:t})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(S,{character:t,build:r,size:"small"})})]})})})}},353:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return P}));var n=a(6),c=a(11),r=a(3),i=a(5),l=a(386),s=a(387),o=a(440),j=a(480),u=a(272),d=a(976),b=a(278),h=a(1026),O=a(260),x=a(222),f=a(80),v=a(0),p=a(289),m=a(21),g=a(140),y=a(284),S=a(282),k=a(292),w=a(290),C=(a(31),a(293)),_=a(305),B=a(285),E=a(71),K=a(291),A=a(138),T=a(287),F=a(330),V=a(46),D=a(179),N=a(137),M=a(315),R=a(12),W=a(331),I=a(142),q=a(296),z=a(115),L=a(1);function G(e){var t=e.title,a=e.statsVals,n=void 0===a?{}:a,c=e.stats;if(0===Object.keys(n).filter((function(e){return"modifiers"!==e})).length)return null;var r=Object(z.a)(n,c);return Object(L.jsxs)(y.a,{children:[Object(L.jsx)(j.a,{children:Object(L.jsx)(f.a,{children:t})}),Object(L.jsx)(q.a,{children:r.map((function(e,t){return Object(L.jsx)(q.b,{field:e},t)}))})]})}function P(e){var t,a,o=e.weaponId,p=e.charData,y=e.footer,E=void 0!==y&&y,K=e.onClose,W=Object(v.useContext)(D.b),q=Object(v.useContext)(m.a),z=Object(M.a)(o),P=null!==z&&void 0!==z?z:{},H=P.key,J=void 0===H?"":H,X=P.level,Q=P.refinement,Y=void 0===Q?0:Q,Z=P.ascension,$=void 0===Z?0:Z,ee=P.lock,te=P.location,ae=void 0===te?"":te,ne=P.id,ce=Object(N.a)(I.a.get(J),[J]),re=null===ce||void 0===ce?void 0:ce.weaponType,ie=Object(v.useCallback)((function(e){W.updateWeapon(e,o)}),[o,W]),le=Object(v.useCallback)((function(e){e=Object(R.a)(e,1,90);var t=V.b.findIndex((function(t){return e<=t}));ie({level:e,ascension:t})}),[ie]),se=Object(v.useCallback)((function(){var e=V.b.findIndex((function(e){return 90!==X&&X===e}));ie($===e?{ascension:$+1}:{ascension:e})}),[ie,$,X]),oe=Object(i.a)({},p?null!==(t=p.newBuild)&&void 0!==t?t:p.equippedBuild:{weapon:{refineIndex:Y-1,level:X,ascension:$}}),je=Object(N.a)(ae?g.b.get(ae):void 0,[ae]),ue=je?function(e){return e.weaponType===je.weaponTypeKey}:void 0,de=je&&je.weaponTypeKey,be=Object(v.useCallback)((function(e){return ne&&W.setWeaponLocation(ne,e)}),[W,ne]),he=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===ce||void 0===ce?void 0:ce.weaponType)}),[ce]),Oe=Object(v.useState)(!1),xe=Object(r.a)(Oe,2),fe=xe[0],ve=xe[1],pe=$<2?null===ce||void 0===ce?void 0:ce.img:null===ce||void 0===ce?void 0:ce.imgAwaken;return Object(L.jsxs)(S.a,{children:[Object(L.jsx)(j.a,{sx:{py:1},children:Object(L.jsxs)(u.a,{container:!0,spacing:1,children:[Object(L.jsx)(u.a,{item:!0,flexGrow:1,children:Object(L.jsxs)(u.a,{container:!0,spacing:1,children:[Object(L.jsxs)(u.a,{item:!0,children:[Object(L.jsx)(F.a,{show:fe,onHide:function(){return ve(!1)},onSelect:function(e){return ie({key:e})},filter:ue,weaponFilter:de}),Object(L.jsxs)(d.a,{children:[Object(L.jsx)(b.a,{onClick:function(){return ve(!0)},children:null!==(a=null===ce||void 0===ce?void 0:ce.name)&&void 0!==a?a:"Select a Weapon"}),Object(L.jsxs)(B.a,{title:"Refinement ".concat(Y),children:[Object(L.jsx)(h.a,{children:"Select Weapon Refinement"}),Object(L.jsx)(O.a,{}),Object(c.a)(Array(5).keys()).map((function(e){return Object(L.jsx)(h.a,{onClick:function(){return ie({refinement:e+1})},selected:Y===e+1,disabled:Y===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(L.jsx)(u.a,{item:!0,children:Object(L.jsxs)(d.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(L.jsx)(C.a,{children:Object(L.jsx)(C.c,{onChange:le,value:X,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(L.jsx)(b.a,{sx:{pl:1},disabled:!Object(V.a)(X),onClick:se,children:Object(L.jsxs)("strong",{children:["/ ",V.b[$]]})}),Object(L.jsx)(B.a,{title:"Select Level",children:V.c.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1],c=a===V.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(V.b[n]),i=a===X&&n===$;return Object(L.jsx)(h.a,{selected:i,disabled:i,onClick:function(){return ie({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})}),Object(L.jsx)(u.a,{item:!0,children:Object(L.jsx)(b.a,{color:"error",onClick:function(){return ne&&W.updateWeapon({lock:!ee},ne)},startIcon:ee?Object(L.jsx)(l.a,{}):Object(L.jsx)(s.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!K&&Object(L.jsx)(u.a,{item:!0,children:Object(L.jsx)(w.a,{onClick:K})}),!!p&&W===D.c&&Object(L.jsx)(u.a,{item:!0,children:Object(L.jsx)(U,{weaponTypeKey:re,onChangeId:function(e){return W.setWeaponLocation(e,p.character.key)}})})]})}),Object(L.jsx)(O.a,{}),Object(L.jsx)(j.a,{children:function(){if(!ce)return null;var e=ce.getSubStatKey(),t=ce.getMainStatValue(X,$),a=ce.getSubStatValue(X,$),c=ce.passiveName,r=ce.stats(oe),i=ce.document;return Object(L.jsxs)(x.a,{display:"flex",gap:{xs:1,md:1.5,lg:2},children:[Object(L.jsxs)(x.a,{sx:{maxWidth:256},flexShrink:1,minWidth:"25%",children:[Object(L.jsx)(x.a,{component:"img",src:pe,className:"grad-".concat(ce.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}}),Object(L.jsx)(f.a,{children:Object(L.jsx)("small",{children:ce.description})})]}),Object(L.jsxs)(x.a,{sx:{mb:-1},flexGrow:1,children:[Object(L.jsxs)(f.a,{variant:"h6",children:[!1,ce.name," Lv. ",z&&I.a.getLevelString(z)," ",c&&Object(L.jsxs)(A.a,{color:"info",children:["Refinement ",Y]})]}),Object(L.jsx)(f.a,{children:Object(L.jsx)(T.a,{stars:ce.rarity})}),Object(L.jsx)(f.a,{variant:"subtitle1",children:c}),Object(L.jsx)(f.a,{gutterBottom:!0,children:c&&ce.passiveDescription(oe)}),oe&&Object(L.jsx)(m.a.Provider,{value:p?q:{equippedBuild:oe,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:Object(L.jsxs)(x.a,{display:"flex",flexDirection:"column",gap:1,children:[Object(L.jsx)(G,{title:"Main Stats",statsVals:Object(n.a)({atk:t},e,e?a:void 0),stats:oe}),Object(L.jsx)(G,{title:"Bonus Stats",statsVals:r,stats:oe})]})}),p&&i?function(){var e,t=p.equippedBuild,a=p.newBuild,n=null===(e=a||t)||void 0===e?void 0:e.characterKey;return!!n&&Object(L.jsx)(_.a,{sections:i,characterKey:n})}():null]})]})}()}),E&&ne&&Object(L.jsx)(j.a,{sx:{py:1},children:Object(L.jsxs)(u.a,{container:!0,children:[Object(L.jsx)(u.a,{item:!0,flexGrow:1,children:Object(L.jsx)(k.b,{noUnselect:!0,inventory:!0,value:ae,onChange:be,filter:he})}),!!K&&Object(L.jsx)(u.a,{item:!0,children:Object(L.jsx)(w.a,{large:!0,onClick:K})})]})})]})}function U(e){var t=e.onChangeId,a=e.weaponTypeKey,n=Object(v.useContext)(D.b),c=Object(v.useState)(!1),i=Object(r.a)(c,2),l=i[0],s=i[1],d=function(){return s(!1)},h=function(e){t(e),d()},x=Object(N.a)(I.a.getAll(),[]),m=n.weapons.keys.filter((function(e){var t,c=n._getWeapon(e);return!!c&&(!a||a===(null===x||void 0===x||null===(t=x[c.key])||void 0===t?void 0:t.weaponType))}));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(b.a,{color:"info",onClick:function(){return s(!0)},startIcon:Object(L.jsx)(o.a,{}),children:"SWAP WEAPON"}),Object(L.jsx)(K.a,{open:l,onClose:d,children:Object(L.jsxs)(y.a,{children:[Object(L.jsx)(j.a,{sx:{py:1},children:Object(L.jsxs)(u.a,{container:!0,children:[Object(L.jsx)(u.a,{item:!0,flexGrow:1,children:Object(L.jsxs)(f.a,{variant:"h6",children:[a?Object(L.jsx)(E.a,{src:p.a.weaponTypes[a]}):null," Swap Weapon"]})}),Object(L.jsx)(u.a,{item:!0,children:Object(L.jsx)(w.a,{onClick:d})})]})}),Object(L.jsx)(O.a,{}),Object(L.jsx)(j.a,{children:Object(L.jsx)(u.a,{container:!0,spacing:1,children:m.map((function(e){return Object(L.jsx)(u.a,{item:!0,xs:6,sm:6,md:4,lg:3,children:Object(L.jsx)(W.a,{weaponId:e,onClick:h})},e)}))})})]})})]})}},382:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ot}));var n=a(52),c=a.n(n),r=a(99),i=a(3),l=a(5),s=a(65),o=a(177),j=a(480),u=a(272),d=a(479),b=a(80),h=a(269),O=a(275),x=a(260),f=a(278),v=a(976),p=a(1026),m=a(0),g=a(21),y=a(284),S=a(282),k=a(343),w=a(308),C=a(290),_=a(31),B=a(293),E=a(285),K=a(350),A=a(363),T=a(383),F=a(591),V=a(592),D=a(593),N=a(222),M=a(286),R=a(307),W=a(143),I=a(137),q=a(22),z=a(314),L=a(306),G=a(1);function P(e){var t=e.sheets,a=Object(m.useState)(!1),n=Object(i.a)(a,2),c=n[0],r=n[1],l=Object(m.useCallback)((function(){return r(!c)}),[r,c]);return Object(G.jsxs)(S.a,{children:[Object(G.jsx)(j.a,{children:Object(G.jsxs)(u.a,{container:!0,children:[Object(G.jsxs)(u.a,{item:!0,flexGrow:1,children:[Object(G.jsxs)(b.a,{children:["Formulas ","&"," Calculations"]}),Object(G.jsx)(b.a,{variant:"caption",color:"text.secondary",children:"Expand to see every formula and all their calculations."})]}),Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(L.a,{expand:c,onClick:l,"aria-expanded":c,"aria-label":"show more",children:Object(G.jsx)(A.a,{})})})]})}),Object(G.jsx)(T.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(G.jsx)(j.a,{sx:{pt:0},children:Object(G.jsx)(U,{sheets:t})})})]})}function U(e){var t=e.sheets,a=Object(m.useContext)(g.a),n=a.newBuild,c=a.equippedBuild,r=n||c,l=Object(m.useMemo)((function(){return M.a.getDisplayStatKeys(r,t)}),[r,t]);return r&&l?Object(G.jsx)(m.Suspense,{fallback:Object(G.jsx)(o.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object.entries(l).map((function(e){var a=Object(i.a)(e,2),n=a[0],c=a[1],l=Object(R.a)(n,t,r);return Object(G.jsxs)(y.a,{sx:{mb:1},children:[Object(G.jsx)(j.a,{sx:{pb:1},children:Object(G.jsx)(b.a,{variant:"h6",children:l})}),Object(G.jsx)(x.a,{}),Object(G.jsx)(j.a,{children:c.map((function(e,t){if(Array.isArray(e))return Object(G.jsx)(H,{fieldKeys:e,build:r},t);if("string"===typeof e){var a=q.b.getPrintableFormulaStatKeyList(Object(z.a)(r,null===r||void 0===r?void 0:r.modifiers,[e]),null===r||void 0===r?void 0:r.modifiers).reverse();return Boolean(a.length)&&Object(G.jsxs)(F.a,{sx:{bgcolor:"contentLight.main"},children:[Object(G.jsx)(V.a,{expandIcon:Object(G.jsx)(A.a,{}),children:Object(G.jsx)(b.a,{children:q.b.printStat(e,r)})}),Object(G.jsx)(D.a,{children:a.map((function(e){return Object(G.jsxs)(b.a,{children:[q.b.printStat(e,r)," = ",Object(G.jsx)("small",{children:Object(G.jsx)(q.a,{statKey:e,stats:r,modifiers:r.modifiers,expand:!1})})]},e)}))})]},t)}return null}))})]},n)}))}):null}function H(e){var t,a,n,c,r=e.fieldKeys,l=e.build,s=Object(I.a)(W.a.get(r),[r]);if(!s)return null;var o=s.field,j=M.a.getTalentFieldValue(o,"text",l),u=M.a.getTalentFieldValue(o,"variant",l),d=M.a.getTalentFieldValue(o,"formulaText",l),h=null!==(t=M.a.getTalentFieldValue(o,"fixed",l))&&void 0!==t?t:0,O=null!==(a=M.a.getTalentFieldValue(o,"unit",l))&&void 0!==a?a:"",x=M.a.getTalentFieldValue(o,"formula",l,[]),f=Object(i.a)(x,2),v=f[0],p=f[1];if(!v||!p)return null;var m=null===v||void 0===v||null===(n=v(l))||void 0===n||null===(c=n.toFixed)||void 0===c?void 0:c.call(n,h),g=q.b.getPrintableFormulaStatKeyList(Object(z.a)(l,null===l||void 0===l?void 0:l.modifiers,p),null===l||void 0===l?void 0:l.modifiers).reverse();return Object(G.jsxs)(F.a,{sx:{bgcolor:"contentLight.main"},children:[Object(G.jsx)(V.a,{expandIcon:Object(G.jsx)(A.a,{}),children:Object(G.jsxs)(b.a,{children:[Object(G.jsx)(N.a,{color:"".concat(u,".main"),component:"strong",children:j})," ",Object(G.jsxs)(_.a,{color:"info",children:[m,O]})]})}),Object(G.jsxs)(D.a,{children:[Object(G.jsxs)(b.a,{children:[Object(G.jsx)(N.a,{color:"".concat(u,".main"),component:"strong",children:j})," ",Object(G.jsx)(_.a,{color:"info",children:m})," = ",Object(G.jsx)("small",{children:d})]}),g.map((function(e){return Object(G.jsxs)(b.a,{children:[q.b.printStat(e,l)," = ",Object(G.jsx)("small",{children:Object(G.jsx)(q.a,{statKey:e,stats:l,modifiers:l.modifiers,expand:!1})})]},e)}))]})]})}var J=a(351),X=a(71),Q=a(113),Y=a(46),Z=a(179),$=a(321),ee=a(288),te=a(316),ae=a(302),ne=a(301),ce=a(57),re=a(12),ie=a(145),le=a(1027),se=a(24),oe=a(333),je=a(141),ue=a(339),de=a(299),be=a(16),he=a(349);var Oe=function(e){var t,a=e.sheets,n=e.character,c=e.character.key,r=Object(m.useContext)(g.a),l=r.newBuild,s=r.equippedBuild,o=r.compareBuild,h=r.setCompareBuild,O=Object(m.useContext)(Z.b),v=Object(se.g)(),p=l||s,y=null!==(t=null===p||void 0===p?void 0:p.mainStatAssumptionLevel)&&void 0!==t?t:0,k=Object(m.useMemo)((function(){return p&&a&&M.a.getDisplayStatKeys(p,a)}),[p,a]),w=Object(m.useCallback)((function(e){return v.push({pathname:"/artifact",artToEditId:e})}),[v]),C=Object(I.a)(je.a.getAll(),[]),_=Object(ae.a)(),B=Object(i.a)(_,2)[1];Object(m.useEffect)((function(){return O.followAnyArt(B)}));var E=Object(m.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&l&&l.equippedArtifacts&&O.equipArtifacts(c,l.equippedArtifacts)}),[c,l,O]),K=Object(m.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&O.equipArtifacts(c,Object(re.o)(be.i,(function(){return""})))}),[c,O]);return p?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(S.a,{sx:{mb:1},children:[Object(G.jsx)(j.a,{children:Object(G.jsx)(he.a,{sheets:a,character:n,equippedBuild:l&&!o?void 0:s,newBuild:l,statsDisplayKeys:k})}),Object(G.jsx)(x.a,{}),Object(G.jsx)(j.a,{sx:{py:1},children:Object(G.jsxs)(u.a,{container:!0,spacing:1,children:[Object(G.jsx)(u.a,{item:!0,children:l?Object(G.jsx)(f.a,{onClick:E,className:"mr-2",children:"Equip artifacts"}):O===Z.c&&Object(G.jsx)(f.a,{color:"error",onClick:K,children:"Unequip all artifacts"})}),Object(G.jsx)(u.a,{item:!0,children:!!l&&Object(G.jsxs)(de.a,{exclusive:!0,value:o,onChange:function(e,t){return null===h||void 0===h?void 0:h(t)},size:"small",children:[Object(G.jsx)(le.a,{value:!1,children:Object(G.jsx)("small",{children:"Show New artifact Stats"})}),Object(G.jsx)(le.a,{value:!0,children:Object(G.jsx)("small",{children:"Compare against equipped artifacts"})})]})}),Object(G.jsx)(u.a,{item:!0,flexGrow:1}),Object(G.jsx)(u.a,{item:!0,children:!!y&&Object(G.jsx)(d.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(G.jsx)(b.a,{children:Object(G.jsxs)("strong",{children:["Assume Main Stats are Level ",y]})})})})]})})]}),Object(G.jsxs)(u.a,{container:!0,spacing:1,children:[Object(G.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(G.jsx)(S.a,{sx:{height:"100%"},children:Object(G.jsx)(j.a,{sx:{height:"100%"},children:Object(G.jsx)(u.a,{container:!0,spacing:1,flexDirection:"column",height:"100%",children:C&&Object.entries(je.a.setEffects(C,p.setToSlots)).map((function(e){var t,a=Object(i.a)(e,2),n=a[0],c=a[1];return Object(G.jsxs)(u.a,{item:!0,display:"flex",flexDirection:"column",gap:1,children:[Object(G.jsx)(b.a,{variant:"subtitle1",children:null!==(t=null===C||void 0===C?void 0:C[n].name)&&void 0!==t?t:""}),c.map((function(e){return Object(G.jsx)(ue.a,{setKey:n,setNumKey:e,equippedBuild:s,newBuild:l},n+e)}))]},n)}))})})})}),be.i.map((function(e){var t,a,n;return!!(null===p||void 0===p||null===(t=p.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(G.jsx)(u.a,{item:!0,xs:6,md:4,children:Object(G.jsx)(oe.a,{artifactId:null===p||void 0===p||null===(n=p.equippedArtifacts)||void 0===n?void 0:n[e],mainStatAssumptionLevel:y,onEdit:function(){var t;return w(null===p||void 0===p||null===(t=p.equippedArtifacts)||void 0===t?void 0:t[e])}})},null===p||void 0===p||null===(a=p.equippedArtifacts)||void 0===a?void 0:a[e])}))]})]}):null},xe=a(11),fe=a(51),ve=a(17),pe=a(408),me=a(590),ge=a(289),ye=a(287),Se=a(313),ke=a(139),we=a(353),Ce=a(327);function _e(e){var t,a=e.characterSheet,n=e.character,c=e.character,r=c.constellation,i=c.key,s=Object(m.useContext)(g.a),o=s.newBuild,d=s.equippedBuild,h=Object(ee.a)(i),O=o||d;if(!O)return null;var x=O.tlvl,f=O.characterEle,v=a.weaponTypeKey;return Object(G.jsxs)(u.a,{container:!0,spacing:1,children:[Object(G.jsx)(u.a,{item:!0,xs:12,md:3,children:Object(G.jsxs)(S.a,{children:[Object(G.jsx)(pe.a,{src:a.cardImg,component:"img",width:"100%",height:"auto"}),Object(G.jsxs)(j.a,{children:[Object(G.jsxs)(b.a,{variant:"h4",children:[a.name," ",Object(G.jsx)(X.a,{src:null===(t=ge.a.weaponTypes)||void 0===t?void 0:t[v]})," ",ke.a[f]," "]}),Object(G.jsx)(b.a,{variant:"h6",children:Object(G.jsx)(ye.a,{stars:a.rarity,colored:!0})}),Object(G.jsxs)(b.a,{variant:"h5",children:["Lvl. ",M.a.getLevelString(n)]}),Object(G.jsx)(u.a,{container:!0,spacing:1,mt:1,children:["auto","skill","burst"].map((function(e){var t;return Object(G.jsx)(u.a,{item:!0,xs:4,children:Object(G.jsx)(me.a,{badgeContent:x[e]+1,color:"skill"===e&&O.skillBoost||"burst"===e&&O.burstBoost?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:Object(G.jsx)(N.a,{component:"img",src:null===(t=a.getTalentOfKey(e,O.characterEle))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))}),Object(G.jsx)(b.a,{sx:{textAlign:"center",mt:1},variant:"h6",children:a.constellationName}),Object(G.jsx)(u.a,{container:!0,spacing:1,children:Object(xe.a)(Array(6).keys()).map((function(e){var t;return Object(G.jsx)(u.a,{item:!0,xs:4,children:Object(G.jsx)(N.a,{component:"img",src:null===(t=a.getTalentOfKey("constellation".concat(e+1),O.characterEle))||void 0===t?void 0:t.img,sx:Object(l.a)({cursor:"pointer"},r>e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto",onClick:function(){return h({constellation:e+1===r?e:e+1})}})},e)}))})]})]})}),Object(G.jsxs)(u.a,{item:!0,xs:12,md:9,sx:{"> div:not(:last-child)":{mb:1}},children:[Object(G.jsx)(we.default,{charData:{character:n,characterSheet:a,equippedBuild:d,newBuild:o,characterDispatch:h},weaponId:n.equippedWeapon}),Object(G.jsx)(De,{characterSheet:a,character:n,equippedBuild:d,newBuild:o})]})]})}var Be=["eleMas","critRate_","critDMG_","enerRech_","heal_"],Ee=["characterATK","finalATK","finalHP","finalDEF"];Ee.push.apply(Ee,Be);var Ke=["hp","hp_","def","def_","atk","atk_"];Ke.push.apply(Ke,Be);var Ae=[];be.e.forEach((function(e){Ae.push("".concat(e,"_dmg_")),Ae.push("".concat(e,"_res_"))})),Ae.push("stamina","incHeal_","shield_","cdRed_");var Te=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","moveSPD_","atkSPD_","weakspotDMG_"],Fe={characterATK:"Override Base ATK",characterHP:"Override Base HP",characterDEF:"Override Base DEF"},Ve={xs:12,sm:6,md:6,lg:4};function De(e){var t=e.characterSheet,a=e.character,n=e.character,c=n.key,r=n.level,i=n.ascension,s=e.equippedBuild,o=e.newBuild,j=Object(ee.a)(c),d=t.getSpecializedStat(a.ascension),b=t.getSpecializedStatVal(a.ascension),h=q.b.getStatUnit(d),O={character:a,equippedBuild:s,newBuild:o};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Me,{character:a}),Object(G.jsx)(Ne,{title:"Main Stats",content:Object(G.jsxs)(u.a,{container:!0,columnSpacing:{xs:2,lg:3},rowSpacing:1,children:[Ee.map((function(e){return Object(G.jsx)(u.a,Object(l.a)(Object(l.a)({item:!0},Ve),{},{children:Object(G.jsx)(Se.a,Object(l.a)({statKey:e},O))}),e)})),Object(G.jsxs)(u.a,Object(l.a)(Object(l.a)({item:!0},Ve),{},{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(G.jsxs)("span",{children:[Object(G.jsx)("b",{children:"Specialized:"})," ",Object(G.jsxs)("span",{children:[d&&ke.a[d]," ",q.b.getStatName(d)]})]}),Object(G.jsx)("span",{children:"".concat(b.toFixed(q.b.fixedUnit(d))).concat(h)})]}))]}),editContent:Object(G.jsxs)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:[ce.b.map((function(e){var n,c=Math.round(t.getBase(e,r,i));return Object(G.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(G.jsx)(Ce.a,{name:Object(G.jsxs)("span",{children:[ke.a[e]," ",Fe[e]]}),placeholder:q.b.getStatNameRaw(e),value:null!==(n=a.bonusStats[e])&&void 0!==n?n:c,defaultValue:c,percent:"%"===q.b.getStatUnit(e),onValueChange:function(t){return j({type:"editStats",statKey:e,value:t})},onReset:function(){return j({type:"resetStats",statKey:e})}})},e)})),Ke.map((function(e){var t;return Object(G.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(G.jsx)(Ce.a,{name:Object(G.jsxs)("span",{children:[ke.a[e]," ",q.b.getStatNameWithPercent(e)]}),placeholder:q.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===q.b.getStatUnit(e),onValueChange:function(t){return j({type:"editStats",statKey:e,value:t})}})},e)}))]})}),Object(G.jsx)(Ne,{title:"Other Stats",content:Object(G.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ae.map((function(e){return Object(m.createElement)(u.a,Object(l.a)(Object(l.a)({item:!0},Ve),{},{key:e}),Object(G.jsx)(Se.a,Object(l.a)({statKey:e},O)))}))}),editContent:Object(G.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ae.map((function(e){var t;return Object(G.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(G.jsx)(Ce.a,{name:Object(G.jsxs)("span",{children:[ke.a[e]," ",q.b.getStatName(e)]}),placeholder:q.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:"stamina"===e?100:0,percent:"%"===q.b.getStatUnit(e),defaultValue:"stamina"===e?100:void 0,onValueChange:function(t){return j({type:"editStats",statKey:e,value:t})}})},e)}))})}),Object(G.jsx)(Ne,{title:"Misc Stats",content:Object(G.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Te.map((function(e){return Object(m.createElement)(u.a,Object(l.a)(Object(l.a)({item:!0},Ve),{},{key:e}),Object(G.jsx)(Se.a,Object(l.a)({statKey:e},O)))}))}),editContent:Object(G.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Te.map((function(e){var t;return Object(G.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(G.jsx)(Ce.a,{name:Object(G.jsxs)("span",{children:[ke.a[e]," ",q.b.getStatName(e)]}),placeholder:q.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===q.b.getStatUnit(e),onValueChange:function(t){return j({type:"editStats",statKey:e,value:t})}})},e)}))})})]})}function Ne(e){var t=e.title,a=e.content,n=e.editContent,c=Object(m.useState)(!1),r=Object(i.a)(c,2),l=r[0],s=r[1];return Object(G.jsxs)(S.a,{children:[Object(G.jsx)(j.a,{sx:{py:1},children:Object(G.jsxs)(N.a,{display:"flex",justifyContent:"space-between",children:[Object(G.jsx)(b.a,{variant:"subtitle1",children:t}),Object(G.jsx)(f.a,{size:"small",color:l?"error":"info",onClick:function(){return s(!l)},children:Object(G.jsxs)("span",{children:[Object(G.jsx)(ve.a,{icon:l?fe.w:fe.m})," ",l?"EXIT":"Edit Stats"]})})]})}),Object(G.jsx)(x.a,{}),Object(G.jsx)(j.a,{children:l?n:a})]})}function Me(e){var t=e.character,a=Object(m.useContext)(g.a),n=a.newBuild,c=a.equippedBuild,r=n||c;return Object.keys(r.partyBuff).length?Object(G.jsxs)(S.a,{children:[Object(G.jsx)(j.a,{children:"Team Buffs"}),Object(G.jsx)(x.a,{}),Object(G.jsx)(j.a,{children:Object(G.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Object.entries(r.partyBuff).map((function(e){var a=Object(i.a)(e,2),r=a[0];a[1];return Object(m.createElement)(u.a,Object(l.a)(Object(l.a)({item:!0},Ve),{},{key:r}),Object(G.jsx)(Se.a,{character:t,newBuild:n,equippedBuild:c,statKey:r,partyBuff:!0}))}))})})]}):null}var Re=a(409),We=a(300),Ie=a(304),qe=a(305),ze=a(47);function Le(e){var t=e.characterSheet,a=e.character,n=e.character,c=n.ascension,r=n.constellation,l=n.key,s=Object(m.useContext)(g.a),o=s.newBuild,j=s.equippedBuild,d=Object(ee.a)(l),h=o||j;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Pe,{characterSheet:t}),Object(G.jsxs)(u.a,{container:!0,spacing:1,sx:{mb:1},children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var n=Object(i.a)(e,2),c=n[0],r=n[1];return Object(G.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(G.jsx)(Qe,{characterSheet:t,character:a,characterDispatch:d,talentKey:c,subtitle:r})},c)})),!!t.getTalentOfKey("sprint",null===h||void 0===h?void 0:h.characterEle)&&Object(G.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(G.jsx)(Qe,{characterSheet:t,character:a,characterDispatch:d,talentKey:"sprint",subtitle:"Alternative Sprint"})}),!!t.getTalentOfKey("passive",null===h||void 0===h?void 0:h.characterEle)&&Object(G.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(G.jsx)(Qe,{characterSheet:t,character:a,characterDispatch:d,talentKey:"passive",subtitle:"Passive"})})]}),Object(G.jsx)(u.a,{container:!0,spacing:1,children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var n=Object(i.a)(e,3),r=n[0],l=n[1],s=n[2],o=c>=s;return t.getTalentOfKey(r,null===h||void 0===h?void 0:h.characterEle)?Object(G.jsx)(u.a,{item:!0,style:{opacity:o?1:.5},xs:12,md:4,children:Object(G.jsx)(Qe,{characterSheet:t,character:a,characterDispatch:d,talentKey:r,subtitle:l})},r):null}))}),Object(G.jsxs)(b.a,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",r]}),Object(G.jsx)(u.a,{container:!0,spacing:1,children:Object(xe.a)(Array(6).keys()).map((function(e){var n="constellation".concat(e+1);return Object(G.jsx)(u.a,{item:!0,xs:12,md:4,sx:{opacity:r>e?1:.5},children:Object(G.jsx)(Qe,{characterSheet:t,character:a,characterDispatch:d,talentKey:n,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return d({constellation:e+1===r?e:e+1})}})},e)}))})]})}var Ge={superconduct_hit:function(e){var t,a=e.stats,n="superconduct_hit";return Object(G.jsx)(y.a,{children:Object(G.jsx)(j.a,{sx:{p:1},children:Object(G.jsxs)(b.a,{color:"superconduct.main",children:[q.b.getStatName(n)," ",ke.a.electro,"+",ke.a.cryo," ",Object(G.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(q.b.fixedUnit(n))})]})})})},electrocharged_hit:function(e){var t,a=e.stats,n="electrocharged_hit";return Object(G.jsx)(y.a,{children:Object(G.jsx)(j.a,{sx:{p:1},children:Object(G.jsxs)(b.a,{color:"electrocharged.main",children:[q.b.getStatName(n)," ",ke.a.electro,"+",ke.a.hydro," ",Object(G.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(q.b.fixedUnit(n))})]})})})},overloaded_hit:function(e){var t,a=e.stats,n="overloaded_hit";return Object(G.jsx)(y.a,{children:Object(G.jsx)(j.a,{sx:{p:1},children:Object(G.jsxs)(b.a,{color:"overloaded.main",children:[q.b.getStatName(n)," ",ke.a.electro,"+",ke.a.pyro," ",Object(G.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(q.b.fixedUnit(n))})]})})})},pyro_swirl_hit:He,cryo_swirl_hit:He,electro_swirl_hit:He,hydro_swirl_hit:He,shattered_hit:function(e){var t,a=e.stats,n="shattered_hit",c=Object(G.jsx)(We.a,{placement:"top",title:Object(G.jsxs)(b.a,{children:["Claymores, Plunging Attacks and ",Object(G.jsx)(_.a,{color:"geo",children:"Geo DMG"})]}),children:Object(G.jsx)(N.a,{component:"span",sx:{cursor:"help"},children:Object(G.jsx)(ve.a,{icon:fe.v})})});return Object(G.jsx)(y.a,{children:Object(G.jsx)(j.a,{sx:{p:1},children:Object(G.jsxs)(_.a,{color:"shattered",children:[q.b.getStatName(n)," ",ke.a.hydro,"+",ke.a.cryo,"+ ",Object(G.jsx)(_.a,{color:"physical",children:Object(G.jsxs)("small",{children:["Heavy Attack",c," "]})})," ",Object(G.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(q.b.fixedUnit(n))})]})})})},crystalize_hit:function(e){var t,a=e.stats,n=Object(m.useState)(Object.keys(Je)[0]),c=Object(i.a)(n,2),r=c[0],l=c[1],s="default"===r?"crystalize_hit":"".concat(r,"_crystalize_hit");return Object(G.jsxs)(y.a,{sx:{display:"flex"},children:[Object(G.jsx)(E.a,{size:"small",title:Je[r],color:"success",children:Object.entries(Je).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(G.jsx)(p.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:n},a)}))}),Object(G.jsx)(N.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(G.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(q.b.fixedUnit(s))})})]})}};function Pe(e){var t=e.characterSheet,a=Object(m.useContext)(g.a),n=a.newBuild,c=a.equippedBuild,r=n||c;if(!r)return null;var i=r.characterEle,l=Object(xe.a)(ze.a[i]||[]);return l.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||l.push("shattered_hit"),Object(G.jsx)(S.a,{sx:{mb:1},children:Object(G.jsx)(j.a,{children:Object(G.jsx)(u.a,{container:!0,spacing:1,children:l.map((function(e){var t=Ge[e];return t?Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(t,{stats:r})},e):null}))})})})}var Ue={pyro:Object(G.jsxs)("span",{children:[q.b.getStatName("pyro_swirl_hit")," ",ke.a.pyro," + ",ke.a.anemo]}),electro:Object(G.jsxs)("span",{children:[q.b.getStatName("electro_swirl_hit")," ",ke.a.electro,"+",ke.a.anemo]}),cryo:Object(G.jsxs)("span",{children:[q.b.getStatName("cryo_swirl_hit")," ",ke.a.cryo," + ",ke.a.anemo]}),hydro:Object(G.jsxs)("span",{children:[q.b.getStatName("hydro_swirl_hit")," ",ke.a.hydro," + ",ke.a.anemo]})};function He(e){var t,a=e.stats,n=Object(m.useState)(Object.keys(Ue)[0]),c=Object(i.a)(n,2),r=c[0],l=c[1],s="".concat(r,"_swirl_hit");return Object(G.jsxs)(y.a,{sx:{display:"flex"},children:[Object(G.jsx)(E.a,{size:"small",title:Ue[r],color:"success",children:Object.entries(Ue).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(G.jsx)(p.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:n},a)}))}),Object(G.jsx)(N.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(G.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(q.b.fixedUnit(s))})})]})}var Je={default:Object(G.jsxs)(_.a,{color:"crystalize",children:[q.b.getStatName("crystalize_hit")," ",ke.a.electro,"/",ke.a.hydro,"/",ke.a.pyro,"/",ke.a.cryo,"+",ke.a.geo]}),pyro:Object(G.jsxs)("span",{children:[q.b.getStatName("pyro_crystalize_hit")," ",ke.a.pyro,"+",ke.a.geo]}),electro:Object(G.jsxs)("span",{children:[q.b.getStatName("electro_crystalize_hit")," ",ke.a.electro,"+",ke.a.geo]}),cryo:Object(G.jsxs)("span",{children:[q.b.getStatName("cryo_crystalize_hit")," ",ke.a.cryo,"+",ke.a.geo]}),hydro:Object(G.jsxs)("span",{children:[q.b.getStatName("hydro_crystalize_hit")," ",ke.a.hydro,"+",ke.a.geo]})};var Xe=[1,1,2,4,6,8,10];function Qe(e){var t=e.characterSheet,a=e.character,n=a.talent,c=a.ascension,r=a.key,i=e.characterDispatch,l=e.talentKey,s=e.subtitle,o=e.onClickTitle,d=Object(m.useContext)(g.a),h=d.newBuild,O=d.equippedBuild,f=h||O,v=Object(m.useCallback)((function(e){return Object(G.jsx)(Re.a,{onClick:o,children:e})}),[o]);if(!f)return null;var y=null;if(l in n){var k,w=null!==(k=f["".concat(l,"Boost")])&&void 0!==k?k:0,C=n[l]+w;y=Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(j.a,{sx:{py:1},children:Object(G.jsx)(E.a,{fullWidth:!0,title:"Talent Lv. ".concat(C),color:w?"info":"primary",children:Object(xe.a)(Array(Xe[c]).keys()).map((function(e){return Object(G.jsxs)(p.a,{selected:n[l]===e+1,disabled:n[l]===e+1,onClick:function(){return t=e+1,n[l]=t,void i({talent:n});var t},children:["Talent Lv. ",e+w+1]},e)}))})}),Object(G.jsx)(x.a,{})]})}var _=t.getTalentOfKey(l,f.characterEle);return Object(G.jsxs)(S.a,{sx:{height:"100%"},children:[y,Object(G.jsxs)(j.a,{children:[Object(G.jsx)(Ie.a,{condition:!!o,wrapper:v,children:Object(G.jsxs)(u.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(N.a,{component:"img",src:null===_||void 0===_?void 0:_.img,sx:{width:60,height:"auto"}})}),Object(G.jsxs)(u.a,{item:!0,flexGrow:1,sx:{pl:1},children:[Object(G.jsx)(b.a,{variant:"h6",children:null===_||void 0===_?void 0:_.name}),Object(G.jsx)(b.a,{variant:"subtitle1",children:s})]})]})}),(null===_||void 0===_?void 0:_.sections)?Object(G.jsx)(qe.a,{sections:_.sections,characterKey:r}):null]})]})}var Ye=a(543),Ze=a(360),$e=a(542),et=a(292),tt=a(318),at=a(114),nt=a(230),ct=a(336);function rt(e){var t=e.character,a=e.character,n=a.key,c=(a.team,Object(m.useContext)(g.a)),r=c.newBuild,i=c.equippedBuild,l=r||i,s=Object(ne.a)();return Object(G.jsxs)($e.a,{display:"flex",flexDirection:"column",gap:1,alignItems:"stretch",children:[Object(G.jsx)(lt,{character:t}),Object(G.jsx)(st,{characterKey:n,build:l}),Object(G.jsx)(u.a,{container:!0,spacing:1,children:s&&l.teamStats.map((function(e,a){return Object(G.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(G.jsx)(ot,{character:t,sheets:s,index:a})},a)}))})]})}var it={xs:12,sm:6,md:6,lg:4};function lt(e){var t=e.character,a=Object(m.useContext)(g.a),n=a.newBuild,c=a.equippedBuild,r=n||c;return Object.keys(r.partyBuff).length?Object(G.jsxs)(S.a,{children:[Object(G.jsx)(j.a,{children:"Team Buffs"}),Object(G.jsx)(x.a,{}),Object(G.jsx)(j.a,{children:Object(G.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Object.entries(r.partyBuff).map((function(e){var a=Object(i.a)(e,2),r=a[0];a[1];return Object(m.createElement)(u.a,Object(l.a)(Object(l.a)({item:!0},it),{},{key:r}),Object(G.jsx)(Se.a,{character:t,newBuild:n,equippedBuild:c,statKey:r,partyBuff:!0}))}))})})]}):null}function st(e){var t=e.build,a=e.characterKey,n=Object(ee.a)(a);return Object(G.jsxs)(S.a,{children:[Object(G.jsx)(j.a,{children:"Team Resonance"}),Object(G.jsx)(x.a,{}),Object(G.jsx)(j.a,{children:Object(G.jsx)(u.a,{container:!0,spacing:1,children:nt.default.map((function(e,a){var c,r,i;return Object(G.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(G.jsxs)(y.a,{sx:{opacity:e.canShow(t)?1:.5,height:"100%"},children:[Object(G.jsx)(Ze.a,{avatar:null===e||void 0===e||null===(c=e.header)||void 0===c?void 0:c.icon,title:null===e||void 0===e||null===(r=e.header)||void 0===r?void 0:r.title,action:null===e||void 0===e||null===(i=e.header)||void 0===i?void 0:i.action,titleTypographyProps:{variant:"subtitle2"}}),Object(G.jsx)(x.a,{}),Object(G.jsx)(j.a,{children:e.description}),e.conditionals.map((function(e){return Object(G.jsx)(tt.a,{conditional:e,stats:t,onChange:function(e){return n({conditionalValues:e})}},e.key)}))]})},a)}))})})]})}function ot(e){var t,a,n,c=e.character,r=e.character,i=r.key,l=r.team,s=e.sheets,o=e.index,u=Object(te.a)(),d=Object(ee.a)(i),b=Object(m.useContext)(g.a),h=b.newBuild,O=b.equippedBuild,x=null===O||void 0===O?void 0:O.teamStats[o];return Object(G.jsx)(g.a.Provider,{value:{equippedBuild:null!==(t=null===O||void 0===O?void 0:O.teamStats[o])&&void 0!==t?t:void 0,newBuild:null!==(a=null===h||void 0===h?void 0:h.teamStats[o])&&void 0!==a?a:void 0},children:Object(G.jsxs)(S.a,{children:[Object(G.jsx)(j.a,{children:Object(G.jsx)(et.b,{fullWidth:!0,value:null!==(n=null===x||void 0===x?void 0:x.characterKey)&&void 0!==n?n:"",onChange:function(e){return d({type:"team",index:o,charKey:e})},filter:function(e,t){return t!==i&&!l.includes(t)},unSelectText:"Teammate ".concat(o+1),unSelectIcon:Object(G.jsx)(Ye.a,{})})}),x&&Object(G.jsx)(ct.a,{characterKey:x.characterKey,onClickHeader:u,build:x,artifactChildren:Object(G.jsx)(jt,{condCharStats:x}),weaponChildren:Object(G.jsx)(ut,{condCharStats:x}),footer:s&&c&&Object(G.jsx)(dt,{condCharStats:x,character:c,sheets:s})})]})})}function jt(e){var t=e.condCharStats,a=Object(ee.a)(t.characterKey);return Object(G.jsx)($e.a,{children:Object.entries(t.setToSlots).map((function(e){var n,c,r,l=Object(i.a)(e,2),s=l[0],o=l[1];return Object.entries(null!==(n=null===(c=at.a.partyConditionals)||void 0===c||null===(r=c.artifact)||void 0===r?void 0:r[s])&&void 0!==n?n:{}).filter((function(e){var t=Object(i.a)(e,2),a=t[0];t[1];return parseInt(a)>=o.length})).flatMap((function(e){var n=Object(i.a)(e,2),c=(n[0],n[1]);return Object.entries(c).map((function(e){var n=Object(i.a)(e,2),c=(n[0],n[1]);return Object(G.jsx)(tt.a,{conditional:c,stats:t,onChange:function(e){return a({conditionalValues:e})}},c.key)}))}))}))})}function ut(e){var t,a,n,c=e.condCharStats,r=Object(ee.a)(c.characterKey);return Object(G.jsx)($e.a,{children:Object.entries(null!==(t=null===(a=at.a.partyConditionals)||void 0===a||null===(n=a.weapon)||void 0===n?void 0:n[c.weapon.key])&&void 0!==t?t:{}).map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return Object(G.jsx)(tt.a,{conditional:a,stats:c,onChange:function(e){return r({conditionalValues:e})}},a.key)}))})}function dt(e){e.character;var t,a,n,c=e.condCharStats,r=(e.sheets,Object(ee.a)(c.characterKey)),l=c.characterKey,s="Traveler"===l?"Traveler_".concat(c.characterEle):l,o=Object.entries(null!==(t=null===(a=at.a.partyConditionals)||void 0===a||null===(n=a.character)||void 0===n?void 0:n[s])&&void 0!==t?t:{}).filter((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return at.a.canShow(a,c)}));return Object(G.jsx)(j.a,{sx:{display:"flex",flexDirection:"column",gap:1,pt:0},children:o.map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(G.jsx)(tt.a,{conditional:n,stats:c,onChange:function(e){return r({conditionalValues:e})}},a)}))})}var bt=a(140);function ht(e){var t=e.children,a=e.current,n=e.value,c=Object(s.a)(e,["children","current","value"]);return n!==a?null:Object(G.jsx)(m.Suspense,{fallback:Object(G.jsx)(o.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(G.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),{},{children:t}))})}function Ot(e){var t,a,n,l=e.characterKey,s=e.footer,o=e.newBuild,f=e.onClose,v=e.tabName,p=e.isFlex,k=Object(m.useContext)(Z.b),w=Object(m.useState)(!1),_=Object(i.a)(w,2),B=_[0],E=_[1],A=Object($.a)(l),T=Object(ae.a)(),F=Object(i.a)(T,2),V=F[0],D=F[1],N=Object(ne.a)(),W=null!==(t=null===A||void 0===A?void 0:A.team)&&void 0!==t?t:[],I=Object(i.a)(W,3),q=I[0],z=I[1],L=I[2];Object(m.useEffect)((function(){return q?k.followChar(q,D):void 0}),[q,D,k]),Object(m.useEffect)((function(){return z?k.followChar(z,D):void 0}),[z,D,k]),Object(m.useEffect)((function(){return L?k.followChar(L,D):void 0}),[L,D,k]),Object(m.useEffect)((function(){l&&(k._getChar(l)||Object(r.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(R.b)(l),k.updateChar(t),e.next=4,bt.b.get(l);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return");case 7:n=Object(ie.a)(a.weaponTypeKey),r=k.createWeapon(n),k.setWeaponLocation(r,l);case 10:case"end":return e.stop()}}),e)})))())}),[k,l]);var U=null===N||void 0===N||null===(a=N.characterSheets)||void 0===a?void 0:a[null!==l&&void 0!==l?l:""];Object(m.useEffect)((function(){return A&&k.followWeapon(A.equippedWeapon,D)}),[A,null===A||void 0===A?void 0:A.equippedWeapon,D,k]);var H=Object(m.useMemo)((function(){if(o)return Object(ce.c)(o)}),[o]),X=Object(m.useState)(v||(H?"newartifacts":"character")),Q=Object(i.a)(X,2),Y=Q[0],ee=Q[1],te=Object(m.useCallback)((function(e,t){return ee(t)}),[ee]),re=null!==(n=null===H||void 0===H?void 0:H.mainStatAssumptionLevel)&&void 0!==n?n:0,le=Object(m.useMemo)((function(){return A&&V&&N&&M.a.calculateBuild(A,k,N,re)}),[V,A,N,re,k]);return A?Object(G.jsx)(y.a,{children:Object(G.jsxs)(g.a.Provider,{value:{newBuild:H,equippedBuild:le,compareBuild:B,setCompareBuild:E},children:[Object(G.jsxs)(j.a,{sx:{"> div:not(:last-child)":{mb:1}},children:[Object(G.jsxs)(u.a,{container:!0,spacing:1,children:[Object(G.jsx)(u.a,{item:!0,flexGrow:1,children:Object(G.jsx)(xt,{characterSheet:U,character:A})}),!!re&&Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(d.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(G.jsx)(b.a,{children:Object(G.jsxs)("strong",{children:["Assume Main Stats are Level ",re]})})})}),!!f&&Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(C.a,{onClick:f})})]}),Object(G.jsx)(S.a,{children:Object(G.jsxs)(h.a,{onChange:te,value:Y,variant:"fullWidth",children:[Object(G.jsx)(O.a,{value:"character",label:"Character"}),!!H&&Object(G.jsx)(O.a,{value:"newartifacts",label:"New Artifacts"}),Object(G.jsx)(O.a,{value:"artifacts",label:H?"Current Artifacts":"Artifacts"}),!p&&Object(G.jsx)(O.a,{value:"buffs",label:"Team Buffs"}),Object(G.jsx)(O.a,{value:"talent",label:"Talents"})]})}),Object(G.jsx)(J.a,{character:A}),N&&Object(G.jsx)(P,{sheets:N}),Object(G.jsx)(K.b,{character:A}),U&&Object(G.jsx)(ht,{value:"character",current:Y,children:Object(G.jsx)(_e,{characterSheet:U,character:A})}),N&&Object(G.jsx)(g.a.Provider,{value:{newBuild:void 0,equippedBuild:le,compareBuild:B,setCompareBuild:E},children:Object(G.jsx)(ht,{value:"artifacts",current:Y,children:Object(G.jsx)(Oe,{character:A,sheets:N})})}),H&&N&&Object(G.jsx)(ht,{value:"newartifacts",current:Y,children:Object(G.jsx)(Oe,{character:A,sheets:N})}),U&&Object(G.jsx)(ht,{value:"buffs",current:Y,children:Object(G.jsx)(rt,{characterSheet:U,character:A})}),U&&Object(G.jsx)(ht,{value:"talent",current:Y,children:Object(G.jsx)(Le,{characterSheet:U,character:A})})]}),!!s&&Object(G.jsx)(x.a,{}),s&&Object(G.jsx)(j.a,{children:s})]})}):Object(G.jsx)(G.Fragment,{})}function xt(e){var t,a=e.characterSheet,n=e.character,c=e.character,r=c.key,l=c.elementKey,s=void 0===l?"anemo":l,o=c.level,j=void 0===o?1:o,d=c.ascension,h=void 0===d?0:d,O=e.disabled,x=Object(m.useState)(!1),g=Object(i.a)(x,2),y=g[0],S=g[1],C=Object(te.a)(),K=Object(ee.a)(r),A=a?Object(G.jsxs)("span",{children:[Object(G.jsx)(X.a,{src:a.thumbImg,sx:{mr:1}}),a.name]}):Object(G.jsx)("span",{children:"Select a Character"}),T=Object(m.useCallback)((function(e){e=Object(re.a)(e,1,90);var t=Y.b.findIndex((function(t){return e<=t}));K({level:e,ascension:t})}),[K]),F=Object(m.useCallback)((function(){var e=Y.b.findIndex((function(e){return 90!==j&&j===e}));K(h===e?{ascension:h+1}:{ascension:e})}),[K,h,j]);return Object(G.jsx)(G.Fragment,{children:O?Object(G.jsxs)(b.a,{variant:"h6",children:[A," ",a&&M.a.getLevelString(n)]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(k.a,{show:y,onHide:function(){return S(!1)},onSelect:C}),Object(G.jsxs)(u.a,{container:!0,spacing:1,children:[Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(f.a,{onClick:function(){return S(!0)},startIcon:Object(G.jsx)(w.a,{src:null===a||void 0===a?void 0:a.thumbImgSide}),children:null!==(t=null===a||void 0===a?void 0:a.name)&&void 0!==t?t:"Select a Character"})}),Object(G.jsx)(u.a,{item:!0,children:Object(G.jsxs)(v.a,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[(null===a||void 0===a?void 0:a.sheet)&&"talents"in(null===a||void 0===a?void 0:a.sheet)&&Object(G.jsx)(E.a,{title:Object(G.jsx)("strong",{children:Object(G.jsx)(_.a,{color:s,children:Object(Q.h)("element.".concat(s))})}),children:Object.keys(a.sheet.talents).map((function(e){return Object(G.jsx)(p.a,{selected:s===e,disabled:s===e,onClick:function(){return K({elementKey:e})},children:Object(G.jsx)("strong",{children:Object(G.jsx)(_.a,{color:e,children:Object(Q.h)("element.".concat(e))})})},e)}))}),Object(G.jsx)(B.a,{children:Object(G.jsx)(B.c,{onChange:T,value:j,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!a})}),Object(G.jsx)(f.a,{sx:{pl:1},disabled:!Object(Y.a)(j)||!a,onClick:F,children:Object(G.jsxs)("strong",{children:["/ ",Y.b[h]]})}),Object(G.jsx)(E.a,{title:"Select Level",disabled:!a,children:Y.c.map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1],c=a===Y.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(Y.b[n]),r=a===j&&n===h;return Object(G.jsx)(p.a,{selected:r,disabled:r,onClick:function(){return K({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})})]})]})})}}}]);
//# sourceMappingURL=16.a0d91804.chunk.js.map