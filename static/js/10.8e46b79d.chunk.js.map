{"version":3,"sources":["../node_modules/react-bootstrap/esm/ListGroupItem.js","../node_modules/react-bootstrap/esm/ListGroup.js","Build/BuildWorker.js","Build/Build.js","Build/BuildDisplay.js"],"names":["defaultProps","variant","undefined","active","disabled","ListGroupItem","React","forwardRef","_ref","ref","bsPrefix","className","action","as","eventKey","onClick","props","_objectWithoutPropertiesLoose","useBootstrapPrefix","handleClick","useCallback","event","preventDefault","stopPropagation","createElement","AbstractNavItem","_extends","makeEventKey","href","classNames","displayName","horizontal","ListGroup","horizontalVariant","_useUncontrolled","useUncontrolled","activeKey","initialBsPrefix","_useUncontrolled$as","controlledProps","AbstractNav","Item","Worker_fn","Worker","Build","databaseObj","ret","slot","Object","values","filter","art","slotKey","ArtifactSlotsData","setFilters","sets","key","map","reduce","accu","num","push","perm","slotKeys","Artifact","getArtifactSlotKeys","slotPerm","index","length","numArtsPerSet","forEach","setKey","valid","setFilter","ArtifactSetsData","pieces","keys","includes","splitArtifacts","setPerms","setsInFilter","splitNumArtsPerSet","entries","artArr","setPerm","permaccu","BuildDisplay","forceUpdateBuildDisplay","forceUpdate","statsDisplayKeys","state","selectedCharacterId","artifactDatabase","ArtifactDatabase","getArtifactDatabase","val","lock","location","every","filterKeys","split","splitArtifactsBySlot","artifactsSlotsToSelectMainStats","mainStat","mainStatKey","changeMainStat","setState","deepClone","changeSetFilterKey","newkey","setsNumArr","parseInt","dropdownitemsForStar","star","getArtifactSetsByMaxStarEntries","setobj","some","artsAccountedOther","cur","ind","Dropdown","name","generateBuilds","artifactSetPerms","generatingBuilds","builds","asending","buildFilterKey","maxBuildsToShow","character","CharacterDatabase","getCharacter","weaponStats","Weapon","createWeaponBundle","initialStats","Character","calculateCharacterWithWeaponStats","artifactSetEffects","getAllArtifactSetEffectsObj","mainStatVal","getMainStatValue","numStars","level","data","worker","onmessage","e","ReactGA","timing","category","variable","value","label","calculateTotalBuildNumber","obj","calculateBuildWithObjs","artifacts","postMessage","BuildGeneratorEditorCard","charlist","getCharacterDatabase","selectedCharacter","characterName","artsAccounted","generateAllPossibleArtifactSetPerm","totBuildNumber","buildAlert","Alert","maxBuildsToGenerate","Card","bg","text","Header","Body","Row","Col","DropdownButton","title","char","i","id","ButtonGroup","getArtifactSetName","ItemText","Divider","getArtifactSetEffectsObj","getArtifactSlotNameWithIcon","Stat","getStatNameWithPercent","stats","xs","Button","setTimeout","getElementalKey","characterKey","icon","faSortAmountDownAlt","faSortAmountUp","ArtifactDisplayItem","build","modalBuild","setToSlots","sort","slotarr1","slotarr","Badge","getArtifactSlotIcon","unit","getStatUnit","sm","md","lg","getStatName","finalStats","toFixed","fixedUnit","BuildModal","Modal","show","onHide","size","dialogAs","Container","CharacterDisplayCard","characterToEdit","newBuild","onClose","DatabaseInitAndVerify","getInitialState","savedState","loadFromLocalStorage","pageview","this","saveToLocalStorage","artifactIds","join","Component","initialState","sandsMainKey","gobletMainKey","circletMainkey","maxBuildsToShowList","maxBuildsToGenerateList","JSON","parse","stringify"],"mappings":"oZAOIA,EAAe,CACjBC,aAASC,EACTC,QAAQ,EACRC,UAAU,GAERC,EAAgBC,IAAMC,YAAW,SAAUC,EAAMC,GACnD,IAAIC,EAAWF,EAAKE,SAChBP,EAASK,EAAKL,OACdC,EAAWI,EAAKJ,SAChBO,EAAYH,EAAKG,UACjBV,EAAUO,EAAKP,QACfW,EAASJ,EAAKI,OACdC,EAAKL,EAAKK,GACVC,EAAWN,EAAKM,SAChBC,EAAUP,EAAKO,QACfC,EAAQC,YAA8BT,EAAM,CAAC,WAAY,SAAU,WAAY,YAAa,UAAW,SAAU,KAAM,WAAY,YAEvIE,EAAWQ,YAAmBR,EAAU,mBACxC,IAAIS,EAAcC,uBAAY,SAAUC,GACtC,GAAIjB,EAGF,OAFAiB,EAAMC,sBACND,EAAME,kBAIJR,GAASA,EAAQM,KACpB,CAACjB,EAAUW,IACd,OAAoBT,IAAMkB,cAAcC,IAAiBC,YAAS,CAChEjB,IAAKA,GACJO,EAAO,CAERF,SAAUa,YAAab,EAAUE,EAAMY,MAEvCf,GAAIA,IAAOD,EAASI,EAAMY,KAAO,IAAM,SAAW,OAClDb,QAASI,EACTR,UAAWkB,IAAWlB,EAAWD,EAAUP,GAAU,SAAUC,GAAY,WAAYH,GAAWS,EAAW,IAAMT,EAASW,GAAUF,EAAW,iBAGrJL,EAAcL,aAAeA,EAC7BK,EAAcyB,YAAc,gBACbzB,QCtCXL,EAAe,CACjBC,aAASC,EACT6B,gBAAY7B,GAEV8B,EAAY1B,IAAMC,YAAW,SAAUS,EAAOP,GAChD,IAYIwB,EAZAC,EAAmBC,YAAgBnB,EAAO,CAC5CoB,UAAW,aAETzB,EAAYuB,EAAiBvB,UAC7B0B,EAAkBH,EAAiBxB,SACnCT,EAAUiC,EAAiBjC,QAC3B8B,EAAaG,EAAiBH,WAC9BO,EAAsBJ,EAAiBrB,GACvCA,OAA6B,IAAxByB,EAAiC,MAAQA,EAC9CC,EAAkBtB,YAA8BiB,EAAkB,CAAC,YAAa,WAAY,UAAW,aAAc,OAErHxB,EAAWQ,YAAmBmB,EAAiB,cAUnD,OANEJ,EADEF,GACiC,IAAfA,EAAsB,aAAe,cAAgBA,EAErD,KAIFzB,IAAMkB,cAAcgB,IAAad,YAAS,CAC5DjB,IAAKA,GACJ8B,EAAiB,CAClB1B,GAAIA,EACJF,UAAWkB,IAAWlB,EAAWD,EAAUT,GAAWS,EAAW,IAAMT,EAASgC,GAAqBvB,EAAW,IAAMuB,SAG1HD,EAAUhC,aAAeA,EACzBgC,EAAUF,YAAc,YACxBE,EAAUS,KAAOpC,EACF2B,Q,0BC7CA,SAASU,IACtB,OAAO,IAAIC,OAAO,IAA0B,4C,8FCEzBC,E,kHAGSC,GAC1B,IAAIC,EAAM,GAD6B,WAE9BC,GACPD,EAAIC,GAAQC,OAAOC,OAAOJ,GAAaK,QAAO,SAAAC,GAAG,OAAIA,EAAIC,UAAYL,MADvE,IAAK,IAAIA,KAAQM,IAAjB,EAASN,GAET,OAAOD,I,yDASiCQ,GACxC,IAAIC,EAAOD,EAAWJ,QAAO,SAAAA,GAAM,OAAIA,EAAOM,OAAKC,KAAI,SAAAP,GAAM,OAAIA,EAAOM,OACzDF,EAAWI,QAAO,SAACC,EAAMT,GAAP,OAAkBA,EAAOM,IAAMG,EAAOT,EAAOU,IAAMD,IAAM,GAAK,GACjFJ,EAAKM,KAAK,SAExB,IAAIC,EAAO,GACPC,EAAWC,IAASC,sBA6BxB,OA3Be,SAAXC,EAAYC,EAAOR,GACrB,GAAIQ,GAASJ,EAASK,OAAtB,CACE,IAAIC,EAAgB,GACpBrB,OAAOC,OAAOU,GAAMW,SAAQ,SAAAC,GACtBF,EAAcE,GAASF,EAAcE,IAAW,EAC/CF,EAAcE,GAAU,KAE/B,IAN4B,EAMxBC,GAAQ,EANgB,cAOJlB,GAPI,IAO5B,2BAAoC,CAAC,IAA1BmB,EAAyB,QAClC,GAAIA,EAAUjB,OAASa,EAAcI,EAAUjB,MAAQa,EAAcI,EAAUjB,KAAOiB,EAAUb,KAAM,CACpGY,GAAQ,EACR,QAVwB,8BAaxBA,GAAOV,EAAKD,KAAKF,OAbvB,CAgBA,IAAIP,EAAUW,EAASI,GACvBZ,EAAKe,SAAQ,SAAAC,IAEI,UAAXA,GAAuBG,IAAiBH,IAAYG,IAAiBH,GAAQI,QAAW3B,OAAO4B,KAAKF,IAAiBH,GAAQI,QAAQE,SAASzB,MAChJO,EAAKP,GAAWmB,EAChBL,EAASC,EAAQ,EAAT,eAAiBR,SAI/BO,CAAS,EAAG,IACLJ,I,gDAEwBgB,EAAgBC,EAAUzB,GACzD,IAAI0B,EAAe1B,EAAWJ,QAAO,SAAAA,GAAM,OAAIA,EAAOM,OAAKC,KAAI,SAAAP,GAAM,OAAIA,EAAOM,OAC5EyB,EAAqB,GAazB,OAXAjC,OAAOkC,QAAQJ,GAAgBR,SAAQ,YAAoB,IAAD,mBAAjBd,EAAiB,KAAZ2B,EAAY,KACpDd,EAAgB,GACpBc,EAAOb,SAAQ,SAAAnB,GACT6B,EAAaH,SAAS1B,EAAIoB,QAC5BF,EAAclB,EAAIoB,SAAWF,EAAclB,EAAIoB,SAAW,GAAK,EAE/DF,EAAa,OAAaA,EAAa,OAAa,GAAK,KAE7DY,EAAmBzB,GAAOa,KAGrBU,EAASrB,QAAO,SAACC,EAAMyB,GAAP,OACrBzB,EAAOX,OAAOkC,QAAQE,GAAS1B,QAAO,SAAC2B,EAAD,0BAAY7B,EAAZ,KAAiBe,EAAjB,YACnCU,EAAmBzB,IAAQyB,EAAmBzB,GAAKe,GAAWc,EAAWJ,EAAmBzB,GAAKe,GAAU,IAC1G,KACF,O,qBCxDae,G,kDACnB,WAAYtE,GAAQ,IAAD,EAIjB,GAJiB,qBACjB,cAAMA,IAkCRuE,wBAA0B,kBAAM,EAAKC,eAnClB,EAqCnBC,iBAAmB,iBAAM,CAAC,KAAM,MAAO,MAAO,UAAW,YAAa,WAAY,YAAa,YAAa,UAAW,UAAW,UAAW,YArC1H,EAuCnBX,eAAiB,WACf,IAAK,EAAKY,MAAMC,oBAAqB,MAAO,GAC5C,IAAIC,EAAmBC,IAAiBC,sBAOxC,GALA9C,OAAOkC,QAAQU,GAAkBtB,SAAQ,YAAiB,IAAD,mBAAdd,EAAc,KAATuC,EAAS,KACnDA,EAAIC,aAAaJ,EAAiBpC,GAClC,EAAKkC,MAAMC,qBAAuBI,EAAIE,UAAYF,EAAIE,WAAa,EAAKP,MAAMC,4BACzEC,EAAiBpC,MAExB,EAAKkC,MAAMpC,WAAW4C,OAAM,SAAAhD,GAAM,OAAIA,EAAOM,OAAM,CACrD,IAAI2C,EAAa,EAAKT,MAAMpC,WAAWG,KAAI,SAAAP,GAAM,OAAIA,EAAOM,OAE5DR,OAAOkC,QAAQU,GAAkBtB,SAAQ,YAAiB,IAAD,mBAAdd,EAAc,KAATuC,EAAS,KACnDI,EAAWtB,SAASkB,EAAIxB,gBACnBqB,EAAiBpC,MAG9B,IAAI4C,EAAQxD,EAAMyD,qBAAqBT,GAIvC,OAFAN,EAAagB,gCAAgChC,SAAQ,SAAClB,EAASe,GAAV,OACnD,EAAKuB,MAAMa,SAASpC,KAAWiC,EAAMhD,GAAWgD,EAAMhD,GAASF,QAAO,SAACC,GAAD,OAASA,EAAIqD,cAAgB,EAAKd,MAAMa,SAASpC,UAClHiC,GA5DU,EA8DnBK,eAAiB,SAACtC,EAAOqC,GACvB,EAAKE,UAAS,SAAAhB,GACZ,IAAIa,EAAWI,YAAUjB,EAAMa,UAE/B,OADAA,EAASpC,GAASqC,EACX,CAAED,gBAlEM,EAqEnBK,mBAAqB,SAACzC,EAAO0C,EAAQC,GAC/B,EAAKpB,MAAMpC,WAAWa,GAAOX,MAAQqD,GACzC,EAAKH,UAAS,SAAChB,GACb,IAAIpC,EAAaqD,YAAUjB,EAAMpC,YAC7BM,EAAM,EAIV,OAHIkD,GAAcA,EAAW,KAC3BlD,EAAMmD,SAASD,EAAW,KAC5BxD,EAAWa,GAAS,CAAEX,IAAKqD,EAAQjD,OAC5B,CAAEN,kBA7EM,EAgFnB0D,qBAAuB,SAACC,EAAM9C,GAAP,OACrBH,IAASkD,gCAAgCD,GAAMxD,KAAI,YAAoB,IAAD,mBAAjBD,EAAiB,KAAZ2D,EAAY,KACpE,GAAI,EAAKzB,MAAMpC,WAAW8D,MAAK,SAAAlE,GAAM,OAAIA,EAAOM,MAAQA,KAAM,OAAO,EACrE,IAAIsD,EAAa9D,OAAO4B,KAAKF,IAAiBlB,GAAKD,MAC/C8D,EAAqB,EAAK3B,MAAMpC,WAAWI,QAAO,SAACC,EAAM2D,EAAKC,GAAZ,OAAqBD,EAAI9D,KAAO+D,IAAQpD,EAASR,EAAO2D,EAAI1D,IAAMD,IAAM,GAC9H,OAAImD,EAAWZ,OAAM,SAAAtC,GAAG,OAAImD,SAASnD,GAAOyD,EAAqB,MACzD,cAACG,EAAA,EAAS/E,KAAV,CACN1B,QAAS,kBAAM,EAAK6F,mBAAmBzC,EAAOX,EAAKsD,IAD7C,SAGLK,EAAOM,MAHkBjE,OAtFb,EA6FnBkE,eAAiB,SAACtB,EAAOuB,GACvB,EAAKjB,SAAS,CAAEkB,kBAAkB,EAAMC,OAAQ,KADJ,MAEoB,EAAKnC,MAA/DpC,EAFsC,EAEtCA,WAAYwE,EAF0B,EAE1BA,SAAUC,EAFgB,EAEhBA,eAAgBC,EAFA,EAEAA,gBACxCC,EAAYC,IAAkBC,aAAa,EAAKzC,MAAMC,qBACtDyC,EAAcC,IAAOC,mBAAmBL,GACxCM,EAAeC,IAAUC,kCAAkCR,EAAWG,GAEtEM,EAAqB1E,IAAS2E,8BAC9B7D,EAAiB6B,YAAUP,GAE/BpD,OAAOC,OAAO6B,GAAgBR,SAAQ,SAAAa,GACpCA,EAAOb,SAAQ,SAAAnB,GACbA,EAAIyF,YAAc5E,IAAS6E,iBAAiB1F,EAAIqD,YAAarD,EAAI2F,SAAU3F,EAAI4F,aAInF,IAAIC,EAAO,CACTlE,iBAAgB6C,mBAAkBY,eAAcG,qBAChDpF,aAAY0E,kBAAiBD,iBAAgBD,YAG3CmB,EAAS,IAAItG,EACjBsG,EAAOC,UAAY,SAACC,GAClBC,IAAQC,OAAO,CACbC,SAAU,mBACVC,SAAU,SACVC,MAAOL,EAAEH,KAAKK,OACdI,MAAO7G,EAAM8G,0BAA0BtD,EAAOuB,EAAkB,EAAKjC,MAAMpC,cAE7E,IAAIuE,EAASsB,EAAEH,KAAKnB,OAAOpE,KAAI,SAAAkG,GAAG,OAChCnB,IAAUoB,uBAAuBrB,EAAcoB,EAAIE,cACrD,EAAKnD,SAAS,CAAEmB,SAAQD,kBAAkB,KAG5CqB,EAAOa,YAAYd,IA/HF,EAkInBe,yBAA2B,SAAC/I,GAC1B,IAAIgJ,EAAW9B,IAAkB+B,uBAC7BC,EAAoBhC,IAAkBC,aAAa,EAAKzC,MAAMC,qBAC9DwE,EAAgBD,EAAoBA,EAAkBzC,KAAO,iBAC7D2C,EAAgB,EAAK1E,MAAMpC,WAAWI,QAAO,SAACC,EAAM2D,GAAP,OAAeA,EAAI9D,IAAMG,EAAO2D,EAAI1D,IAAMD,IAAM,GAC7FyC,EAAQ,EAAKtB,iBACb6C,EAAmB/E,EAAMyH,mCAAmC,EAAK3E,MAAMpC,YACvEgH,EAAiB1H,EAAM8G,0BAA0BtD,EAAOuB,EAAkB,EAAKjC,MAAMpC,YACrFiH,EAAgC,IAAnBD,EACf,cAACE,EAAA,EAAD,CAAOvK,QAAQ,UAAUU,UAAU,OAAnC,SAA0C,2FAA6D,4BAAIwJ,IAAjE,mFACvCG,EAAiB,EAAK5E,MAAM+E,oBAC7B,cAACD,EAAA,EAAD,CAAOvK,QAAQ,SAASU,UAAU,OAAlC,SAAyC,wEAA0C,4BAAI2J,IAA9C,eAA6E,4BAAIH,IAAjF,0EAA2K,EAAKzE,MAAM+E,oBAAtL,sCACzC,cAACD,EAAA,EAAD,CAAOvK,QAAQ,UAAUU,UAAU,OAAnC,SAA0C,wEAA0C,4BAAI2J,IAA9C,eAA6E,4BAAIH,IAAjF,SAC9C,OAAO,eAACO,EAAA,EAAD,CAAMC,GAAG,cAAcC,KAAK,YAA5B,UACL,cAACF,EAAA,EAAKG,OAAN,8BACA,eAACH,EAAA,EAAKI,KAAN,WACE,eAACC,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,WAEE,qBAAKrK,UAAU,OAAf,SACE,eAACsK,EAAA,EAAD,CAAgBC,MAAO,EAAKxF,MAAMC,oBAAsBwE,EAAgB,mBAAxE,UACE,cAAC3C,EAAA,EAAS/E,KAAV,CAAe1B,QAAS,kBAAM,EAAK2F,SAAS,CAAEf,oBAAqB,GAAIkC,OAAQ,MAA/E,0BAGC7E,OAAOC,OAAO+G,GAAUvG,KAAI,SAAC0H,EAAMC,GAAP,OAC3B,cAAC5D,EAAA,EAAS/E,KAAV,CACE1B,QAAS,kBAAM,EAAK2F,SAAS,CAAEf,oBAAqBwF,EAAKE,GAAIxD,OAAQ,MADvE,SAGGsD,EAAK1D,MAHY0D,EAAK1D,KAAO2D,WAQrC,EAAK1F,MAAMpC,WAAWG,KAAI,SAACgB,EAAWN,GAAZ,OACzB,qBAAKxD,UAAU,OAAf,SACE,eAAC2K,EAAA,EAAD,WAEE,eAACL,EAAA,EAAD,CAAgBpK,GAAIyK,IAAaJ,MAAOlH,IAASuH,mBAAmB9G,EAAUjB,IAAK,kBAAnF,UACE,cAACgE,EAAA,EAAS/E,KAAV,CAAe1B,QAAS,kBAAM,EAAK6F,mBAAmBzC,EAAO,KAA7D,+BAGA,cAACqD,EAAA,EAASgE,SAAV,sFACC,EAAKxE,qBAAqB,EAAG7C,GAC9B,cAACqD,EAAA,EAASiE,QAAV,IACA,cAACjE,EAAA,EAASgE,SAAV,0EACC,EAAKxE,qBAAqB,EAAG7C,GAC9B,cAACqD,EAAA,EAASiE,QAAV,IACA,cAACjE,EAAA,EAASgE,SAAV,8DACC,EAAKxE,qBAAqB,EAAG7C,MAGhC,cAAC8G,EAAA,EAAD,CAAgBpK,GAAIyK,IAAaJ,MAAK,UAAKzG,EAAUb,IAAf,QACpCxD,UAAWqE,EAAUjB,KAAO4G,GAAiB,EAD/C,SAGG3F,EAAUjB,KAAOQ,IAAS0H,yBAAyBjH,EAAUjB,MAAQR,OAAO4B,KAAKZ,IAAS0H,yBAAyBjH,EAAUjB,MAAMC,KAAI,SAAAG,GACtI,IAAIyD,EAAqB,EAAK3B,MAAMpC,WAAWI,QAAO,SAACC,EAAM2D,GAAP,OAAgBA,EAAI9D,KAAO8D,EAAI9D,MAAQiB,EAAUjB,IAAOG,EAAO2D,EAAI1D,IAAMD,IAAM,GACrI,OAAQoD,SAASnD,GAAOyD,GAAsB,GAC3C,cAACG,EAAA,EAAS/E,KAAV,CACC1B,QAAS,kBAAM,EAAK2F,UAAS,SAAChB,GAC5B,IAAIpC,EAAaqD,YAAUjB,EAAMpC,YAEjC,OADAA,EAAWa,GAAOP,IAAMmD,SAASnD,GAC1B,CAAEN,kBAJZ,mBAOKM,EAPL,SAAoBA,YAvBJO,SAsC/B,eAAC6G,EAAA,EAAD,WACE,+DACC1F,EAAagB,gCAAgC7C,KAAI,SAACL,EAASe,GAAV,OACjD,sBAAKxD,UAAU,kDAAf,UACC,oBAAIA,UAAU,gBAAd,SACGqD,IAAS2H,4BAA4BvI,KAExC,eAAC6H,EAAA,EAAD,CACEC,MAAO,EAAKxF,MAAMa,SAASpC,GAASyH,IAAKC,uBAAuB,EAAKnG,MAAMa,SAASpC,IAAU,oBAC9FxD,UAAU,WAFZ,UAGE,cAAC6G,EAAA,EAAS/E,KAAV,CAAe1B,QAAS,kBAAM,EAAK0F,eAAetC,EAAO,KAAzD,yBACCd,IAAkBD,GAAS0I,MAAMrI,KAAI,SAAA+C,GAAW,OAC/C,cAACgB,EAAA,EAAS/E,KAAV,CAAe1B,QAAS,kBAAM,EAAK0F,eAAetC,EAAOqC,IAAzD,SACGoF,IAAKC,uBAAuBrF,IAD6CA,WATXpD,YAiB3E,eAAC2H,EAAA,EAAD,CAAKpK,UAAU,sCAAf,UACE,cAACqK,EAAA,EAAD,CAAKe,GAAG,OAAR,SACE,cAACC,EAAA,EAAD,CACErL,UAAU,QACVP,UAAW,EAAKsF,MAAMC,qBAAuB2E,EAAiB,EAAK5E,MAAM+E,qBAAuB,EAAK/E,MAAMkC,iBAC3G3H,QAAU,EAAKyF,MAAMC,qBAAuB2E,GAAkB,EAAK5E,MAAM+E,oBAAuB,UAAY,SAC5G1J,QAAS,kBAAMkL,YAAW,WACxB,EAAKvE,eAAetB,EAAOuB,KAC1B,IANL,SAOC,uDAEH,cAACqD,EAAA,EAAD,CAAKe,GAAG,OAAR,SAEE,eAACT,EAAA,EAAD,WACE,cAACL,EAAA,EAAD,CAAgB7K,UAAW,EAAKsF,MAAMC,oBAAqBuF,MAAK,kBAAaU,IAAKC,uBAAuB,EAAKnG,MAAMqC,iBAAmBlH,GAAIyK,IAA3I,SACG,EAAK5F,MAAMC,qBAAuB,EAAKF,mBAAmBhC,KAAI,SAAAD,GAG7D,MAFY,YAARA,GAA6B,YAARA,IACvBA,EAAG,UAAMgF,IAAU0D,gBAAgBhC,EAAkBiC,cAAlD,YAAmE3I,IACjE,cAACgE,EAAA,EAAS/E,KAAV,CAAyB1B,QAAS,kBAAM,EAAK2F,SAAS,CAAEqB,eAAgBvE,KAAxE,SACJoI,IAAKC,uBAAuBrI,IADJA,QAK/B,cAACwI,EAAA,EAAD,CAAQjL,QAAS,kBAAM,EAAK2F,UAAS,SAAAhB,GAAK,MAAK,CAAEoC,UAAWpC,EAAMoC,cAAlE,SACE,cAAC,IAAD,CAAiBsE,KAAM,EAAK1G,MAAMoC,SAAWuE,IAAsBC,IAAgB3L,UAAU,oBAKrG,cAACoK,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UAAM,EAAKtF,MAAMC,qBAAuB4E,aA5P7B,EAiQnBgC,oBAAsB,SAACvL,GAAW,IAC1BwL,EAAqBxL,EAArBwL,MAAOvE,EAAcjH,EAAdiH,UACb,OAAQ,8BACN,eAAC,EAAUxF,KAAX,CACExC,QAASe,EAAMmD,MAAQ,EAAI,aAAe,eAAgBxD,UAAU,aAAaC,QAAM,EACvFG,QAAS,kBAAM,EAAK2F,SAAS,CAAE+F,WAAYD,KAF7C,UAIE,cAACzB,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UAAMhI,OAAOkC,QAAQsH,EAAME,YAAYC,MAAK,qCAAQC,GAAR,+CAAiDxI,OAASwI,EAASxI,UAAQX,KAAI,mCAAED,EAAF,KAAOqJ,EAAP,YACzH,eAACC,EAAA,EAAD,CAAiB7M,QAAQ,UAAUU,UAAU,OAA7C,UACGkM,EAAQpJ,KAAI,SAAAL,GAAO,OAAIY,IAAS+I,oBAAoB3J,MADvD,IACmEY,IAASuH,mBAAmB/H,KADnFA,UAKhB,cAACuH,EAAA,EAAD,UACG,EAAKtF,mBAAmBhC,KAAI,SAAAD,GAAQ,IAAD,EACtB,YAARA,GAA6B,YAARA,IACvBA,EAAG,UAAMgF,IAAU0D,gBAAgBjE,EAAUkE,cAA1C,YAA2D3I,IAChE,IAAIwJ,EAAOpB,IAAKqB,YAAYzJ,GAC5B,OAAO,cAACwH,EAAA,EAAD,CAAKrK,UAAU,cAAwBoL,GAAI,GAAImB,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAjE,SACL,iCAAOxB,IAAKyB,YAAY7J,GAAxB,KAA+B,uBAAM7C,UAAU,eAAhB,oBAAgC6L,EAAMc,WAAW9J,UAAjD,aAAgC,EAAuB+J,QAAQ3B,IAAK4B,UAAUhK,IAAOwJ,SAD7ExJ,cApRhC,EA4RnBiK,WAAa,SAACzM,GAAW,IACjBwL,EAAqBxL,EAArBwL,MAAOvE,EAAcjH,EAAdiH,UACb,OAAOuE,EAAS,cAACkB,EAAA,EAAD,CAAOC,KAAgC,OAA1B,EAAKjI,MAAM+G,WAAqBmB,OAAQ,kBAAM,EAAKlH,SAAS,CAAE+F,WAAY,QAASoB,KAAK,KAAKC,SAAUC,IAAWpN,UAAU,YAAzI,SACd,cAACqN,EAAA,EAAD,CAAsBC,gBAAiBhG,EAAWiG,SAAU1B,EAAO2B,QAAS,kBAAM,EAAKzH,SAAS,CAAE+F,WAAY,QAASjH,YAAa,EAAKD,4BAC/H,MA9RZ6I,cACA,EAAK1I,MAAQJ,EAAa+I,kBACtBrN,EAAMiF,SAASN,oBACjB,EAAKD,MAAQJ,EAAa+I,kBAC1BrN,EAAMiF,SAASN,sBAAwB,EAAKD,MAAMC,oBAAsB3E,EAAMiF,SAASN,yBAClF,CACL,IAAI2I,EAAaC,YAAqB,uBACtC,GAAID,EAAY,CACd,IAAIrG,EAAYC,IAAkBC,aAAamG,EAAW3I,qBACtD2I,GAAcrG,IAAW,EAAKvC,MAAQ4I,IAX7B,OAcjBlF,IAAQoF,SAAS,UAdA,E,iEAoSjB,IAAI9I,EAAQiB,YAAU8H,KAAK/I,OAC3BA,EAAMmC,OAAS,UACRnC,EAAMkC,wBACNlC,EAAM+G,WACbiC,YAAmB,sBAAuBhJ,K,+BAElC,IAAD,OACHwE,EAAoBhC,IAAkBC,aAAasG,KAAK/I,MAAMC,qBAC9DwE,EAAgBD,EAAoBA,EAAkBzC,KAAO,iBACjE,OAAQ,eAACsG,EAAA,EAAD,WACN,mBAAMN,WAAN,CAAiBjB,MAAOiC,KAAK/I,MAAM+G,WAAYxE,UAAWiC,IAC1D,cAACa,EAAA,EAAD,CAAKpK,UAAU,YAAf,SACE,cAACqK,EAAA,EAAD,UAEE,mBAAMjB,yBAAN,QAGJ,cAACgB,EAAA,EAAD,CAAKpK,UAAU,OAAf,SACE,cAACqK,EAAA,EAAD,UACE,eAACN,EAAA,EAAD,CAAMC,GAAG,cAAcC,KAAK,YAA5B,UACE,cAACF,EAAA,EAAKG,OAAN,UAAc4D,KAAK/I,MAAMC,oBAAX,kBAA4C8I,KAAK/I,MAAMmC,OAAOzD,OAA9D,iCAA6F+F,GAAkB,2CAE7H,cAAC,EAAD,UACGsE,KAAK/I,MAAMmC,OAAOpE,KAAI,SAAC+I,EAAOrI,GAAR,OACpBA,EAAQ,EAAKuB,MAAMsC,iBAAoB,cAAC,EAAKuE,oBAAN,CAA0BC,MAAOA,EAAOvE,UAAWiC,EAAmB/F,MAAOA,GAAYnB,OAAOC,OAAOuJ,EAAMmC,aAAaC,KAAK,yB,GA7T7ItO,IAAMuO,WAA3BvJ,GAiBZwJ,aAAe,CACpBjH,OAAQ,GACRD,kBAAkB,EAClBjC,oBAAqB,GACrBoJ,aAAc,GACdC,cAAe,GACfC,eAAgB,GAChB3L,WAAY,CAAC,CAAEE,IAAK,GAAII,IAAK,GAAK,CAAEJ,IAAK,GAAII,IAAK,GAAK,CAAEJ,IAAK,GAAII,IAAK,IACvE2C,SAAU,CAAC,GAAI,GAAI,IACnBwB,eAAgB,MAChBD,UAAU,EACV2E,WAAY,KACZzE,gBAAiB,IACjByC,oBAAqB,KA9BJnF,GAgCZ4J,oBAAsB,CAAC,IAAK,GAAI,GAAI,GAhCxB5J,GAiCZ6J,wBAA0B,CAAC,IAAO,IAAO,IAAM,IAAM,IAAK,KAjC9C7J,GAkCZ+I,gBAAkB,kBAAMe,KAAKC,MAAMD,KAAKE,UAAUhK,GAAawJ,gBAlCnDxJ,GAmCZgB,gCAAkC,CAAC,QAAS,SAAU","file":"static/js/10.8e46b79d.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport AbstractNavItem from './AbstractNavItem';\nimport { makeEventKey } from './SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  variant: undefined,\n  active: false,\n  disabled: false\n};\nvar ListGroupItem = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      variant = _ref.variant,\n      action = _ref.action,\n      as = _ref.as,\n      eventKey = _ref.eventKey,\n      onClick = _ref.onClick,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"active\", \"disabled\", \"className\", \"variant\", \"action\", \"as\", \"eventKey\", \"onClick\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  var handleClick = useCallback(function (event) {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    if (onClick) onClick(event);\n  }, [disabled, onClick]);\n  return /*#__PURE__*/React.createElement(AbstractNavItem, _extends({\n    ref: ref\n  }, props, {\n    // TODO: Restrict eventKey to string in v5?\n    eventKey: makeEventKey(eventKey, props.href) // eslint-disable-next-line no-nested-ternary\n    ,\n    as: as || (action ? props.href ? 'a' : 'button' : 'div'),\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, active && 'active', disabled && 'disabled', variant && bsPrefix + \"-\" + variant, action && bsPrefix + \"-action\")\n  }));\n});\nListGroupItem.defaultProps = defaultProps;\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AbstractNav from './AbstractNav';\nimport ListGroupItem from './ListGroupItem';\nvar defaultProps = {\n  variant: undefined,\n  horizontal: undefined\n};\nvar ListGroup = React.forwardRef(function (props, ref) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      className = _useUncontrolled.className,\n      initialBsPrefix = _useUncontrolled.bsPrefix,\n      variant = _useUncontrolled.variant,\n      horizontal = _useUncontrolled.horizontal,\n      _useUncontrolled$as = _useUncontrolled.as,\n      as = _useUncontrolled$as === void 0 ? 'div' : _useUncontrolled$as,\n      controlledProps = _objectWithoutPropertiesLoose(_useUncontrolled, [\"className\", \"bsPrefix\", \"variant\", \"horizontal\", \"as\"]);\n\n  var bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  var horizontalVariant;\n\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : \"horizontal-\" + horizontal;\n  } else {\n    horizontalVariant = null;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/React.createElement(AbstractNav, _extends({\n    ref: ref\n  }, controlledProps, {\n    as: as,\n    className: classNames(className, bsPrefix, variant && bsPrefix + \"-\" + variant, horizontalVariant && bsPrefix + \"-\" + horizontalVariant)\n  }));\n});\nListGroup.defaultProps = defaultProps;\nListGroup.displayName = 'ListGroup';\nListGroup.Item = ListGroupItem;\nexport default ListGroup;","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"static/js/BuildWorker.90293407.worker.js\");\n}\n","import Artifact from \"../Artifact/Artifact\";\r\nimport { ArtifactSetsData, ArtifactSlotsData } from \"../Data/ArtifactData\";\r\n\r\nexport default class Build {\r\n\r\n  //works with id indexed object for database.\r\n  static splitArtifactsBySlot(databaseObj) {\r\n    let ret = {}\r\n    for (let slot in ArtifactSlotsData)\r\n      ret[slot] = Object.values(databaseObj).filter(art => art.slotKey === slot)\r\n    return ret;\r\n\r\n  }\r\n  /**\r\n   * Calculate all the possible set configuration based on the filters.\r\n   * [{Key:X,num:2},{key:Y,num:2},{key:\"\",num:0}]\r\n   * generates XXYYO,XYXYO,XXOYY..... combinations, where O means other. \r\n   * @param {Object} setFilters From BuildDisplay\r\n   */\r\n  static generateAllPossibleArtifactSetPerm(setFilters) {\r\n    let sets = setFilters.filter(filter => filter.key).map(filter => filter.key);\r\n    let useOther = setFilters.reduce((accu, filter) => filter.key ? accu + filter.num : accu, 0) < 5;\r\n    if (useOther) sets.push(\"Other\");\r\n\r\n    let perm = [];\r\n    let slotKeys = Artifact.getArtifactSlotKeys();\r\n    //recursion function to loop through everything.\r\n    let slotPerm = (index, accu) => {\r\n      if (index >= slotKeys.length) {\r\n        let numArtsPerSet = {}\r\n        Object.values(accu).forEach(setKey => {\r\n          if (numArtsPerSet[setKey]) numArtsPerSet[setKey] += 1\r\n          else numArtsPerSet[setKey] = 1\r\n        })\r\n        let valid = true\r\n        for (const setFilter of setFilters) {\r\n          if (setFilter.key && (!numArtsPerSet[setFilter.key] || numArtsPerSet[setFilter.key] < setFilter.num)) {\r\n            valid = false;\r\n            break;\r\n          }\r\n        }\r\n        if (valid) perm.push(accu)\r\n        return;\r\n      }\r\n      let slotKey = slotKeys[index];\r\n      sets.forEach(setKey => {\r\n        //see if this set is valid at this piece slot. some artifacts dont have artifacts at specific slots.\r\n        if (setKey === \"Other\" || (ArtifactSetsData[setKey] && (ArtifactSetsData[setKey].pieces) && Object.keys(ArtifactSetsData[setKey].pieces).includes(slotKey))) {\r\n          accu[slotKey] = setKey;\r\n          slotPerm(index + 1, { ...accu })\r\n        }\r\n      });\r\n    }\r\n    slotPerm(0, {});\r\n    return perm\r\n  }\r\n  static calculateTotalBuildNumber(splitArtifacts, setPerms, setFilters) {\r\n    let setsInFilter = setFilters.filter(filter => filter.key).map(filter => filter.key)\r\n    let splitNumArtsPerSet = {}\r\n    //count the number of arts in setfilter for each slot\r\n    Object.entries(splitArtifacts).forEach(([key, artArr]) => {\r\n      let numArtsPerSet = {}\r\n      artArr.forEach(art => {\r\n        if (setsInFilter.includes(art.setKey))\r\n          numArtsPerSet[art.setKey] = (numArtsPerSet[art.setKey] || 0) + 1\r\n        else\r\n          numArtsPerSet[\"Other\"] = (numArtsPerSet[\"Other\"] || 0) + 1\r\n      })\r\n      splitNumArtsPerSet[key] = numArtsPerSet\r\n    })\r\n    //calculate!\r\n    return setPerms.reduce((accu, setPerm) =>\r\n      accu + Object.entries(setPerm).reduce((permaccu, [key, setKey]) =>\r\n        (splitNumArtsPerSet[key] && splitNumArtsPerSet[key][setKey]) ? permaccu * splitNumArtsPerSet[key][setKey] : 0\r\n        , 1)\r\n      , 0)\r\n  }\r\n}","import { faSortAmountDownAlt, faSortAmountUp } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Alert, Badge, Button, ButtonGroup, Card, Col, Container, Dropdown, DropdownButton, ListGroup, Modal, Row } from 'react-bootstrap';\r\n// eslint-disable-next-line\r\nimport Worker from \"worker-loader!./BuildWorker.js\";\r\nimport Artifact from '../Artifact/Artifact';\r\nimport { ArtifactSetsData, ArtifactSlotsData } from '../Data/ArtifactData';\r\nimport ArtifactDatabase from '../Artifact/ArtifactDatabase';\r\nimport Character from '../Character/Character';\r\nimport CharacterDatabase from '../Character/CharacterDatabase';\r\nimport CharacterDisplayCard from '../Character/CharacterDisplayCard';\r\nimport { DatabaseInitAndVerify } from '../DatabaseUtil';\r\nimport Stat from '../Stat';\r\nimport { deepClone, loadFromLocalStorage, saveToLocalStorage } from '../Util';\r\nimport Build from './Build';\r\nimport ReactGA from 'react-ga';\r\nimport Weapon from '../Weapon/Weapon';\r\n\r\nexport default class BuildDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    DatabaseInitAndVerify();\r\n    this.state = BuildDisplay.getInitialState();\r\n    if (props.location.selectedCharacterId) {\r\n      this.state = BuildDisplay.getInitialState();\r\n      props.location.selectedCharacterId && (this.state.selectedCharacterId = props.location.selectedCharacterId)\r\n    } else {\r\n      let savedState = loadFromLocalStorage(\"BuildsDisplay.state\")\r\n      if (savedState) {\r\n        let character = CharacterDatabase.getCharacter(savedState.selectedCharacterId)\r\n        if (savedState && character) this.state = savedState\r\n      }\r\n    }\r\n    ReactGA.pageview('/build')\r\n  }\r\n  static initialState = {\r\n    builds: [],\r\n    generatingBuilds: false,\r\n    selectedCharacterId: \"\",\r\n    sandsMainKey: \"\",\r\n    gobletMainKey: \"\",\r\n    circletMainkey: \"\",\r\n    setFilters: [{ key: \"\", num: 0 }, { key: \"\", num: 0 }, { key: \"\", num: 0 }],\r\n    mainStat: [\"\", \"\", \"\"],\r\n    buildFilterKey: \"atk\",\r\n    asending: false,\r\n    modalBuild: null,\r\n    maxBuildsToShow: 100,\r\n    maxBuildsToGenerate: 500000\r\n  }\r\n  static maxBuildsToShowList = [100, 50, 25, 5]\r\n  static maxBuildsToGenerateList = [50000, 10000, 5000, 1000, 500, 100]\r\n  static getInitialState = () => JSON.parse(JSON.stringify(BuildDisplay.initialState))\r\n  static artifactsSlotsToSelectMainStats = [\"sands\", \"goblet\", \"circlet\"]\r\n  forceUpdateBuildDisplay = () => this.forceUpdate()\r\n\r\n  statsDisplayKeys = () => [\"hp\", \"atk\", \"def\", \"ele_mas\", \"crit_rate\", \"crit_dmg\", \"heal_bonu\", \"ener_rech\", \"phy_dmg\", \"ele_dmg\", \"phy_atk\", \"ele_atk\",]\r\n\r\n  splitArtifacts = () => {\r\n    if (!this.state.selectedCharacterId) return {};\r\n    let artifactDatabase = ArtifactDatabase.getArtifactDatabase();\r\n    //do not use artifacts that are locked.\r\n    Object.entries(artifactDatabase).forEach(([key, val]) => {\r\n      if (val.lock) delete artifactDatabase[key]\r\n      if (this.state.selectedCharacterId && val.location && val.location !== this.state.selectedCharacterId)\r\n        delete artifactDatabase[key]\r\n    })\r\n    if (this.state.setFilters.every(filter => filter.key)) {\r\n      let filterKeys = this.state.setFilters.map(filter => filter.key)\r\n      //filter database to only filtered artifacts, if all 3 sets are specified\r\n      Object.entries(artifactDatabase).forEach(([key, val]) => {\r\n        if (filterKeys.includes(val.setKey))\r\n          delete artifactDatabase[key]\r\n      })\r\n    }\r\n    let split = Build.splitArtifactsBySlot(artifactDatabase);\r\n    //filter the split slots on the mainstats selected.\r\n    BuildDisplay.artifactsSlotsToSelectMainStats.forEach((slotKey, index) =>\r\n      this.state.mainStat[index] && (split[slotKey] = split[slotKey].filter((art) => art.mainStatKey === this.state.mainStat[index])))\r\n    return split\r\n  }\r\n  changeMainStat = (index, mainStatKey) => {\r\n    this.setState(state => {\r\n      let mainStat = deepClone(state.mainStat);\r\n      mainStat[index] = mainStatKey;\r\n      return { mainStat }\r\n    })\r\n  }\r\n  changeSetFilterKey = (index, newkey, setsNumArr) => {\r\n    if (this.state.setFilters[index].key === newkey) return\r\n    this.setState((state) => {\r\n      let setFilters = deepClone(state.setFilters);\r\n      let num = 0\r\n      if (setsNumArr && setsNumArr[0])\r\n        num = parseInt(setsNumArr[0])\r\n      setFilters[index] = { key: newkey, num }\r\n      return { setFilters }\r\n    })\r\n  }\r\n  dropdownitemsForStar = (star, index) =>\r\n    Artifact.getArtifactSetsByMaxStarEntries(star).map(([key, setobj]) => {\r\n      if (this.state.setFilters.some(filter => filter.key === key)) return false;\r\n      let setsNumArr = Object.keys(ArtifactSetsData[key].sets)\r\n      let artsAccountedOther = this.state.setFilters.reduce((accu, cur, ind) => (cur.key && ind !== index) ? accu + cur.num : accu, 0)\r\n      if (setsNumArr.every(num => parseInt(num) + artsAccountedOther > 5)) return false;\r\n      return (<Dropdown.Item key={key}\r\n        onClick={() => this.changeSetFilterKey(index, key, setsNumArr)}\r\n      >\r\n        {setobj.name}\r\n      </Dropdown.Item>)\r\n    })\r\n\r\n  generateBuilds = (split, artifactSetPerms) => {\r\n    this.setState({ generatingBuilds: true, builds: [] })\r\n    let { setFilters, asending, buildFilterKey, maxBuildsToShow } = this.state\r\n    let character = CharacterDatabase.getCharacter(this.state.selectedCharacterId)\r\n    let weaponStats = Weapon.createWeaponBundle(character)\r\n    let initialStats = Character.calculateCharacterWithWeaponStats(character, weaponStats)\r\n\r\n    let artifactSetEffects = Artifact.getAllArtifactSetEffectsObj()\r\n    let splitArtifacts = deepClone(split)\r\n    //add mainStatVal to each artifact, TODO add main stat assuming fully leveled up\r\n    Object.values(splitArtifacts).forEach(artArr => {\r\n      artArr.forEach(art => {\r\n        art.mainStatVal = Artifact.getMainStatValue(art.mainStatKey, art.numStars, art.level);\r\n      })\r\n    })\r\n    //create an obj with app the artifact set effects to pass to buildworker.\r\n    let data = {\r\n      splitArtifacts, artifactSetPerms, initialStats, artifactSetEffects,\r\n      setFilters, maxBuildsToShow, buildFilterKey, asending,\r\n    }\r\n\r\n    let worker = new Worker();\r\n    worker.onmessage = (e) => {\r\n      ReactGA.timing({\r\n        category: \"Build Generation\",\r\n        variable: \"timing\",\r\n        value: e.data.timing,\r\n        label: Build.calculateTotalBuildNumber(split, artifactSetPerms, this.state.setFilters)\r\n      })\r\n      let builds = e.data.builds.map(obj =>\r\n        Character.calculateBuildWithObjs(initialStats, obj.artifacts))\r\n      this.setState({ builds, generatingBuilds: false })\r\n    }\r\n\r\n    worker.postMessage(data)\r\n  }\r\n\r\n  BuildGeneratorEditorCard = (props) => {\r\n    let charlist = CharacterDatabase.getCharacterDatabase();\r\n    let selectedCharacter = CharacterDatabase.getCharacter(this.state.selectedCharacterId)\r\n    let characterName = selectedCharacter ? selectedCharacter.name : \"Character Name\"\r\n    let artsAccounted = this.state.setFilters.reduce((accu, cur) => cur.key ? accu + cur.num : accu, 0)\r\n    let split = this.splitArtifacts();\r\n    let artifactSetPerms = Build.generateAllPossibleArtifactSetPerm(this.state.setFilters)\r\n    let totBuildNumber = Build.calculateTotalBuildNumber(split, artifactSetPerms, this.state.setFilters)\r\n    let buildAlert = totBuildNumber === 0 ?\r\n      <Alert variant=\"warning\" className=\"mb-0\"><span>Current configuration will not generate any builds for <b>{characterName}</b>. Please change your Artifact configurations, or add/unlock more Artifacts.</span></Alert>\r\n      : (totBuildNumber > this.state.maxBuildsToGenerate ?\r\n        <Alert variant=\"danger\" className=\"mb-0\"><span>Current configuration will generate <b>{totBuildNumber}</b> builds for <b>{characterName}</b>. Please restrict artifact configuration to reduce builds to less than {this.state.maxBuildsToGenerate}, or your browser might crash.</span></Alert> :\r\n        <Alert variant=\"success\" className=\"mb-0\"><span>Current configuration will generate <b>{totBuildNumber}</b> builds for <b>{characterName}</b>.</span></Alert>)\r\n    return <Card bg=\"darkcontent\" text=\"lightfont\">\r\n      <Card.Header>Build Generator</Card.Header>\r\n      <Card.Body>\r\n        <Row>\r\n          <Col>\r\n            {/* Character picker */}\r\n            <div className=\"mb-2\">\r\n              <DropdownButton title={this.state.selectedCharacterId ? characterName : \"Select Character\"}>\r\n                <Dropdown.Item onClick={() => this.setState({ selectedCharacterId: \"\", builds: [] })}>\r\n                  No Character\r\n              </Dropdown.Item>\r\n                {Object.values(charlist).map((char, i) =>\r\n                  <Dropdown.Item key={char.name + i}\r\n                    onClick={() => this.setState({ selectedCharacterId: char.id, builds: [] })}\r\n                  >\r\n                    {char.name}\r\n                  </Dropdown.Item>)}\r\n              </DropdownButton>\r\n            </div>\r\n            {/* Artifact set picker */}\r\n            {this.state.setFilters.map((setFilter, index) =>\r\n              <div className=\"mb-2\" key={index}>\r\n                <ButtonGroup>\r\n                  {/* Artifact set */}\r\n                  <DropdownButton as={ButtonGroup} title={Artifact.getArtifactSetName(setFilter.key, \"Set (Optional)\")} >\r\n                    <Dropdown.Item onClick={() => this.changeSetFilterKey(index, \"\")}>\r\n                      Unselect Artifact\r\n                  </Dropdown.Item>\r\n                    <Dropdown.ItemText>Max Rarity ðŸŸŠðŸŸŠðŸŸŠðŸŸŠðŸŸŠ</Dropdown.ItemText>\r\n                    {this.dropdownitemsForStar(5, index)}\r\n                    <Dropdown.Divider />\r\n                    <Dropdown.ItemText>Max Rarity ðŸŸŠðŸŸŠðŸŸŠðŸŸŠ</Dropdown.ItemText>\r\n                    {this.dropdownitemsForStar(4, index)}\r\n                    <Dropdown.Divider />\r\n                    <Dropdown.ItemText>Max Rarity ðŸŸŠðŸŸŠðŸŸŠ</Dropdown.ItemText>\r\n                    {this.dropdownitemsForStar(3, index)}\r\n                  </DropdownButton>\r\n                  {/* set number */}\r\n                  <DropdownButton as={ButtonGroup} title={`${setFilter.num}-set`}\r\n                    disabled={!setFilter.key || artsAccounted >= 5}\r\n                  >\r\n                    {setFilter.key && Artifact.getArtifactSetEffectsObj(setFilter.key) && Object.keys(Artifact.getArtifactSetEffectsObj(setFilter.key)).map(num => {\r\n                      let artsAccountedOther = this.state.setFilters.reduce((accu, cur) => (cur.key && cur.key !== setFilter.key) ? accu + cur.num : accu, 0)\r\n                      return (parseInt(num) + artsAccountedOther <= 5) &&\r\n                        (<Dropdown.Item key={num}\r\n                          onClick={() => this.setState((state) => {\r\n                            let setFilters = deepClone(state.setFilters);\r\n                            setFilters[index].num = parseInt(num)\r\n                            return { setFilters }\r\n                          })}\r\n                        >\r\n                          {`${num}-set`}\r\n                        </Dropdown.Item>)\r\n                    })}\r\n                  </DropdownButton>\r\n                </ButtonGroup>\r\n              </div>\r\n            )}\r\n          </Col>\r\n          <Col>\r\n            <h5>Artifact Main Stat (Optional)</h5>\r\n            {BuildDisplay.artifactsSlotsToSelectMainStats.map((slotKey, index) =>\r\n            (<div className=\"text-inline mb-1 d-flex justify-content-between\" key={slotKey}>\r\n              <h6 className=\"d-inline mr-2\">\r\n                {Artifact.getArtifactSlotNameWithIcon(slotKey)}\r\n              </h6>\r\n              <DropdownButton\r\n                title={this.state.mainStat[index] ? Stat.getStatNameWithPercent(this.state.mainStat[index]) : \"Select a mainstat\"}\r\n                className=\"d-inline\">\r\n                <Dropdown.Item onClick={() => this.changeMainStat(index, \"\")} >No MainStat</Dropdown.Item>\r\n                {ArtifactSlotsData[slotKey].stats.map(mainStatKey =>\r\n                  <Dropdown.Item onClick={() => this.changeMainStat(index, mainStatKey)} key={mainStatKey}>\r\n                    {Stat.getStatNameWithPercent(mainStatKey)}\r\n                  </Dropdown.Item>\r\n                )}\r\n              </DropdownButton>\r\n            </div>))}\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"d-flex justify-content-between mb-2\">\r\n          <Col xs=\"auto\" >\r\n            <Button\r\n              className=\"h-100\"\r\n              disabled={!this.state.selectedCharacterId || totBuildNumber > this.state.maxBuildsToGenerate || this.state.generatingBuilds}\r\n              variant={(this.state.selectedCharacterId && totBuildNumber <= this.state.maxBuildsToGenerate) ? \"success\" : \"danger\"}\r\n              onClick={() => setTimeout(() => {\r\n                this.generateBuilds(split, artifactSetPerms)\r\n              }, 0)}\r\n            ><span>Generate Builds</span></Button>\r\n          </Col>\r\n          <Col xs=\"auto\">\r\n            {/* Dropdown to select sorting value */}\r\n            <ButtonGroup>\r\n              <DropdownButton disabled={!this.state.selectedCharacterId} title={`Sort by ${Stat.getStatNameWithPercent(this.state.buildFilterKey)}`} as={ButtonGroup}>\r\n                {this.state.selectedCharacterId && this.statsDisplayKeys().map(key => {\r\n                  if (key === \"ele_dmg\" || key === \"ele_atk\")\r\n                    key = `${Character.getElementalKey(selectedCharacter.characterKey)}_${key}`\r\n                  return <Dropdown.Item key={key} onClick={() => this.setState({ buildFilterKey: key })}>\r\n                    {Stat.getStatNameWithPercent(key)}\r\n                  </Dropdown.Item>\r\n                })}\r\n              </DropdownButton>\r\n              <Button onClick={() => this.setState(state => ({ asending: !state.asending }))}>\r\n                <FontAwesomeIcon icon={this.state.asending ? faSortAmountDownAlt : faSortAmountUp} className=\"fa-fw\" />\r\n              </Button>\r\n            </ButtonGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>{this.state.selectedCharacterId && buildAlert}</Col>\r\n        </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  }\r\n  ArtifactDisplayItem = (props) => {\r\n    let { build, character } = props\r\n    return (<div>\r\n      <ListGroup.Item\r\n        variant={props.index % 2 ? \"customdark\" : \"customdarker\"} className=\"text-white\" action\r\n        onClick={() => this.setState({ modalBuild: build })}\r\n      >\r\n        <Row>\r\n          <Col>{Object.entries(build.setToSlots).sort(([key1, slotarr1], [key2, slotarr2]) => slotarr2.length - slotarr1.length).map(([key, slotarr]) =>\r\n            <Badge key={key} variant=\"primary\" className=\"mr-2\">\r\n              {slotarr.map(slotKey => Artifact.getArtifactSlotIcon(slotKey))} {Artifact.getArtifactSetName(key)}\r\n            </Badge>\r\n          )}</Col>\r\n        </Row>\r\n        <Row>\r\n          {this.statsDisplayKeys().map(key => {\r\n            if (key === \"ele_dmg\" || key === \"ele_atk\")\r\n              key = `${Character.getElementalKey(character.characterKey)}_${key}`\r\n            let unit = Stat.getStatUnit(key)\r\n            return <Col className=\"text-nowrap\" key={key} xs={12} sm={6} md={4} lg={3}>\r\n              <span>{Stat.getStatName(key)}: <span className=\"text-warning\">{build.finalStats[key]?.toFixed(Stat.fixedUnit(key))}{unit}</span></span>\r\n            </Col>\r\n          })}\r\n        </Row>\r\n      </ListGroup.Item>\r\n    </div>)\r\n  }\r\n  BuildModal = (props) => {\r\n    let { build, character } = props\r\n    return build ? (<Modal show={this.state.modalBuild !== null} onHide={() => this.setState({ modalBuild: null })} size=\"xl\" dialogAs={Container} className=\"pt-3 pb-3\">\r\n      <CharacterDisplayCard characterToEdit={character} newBuild={build} onClose={() => this.setState({ modalBuild: null })} forceUpdate={this.forceUpdateBuildDisplay} />\r\n    </Modal>) : null\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    let state = deepClone(this.state)\r\n    state.builds = [];\r\n    delete state.generatingBuilds\r\n    delete state.modalBuild\r\n    saveToLocalStorage(\"BuildsDisplay.state\", state)\r\n  }\r\n  render() {\r\n    let selectedCharacter = CharacterDatabase.getCharacter(this.state.selectedCharacterId)\r\n    let characterName = selectedCharacter ? selectedCharacter.name : \"Character Name\"\r\n    return (<Container>\r\n      <this.BuildModal build={this.state.modalBuild} character={selectedCharacter} />\r\n      <Row className=\"mt-2 mb-2\">\r\n        <Col>\r\n          {/* Build Generator Editor */}\r\n          <this.BuildGeneratorEditorCard />\r\n        </Col>\r\n      </Row>\r\n      <Row className=\"mb-2\">\r\n        <Col>\r\n          <Card bg=\"darkcontent\" text=\"lightfont\">\r\n            <Card.Header>{this.state.selectedCharacterId ? `Showing ${this.state.builds.length} Builds generated for ${characterName}` : \"Select a character to generate builds.\"}</Card.Header>\r\n            {/* Build List */}\r\n            <ListGroup>\r\n              {this.state.builds.map((build, index) =>\r\n                (index < this.state.maxBuildsToShow) && <this.ArtifactDisplayItem build={build} character={selectedCharacter} index={index} key={Object.values(build.artifactIds).join(\"_\")} />\r\n              )}\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>)\r\n  }\r\n}"],"sourceRoot":""}