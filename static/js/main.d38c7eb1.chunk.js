(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[0],{104:function(t,e,a){"use strict";a.r(e);var n=a(2),i=a(0),r=a.n(i),s=a(22),c=a.n(s),l=(a(91),a(92),a(78)),o=a(77),u=a(51),d=a(68),m=a(23),h=a(25),f=a(32),b=a(31),j=a(18),g=a(34),S=a(33),p={hp:{name:"HP",key:"hp"},hp_:{name:"HP%",key:"hp_",unit:"%"},atk:{name:"ATK",key:"atk"},atk_:{name:"ATK%",key:"atk_",unit:"%"},def:{name:"DEF",key:"def"},def_:{name:"DEF%",key:"def_",unit:"%"},phy_dmg:{name:"Physical DMG%",key:"phy_dmg",unit:"%"},ele_dmg:{name:"Elemental DMG%",key:"ele_dmg",unit:"%"},ele_mas:{name:"Elemental Mastery",key:"ele_mas"},ener_rech:{name:"Energy Recharge%",key:"ener_rech",unit:"%"},crit_rate:{name:"Crit Rate%",key:"crit_rate",unit:"%"},crit_dmg:{name:"Crit DMG%",key:"crit_dmg",unit:"%"},heal_bonu:{name:"Healing Bonus%",key:"heal_bonu",unit:"%"}},v={hp:{3:{low:100,high:143},4:{low:167,high:239},5:{low:209,high:299}},hp_:{3:{low:2.5,high:3.5},4:{low:3.3,high:4.7},5:{low:4.1,high:5.8}},atk:{3:{low:7,high:9},4:{low:11,high:16},5:{low:14,high:19}},atk_:{3:{low:2.5,high:3.5},4:{low:3.3,high:4.7},5:{low:4.1,high:5.8}},def:{3:{low:8,high:11},4:{low:13,high:19},5:{low:16,high:23}},def_:{3:{low:3.1,high:4.4},4:{low:4.1,high:5.8},5:{low:5.1,high:7.3}},ele_mas:{3:{low:10,high:14},4:{low:13,high:19},5:{low:16,high:23}},ener_rech:{3:{low:2.7,high:3.5},4:{low:4.1,high:5.8},5:{low:4.5,high:6.5}},crit_rate:{3:{low:1.6,high:2.3},4:{low:2.2,high:3.1},5:{low:2.7,high:3.9}},crit_dmg:{3:{low:3.3,high:4.7},4:{low:4.4,high:6.2},5:{low:5.4,high:7.8}}},y={flower:{name:"Flower of Life",stats:["hp"]},plume:{name:"Plume of Death",stats:["atk"]},sands:{name:"Sands of Eon",stats:["hp_","def_","atk_","ele_mas","ener_rech"]},goblet:{name:"Goblet of Eonothem",stats:["hp_","def_","atk_","ele_mas","ele_dmg","phy_dmg"]},circlet:{name:"Circlet of Logos",stats:["hp_","def_","atk_","ele_mas","crit_rate","crit_dmg","heal_bonu"]}},O={"Wanderer's Troupe":{name:"Wanderer's Troupe",rarity:[4,5],pieces:{flower:"Troupe's Dawnlight",plume:"Bard's Arrow Feather",sands:"Concert's Final Hour",goblet:"Wanderer's String-Kettle",circlet:"Conductor's Top Hat"}},"Viridescent Venerer":{name:"Viridescent Venerer",rarity:[4,5],pieces:{flower:"In Remembrance of Viridescent Fields",plume:"Viridescent Arrow Feather",sands:"Viridescent Venerer's Determination",goblet:"Viridescent Venerer's Vessel",circlet:"Viridescent Venerer's Diadem"}},Thundersoother:{name:"Thundersoother",rarity:[4,5],pieces:{flower:"Thundersoother's Heart",plume:"Thundersoother's Plume",sands:"Hour of Soothing Thunder",goblet:"Thundersoother's Goblet",circlet:"Thundersoother's Diadem"}},"Thundering Fury":{name:"Thundering Fury",rarity:[4,5],pieces:{flower:"Thunderbird's Mercy",plume:"Survivor of Catastrophe",sands:"Hourglass of Thunder",goblet:"Omen of Thunderstorm",circlet:"Thunder Summoner's Crown"}},"Retracing Bolide":{name:"Retracing Bolide",rarity:[4,5],pieces:{flower:"Summer Night's Bloom",plume:"Summer Night's Finale",sands:"Summer Night's Moment",goblet:"Summer Night's Waterballoon",circlet:"Summer Night's Mask"}},"Noblesse Oblige":{name:"Noblesse Oblige",rarity:[4,5],pieces:{flower:"Royal Flora",plume:"Royal Plume",sands:"Royal Pocket Watch",goblet:"Royal Silver Urn",circlet:"Royal Masque"}},"Maiden Beloved":{name:"Maiden Beloved",rarity:[4,5],pieces:{flower:"Maiden's Distant Love",plume:"Maiden's Heart-stricken Infatuation",sands:"Maiden's Passing Youth",goblet:"Maiden's Fleeting Leisure",circlet:"Maiden's Fading Beauty"}},Lavawalker:{name:"Lavawalker",rarity:[4,5],pieces:{flower:"Lavawalker's Resolution",plume:"Lavawalker's Salvation",sands:"Lavawalker's Torment",goblet:"Lavawalker's Epiphany",circlet:"Lavawalker's Wisdom"}},"Gladiator's Finale":{name:"Gladiator's Finale",rarity:[4,5],pieces:{flower:"Gladiator's Nostalgia",plume:"Gladiator's Destiny",sands:"Gladiator's Longing",goblet:"Gladiator's Intoxication",circlet:"Gladiator's Triumphus"}},"Crimson Witch of Flames":{name:"Crimson Witch of Flames",rarity:[4,5],pieces:{flower:"Witch's Flower of Blaze",plume:"Witch's Ever-Burning Plume",sands:"Witch's End Time",goblet:"Witch's Heart Flames",circlet:"Witch's Scorching Hat"}},"Bloodstained Chivalry":{name:"Bloodstained Chivalry",rarity:[4,5],pieces:{flower:"Bloodstained Flower of Iron",plume:"Bloodstained Black Plume",sands:"Bloodstained Final Hour",goblet:"Bloodstained Chevalier's Goblet",circlet:"Bloodstained Iron Mask"}},"Archaic Petra":{name:"Archaic Petra",rarity:[4,5],pieces:{flower:"Flower of Creviced Cliff",plume:"Feather of Jagged Peaks",sands:"Sundial of Enduring Jade",goblet:"Goblet of Chiseled Crag",circlet:"Mask of Solitude Basalt"}}},x={3:{subsBaselow:1,subBaseHigh:2,numUpgradesOrUnlocks:3},4:{subsBaselow:2,subBaseHigh:3,numUpgradesOrUnlocks:4},5:{subsBaselow:3,subBaseHigh:4,numUpgradesOrUnlocks:5}},k={3:{hp:[430,552,674,796,918,1040,1162,1283,1405,1527,1649,1771,1893],atk:[28,36,44,52,60,68,76,84,91,99,107,115,123],hp_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],atk_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],def_:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],phy_dmg:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],ele_dmg:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],ele_mas:[21,27,33,39,45,51,57,63,69,75,80,86,92],ener_rech:[5.8,7.5,9.1,10.8,12.4,14.1,15.7,17.4,19,20.7,22.3,24,25.6],crit_rate:[3.5,4.5,5.5,6.5,7.5,8.4,9.4,10.4,11.4,12.4,13.4,14.4,15.4],crit_dmg:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8],heal_bonu:[4,5.2,6.3,7.5,8.6,9.8,10.9,12,13.2,14.3,15.5,16.6,17.8]},4:{hp:[645,828,1011,1194,1377,1559,1742,1925,2108,2291,2474,2657,2839,3022,3205,3388,3571],atk:[42,54,66,78,90,102,113,125,137,149,161,173,185,197,209,221,232],hp_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],atk_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],def_:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],phy_dmg:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],ele_dmg:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],ele_mas:[25,32,39,47,54,61,68,75,82,89,97,104,111,118,125,132,139],ener_rech:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7],crit_rate:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7,14.9,16.1,17.3,18.5,19.7,20.8,22,23.2],crit_dmg:[8.4,10.8,13.1,15.5,17.9,20.3,22.7,25,27.4,29.8,32.2,34.5,36.9,39.3,41.7,44.1,46.4],heal_bonu:[4.8,6.2,7.6,9,10.3,11.7,13.1,14.4,15.8,17.2,18.6,19.9,21.3,22.7,24,25.4,26.8]},5:{hp:[717,920,1123,1326,1530,1733,1936,2139,2342,2545,2749,2952,3155,3358,3561,3764,3967,4171,4374,4577,4780],atk:[47,60,73,86,100,113,126,139,152,166,179,192,205,219,232,245,258,272,285,298,311],hp_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],atk_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],def_:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],phy_dmg:[8.7,11.2,13.7,16.2,16.2,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],ele_dmg:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],ele_mas:[28,36,44,52,60,68,76,84,91,99,107,115,123,131,139,147,155,163,171,179,187],ener_rech:[7.8,10,12.2,14.4,16.6,18.8,21,23.2,25.4,27.6,29.8,32,34.2,36.4,38.6,40.8,43,45.2,47.4,49.6,51.8],crit_rate:[4.7,6,7.4,8.7,10,11.4,12.7,14,15.4,16.7,18,19.3,20.7,22,23.3,24.7,26,27.3,28.7,30,31.3],crit_dmg:[9.3,11.9,14.6,17.2,19.9,22.5,25.5,27.8,30.5,33.1,35.8,38.4,41.1,43.7,46.3,49,51.6,54.3,56.9,59.6,62.2],heal_bonu:[5.4,6.9,8.4,10,11.5,13,14.5,16.1,17.6,19.1,20.6,22.2,23.7,25.2,26.7,28.3,29.8,31.3,32.8,34.4,35.9]}},_=function(){function t(){var e=this;Object(m.a)(this,t),this.getArtifactSetName=function(){return t.getArtifactSetName(e.state)}}return Object(h.a)(t,null,[{key:"artifactValidation",value:function(e,a){var n=0,i=0;a||(a=e.substats.map((function(a){return t.validateSubStat(e,a)})));var r,s=Object(u.a)(a);try{for(s.s();!(r=s.n()).done;){if(!r.value.valid)return{substateValidation:a,valid:!1,msg:"One of the substat is invalid.",currentEfficiency:n,maximumEfficiency:i}}}catch(m){s.e(m)}finally{s.f()}if(a.some((function(t){return t.rolls>1}))&&a.some((function(t){return!t.rolls})))return{substateValidation:a,valid:!1,msg:"One of the substat have >1 rolls, but not all substats are unlocked.",currentEfficiency:n,maximumEfficiency:i};var c=t.getCurrentNumOfRolls(a),l=t.rollsRemaining(e),o=t.totalPossibleRolls(e);if(c+l>o)return{substateValidation:a,valid:!1,msg:"Current number of substat rolles(".concat(c,") + Rolls remaining from level up (").concat(l,") is greater than the total possibel roll of this artifact (").concat(o,") "),currentEfficiency:n,maximumEfficiency:i};var d=t.getCurrentTotalEfficiency(a);return{valid:!0,substateValidation:a,currentNumOfRolls:c,rollsRemaining:l,totalPossbleUpgrade:o,currentEfficiency:n=d/o,maximumEfficiency:i=(d+100*l)/o}}}]),t}();_.getArtifactSetName=function(t){return t.selectedArtifactSetKey?O[t.selectedArtifactSetKey].name:"Artifact Set"},_.getArtifactSlotName=function(t){return y[t]?y[t].name:""},_.getArtifactPieceName=function(t){return t.selectedArtifactSetKey&&t.slotKey&&O[t.selectedArtifactSetKey].pieces?O[t.selectedArtifactSetKey].pieces[t.slotKey]:"Piece Name"},_.getStatName=function(t){return p[t].name},_.getStatUnit=function(t){return p[t].unit?p[t].unit:""},_.getMainStatValue=function(t){return t.mainStatKey&&t.numStars?"".concat(k[t.numStars][t.mainStatKey][t.level]):0},_.totalPossibleRolls=function(t){return x[t.numStars]?x[t.numStars].subBaseHigh+x[t.numStars].numUpgradesOrUnlocks:0},_.rollsRemaining=function(t){return Math.floor((4*t.numStars-t.level)/4)},_.numberOfSubstatUnlocked=function(t){return t.substats.reduce((function(t,e){return t+(e&&e.value?1:0)}),0)},_.getRemainingSubstats=function(t){return t.slotKey?Object.keys(v).filter((function(e){return t.mainStatKey!==e&&!t.substats.some((function(t,a){return!(!t||!t.key)&&t.key===e}))})):[]},_.getCurrentNumOfRolls=function(t){return t.reduce((function(t,e){return t+(e.valid?e.rolls:0)}),0)},_.getCurrentTotalEfficiency=function(t){return t.reduce((function(t,e){return t+(e.valid&&e.efficiency?e.efficiency*e.rolls:0)}),0)},_.getStatHighRollVal=function(t,e){return(null!==t&&void 0!==t?t:e)?v[t][e].high:0},_.getStatLowRollVal=function(t,e){return(null!==t&&void 0!==t?t:e)?v[t][e].low:0},_.validateSubStat=function(t,e){if(!e||!e.value)return{valid:!0};var a=parseFloat(e.value);if(isNaN(a))return{valid:!1,msg:"Invalid Input"};var n=_.getStatHighRollVal(e.key,t.numStars),i=_.getStatLowRollVal(e.key,t.numStars),r=function(e){if(0===e)return{valid:!1,msg:"Substat cannot be rolled 0 times."};var r=x[t.numStars].numUpgradesOrUnlocks-(4-x[t.numStars].subBaseHigh)+1;if(e>r)return{valid:!1,msg:"Substat cannot be rolled more than ".concat(r," times.")};var s=i*e,c=n*e;return a<s||a>c?{valid:!1,msg:"Invalid value(".concat(a,") for ").concat(e," rolls, should be between [").concat(s.toFixed(2),",").concat(c.toFixed(2),"].")}:{valid:!0,efficiency:(a-s)/(c-s)*100,msg:"This substat was rolled ".concat(e," time(s). Min/Max value: ").concat(s.toFixed(2),"/").concat(c.toFixed(2),".")}},s=Math.ceil(a/n),c=r(s),l=c.msg;if(!c.valid){var o=Math.floor(a/i);o!==s&&(c=r(o)),c.valid?s=o:(s=0,c.msg!==l&&(c.msg=l+" "+c.msg))}return c.rolls=s,c};var w=a(14),A=a(64),N=a(41),E=a(110),I=a(112),K=a(111),C=function(t){Object(f.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(m.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).getBadgeColor=function(t){var e="secondary";return t>70?e="success":t>40&&(e="warning"),e},t}return Object(h.a)(a,[{key:"render",value:function(){var t=this,e=this.props.valid?this.getBadgeColor(this.props.percent):"danger";return this.props.tooltip?Object(n.jsx)(I.a,{placement:"top",overlay:function(e){return Object(n.jsx)(E.a,Object(N.a)(Object(N.a)({},e),{},{children:t.props.tooltip}))},children:Object(n.jsx)(K.a,{variant:e,children:this.props.children})}):Object(n.jsx)(K.a,{variant:e,children:this.props.children})}}]),a}(r.a.Component),L=a(79),T=a(13),F=a(19),M=a(42),V=a(49),B=a(85),R=function(t){return t[Math.floor(Math.random()*t.length)]};function D(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)}var P=function(t){Object(f.a)(a,t);var e=Object(b.a)(a);function a(t){var i;return Object(m.a)(this,a),(i=e.call(this,t)).ArtifactDropDown=function(){return Object(n.jsxs)(M.a,{className:"d-inline mr-3",title:_.getArtifactSetName(i.state),children:[Object(n.jsx)(T.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),Object.entries(O).map((function(t){var e=Object(L.a)(t,2),a=e[0],r=e[1];return Object(n.jsx)(T.a.Item,{onClick:function(){return i.setState({selectedArtifactSetKey:a,numStars:r.rarity[r.rarity.length-1]})},children:r.name},a)})),Object(n.jsx)(T.a.Divider,{}),Object(n.jsx)(T.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),Object(n.jsx)(T.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"})]})},i.StarDropdown=function(){return Object(n.jsx)(M.a,{className:"d-inline mr-3",title:i.state.numStars>0?"\ud83d\udfca".repeat(i.state.numStars):"Rarity",disabled:!i.state.selectedArtifactSetKey,children:Object.keys(x).map((function(t,e){return t=parseInt(t),Object(n.jsx)(T.a.Item,{disabled:!i.state.selectedArtifactSetKey||!O[i.state.selectedArtifactSetKey].rarity.includes(t),onClick:function(){i.setState({numStars:t,level:0})},children:"\ud83d\udfca".repeat(t)},e)}))})},i.LevelSelection=function(t){return Object(n.jsx)("div",Object(N.a)(Object(N.a)({className:"d-inline"},t),{},{children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(F.a.Prepend,{children:Object(n.jsx)(F.a.Text,{children:"Level"})}),Object(n.jsx)(V.a,{value:i.state.level,disabled:!i.state.selectedArtifactSetKey,placeholder:"0~".concat(4*i.state.numStars),onChange:function(t){return i.setLevel(t.target.value)}}),Object(n.jsxs)(F.a.Append,{children:[Object(n.jsx)(w.a,{onClick:function(){return i.setLevel(0)},disabled:!i.state.selectedArtifactSetKey||0===i.state.level,children:"0"}),Object(n.jsx)(w.a,{onClick:function(){return i.setLevel(i.state.level-1)},disabled:!i.state.selectedArtifactSetKey||0===i.state.level,children:"-"}),Object(n.jsx)(w.a,{onClick:function(){return i.setLevel(i.state.level+1)},disabled:!i.state.selectedArtifactSetKey||i.state.level===4*i.state.numStars,children:"+"}),Object(n.jsx)(w.a,{onClick:function(){return i.setLevel(4*i.state.numStars)},disabled:!i.state.selectedArtifactSetKey||i.state.level===4*i.state.numStars,children:4*i.state.numStars})]})]})}))},i.MainStatInputRow=function(){return Object(n.jsxs)(F.a,{children:[Object(n.jsx)(M.a,{title:i.state.slotKey?y[i.state.slotKey].name:"Slot",disabled:!i.state.selectedArtifactSetKey,as:F.a.Prepend,children:Object.entries(y).map((function(t){var e=Object(L.a)(t,2),r=e[0],s=e[1];return Object(n.jsx)(T.a.Item,{onClick:function(){return i.setState({slotKey:r,mainStatKey:s.stats[0],substats:a.getInitialState().substats})},children:s.name},r)}))}),Object(n.jsx)(V.a,{value:_.getArtifactPieceName(i.state),disabled:!0,readOnly:!0}),Object(n.jsxs)(M.a,{title:i.state.mainStatKey?p[i.state.mainStatKey].name:"Main Stat",disabled:!i.state.selectedArtifactSetKey||!i.state.slotKey,as:F.a.Prepend,children:[Object(n.jsx)(T.a.ItemText,{children:"Select a Main Artifact Stat "}),i.state.slotKey?y[i.state.slotKey].stats.map((function(t){return Object(n.jsx)(T.a.Item,{onClick:function(){i.setState({mainStatKey:t,substats:a.getInitialState().substats})},children:_.getStatName(t)},t)})):Object(n.jsx)(T.a.Item,{})]}),Object(n.jsx)(V.a,{value:i.state.mainStatKey?"".concat(_.getMainStatValue(i.state)).concat(_.getStatUnit(i.state.mainStatKey)):"Main Stat",disabled:!0,readOnly:!0})]})},i.SubStatInput=function(t){return Object(n.jsxs)(F.a,{children:[Object(n.jsx)(M.a,{title:t.subStatKey?p[t.subStatKey].name:"Substat ".concat(t.index+1),disabled:!t.remainingSubstats,as:F.a.Prepend,children:t.remainingSubstats?t.remainingSubstats.map((function(e){return Object(n.jsx)(T.a.Item,{onClick:function(){t.onSubStatSelected&&t.onSubStatSelected(e,t.index)},children:_.getStatName(e)},e)})):Object(n.jsx)(T.a.Item,{})}),Object(n.jsx)(V.a,{value:t.substatevalue?t.substatevalue:"",placeholder:"NaN",disabled:!t.subStatKey,onChange:function(e){return t.onValueChange&&t.onValueChange(e.target.value,t.index)}}),Object(n.jsx)(F.a.Append,{children:Object(n.jsx)(F.a.Text,{children:Object(n.jsx)(C,{tooltip:t.subStatValidation.msg,valid:t.subStatValidation.valid||!t.subStatKey,percent:t.subStatValidation.efficiency,children:t.subStatKey?t.subStatValidation.valid?"".concat((t.subStatValidation.efficiency?t.subStatValidation.efficiency:0).toFixed(2),"%"):"ERR":"No Stat"})})})]})},i.onSubStatSelected=function(t,e){i.setState((function(a){var n=JSON.parse(JSON.stringify(a.substats));return n[e]={key:t,value:null},{substats:n}}))},i.onSubstatValueChange=function(t,e){i.setState((function(a){var n=JSON.parse(JSON.stringify(a.substats));return n[e].value=t,{substats:n}}))},i.randomizeArtifact=function(){var t=a.getInitialState();t.selectedArtifactSetKey=R(Object.keys(O)),t.numStars=R(O[t.selectedArtifactSetKey].rarity),t.slotKey=R(Object.keys(y)),t.mainStatKey=R(y[t.slotKey].stats);var e=D(x[t.numStars].subsBaselow,x[t.numStars].subBaseHigh);t.level=D(0,4*t.numStars);var n=Math.floor(t.level/4),r=e+n;r>=4?(e=4,n=r-4):(e=r,n=0);for(var s=function(e){var a,n,i=_.getStatLowRollVal(e,t.numStars),r=_.getStatHighRollVal(e,t.numStars);return"%"===_.getStatUnit(e)?parseFloat((a=i,n=r,Math.random()*(n-a)+a).toFixed(1)):D(i,r)},c=0;c<e;c++){var l=t.substats[c];l.key=R(_.getRemainingSubstats(t)),l.value=s(l.key)}for(var o=0;o<n;o++){var u=R(t.substats);u.value+=s(u.key)}i.setState(t)},i.componentDidUpdate=function(){i.props.artifactToEdit&&i.state.id!==i.props.artifactToEdit.id&&i.setState(i.props.artifactToEdit)},i.state=a.initialState,i}return Object(h.a)(a,[{key:"setLevel",value:function(t){t=parseInt(t),isNaN(t)&&(t=0),t<0&&(t=0),t>4*this.state.numStars&&(t=4*this.state.numStars),this.setState({level:t})}},{key:"render",value:function(){var t=this,e=_.getRemainingSubstats(this.state),i=this.state.substats.map((function(e){return _.validateSubStat(t.state,e)})),r=_.artifactValidation(this.state,i);return Object(n.jsxs)(j.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(j.a.Header,{children:"Artifact Editor"}),Object(n.jsxs)(j.a.Body,{children:[Object(n.jsx)(this.ArtifactDropDown,{}),Object(n.jsx)(this.StarDropdown,{}),Object(n.jsx)(this.LevelSelection,{className:"mt-2 mb-2"}),Object(n.jsx)(this.MainStatInputRow,{}),Object(n.jsxs)(A.a,{className:"mt-2",children:[Object(n.jsxs)(S.a,{children:[Object(n.jsx)("h5",{className:"mr-auto",children:"Substats"}),Object(n.jsxs)("span",{children:[Object(n.jsxs)("span",{className:"mr-3",children:[Object(n.jsx)("span",{children:"Current Substat Efficiency "}),Object(n.jsx)(C,{tooltip:r.msg,valid:r.valid,percent:r.currentEfficiency,children:(r.currentEfficiency?r.currentEfficiency:0).toFixed(2)+"%"})]}),Object(n.jsxs)("span",{children:[Object(n.jsx)("span",{children:"Maximum Substat Efficiency "}),Object(n.jsx)(C,{tooltip:r.msg,valid:r.valid,percent:r.maximumEfficiency,children:(r.maximumEfficiency?r.maximumEfficiency:0).toFixed(2)+"%"})]})]})]}),Object(n.jsx)(S.a,{children:this.state.substats.map((function(a,r){return Object(n.jsx)(g.a,{className:"col-sm-6 mt-1 mb-1",children:Object(n.jsx)(t.SubStatInput,{numStars:t.state.numStars,remainingSubstats:e,subStatKey:a?a.key:null,substatevalue:a?a.value:null,index:r,onValueChange:t.onSubstatValueChange,onSubStatSelected:t.onSubStatSelected,subStatValidation:i[r]})},"substat"+r)}))})]}),r.msg?Object(n.jsx)(B.a,{variant:"danger",children:r.msg}):null]}),Object(n.jsxs)(j.a.Footer,{children:[Object(n.jsx)(w.a,{className:"mr-3",onClick:function(){t.props.addArtifact&&t.props.addArtifact(t.state),t.setState(a.getInitialState())},children:this.props.artifactToEdit?"Save Artifact":"Add Artifact"}),Object(n.jsx)(w.a,{className:"mr-3",variant:"success",onClick:function(){t.props.cancelEdit&&t.props.cancelEdit(),t.setState(a.getInitialState())},children:"Clear"}),Object(n.jsx)(w.a,{variant:"warning",onClick:this.randomizeArtifact,children:"Randomize"})]})]})}}]),a}(r.a.Component);P.initialState={selectedArtifactSetKey:"",numStars:0,level:0,slotKey:"",mainStatKey:"",substats:[{},{},{},{}]},P.getInitialState=function(){return JSON.parse(JSON.stringify(P.initialState))};var H=a(72),U=a(74),G=function(t){Object(f.a)(a,t);var e=Object(b.a)(a);function a(t){var n;return Object(m.a)(this,a),(n=e.call(this,t)).addArtifact=function(t){if(n.state.artToEdit&&n.state.artToEdit.id===t.id)q.updateArtifact(t),n.setState({artToEdit:null},n.forceUpdate);else{var e=q.addArtifact(t);n.setState((function(t){return{artIdList:[].concat(Object(d.a)(t.artIdList),[e])}}))}},n.deleteArtifact=function(t){q.removeArtifactById(n.state.artIdList[t]),n.setState((function(e){var a=Object(d.a)(e.artIdList);return a.splice(t,1),{artIdList:a}}))},n.editArtifact=function(t){return n.setState({artToEdit:q.getArtifact(n.state.artIdList[t])})},n.cancelEditArtifact=function(){return n.setState({artToEdit:null})},q.populateDatebaseFromLocalStorage(),n.state={artIdList:Object(d.a)(J),artToEdit:null},n}return Object(h.a)(a,[{key:"render",value:function(){var t=this;return Object(n.jsxs)(A.a,{className:"mt-3",children:[Object(n.jsx)(S.a,{className:"mb-2",children:Object(n.jsx)(g.a,{children:Object(n.jsx)(P,{artifactToEdit:this.state.artToEdit,addArtifact:this.addArtifact,cancelEdit:this.cancelEditArtifact})})}),Object(n.jsx)(S.a,{children:this.state.artIdList.map((function(e,a){return Object(n.jsx)(g.a,{lg:4,md:6,className:"mb-2",children:Object(n.jsx)(Y,{artifactData:q.getArtifact(e),onDelete:function(){return t.deleteArtifact(a)},onEdit:function(){return t.editArtifact(a)}})},e)}))})]})}}]),a}(r.a.Component),W={},J=[],z=1,q=function t(){if(Object(m.a)(this,t),this instanceof t)throw Error("A static class cannot be instantiated.")};q.getIdList=function(){return q.loadFromLocalStorage("artifact_id_list")},q.saveIdList=function(){return q.saveToLocalStorage("artifact_id_list",J)},q.populateDatebaseFromLocalStorage=function(){null===(J=q.getIdList())&&(J=[]);var t,e=Object(u.a)(J);try{for(e.s();!(t=e.n()).done;){var a=t.value;W[a]=q.loadFromLocalStorage(a)}}catch(n){e.e(n)}finally{e.f()}z=parseInt(localStorage.getItem("artifact_highest_id")),isNaN(z)&&(z=0)},q.addArtifact=function(t){var e="artifact_".concat(z++);return localStorage.setItem("artifact_highest_id",z),t.id=e,q.saveToLocalStorage(e,t),W[e]=t,J.push(e),q.saveIdList(),e},q.updateArtifact=function(t){var e=t.id;q.saveToLocalStorage(e,t),W[e]=t},q.getArtifact=function(t){return W[t]},q.removeArtifact=function(t){q.removeArtifactById(t.id)},q.removeArtifactById=function(t){delete W[t],localStorage.removeItem(t);var e=J.indexOf(t);-1!==e&&(J.splice(e,1),q.saveIdList())},q.loadFromLocalStorage=function(t){var e=localStorage.getItem(t);return e?JSON.parse(e):null},q.saveToLocalStorage=function(t,e){return localStorage.setItem(t,JSON.stringify(e))};var Y=function(t){Object(f.a)(a,t);var e=Object(b.a)(a);function a(){return Object(m.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var t=this;if(!this.props.artifactData)return null;var e=this.props.artifactData,a=_.artifactValidation(e);return Object(n.jsxs)(j.a,{className:"h-100",border:"".concat(e.numStars,"star"),bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(j.a.Header,{className:"pr-2",children:Object(n.jsxs)(S.a,{className:"no-gutters",children:[Object(n.jsxs)(g.a,{children:[Object(n.jsx)("h6",{children:Object(n.jsx)("b",{children:"".concat(_.getArtifactPieceName(e))})}),Object(n.jsx)("div",{children:"".concat(_.getArtifactSlotName(e.slotKey)," +").concat(e.level)})]}),Object(n.jsx)(g.a,{xs:"auto",children:Object(n.jsxs)("span",{className:"float-right align-top ml-1",children:[Object(n.jsx)(w.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return t.props.onEdit&&t.props.onEdit()},children:Object(n.jsx)(H.a,{icon:U.a})}),Object(n.jsx)(w.a,{variant:"danger",size:"sm",onClick:function(){return t.props.onDelete&&t.props.onDelete()},children:Object(n.jsx)(H.a,{icon:U.b})})]})})]})}),Object(n.jsxs)(j.a.Body,{children:[Object(n.jsx)(j.a.Title,{children:Object(n.jsx)("h6",{children:e.mainStatKey?"".concat(_.getStatName(e.mainStatKey).split("%")[0]," ").concat(_.getMainStatValue(e)).concat(_.getStatUnit(e.mainStatKey)):null})}),Object(n.jsxs)(j.a.Subtitle,{children:[Object(n.jsx)("div",{children:_.getArtifactSetName(e)}),Object(n.jsx)("div",{children:"\ud83d\udfca".repeat(e.numStars?e.numStars:0)})]}),Object(n.jsx)("ul",{className:"mb-0",children:e.substats?e.substats.map((function(t,e){return t&&t.value?Object(n.jsx)("li",{children:"".concat(_.getStatName(t.key).split("%")[0],"+").concat(t.value).concat(_.getStatUnit(t.key))},e):null})):null}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"mb-0 mr-1",children:"Substat Eff.:"}),Object(n.jsx)(C,{tooltip:a.msg,valid:a.valid,percent:a.currentEfficiency,children:(a.currentEfficiency?a.currentEfficiency:0).toFixed(2)+"%"}),Object(n.jsx)("span",{children:"<"}),Object(n.jsx)(C,{tooltip:a.msg,valid:a.valid,percent:a.maximumEfficiency,children:(a.maximumEfficiency?a.maximumEfficiency:0).toFixed(2)+"%"})]})]}),Object(n.jsx)(j.a.Footer,{children:"Location: Inventory"})]})}}]),a}(r.a.Component),Q=a(83),X=a(9);var Z=function(){return Object(n.jsxs)("div",{id:"root",children:[Object(n.jsxs)(l.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(n.jsx)(l.a.Brand,{href:"/",children:"Genshin Optimizer"}),Object(n.jsx)(o.a,{navbar:!0,children:Object(n.jsx)(o.a.Link,{href:"/artifact",children:"Artifacts"})})]}),Object(n.jsx)(Q.a,{children:Object(n.jsxs)(X.c,{children:[Object(n.jsx)(X.a,{path:"/artifact",children:Object(n.jsx)(G,{})}),Object(n.jsx)(X.a,{path:"/",children:Object(n.jsx)(G,{})})]})})]})},$=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,113)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),n(t),i(t),r(t),s(t)}))};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Z,{})}),document.getElementById("root")),$()},91:function(t,e,a){},92:function(t,e,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.d38c7eb1.chunk.js.map