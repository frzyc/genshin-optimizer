"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[652],{52991:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(68870),a=t(20890),i=t(10658),o=t(98620),s=t(31148),c=t(42320),l=t(24351),u=t(3992),d=t(25617),x=t(75545),h=t(64929),f=t(80184);function p(e){var n=e.artifactObj,t=e.slotKey,p=(0,c.Z)((function(){return(null===n||void 0===n?void 0:n.setKey)&&s.y.get(n.setKey)}),[null===n||void 0===n?void 0:n.setKey]);if(!n||!p)return(0,f.jsx)(u.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:(0,f.jsx)(r.Z,{sx:{width:"100%",pb:"100%",position:"relative"},children:(0,f.jsx)(r.Z,{sx:{position:"absolute",width:"70%",height:"70%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",opacity:.7},component:"img",src:i.Z.slot[t]})})});var Z=n.mainStatKey,v=n.rarity,g=n.level,m=l.Kj.find((function(e){return n.mainStatKey.includes(e)})),j=null!==m&&void 0!==m?m:"secondary";return(0,f.jsx)(h.Z,{art:n,children:(0,f.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",position:"relative"},children:[(0,f.jsx)(r.Z,{component:"img",className:"grad-".concat(v,"star"),src:p.slotIcons[t],maxWidth:"100%",maxHeight:"100%"}),(0,f.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none"},children:(0,f.jsx)("strong",{children:(0,f.jsx)(d.Z,{sx:{p:.5},color:o.ZP.levelVariant(g),children:(0,f.jsxs)("strong",{children:["+",g]})})})}),(0,f.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,f.jsx)(d.Z,{color:j,sx:{p:.5},children:x.Z[Z]})})]})})}},64929:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(68870),a=t(47047),i=t(20890),o=t(72791),s=t(98620),c=t(31148),l=t(79406),u=t(42320),d=t(60393),x=t(96106),h=t(25617),f=t(10157),p=t(75545),Z=t(95614),v=t(80184);function g(e){var n=e.art,t=e.children,i=(0,v.jsx)(r.Z,{children:(0,v.jsx)(a.Z,{variant:"rectangular",width:100,height:100})}),s=(0,v.jsx)(o.Suspense,{fallback:i,children:(0,v.jsx)(m,{art:n})});return(0,v.jsx)(x.Z,{placement:"top",title:s,disableInteractive:!0,children:t})}function m(e){var n,t=e.art,a=(0,u.Z)((function(){return c.y.get(t.setKey)}),[t.setKey]),o=t.slotKey,x=t.level,g=t.rarity,m=t.mainStatKey,j=t.substats,y=null===a||void 0===a?void 0:a.getSlotName(o),b=l.ZP.unit(m),w=p.Z[m],C=l.ZP.getVariant(m);return(0,v.jsxs)(r.Z,{p:1,children:[(0,v.jsxs)(i.Z,{variant:"h6",children:[(0,Z.Ir)(o)," ",y]}),(0,v.jsxs)(i.Z,{variant:"subtitle1",color:"".concat(C,".main"),children:[w," ",l.ZP.get(m)," ",(0,l.qs)(null!==(n=s.ZP.mainStatValue(m,g,x))&&void 0!==n?n:0,l.ZP.unit(m)),b]}),(0,v.jsxs)(i.Z,{variant:"subtitle2",sx:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)(f.q,{stars:g}),(0,v.jsxs)(h.Z,{color:s.ZP.levelVariant(x),children:["+",x]})," "]}),(0,v.jsx)(r.Z,{py:1,children:j.map((function(e){return!!e.value&&(0,v.jsxs)(i.Z,{color:"roll".concat((0,d.uZ)(e.rolls.length,1,6),".main"),children:[p.Z[e.key]," ",l.ZP.getStr(e.key)," ",(0,v.jsx)("strong",{children:"+".concat((0,l.qs)(e.value,l.ZP.unit(e.key))).concat(l.ZP.unit(e.key))})]},e.key)}))}),(0,v.jsx)(i.Z,{color:"success.main",children:null===a||void 0===a?void 0:a.name})]})}},30865:function(e,n,t){t.d(n,{Z:function(){return A}});var r=t(29439),a=t(14361),i=t(90690),o=t(66647),s=t(47047),c=t(68870),l=t(13400),u=t(39504),d=t(61889),x=t(81918),h=t(20890),f=t(72791),p=t(97714),Z=t(13746),v=t(947),g=t(2139),m=t(1614),j=t(27235),y=t(13434),b=t(50920),w=t(65106),C=t(12761),k=t(42320),S=t(47639),K=t(24351),D=t(60393),P=t(52991),I=t(71310),W=t(20005),M=t(88034),T=t(25617),z=t(10157),E=t(77208),N=t(66218),R=t(73036),_=t(18327),G=t(74480),B=t(3992),O=t(80184);function H(e){var n=e.weaponId,t=(0,G.Z)(n),r=(0,k.Z)((function(){return(null===t||void 0===t?void 0:t.key)&&N.Z.get(t.key)}),[null===t||void 0===t?void 0:t.key]),a=(0,f.useMemo)((function(){return r&&t&&(0,R.mP)([r.data,(0,R.v0)(t)])}),[r,t]);return t&&r&&a?(0,O.jsx)(B.Z,{children:(0,O.jsxs)(c.Z,{display:"flex",children:[(0,O.jsx)(c.Z,{flexShrink:1,maxWidth:"35%",display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(r.rarity,"star"),children:(0,O.jsx)(c.Z,{component:"img",src:r.getImg(t.ascension),width:"100%",height:"auto",sx:{mt:"auto"}})}),(0,O.jsxs)(c.Z,{flexGrow:1,sx:{p:1},children:[(0,O.jsx)(h.Z,{variant:"body2",gutterBottom:!0,children:(0,O.jsx)("strong",{children:null===r||void 0===r?void 0:r.name})}),(0,O.jsxs)(h.Z,{variant:"subtitle1",sx:{display:"flex",gap:1},gutterBottom:!0,children:[(0,O.jsxs)(T.Z,{color:"primary",children:["Lv. ",N.Z.getLevelString(t)]}),r.hasRefinement&&(0,O.jsxs)(T.Z,{color:"info",children:["R",t.refinement]})]}),(0,O.jsxs)(h.Z,{variant:"subtitle1",sx:{display:"flex",gap:1},children:[(0,O.jsx)(V,{node:a.get(j.ri.weapon.main)}),(0,O.jsx)(V,{node:a.get(j.ri.weapon.sub)})]})]})]})}):null}function V(e){var n=e.node;return(0,O.jsxs)(T.Z,{color:"secondary",children:[n.info.icon," ",(0,_.p)(n)]})}var q=t(84684);function A(e){var n,t,r=e.characterKey,u=e.artifactChildren,d=e.weaponChildren,x=e.characterChildren,h=e.onClick,p=e.onClickHeader,g=e.onClickTeammate,j=e.footer,K=e.hideStats,D=e.isTeammateCard,P=(0,f.useContext)(m.t).database,M=(0,f.useContext)(Z.R).teamData,T=null!==(n=(0,S.Z)(M?"":r))&&void 0!==n?n:M,z=(0,y.Z)(r),E=(0,C.Z)().gender,N=(0,k.Z)((function(){return v.Z.get(r,E)}),[r,E]),R=(0,b.Z)(r),_=null===T||void 0===T||null===(t=T[r])||void 0===t?void 0:t.target,G=(0,f.useCallback)((function(){return r&&(null===h||void 0===h?void 0:h(r))}),[r,h]),B=(0,f.useCallback)((function(e){return(0,O.jsx)(o.Z,{onClick:G,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[G]),H=(0,f.useMemo)((function(){return z&&N&&{character:z,characterSheet:N,characterDispatch:R}}),[z,N,R]),V=(0,f.useMemo)((function(){return _&&T&&{data:_,teamData:T}}),[_,T]),q=(0,w.Z)(r).favorite;return(0,O.jsx)(f.Suspense,{fallback:(0,O.jsx)(s.Z,{variant:"rectangular",width:300,height:600}),children:(0,O.jsxs)(I.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,O.jsx)(c.Z,{sx:{display:"flex",position:"absolute",zIndex:2,opacity:.7},children:(0,O.jsx)(l.Z,{sx:{p:.5},onClick:function(e){return P.charMeta.set(r,{favorite:!q})},children:q?(0,O.jsx)(a.Z,{}):(0,O.jsx)(i.Z,{})})}),(0,O.jsx)(W.Z,{condition:!!h,wrapper:B,children:z&&V&&H?(0,O.jsx)(Q,{characterContextObj:H,dataContextObj:V,characterKey:r,onClick:h,onClickHeader:p,isTeammateCard:D,character:z,onClickTeammate:g,hideStats:K,weaponChildren:d,artifactChildren:u,characterChildren:x}):(0,O.jsx)(F,{characterKey:r})}),j]})})}function Q(e){var n=e.characterContextObj,t=e.dataContextObj,r=e.characterKey,a=e.onClick,i=e.onClickHeader,o=e.isTeammateCard,s=e.character,c=e.onClickTeammate,l=e.hideStats,x=e.weaponChildren,h=e.artifactChildren,f=e.characterChildren;return(0,O.jsx)(p.K.Provider,{value:n,children:(0,O.jsxs)(Z.R.Provider,{value:t,children:[(0,O.jsx)(J,{characterKey:r,onClick:a?void 0:i,children:(0,O.jsx)(L,{})}),(0,O.jsxs)(u.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1},children:[(0,O.jsx)(U,{}),!o&&(0,O.jsxs)(d.ZP,{container:!0,columns:4,spacing:.75,children:[(0,O.jsx)(d.ZP,{item:!0,xs:1,height:"100%",children:(0,O.jsx)(E.Z,{weaponId:s.equippedWeapon})}),(0,D.w6)(0,2).map((function(e){return(0,O.jsx)(d.ZP,{item:!0,xs:1,height:"100%",children:(0,O.jsx)(q.Z,{characterKey:s.team[e],onClick:a?void 0:c,index:e})},e)}))]}),o&&(0,O.jsx)(H,{weaponId:s.equippedWeapon}),!o&&!l&&(0,O.jsx)(Y,{}),x,h,f]})]})})}function F(e){var n=e.characterKey;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(J,{characterKey:n,children:(0,O.jsx)(X,{characterKey:n})}),(0,O.jsx)(u.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1,height:"100%"}})]})}function J(e){var n=e.children,t=e.characterKey,r=e.onClick,a=(0,C.Z)().gender,i=(0,k.Z)((function(){return v.Z.get(t,a)}),[t,a]),s=(0,f.useCallback)((function(e){return(0,O.jsx)(o.Z,{onClick:function(){return t&&(null===r||void 0===r?void 0:r(t))},sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[r,t]);return i?(0,O.jsx)(W.Z,{condition:!!r,wrapper:s,children:(0,O.jsxs)(c.Z,{display:"flex",position:"relative",className:"grad-".concat(i.rarity,"star"),sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:"url(".concat(i.bannerImg,")"),backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,O.jsx)(c.Z,{flexShrink:1,sx:{maxWidth:{xs:"40%",lg:"40%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,O.jsx)(c.Z,{component:"img",src:i.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,O.jsx)(c.Z,{flexGrow:1,sx:{py:1,pr:1},display:"flex",flexDirection:"column",zIndex:1,children:n})]})}):null}function L(){var e=(0,f.useContext)(p.K).characterSheet,n=(0,f.useContext)(Z.R).data,t=n.get(j.ri.charEle).value,r=n.get(j.ri.lvl).value,a=n.get(j.ri.constellation).value,i=n.get(j.ri.asc).value,o=n.get(j.ri.bonus.auto).value,s=n.get(j.ri.bonus.skill).value,c=n.get(j.ri.bonus.burst).value,l=n.get(j.ri.total.auto).value,u=n.get(j.ri.total.skill).value,v=n.get(j.ri.total.burst).value;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(x.Z,{label:(0,O.jsx)(h.Z,{variant:"subtitle1",children:e.name}),size:"small",color:t,sx:{opacity:.85}}),(0,O.jsxs)(d.ZP,{container:!0,spacing:1,flexWrap:"nowrap",children:[(0,O.jsxs)(d.ZP,{item:!0,sx:{textShadow:"0 0 5px gray"},children:[(0,O.jsxs)(h.Z,{component:"span",variant:"h6",whiteSpace:"nowrap",children:["Lv. ",r]}),(0,O.jsxs)(h.Z,{component:"span",variant:"h6",color:"text.secondary",children:["/",g.SJ[i]]})]}),(0,O.jsx)(d.ZP,{item:!0,children:(0,O.jsx)(h.Z,{variant:"h6",children:(0,O.jsxs)(T.Z,{children:["C",a]})})})]}),(0,O.jsxs)(d.ZP,{container:!0,spacing:1,flexWrap:"nowrap",children:[(0,O.jsx)(d.ZP,{item:!0,children:(0,O.jsx)(x.Z,{color:o?"info":"secondary",label:(0,O.jsx)("strong",{children:l})})}),(0,O.jsx)(d.ZP,{item:!0,children:(0,O.jsx)(x.Z,{color:s?"info":"secondary",label:(0,O.jsx)("strong",{children:u})})}),(0,O.jsx)(d.ZP,{item:!0,children:(0,O.jsx)(x.Z,{color:c?"info":"secondary",label:(0,O.jsx)("strong",{children:v})})})]}),(0,O.jsx)(h.Z,{mt:1,children:(0,O.jsx)(z.q,{stars:e.rarity,colored:!0})})]})}function X(e){var n=e.characterKey,t=(0,f.useContext)(m.t).database,r=(0,C.Z)().gender,a=(0,k.Z)((function(){return v.Z.get(n,r)}),[n,t,r]);return a?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(x.Z,{label:(0,O.jsx)(h.Z,{variant:"subtitle1",children:a.name}),size:"small",color:a.elementKey,sx:{opacity:.85}}),(0,O.jsx)(c.Z,{mt:1,children:(0,O.jsx)(h.Z,{variant:"h4",children:(0,O.jsx)(T.Z,{children:"NEW"})})}),(0,O.jsx)(h.Z,{mt:1.5,children:(0,O.jsx)(z.q,{stars:a.rarity,colored:!0})})]}):null}function U(){var e=(0,f.useContext)(m.t).database,n=(0,f.useContext)(Z.R).data,t=(0,f.useMemo)((function(){return K.eV.map((function(t){var r;return[t,e.arts.get(null!==(r=n.get(j.ri.art[t].id).value)&&void 0!==r?r:"")]}))}),[n,e]);return(0,O.jsx)(d.ZP,{direction:"row",container:!0,spacing:.75,columns:5,children:t.map((function(e){var n=(0,r.Z)(e,2),t=n[0],a=n[1];return(0,O.jsx)(d.ZP,{item:!0,xs:1,children:(0,O.jsx)(P.Z,{artifactObj:a,slotKey:t})},t)}))})}function Y(){var e=(0,f.useContext)(Z.R).data;return(0,O.jsxs)(c.Z,{sx:{width:"100%"},children:[Object.values(e.getDisplay().basic).map((function(e){return(0,O.jsx)(M.JW,{node:e},JSON.stringify(e.info))})),e.get(j.ri.special).info.name&&(0,O.jsxs)(c.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,O.jsx)(h.Z,{flexGrow:1,children:(0,O.jsx)("strong",{children:"Specialized:"})}),e.get(j.ri.special).info.icon,(0,O.jsx)(h.Z,{children:e.get(j.ri.special).info.name})]})]})}},84684:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(66647),a=t(47047),i=t(20890),o=t(68870),s=t(72791),c=t(10658),l=t(947),u=t(2139),d=t(13434),x=t(12761),h=t(42320),f=t(96106),p=t(3992),Z=t(20005),v=t(25617),g=t(75545),m=t(80184);function j(e){var n=e.characterKey,t=void 0===n?"":n,j=e.index,y=void 0===j?-1:j,b=e.onClick,w=(0,x.Z)().gender,C=(0,h.Z)((function(){return l.Z.get(t,w)}),[t,w]),k=(0,d.Z)(t),S=(0,s.useCallback)((function(){return t&&(null===b||void 0===b?void 0:b(t))}),[t,b]),K=(0,s.useCallback)((function(e){return(0,m.jsx)(r.Z,{onClick:S,children:e})}),[S]);if(C&&k){var D=(0,m.jsx)(s.Suspense,{fallback:(0,m.jsx)(a.Z,{variant:"text",width:100}),children:(0,m.jsxs)(i.Z,{children:[C.elementKey&&g.Z[C.elementKey]," ",C.name]})});return(0,m.jsx)(p.Z,{sx:{maxWidth:128,position:"relative",display:"flex",flexDirection:"column"},children:(0,m.jsxs)(Z.Z,{condition:!!b,wrapper:K,children:[(0,m.jsx)(f.Z,{placement:"top",title:D,children:(0,m.jsx)(o.Z,{display:"flex",className:"grad-".concat(C.rarity,"star"),children:(0,m.jsx)(o.Z,{component:"img",src:C.thumbImgSide,maxWidth:"100%",maxHeight:"100%",sx:{transform:"scale(1.4)",transformOrigin:"bottom"}})})}),(0,m.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",top:0},children:(0,m.jsx)("strong",{children:(0,m.jsxs)(v.Z,{color:"primary",children:[k.level,"/",u.SJ[k.ascension]]})})}),(0,m.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,m.jsx)("strong",{children:(0,m.jsxs)(v.Z,{color:"secondary",children:["C",k.constellation]})})})]})})}return(0,m.jsx)(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:"12.5%"},children:(0,m.jsx)(o.Z,{component:"img",src:c.Z.team["team".concat(y+2)],sx:{width:"75%",height:"auto",opacity:.7}})})}},20005:function(e,n,t){function r(e){var n=e.condition,t=e.wrapper,r=e.falseWrapper,a=e.children;return n?t(a):r?r(a):a}t.d(n,{Z:function(){return r}})},59215:function(e,n,t){t.d(n,{Z:function(){return Z}});var r=t(1413),a=t(45987),i=t(53174),o=t(54483),s=t(2199),c=t(23786),l=t(24518),u=t(52791),d=t(22020),x=t(76899),h=t(33890),f=t(80184),p=["sortKeys","value","onChange","ascending","onChangeAsc"];function Z(e){var n=e.sortKeys,t=e.value,Z=e.onChange,v=e.ascending,g=e.onChangeAsc,m=(0,a.Z)(e,p),j=(0,d.$)("ui").t;return(0,f.jsxs)(u.Z,{display:"flex",alignItems:"center",gap:1,children:[(0,f.jsx)(x.c,{t:j,i18nKey:j("sortBy"),children:"Sort by: "}),(0,f.jsxs)(s.Z,(0,r.Z)((0,r.Z)({},m),{},{children:[(0,f.jsx)(h.Z,{title:(0,f.jsx)(x.c,{t:j,i18nKey:j("sortMap.".concat(t)),children:{value:j("sortMap.".concat(t))}}),children:n.map((function(e){return(0,f.jsx)(c.Z,{selected:t===e,disabled:t===e,onClick:function(){return Z(e)},children:j("sortMap.".concat(e))},e)}))}),(0,f.jsx)(l.Z,{onClick:function(){return g(!v)},startIcon:(0,f.jsx)(o.G,{icon:v?i.Pa6:i.xrW,className:"fa-fw"}),children:v?(0,f.jsx)(x.c,{t:j,i18nKey:"ascending",children:"Ascending"}):(0,f.jsx)(x.c,{t:j,i18nKey:"descending",children:"Descending"})})]}))]})}},10157:function(e,n,t){t.d(n,{q:function(){return l}});var r=t(93433),a=t(53174),i=t(54483),o=t(91702),s=t(80184),c=function(){return(0,s.jsx)(i.G,{icon:a.Tab})},l=function(e){var n=e.stars,t=e.colored,a=void 0!==t&&t;return(0,s.jsx)(o.Z,{color:a?"warning":void 0,children:n?(0,r.Z)(Array(n).keys()).map((function(e,n){return(0,s.jsx)(c,{},n)})):null})}},48510:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(1413),a=t(45987),i=t(93433),o=t(72466),s=t(68870),c=t(24351),l=t(75308),u=t(66934),d=t(90388),x=(0,u.ZP)(d.Z,{shouldForwardProp:function(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var n=e.theme,t=e.baseColor,r=void 0===t?"secondary":t,a=e.selectedColor,i=void 0===a?"success":a;return{"&":{backgroundColor:n.palette[r].main,color:n.palette[r].contrastText},"&:hover":{backgroundColor:n.palette[r].dark},"&.Mui-selected":{backgroundColor:n.palette[i].main,color:n.palette[i].contrastText},"&.Mui-selected:hover":{backgroundColor:n.palette[i].dark},"&.Mui-disabled":{backgroundColor:n.palette[r].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:n.palette[i].dark}}})),h=t(75545),f=t(80184),p=["value","onChange"],Z=(0,l.X)((0,i.Z)(c.N));function v(e){var n=e.value,t=e.onChange,i=(0,a.Z)(e,p);return(0,f.jsx)(o.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:n},i),{},{children:c.N.map((function(e){return(0,f.jsx)(x,{value:e,selectedColor:e,onClick:function(){return t(Z(n,e))},children:(0,f.jsx)(s.Z,{sx:{fontSize:"2em",lineHeight:1},children:h.Z[e]})},e)}))}))}},73578:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),a=t(45987),i=t(93433),o=t(90388),s=t(10658),c=t(24351),l=t(75308),u=t(55942),d=t(91839),x=t(80184),h=["value","onChange"],f=(0,l.X)((0,i.Z)(c.yd));function p(e){var n=e.value,t=e.onChange,i=(0,a.Z)(e,h);return(0,x.jsx)(d.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:n},i),{},{children:c.yd.map((function(e){var r;return(0,x.jsx)(o.Z,{value:e,onClick:function(){return t(f(n,e))},children:(0,x.jsx)(u.Z,{src:null===(r=s.Z.weaponTypes)||void 0===r?void 0:r[e],size:2})},e)}))}))}},77208:function(e,n,t){t.d(n,{Z:function(){return Z}});var r=t(68870),a=t(20890),i=t(72791),o=t(66218),s=t(27235),c=t(73036),l=t(18327),u=t(42320),d=t(74480),x=t(3992),h=t(25617),f=t(41717),p=t(80184);function Z(e){var n=e.weaponId,t=(0,d.Z)(n),l=(0,u.Z)((function(){return(null===t||void 0===t?void 0:t.key)&&o.Z.get(t.key)}),[null===t||void 0===t?void 0:t.key]),Z=(0,i.useMemo)((function(){return l&&t&&(0,c.mP)([l.data,(0,c.v0)(t)])}),[l,t]);if(!t||!l||!Z)return null;var g=(0,p.jsxs)(r.Z,{children:[(0,p.jsx)(v,{node:Z.get(s.ri.weapon.main)}),(0,p.jsx)(v,{node:Z.get(s.ri.weapon.sub)})]});return(0,p.jsxs)(x.Z,{sx:{height:"100%",maxWidth:128,position:"relative",display:"flex",flexDirection:"column"},children:[(0,p.jsx)(r.Z,{display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(l.rarity,"star"),children:(0,p.jsx)(f.Z,{sheet:l,addlText:g,children:(0,p.jsx)(r.Z,{component:"img",src:l.getImg(t.ascension),maxWidth:"100%",maxHeight:"100%",sx:{mt:"auto"}})})}),(0,p.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none"},children:(0,p.jsx)("strong",{children:(0,p.jsx)(h.Z,{color:"primary",children:o.Z.getLevelString(t)})})}),l.hasRefinement&&(0,p.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,p.jsx)("strong",{children:(0,p.jsxs)(h.Z,{color:"secondary",children:["R",t.refinement]})})})]})}function v(e){var n=e.node;return(0,p.jsxs)(a.Z,{children:[n.info.icon," ",(0,l.p)(n)]})}},41717:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(47047),a=t(20890),i=t(72791),o=t(10658),s=t(96106),c=t(55942),l=t(80184);function u(e){var n=e.sheet,t=e.addlText,u=e.children,d=(0,l.jsxs)(i.Suspense,{fallback:(0,l.jsx)(r.Z,{variant:"text",width:100}),children:[(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(c.Z,{src:o.Z.weaponTypes[n.weaponType]})," ",n.name]}),t]});return(0,l.jsx)(s.Z,{placement:"top",title:d,disableInteractive:!0,children:u})}},11741:function(e,n,t){t.d(n,{J:function(){return Q},Y:function(){return F}});var r=t(1413),a=t(93433),i=t(75545),o=t(66624),s=t(27235),c=t(73036),l=t(78661),u=t(79406),d=t(24351),x=t(60393),h=t(53343),f=t(80184),p=function(e){return(0,f.jsx)(o.v,{ns:"elementalResonance_gen",key18:e})},Z=function(e){return(0,f.jsx)(o.v,{ns:"elementalResonance",key18:e})},v=l.Sm.apply(void 0,(0,a.Z)(d.N.map((function(e){return s.uK[e]})))),g=(0,x.Uq)(d.Kj,(function(e){return["".concat(e,"_res_"),(0,l.ew)(s.uK.ele,4,(0,l.aQ)(.15))]})),m={name:p("ProtectiveCanopy.name"),desc:p("ProtectiveCanopy.desc"),icon:(0,f.jsxs)("span",{children:[i.Z.anemo," ",i.Z.geo," ",i.Z.pyro," ",i.Z.hydro," ",i.Z.cryo," ",i.Z.electro," x4"]}),canShow:function(e){return 4===d.N.filter((function(n){return e.get(s.uK[n]).value>=1})).length},sections:[{teamBuff:!0,fields:Object.values(g).map((function(e){return{node:e}}))}]},j=(0,l.ew)(v,4,(0,l.ew)(s.uK.pyro,2,(0,l.aQ)(.25))),y={name:p("FerventFlames.name"),desc:p("FerventFlames.desc"),icon:(0,f.jsxs)("span",{children:[i.Z.pyro," ",i.Z.pyro]}),canShow:function(e){return e.get(s.uK.pyro).value>=2&&e.get(v).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,h.st)("effectDuration.cryo"),value:-40,unit:"%"},{node:j}]}]},b=(0,l.ew)(v,4,(0,l.ew)(s.uK.hydro,2,(0,l.aQ)(.25))),w={name:p("SoothingWater.name"),desc:p("SoothingWater.desc"),icon:(0,f.jsxs)("span",{children:[i.Z.hydro," ",i.Z.hydro]}),canShow:function(e){return e.get(s.uK.hydro).value>=2&&e.get(v).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,h.st)("effectDuration.pyro"),value:-40,unit:"%"},{node:b}]}]},C=["resonance","ShatteringIce"],k=(0,h.v9)(C),S=(0,l.ew)(v,4,(0,l.ew)(s.uK.cryo,2,(0,l.Dg)(k,"on",(0,l.aQ)(.15)))),K={name:p("ShatteringIce.name"),desc:p("ShatteringIce.desc"),icon:(0,f.jsxs)("span",{children:[i.Z.cryo," ",i.Z.cryo]}),canShow:function(e){return e.get(s.uK.cryo).value>=2&&e.get(v).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,h.st)("effectDuration.electro"),value:-40,unit:"%"}]},{teamBuff:!0,path:C,value:k,name:Z("ShatteringIce.cond"),header:{title:p("ShatteringIce.name"),icon:i.Z.cryo},states:{on:{fields:[{node:S}]}}}]},D={name:p("HighVoltage.name"),desc:p("HighVoltage.desc"),icon:(0,f.jsxs)("span",{children:[i.Z.electro," ",i.Z.electro]}),canShow:function(e){return e.get(s.uK.electro).value>=2&&e.get(v).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,h.st)("effectDuration.hydro"),value:-40,unit:"%"}]}]},P=(0,l.ew)(v,4,(0,l.ew)(s.uK.anemo,2,(0,l.aQ)(-.15))),I=(0,l.ew)(v,4,(0,l.ew)(s.uK.anemo,2,(0,l.aQ)(.1))),W=(0,l.ew)(v,4,(0,l.ew)(s.uK.anemo,2,(0,l.aQ)(-.05))),M={name:p("ImpetuousWinds.name"),desc:p("ImpetuousWinds.desc"),icon:(0,f.jsxs)("span",{children:[i.Z.anemo," ",i.Z.anemo]}),canShow:function(e){return e.get(s.uK.anemo).value>=2&&e.get(v).value>=4},sections:[{teamBuff:!0,fields:[{node:P},{node:I},{node:W}]}]},T=["resonance","EnduringRock"],z=(0,h.v9)(T),E=(0,l.ew)(v,4,(0,l.ew)(s.uK.geo,2,(0,l.aQ)(.15))),N=(0,l.ew)(v,4,(0,l.ew)(s.uK.geo,2,(0,l.Dg)(z,"on",(0,l.aQ)(.15)))),R=(0,l.ew)(v,4,(0,l.ew)(s.uK.geo,2,(0,l.Dg)(z,"on",(0,l.aQ)(-.2)))),_={name:p("EnduringRock.name"),desc:p("EnduringRock.desc"),icon:(0,f.jsxs)("span",{children:[i.Z.geo," ",i.Z.geo]}),canShow:function(e){return e.get(s.uK.geo).value>=2&&e.get(v).value>=4},sections:[{teamBuff:!0,text:p("EnduringRock.desc"),fields:[{node:E}]},{teamBuff:!0,path:T,value:z,header:{title:p("EnduringRock.name"),icon:i.Z.geo},name:(0,h.st)("protectedByShield"),states:{on:{fields:[{node:N},{node:R},{text:(0,h.el)("duration"),value:15,unit:"s"}]}}}]},G=["resonance","SprawlingCanopy2ele"],B=(0,h.v9)(G),O=["resonance","SprawlingCanopy3ele"],H=(0,h.v9)(O),V=(0,l.ew)(v,4,(0,l.ew)(s.uK.dendro,2,50,u.ZP.info("eleMas"))),q=(0,l.ew)(v,4,(0,l.ew)(s.uK.dendro,2,(0,l.Dg)(B,"on",30,u.ZP.info("eleMas")))),A=(0,l.ew)(v,4,(0,l.ew)(s.uK.dendro,2,(0,l.Dg)(H,"on",20,u.ZP.info("eleMas")))),Q=[m,y,w,K,D,M,_,{name:p("SprawlingGreenery.name"),desc:p("SprawlingGreenery.desc"),icon:(0,f.jsxs)("span",{children:[i.Z.dendro," ",i.Z.dendro]}),canShow:function(e){return e.get(s.uK.dendro).value>=2&&e.get(v).value>=4},sections:[{teamBuff:!0,text:p("SprawlingGreenery.desc"),fields:[{node:V}]},{teamBuff:!0,path:G,value:B,header:{title:p("SprawlingGreenery.name"),icon:i.Z.dendro},name:Z("SprawlingGreenery.cond2ele"),states:{on:{fields:[{node:q},{text:(0,h.el)("duration"),value:6,unit:"s"}]}}},{teamBuff:!0,path:O,value:H,header:{title:p("SprawlingGreenery.name"),icon:i.Z.dendro},name:Z("SprawlingGreenery.cond3ele"),states:{on:{fields:[{node:A},{text:(0,h.el)("duration"),value:6,unit:"s"}]}}}]}],F=(0,c.d1)({premod:(0,r.Z)((0,r.Z)({},g),{},{atk_:j,hp_:b,staminaDec_:P,moveSPD_:I,cdRed_:W,shield_:E,all_dmg_:N,geo_enemyRes_:R,eleMas:(0,l.ce)((0,l.Sm)(V,q,A),{pivot:!0})}),total:{critRate_:S}})},4332:function(e,n,t){t.d(n,{w:function(){return q}});var r=t(4942),a=t(1413),i=t(45987),o=t(93433),s=t(29439),c=t(39504),l=t(68870),u=t(58165),d=t(94721),x=t(61889),h=t(40165),f=t(69293),p=t(66647),Z=t(20890),v=t(93457),g=t(72791),m=t(22020),j=t(3992),y=t(71310),b=t(30865),w=t(68198),C=t(9321),k=t(59215),S=t(25617),K=t(10157),D=t(48510),P=t(73578),I=t(13746),W=t(947),M=t(2139),T=t(1614),z=t(13434),E=t(12761),N=t(68544),R=t(42320),_=t(24351),G=t(50921),B=t(46956),O=t(80184),H=["className"],V=Object.keys(G.V3);function q(e){var n=e.show,t=e.onHide,r=e.onSelect,a=e.filter,i=void 0===a?function(){return!0}:a,h=e.newFirst,f=void 0!==h&&h,p=(0,m.$)(["page_character","charNames_gen"]).t,Z=(0,g.useContext)(T.t).database,v=(0,g.useState)((function(){return Z.displayCharacter.get()})),y=(0,s.Z)(v,2),b=y[0],S=y[1];(0,g.useEffect)((function(){return Z.displayCharacter.follow((function(e,n){return S(n)}))}),[Z,S]);var K=(0,R.Z)((function(){return W.Z.getAll}),[]),M=(0,N.Z)(),z=(0,s.Z)(M,2),E=z[0],H=z[1];(0,g.useEffect)((function(){return Z.charMeta.followAny((function(e){return H()}))}),[H,Z]);var q=(0,g.useState)(""),A=(0,s.Z)(q,2),F=A[0],J=A[1],L=(0,g.useDeferredValue)(F),X=(0,g.useDeferredValue)(b),U=(0,g.useDeferredValue)(E),Y=(0,g.useMemo)((function(){var e;if(!K)return[];var n=X.element,t=X.weaponType,r=X.sortType,a=X.ascending,s=[].concat((0,o.Z)(f?["new"]:[]),(0,o.Z)(null!==(e=G.V3[r])&&void 0!==e?e:[]));return U&&_.IV.filter((function(e){return i(Z.chars.get(e),K[e])})).filter((0,B.C)({element:n,weaponType:t,name:L},(0,G.zU)(Z,K))).sort((0,B.e)(s,a,(0,G._L)(Z,K),["new","favorite"]))}),[Z,f,X,K,U,L,i]);if(!K)return null;var $=b.weaponType,ee=b.element,ne=b.sortType,te=b.ascending;return(0,O.jsx)(C.Z,{open:n,onClose:t,sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:(0,O.jsxs)(j.Z,{children:[(0,O.jsxs)(c.Z,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,O.jsx)(P.Z,{sx:{height:"100%"},onChange:function(e){return Z.displayCharacter.set({weaponType:e})},value:$,size:"small"}),(0,O.jsx)(D.Z,{sx:{height:"100%"},onChange:function(e){return Z.displayCharacter.set({element:e})},value:ee,size:"small"}),(0,O.jsx)(l.Z,{flexGrow:1,children:(0,O.jsx)(u.Z,{autoFocus:!0,value:F,onChange:function(e){return J(e.target.value)},label:p("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,O.jsx)(k.Z,{sx:{height:"100%"},sortKeys:V,value:ne,onChange:function(e){return Z.displayCharacter.set({sortType:e})},ascending:te,onChangeAsc:function(e){return Z.displayCharacter.set({ascending:e})}}),(0,O.jsx)(w.Z,{onClick:t})]}),(0,O.jsx)(d.Z,{}),(0,O.jsx)(I.R.Provider,{value:{teamData:void 0},children:(0,O.jsx)(c.Z,{children:(0,O.jsx)(x.ZP,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:Y.map((function(e){return(0,O.jsx)(x.ZP,{item:!0,xs:1,children:(0,O.jsx)(Q,{characterKey:e,onClick:function(){t(),null===r||void 0===r||r(e)}})},e)}))})})})]})})}var A=(0,v.Z)((function(e){var n=e.className,t=(0,i.Z)(e,H);return(0,O.jsx)(h.Z,(0,a.Z)((0,a.Z)({},t),{},{classes:{popper:n}}))}))((0,r.Z)({},"& .".concat(f.Z.tooltip),{padding:0}));function Q(e){var n,t=e.characterKey,r=e.onClick,a=(0,E.Z)().gender,i=(0,R.Z)((function(){return W.Z.get(t,a)}),[t,a]),o=(0,z.Z)(t),s=null!==o&&void 0!==o?o:{},c=s.level,u=void 0===c?1:c,d=s.ascension,x=void 0===d?0:d,h=s.constellation,f=void 0===h?0:h;return(0,O.jsx)(A,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",title:(0,O.jsx)(l.Z,{sx:{width:300},children:(0,O.jsx)(b.Z,{hideStats:!0,characterKey:t})}),children:(0,O.jsx)(l.Z,{children:(0,O.jsx)(y.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:(0,O.jsx)(p.Z,{onClick:r,children:(0,O.jsxs)(l.Z,{display:"flex",position:"relative",className:"grad-".concat(null===i||void 0===i?void 0:i.rarity,"star"),sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:"url(".concat(null===i||void 0===i?void 0:i.bannerImg,")"),backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,O.jsx)(l.Z,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,O.jsx)(l.Z,{component:"img",src:null===i||void 0===i?void 0:i.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,O.jsxs)(l.Z,{flexGrow:1,sx:{pr:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[(0,O.jsx)(Z.Z,{variant:"body2",children:(0,O.jsx)(S.Z,{color:null===i||void 0===i?void 0:i.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:null===i||void 0===i?void 0:i.name})}),o?(0,O.jsxs)(l.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,O.jsxs)(l.Z,{sx:{textShadow:"0 0 5px gray"},children:[(0,O.jsxs)(Z.Z,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",u]}),(0,O.jsxs)(Z.Z,{variant:"body2",component:"span",color:"text.secondary",children:["/",M.SJ[x]]})]}),(0,O.jsxs)(Z.Z,{variant:"body2",children:["C",f]})]}):(0,O.jsx)(Z.Z,{component:"span",variant:"body2",children:(0,O.jsx)(S.Z,{children:"NEW"})}),(0,O.jsx)(Z.Z,{variant:"body2",children:(0,O.jsx)(K.q,{stars:null!==(n=null===i||void 0===i?void 0:i.rarity)&&void 0!==n?n:1,colored:!0})})]})]})})})})})}},65106:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(72791),i=t(1614);function o(e){var n=(0,a.useContext)(i.t).database,t=(0,a.useState)((function(){return n.charMeta.get(e)})),o=(0,r.Z)(t,2),s=o[0],c=o[1];return(0,a.useEffect)((function(){return n.charMeta.follow(e,(function(e,n,t){return c(t)}))}),[e,n]),(0,a.useEffect)((function(){return c(n.charMeta.get(e))}),[n,e]),s}},13434:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(72791),i=t(1614);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,a.useContext)(i.t),t=n.database,o=(0,a.useState)(t.chars.get(e)),s=(0,r.Z)(o,2),c=s[0],l=s[1];return(0,a.useEffect)((function(){return l(t.chars.get(e))}),[t,e]),(0,a.useEffect)((function(){return e?t.chars.follow(e,(function(e,n,t){return"update"===n&&l(t)})):void 0}),[e,l,t]),c}},50920:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(93433),a=t(4942),i=t(1413),o=t(72791),s=t(1614),c=t(60393);function l(e){var n=(0,o.useContext)(s.t).database;return(0,o.useCallback)((function(t){if(e){var o=n.chars.get(e);if(o)if("type"in t)switch(t.type){case"enemyOverride":var s=o.enemyOverride,l=t.statKey,u=t.value;if(s[l]===u)break;n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{enemyOverride:(0,i.Z)((0,i.Z)({},s),{},(0,a.Z)({},l,u))}));break;case"editStats":var d=t.statKey,x=t.value,h=(0,c.I8)(o.bonusStats);if(h[d]===x)break;x?h[d]=x:delete h[d],n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{bonusStats:h}));break;case"resetStats":var f=t.statKey,p=o.bonusStats;delete p[f],n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{bonusStats:p}));break;case"teamConditional":var Z=t.teamMateKey,v=t.conditional,g=(0,c.I8)(o.teamConditional);g[Z]=v,n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{teamConditional:g}));break;case"team":var m=o.team,j=(0,r.Z)(m),y=t.index,b=t.charKey;j[y]=b,n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{team:j}))}else n.chars.set(e,(0,i.Z)((0,i.Z)({},o),t))}}),[e,n])}},68544:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(29439),a=t(72791);function i(){var e=(0,a.useState)({}),n=(0,r.Z)(e,2),t=n[0],i=n[1];return[t,(0,a.useCallback)((function(){return i({})}),[])]}},70645:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(13967),a=t(95193);function i(){var e=(0,r.Z)(),n=(0,a.Z)(e.breakpoints.up("sm")),t=(0,a.Z)(e.breakpoints.up("md")),i=(0,a.Z)(e.breakpoints.up("lg"));return(0,a.Z)(e.breakpoints.up("xl"))?"xl":i?"lg":t?"md":n?"sm":"xs"}},47639:function(e,n,t){t.d(n,{V:function(){return S},Z:function(){return w}});var r=t(93433),a=t(4942),i=t(74165),o=t(1413),s=t(45987),c=t(15861),l=t(29439),u=t(72791),d=t(31148),x=t(947),h=t(11741),f=t(66218),p=t(1614),Z=t(27235),v=t(73036),g=t(60393),m=t(68544),j=t(42320),y=["data"],b=["display"];function w(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=(0,u.useContext)(p.t),i=a.database,o=(0,m.Z)(),s=(0,l.Z)(o,2),c=s[0],d=s[1],x=(0,u.useDeferredValue)(c),h=(0,j.Z)((function(){return C(i,e,n,t,r)}),[x,e,i,n,t,r]);return(0,u.useEffect)((function(){return e?i.chars.follow(e,d):void 0}),[e,d,i]),h}function C(e,n){return k.apply(this,arguments)}function k(){return k=(0,c.Z)((0,i.Z)().mark((function e(n,t){var r,a,c,l,u,d,x,h,f,p,Z=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Z.length>2&&void 0!==Z[2]?Z[2]:0,c=Z.length>3?Z[3]:void 0,l=Z.length>4?Z[4]:void 0,t){e.next=5;break}return e.abrupt("return");case 5:if(a||c||l){e.next=9;break}if(!(u=n._getTeamData(t))){e.next=9;break}return e.abrupt("return",u);case 9:return e.next=11,S(n,t,a,c,l);case 11:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=15;break}e.t0=void 0!==r;case 15:if(!e.t0){e.next=19;break}e.t2=r,e.next=20;break;case 19:e.t2={};case 20:if(d=e.t2,x=d.teamData,h=d.teamBundle,x&&h){e.next=25;break}return e.abrupt("return");case 25:return f=(0,v.Qo)(x,t),p=(0,g.xh)(f,(function(e,n){var t=h[n],r=(t.data,(0,s.Z)(t,y));return(0,o.Z)((0,o.Z)({},e),r)})),a||c||l||n.cacheTeamData(t,p),e.abrupt("return",p);case 29:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function S(e,n){return K.apply(this,arguments)}function K(){return K=(0,c.Z)((0,i.Z)().mark((function e(n,t){var r,s,l,u,d,x,h,f=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:0,s=f.length>3?f[3]:void 0,l=f.length>4?f[4]:void 0,t){e.next=5;break}return e.abrupt("return");case 5:if(u=n.chars.get(t)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,D(n,!0,r,u,l||n.weapons.get(u.equippedWeapon),null!==s&&void 0!==s?s:Object.values(u.equippedArtifacts).map((function(e){return n.arts.get(e)})).filter((function(e){return e})));case 10:if(d=e.sent){e.next=13;break}return e.abrupt("return");case 13:return x=(0,a.Z)({},t,d),h=(0,a.Z)({},t,d.data),e.next=17,Promise.all(d.character.team.map(function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var r,a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(a=n.chars.get(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,D(n,!1,0,(0,o.Z)((0,o.Z)({},a),{},{conditional:null!==(r=u.teamConditional[t])&&void 0!==r?r:{}}),n.weapons.get(a.equippedWeapon),Object.values(a.equippedArtifacts).map((function(e){return n.arts.get(e)})).filter((function(e){return e})));case 7:if(s=e.sent){e.next=10;break}return e.abrupt("return");case 10:x[t]=s,h[t]=s.data;case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 17:return e.abrupt("return",{teamData:h,teamBundle:x});case 18:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function D(e){return P.apply(this,arguments)}function P(){return P=(0,c.Z)((0,i.Z)().mark((function e(n){var t,a,o,c,l,u,p,g,m,j,y,w,C,k=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.length>1&&void 0!==k[1]&&k[1],a=k.length>2?k[2]:void 0,o=k.length>3?k[3]:void 0,c=k.length>4?k[4]:void 0,l=k.length>5?k[5]:void 0,e.next=7,x.Z.get(o.key,n.gender);case 7:if(u=e.sent){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,f.Z.get(c.key);case 12:if(p=e.sent){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,f.Z.getAllDataOfType(u.weaponTypeKey);case 17:return g=e.sent,m=t?function(){var e=p.data,n=(e.display,(0,s.Z)(e,b));return(0,v.b3)([n,g])}():p.data,e.next=21,d.y.getAllData;case 21:return j=e.sent,y=(0,v.b3)([u.data,m,j]),w=Array.isArray(l)?l.map((function(e){return(0,v.n3)(e,a)})):[l],C=[].concat((0,r.Z)(w),[(0,v.vn)(o,t?y:void 0),(0,v.v0)(c),y,Z.y0,h.Y]),e.abrupt("return",{character:o,weapon:c,characterSheet:u,weaponSheet:p,data:C});case 26:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}},74480:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(72791),i=t(1614);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,a.useContext)(i.t),t=n.database,o=(0,a.useState)(t.weapons.get(e)),s=(0,r.Z)(o,2),c=s[0],l=s[1];return(0,a.useEffect)((function(){return l(t.weapons.get(e))}),[t,e]),(0,a.useEffect)((function(){return e?t.weapons.follow(e,(function(e,n,t){return"update"===n&&l(t)})):void 0}),[e,l,t]),c}},75308:function(e,n,t){t.d(n,{X:function(){return i}});var r=t(93433),a=t(60393);function i(e){return function(n,t){var i=n.length;return i===e.length?[t]:1===i&&n[0]===t?(0,r.Z)(e):(0,r.Z)(new Set((0,a.nh)(n,t)))}}},46956:function(e,n,t){t.d(n,{C:function(){return o},e:function(){return i}});var r=t(29439),a=t(37762);function i(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return function(i,o){var s,c=(0,a.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value,u=0,d=t[l],x=d(i),h=d(o);if(0!==(u="string"===typeof x&&"string"===typeof h?x.localeCompare(h):h-x))return r.includes(l)?u:(n?-1:1)*u}}catch(f){c.e(f)}finally{c.f()}return 0}}function o(e,n){return function(t){return Object.entries(e).every((function(e){var a=(0,r.Z)(e,2),i=a[0],o=a[1];return n[i]&&n[i](t,o)}))}}}}]);
//# sourceMappingURL=652.a7f2ba7d.chunk.js.map