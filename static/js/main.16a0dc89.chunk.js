(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[0],{111:function(e){e.exports=JSON.parse('{"a":"1.3.0"}')},118:function(e,t,a){},123:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),s=a.n(r),c=a(27),i=a.n(c),l=(a(118),a(87)),o=a(9),d=a(35),u=a(18),h=a(40),j=a(98),b=a(45),f=a(16),m=(a(123),a(10)),x=a(26),p=a(15),O=a(38),g=a(13),y=a(14),S=a(21),v=a(20),k=a(8),C=a(112),w=a(32),A=a(164),N=a(166),_=a(109),E=a(107),K=function(e){return e[Math.floor(Math.random()*e.length)]};function B(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}var I=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},T=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},D=function(e){return JSON.parse(JSON.stringify(e))},M=function(e,t){return Math.abs(e-t)<.1},F=function(e,t){return Math.abs(e-t)<=1},L=function(e,t,a){return e<t?t:e>a?a:e},P=function(e){return L(e,0,100)},R={hp:{name:"HP",key:"hp"},hp_:{name:"HP",key:"hp_",unit:"%"},atk:{name:"ATK",key:"atk"},atk_:{name:"ATK",key:"atk_",unit:"%"},def:{name:"DEF",key:"def"},def_:{name:"DEF",key:"def_",unit:"%"},phy_dmg:{name:"Physical DMG Bonus",key:"phy_dmg",unit:"%"},ele_dmg:{name:"Elemental DMG Bonus",key:"ele_dmg",unit:"%"},ele_mas:{name:"Elemental Mastery",key:"ele_mas"},ener_rech:{name:"Energy Recharge",key:"ener_rech",unit:"%"},crit_rate:{name:"Crit Rate",key:"crit_rate",unit:"%"},crit_dmg:{name:"Crit DMG",key:"crit_dmg",unit:"%"},heal_bonu:{name:"Healing Bonus",key:"heal_bonu",unit:"%"}},G={hp:{2:[50,61,72],3:[100,115,129,143],4:[167,191,215,239],5:[209,239,269,299]},hp_:{2:[1.6,2,2.3],3:[2.5,2.8,3.2,3.5],4:[3.3,3.7,4.2,4.7],5:[4.1,4.7,5.3,5.8]},atk:{2:[3,4,5],3:[7,8,9],4:[11,12,14,16],5:[14,16,18,19]},atk_:{2:[1.6,2,2.3],3:[2.5,2.8,3.2,3.5],4:[3.3,3.7,4.2,4.7],5:[4.1,4.7,5.3,5.8]},def:{2:[4,5,6],3:[8,9,10,11],4:[13,15,17,19],5:[16,19,21,23]},def_:{2:[2,2.5,2.9],3:[3.1,3.5,3.9,4.4],4:[4.1,4.7,5.3,5.8],5:[5.1,5.8,6.6,7.3]},ele_mas:{2:[7,8,9],3:[10,11,13,14],4:[13,15,17,19],5:[16,19,21,23]},ener_rech:{2:[1.8,2.2,2.6],3:[2.7,3.1,3.5,3.9],4:[3.6,4.1,4.7,5.2],5:[4.5,5.2,5.8,6.5]},crit_rate:{2:[1.1,1.3,1.6],3:[1.6,1.9,2.1,2.3],4:[2.2,2.5,2.8,3.1],5:[2.7,3.1,3.5,3.9]},crit_dmg:{2:[2.2,2.6,3.1],3:[3.3,3.7,4.2,4.7],4:[4.4,5,5.6,6.2],5:[5.4,6.2,7,7.8]}},H={flower:{name:"Flower of Life",stats:["hp"]},plume:{name:"Plume of Death",stats:["atk"]},sands:{name:"Sands of Eon",stats:["hp_","def_","atk_","ele_mas","ener_rech"]},goblet:{name:"Goblet of Eonothem",stats:["hp_","def_","atk_","ele_mas","phy_dmg","anemo_ele_dmg","geo_ele_dmg","electro_ele_dmg","hydro_ele_dmg","pyro_ele_dmg","cryo_ele_dmg"]},circlet:{name:"Circlet of Logos",stats:["hp_","def_","atk_","ele_mas","crit_rate","crit_dmg","heal_bonu"]}},V=["hp_","atk_","def_","ele_mas","ener_rech","heal_bonu","crit_rate","crit_dmg","phy_dmg","anemo_ele_dmg","geo_ele_dmg","electro_ele_dmg","hydro_ele_dmg","pyro_ele_dmg","cryo_ele_dmg"],U={"Wanderer's Troupe":{name:"Wanderer's Troupe",rarity:[4,5],pieces:{flower:"Troupe's Dawnlight",plume:"Bard's Arrow Feather",sands:"Concert's Final Hour",goblet:"Wanderer's String-Kettle",circlet:"Conductor's Top Hat"},sets:{2:{text:"Elemental Mastery +80",stats:{ele_mas:80}},4:{text:"Increases Charged Attack DMG by 35% if the character uses a Catalyst or Bow.",stats:{}}}},"Viridescent Venerer":{name:"Viridescent Venerer",rarity:[4,5],pieces:{flower:"In Remembrance of Viridescent Fields",plume:"Viridescent Arrow Feather",sands:"Viridescent Venerer's Determination",goblet:"Viridescent Venerer's Vessel",circlet:"Viridescent Venerer's Diadem"},sets:{2:{text:"Anemo DMG Bonus +15%",stats:{anemo_ele_dmg:15}},4:{text:"Increases Swirl DMG by 60%. Decreases opponent's Elemental RES to the element infused in the Swirl by 40% for 10s.",stats:{}}}},Thundersoother:{name:"Thundersoother",rarity:[4,5],pieces:{flower:"Thundersoother's Heart",plume:"Thundersoother's Plume",sands:"Hour of Soothing Thunder",goblet:"Thundersoother's Goblet",circlet:"Thundersoother's Diadem"},sets:{2:{text:"Electro RES increased by 40%",stats:{}},4:{text:"Increases DMG against enemies affected by Electro by 35%.",stats:{}}}},"Thundering Fury":{name:"Thundering Fury",rarity:[4,5],pieces:{flower:"Thunderbird's Mercy",plume:"Survivor of Catastrophe",sands:"Hourglass of Thunder",goblet:"Omen of Thunderstorm",circlet:"Thunder Summoner's Crown"},sets:{2:{text:"Electro DMG Bonus +15%",stats:{electro_ele_dmg:15}},4:{text:"Increases damage caused by Overloaded, Electro-Charged, and Superconduct DMG by 40%. Triggering such effects decreases Elemental Skill CD by 1s. Can only occur once every 0.8s.",stats:{}}}},"Retracing Bolide":{name:"Retracing Bolide",rarity:[4,5],pieces:{flower:"Summer Night's Bloom",plume:"Summer Night's Finale",sands:"Summer Night's Moment",goblet:"Summer Night's Waterballoon",circlet:"Summer Night's Mask"},sets:{2:{text:"Increases the effectiveness of shields by 35%",stats:{}},4:{text:"Gain an additional 40% Normal and Charged Attack DMG while under the protection of a shield.",stats:{}}}},"Noblesse Oblige":{name:"Noblesse Oblige",rarity:[4,5],pieces:{flower:"Royal Flora",plume:"Royal Plume",sands:"Royal Pocket Watch",goblet:"Royal Silver Urn",circlet:"Royal Masque"},sets:{2:{text:"Elemental Burst DMG +20%",stats:{}},4:{text:"Using an Elemental Burst increase all party members' ATK by 20% for 12s. This effect cannot stack.",stats:{}}}},"Maiden Beloved":{name:"Maiden Beloved",rarity:[4,5],pieces:{flower:"Maiden's Distant Love",plume:"Maiden's Heart-stricken Infatuation",sands:"Maiden's Passing Youth",goblet:"Maiden's Fleeting Leisure",circlet:"Maiden's Fading Beauty"},sets:{2:{text:"Character Healing Effectiveness +15%",stats:{heal_bonu:15}},4:{text:"Using an Elemental Skill or Burst increases healing received by all party members by 20% for 10s.",stats:{}}}},Lavawalker:{name:"Lavawalker",rarity:[4,5],pieces:{flower:"Lavawalker's Resolution",plume:"Lavawalker's Salvation",sands:"Lavawalker's Torment",goblet:"Lavawalker's Epiphany",circlet:"Lavawalker's Wisdom"},sets:{2:{text:"Pyro RES increased by 40%",stats:{}},4:{text:"Increases DMG against enemies that are Burning or affected by Pyro by 35%.",stats:{}}}},"Gladiator's Finale":{name:"Gladiator's Finale",rarity:[4,5],pieces:{flower:"Gladiator's Nostalgia",plume:"Gladiator's Destiny",sands:"Gladiator's Longing",goblet:"Gladiator's Intoxication",circlet:"Gladiator's Triumphus"},sets:{2:{text:"ATK +18%",stats:{atk_:18}},4:{text:"If the wielder of this artifact set uses a Sword, Claymore or Polearm, increases their Normal Attack DMG by 35%.",stats:{}}}},"Crimson Witch of Flames":{name:"Crimson Witch of Flames",rarity:[4,5],pieces:{flower:"Witch's Flower of Blaze",plume:"Witch's Ever-Burning Plume",sands:"Witch's End Time",goblet:"Witch's Heart Flames",circlet:"Witch's Scorching Hat"},sets:{2:{text:"Pyro DMG Bonus +15%",stats:{pyro_ele_dmg:15}},4:{text:"Increases Overloaded and Burning DMG by 40%. Increases Vaporize and Melt DMG by 15%. Using an Elemental Skill increases 2-Piece Set effects by 50% for 10s. Max 3 stacks.",stats:{}}}},"Bloodstained Chivalry":{name:"Bloodstained Chivalry",rarity:[4,5],pieces:{flower:"Bloodstained Flower of Iron",plume:"Bloodstained Black Plume",sands:"Bloodstained Final Hour",goblet:"Bloodstained Chevalier's Goblet",circlet:"Bloodstained Iron Mask"},sets:{2:{text:"Physical DMG +25%",stats:{phy_dmg:25}},4:{text:"After defeating an opponent, increases Charged Attack DMG by 50%, and reduces its Stamina cost to 0 for 10s.",stats:{}}}},"Archaic Petra":{name:"Archaic Petra",rarity:[4,5],pieces:{flower:"Flower of Creviced Cliff",plume:"Feather of Jagged Peaks",sands:"Sundial of Enduring Jade",goblet:"Goblet of Chiseled Crag",circlet:"Mask of Solitude Basalt"},sets:{2:{text:"\tGain a 15% Geo DMG Bonus",stats:{geo_ele_dmg:15}},4:{text:"Upon obtaining a crystal created through a Geo Elemental Reaction, all party members gain 35% RES to that particular element for 10s. Only one form of Elemental RES can be gained in this manner at any one time. Upon obtaining a crystal created through a Geo Elemental Reaction, all party members gain 35% RES to that particular element for 10s. Only one form of Elemental RES can be gained in this manner at any one time.",stats:{}}}},Scholar:{name:"Scholar",rarity:[3,4],pieces:{flower:"Scholar's Bookmark",plume:"Scholar's Quill Pen",sands:"Scholar's Clock",goblet:"Scholar's Ink Cup",circlet:"Scholar's Lens"},sets:{2:{text:"Energy Recharge +20%",stats:{ener_rech:20}},4:{text:"Gaining Energy gives 3 Energy to all party members who have a bow or a catalyst equipped. Can only occur once every 3s.",stats:{}}}},Gambler:{name:"Gambler",rarity:[3,4],pieces:{flower:"Gambler's Brooch",plume:"Gambler's Feathered Accessory",sands:"Gambler's Pocket Watch",goblet:"Gambler's Dice Cup",circlet:"Gambler's Earrings"},sets:{2:{text:"Elemental Skill DMG increased by 20%",stats:{}},4:{text:"Defeating an enemy has 100% chance to remove Elemental Skill CD. Can only occur once every 15s.",stats:{}}}},"Brave Heart":{name:"Brave Heart",rarity:[3,4],pieces:{flower:"Medal of the Brave",plume:"Prospect of the Brave",sands:"Fortitude of the Brave",goblet:"Outset of the Brave",circlet:"Crown of the Brave"},sets:{2:{text:"2-piece Set Bonus: ATK +18%",stats:{atk_:18}},4:{text:"Increases DMG by 30% against enemies with more than 50% HP.",stats:{}}}},"Tiny Miracle":{name:"Tiny Miracle",rarity:[3,4],pieces:{flower:"Tiny Miracle's Flower",plume:"Tiny Miracle's Feather",sands:"Tiny Miracle's Hourglass",goblet:"Tiny Miracle's Goblet",circlet:"Tiny Miracle's Earrings"},sets:{2:{text:"All Elemental RES increased by 20%",stats:{}},4:{text:"Incoming elemental DMG increases corresponding Elemental RES by 30% for 10s. Can only occur once every 10s.",stats:{}}}},"Defender's Will":{name:"Defender's Will",rarity:[3,4],pieces:{flower:"Guardian's Flower",plume:"Guardian's Sigil",sands:"Guardian's Clock",goblet:"Guardian's Vessel",circlet:"Guardian's Band"},sets:{2:{text:"Base DEF +30%",stats:{def_:30}},4:{text:"Increases Elemental RES by 30% for each element present in the party.",stats:{}}}},"Martial Artist":{name:"Martial Artist",rarity:[3,4],pieces:{flower:"Martial Artist's Red Flower",plume:"Martial Artist's Feathered Accessory",sands:"Martial Artist's Water Hourglass",goblet:"Martial Artist's Wine Cup",circlet:"Martial Artist's Bandana"},sets:{2:{text:"Increases Normal Attack and Charged Attack DMG by 15%.",stats:{}},4:{text:"After using Elemental Skill, increases Normal Attack and Charged Attack DMG by 25% for 8s.",stats:{}}}},"Resolution of Sojourner":{name:"Resolution of Sojourner",rarity:[3,4],pieces:{flower:"Heart of Comradeship",plume:"Feather of Homecoming",sands:"Sundial of the Sojourner",goblet:"Goblet of the Sojourner",circlet:"Crown of Parting"},sets:{2:{text:"ATK +18%",stats:{atk_:18}},4:{text:"Increases Charged Attack CRIT Rate by 30%.",stats:{}}}},"The Exile":{name:"The Exile",rarity:[3,4],pieces:{flower:"Exile's Flower",plume:"Exile's Feather",sands:"Exile's Pocket Watch",goblet:"Exile's Goblet",circlet:"Exile's Circlet"},sets:{2:{text:"Energy Recharge +20%",stats:{ener_rech:20}},4:{text:"Using an Elemental Burst regenerates 2 Energy for other party members every 2s for 6s. This effect cannot stack.",stats:{}}}},Berserker:{name:"Berserker",rarity:[3,4],pieces:{flower:"Berserker's Rose",plume:"Berserker's Indigo Feather",sands:"Berserker's Timepiece",goblet:"Berserker's Bone Goblet",circlet:"Berserker's Battle Mask"},sets:{2:{text:"CRIT Rate +12%",stats:{crit_rate:12}},4:{text:"When HP is below 70%, CRIT Rate increases by an additional 24%.",stats:{}}}},Instructor:{name:"Instructor",rarity:[3,4],pieces:{flower:"Instructor's Brooch",plume:"Instructor's Feathered Accessory",sands:"Instructor's Pocket Watch",goblet:"Instructor's Tea Cup",circlet:"Instructor's Cap"},sets:{2:{text:"Increases Elemental Mastery by 80.",stats:{ele_mas:80}},4:{text:"After using Elemental Skill, increases all party members' Elemental Mastery by 120 for 8s.",stats:{}}}},"Traveling Doctor":{name:"Traveling Doctor",rarity:[3],pieces:{flower:"Traveling Doctor's Medicine Pot",plume:"Traveling Doctor's Handkerchief",sands:"Traveling Doctor's Pocket Watch",goblet:"Traveling Doctor's Silver Lotus",circlet:"Traveling Doctor's Owl Feather"},sets:{2:{text:"Increases incoming healing by 20%.",stats:{}},4:{text:"Using Elemental Burst restores 20% HP.",stats:{}}}},"Lucky Dog":{name:"Lucky Dog",rarity:[3],pieces:{flower:"Lucky Dog's Clover",plume:"Lucky Dog's Eagle Feather",sands:"Lucky Dog's Hourglass",goblet:"Lucky Dog's Goblet",circlet:"Lucky Dog's Silver Circlet"},sets:{2:{text:"DEF increased by 100.",stats:{def:100}},4:{text:"Picking up Mora restores 300 HP.",stats:{}}}},Adventurer:{name:"Adventurer",rarity:[3],pieces:{flower:"Adventurer's Flower",plume:"Adventurer's Tail Feather",sands:"Adventurer's Pocket Watch",goblet:"Adventurer's Golden Goblet",circlet:"Adventurer's Bandana"},sets:{2:{text:"Max HP increased by 1,000.",stats:{hp:1e3}},4:{text:"Opening chest regenerates 30% Max HP over 5s.",stats:{}}}},"Prayers of Wisdom":{name:"Prayers of Wisdom",rarity:[3,4],pieces:{circlet:"Tiara of Thunder"},sets:{1:{text:"Affected by Electro for 40% less time.",stats:{}}}},"Prayers of Springtime":{name:"Prayers of Springtime",rarity:[3,4],pieces:{circlet:"Tiara of Frost"},sets:{1:{text:"Affected by Cryo for 40% less time.",stats:{}}}},"Prayers of Illumination":{name:"Prayers of Illumination",rarity:[3,4],pieces:{circlet:"Tiara of Flame"},sets:{1:{text:"Affected by Pyro for 40% less time.",stats:{}}}},"Prayers of Destiny":{name:"Prayers of Destiny",rarity:[3,4],pieces:{circlet:"Tiara of Torrents"},sets:{1:{text:"Affected by Hydro for 40% less time.",stats:{}}}}},W={3:{subsBaselow:1,subBaseHigh:2,numUpgradesOrUnlocks:3},4:{subsBaselow:2,subBaseHigh:3,numUpgradesOrUnlocks:4},5:{subsBaselow:3,subBaseHigh:4,numUpgradesOrUnlocks:5}},q={3:{hp:[430,552,674,796,918,1040,1162,1283,1405,1527,1649,1771,1893],atk:[28,36,44,52,60,68,76,84,91,99,107,115,123],hp_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],atk_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],def_:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],phy_dmg:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],ele_dmg:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],ele_mas:[21,27,33,39,45,51,57,63,69,75,80,86,92],ener_rech:[5.8,7.5,9.1,10.8,12.4,14.1,15.7,17.4,19,20.7,22.3,24,25.6],crit_rate:[3.5,4.5,5.5,6.5,7.5,8.4,9.4,10.4,11.4,12.4,13.4,14.4,15.4],crit_dmg:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8],heal_bonu:[4,5.2,6.3,7.5,8.6,9.8,10.9,12,13.2,14.3,15.5,16.6,17.8]},4:{hp:[645,828,1011,1194,1377,1559,1742,1925,2108,2291,2474,2657,2839,3022,3205,3388,3571],atk:[42,54,66,78,90,102,113,125,137,149,161,173,185,197,209,221,232],hp_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],atk_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],def_:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],phy_dmg:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],ele_dmg:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],ele_mas:[25,32,39,47,54,61,68,75,82,89,97,104,111,118,125,132,139],ener_rech:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7],crit_rate:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7,14.9,16.1,17.3,18.5,19.7,20.8,22,23.2],crit_dmg:[8.4,10.8,13.1,15.5,17.9,20.3,22.7,25,27.4,29.8,32.2,34.5,36.9,39.3,41.7,44.1,46.4],heal_bonu:[4.8,6.2,7.6,9,10.3,11.7,13.1,14.4,15.8,17.2,18.6,19.9,21.3,22.7,24,25.4,26.8]},5:{hp:[717,920,1123,1326,1530,1733,1936,2139,2342,2545,2749,2952,3155,3358,3561,3764,3967,4171,4374,4577,4780],atk:[47,60,73,86,100,113,126,139,152,166,179,192,205,219,232,245,258,272,285,298,311],hp_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],atk_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],def_:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],phy_dmg:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],ele_dmg:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],ele_mas:[28,36,44,52,60,68,76,84,91,99,107,115,123,131,139,147,155,163,171,179,187],ener_rech:[7.8,10,12.2,14.4,16.6,18.8,21,23.2,25.4,27.6,29.8,32,34.2,36.4,38.6,40.8,43,45.2,47.4,49.6,51.8],crit_rate:[4.7,6,7.4,8.7,10,11.4,12.7,14,15.4,16.7,18,19.3,20.7,22,23.3,24.7,26,27.3,28.7,30,31.3],crit_dmg:[9.3,11.9,14.6,17.2,19.9,22.5,25.5,27.8,30.5,33.1,35.8,38.4,41.1,43.7,46.3,49,51.6,54.3,56.9,59.6,62.2],heal_bonu:[5.4,6.9,8.4,10,11.5,13,14.5,16.1,17.6,19.1,20.6,22.2,23.7,25.2,26.7,28.3,29.8,31.3,32.8,34.4,35.9]}},z={anemo:{name:"Anemo"},geo:{name:"Geo"},electro:{name:"Electro"},hydro:{name:"Hydro"},pyro:{name:"Pyro"},cryo:{name:"Cryo"},dendro:{name:"Dendro"}},J=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,null,[{key:"getRolls",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null,r=null,s=parseInt((e/t[0]).toFixed(0));if(!s)return null;var c=function c(i,l){if(!n){if(l.length){if(l.length>s)return;var o=l.reduce((function(e,t){return e+t}),0);if(a){if(o-i>.1)return;if(M(o,i))return void(n=l)}else{if(o-i>1)return;if(o===i)return void(n=l);F(o,i)&&(r=l)}}t.slice().reverse().forEach((function(t){c(e,[].concat(Object(O.a)(l),[t]))}))}};return c(e,[]),!n&&r&&(n=r),n}},{key:"validateSubStat",value:function(e,t){if(!t||!t.value)return{valid:!0};var a=parseFloat(t.value);if(isNaN(a))return{valid:!1,msg:"Invalid Input"};var n=e.numStars;if(!n)return{valid:!1,msg:"Artifact Stars not set."};var r="%"===this.getStatUnit(t.key),s=this.getSubstatRollData(t.key,n),c=this.getRolls(a,s,r);if(!c||0===c.length)return{valid:!1,msg:"Substat cannot be rolled 0 times."};var i=W[n].numUpgradesOrUnlocks-(4-W[n].subBaseHigh)+1;if(c.length>i)return{valid:!1,msg:"Substat cannot be rolled more than ".concat(i," times.")};var l=s[0]*c.length,o=s[s.length-1]*c.length;return{valid:!0,efficiency:P((a-l)/(o-l)*100),msg:"This substat was rolled ".concat(c.length," time(s). Values: [").concat(c.join(", "),"]"),rolls:c}}},{key:"artifactValidation",value:function(t,a){var n=0,r=0;a||(a=t.substats.map((function(a){return e.validateSubStat(t,a)})));var s,c=Object(x.a)(a);try{for(c.s();!(s=c.n()).done;){if(!s.value.valid)return{substateValidation:a,valid:!1,msg:"One of the substat is invalid.",currentEfficiency:n,maximumEfficiency:r}}}catch(u){c.e(u)}finally{c.f()}if(a.some((function(e){return e.rolls&&e.rolls.length>1}))&&a.some((function(e){return!e.rolls})))return{substateValidation:a,valid:!1,msg:"One of the substat have >1 rolls, but not all substats are unlocked.",currentEfficiency:n,maximumEfficiency:r};var i=a.reduce((function(e,t){return e+(t.valid&&t.rolls?t.rolls.length:0)}),0),l=e.rollsRemaining(t.level,t.numStars),o=e.totalPossibleRolls(t.numStars);if(i+l>o)return{substateValidation:a,valid:!1,msg:"Current number of substat rolles(".concat(i,") + Rolls remaining from level up (").concat(l,") is greater than the total possible roll of this artifact (").concat(o,") "),currentEfficiency:n,maximumEfficiency:r};var d=a.reduce((function(e,t){return e+(t.valid&&t.rolls&&t.efficiency?t.efficiency*t.rolls.length:0)}),0);return{valid:!0,substateValidation:a,currentNumOfRolls:i,rollsRemaining:l,totalPossbleUpgrade:o,currentEfficiency:n=P(d/o),maximumEfficiency:r=P((d+100*l)/o)}}}]),e}();J.isInvalidArtifact=function(e){return!e||!e.setKey||!e.numStars||!e.slotKey||!e.mainStatKey},J.getArtifactSetName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?U[e].name:t},J.getArtifactSetsByMaxStarEntries=function(e){return Object.entries(U).filter((function(t){var a=Object(m.a)(t,2),n=(a[0],a[1]);return n.rarity[n.rarity.length-1]===e}))},J.getArtifactSlotName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return H[e]?H[e].name:t},J.getArtifactPieceName=function(e){return e.setKey&&e.slotKey&&U[e.setKey].pieces?U[e.setKey].pieces[e.slotKey]:"Piece Name"},J.getStatName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e&&R[e])return R[e].name;if(e&&e.includes("_ele_dmg")){var a=e.split("_ele_dmg")[0];if(z[a])return z[a].name+" DMG Bonus"}return t},J.getRarityArr=function(e){return U[e]?U[e].rarity:[]},J.getStatNameWithPercent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=J.getStatName(e,t);return a===t||"hp_"!==e&&"atk_"!==e&&"def_"!==e||(a+="%"),a},J.getStatUnit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&R[e]&&R[e].unit?R[e].unit:e&&e.includes("_ele_dmg")?J.getStatUnit("ele_dmg"):t},J.getMainStatValue=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e&&t&&q[t]&&q[t][e]&&q[t][e][a])return q[t][e][a];if(e.includes("_ele_dmg")){var r="ele_dmg";return J.getMainStatValue(r,t,a,n)}return n},J.totalPossibleRolls=function(e){return W[e]?W[e].subBaseHigh+W[e].numUpgradesOrUnlocks:0},J.rollsRemaining=function(e,t){return Math.ceil((4*t-e)/4)},J.numberOfSubstatUnlocked=function(e){return e.substats.reduce((function(e,t){return e+(t&&t.value?1:0)}),0)},J.getSubstatRollData=function(e,t){return e&&t?G[e][t]:[]};var Y={},X=[],Q=1,Z=function(){function e(){if(Object(g.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(y.a)(e,null,[{key:"updateCacheData",value:function(){this.updateIdList()}},{key:"updateIdList",value:function(){X=Object.keys(Y),this.saveIdListToStorage()}}]),e}();Z.getIdListFromStorage=function(){return I("artifact_id_list")},Z.saveIdListToStorage=function(){return T("artifact_id_list",X)},Z.getArtifactDatabase=function(){return D(Y)},Z.getArtifactIdList=function(){return D(X)},Z.populateDatebaseFromLocalStorage=function(){if(!(X.length>0)){Q=parseInt(localStorage.getItem("artifact_highest_id")),isNaN(Q)&&(Q=0),null===(X=Z.getIdListFromStorage())&&(X=[]);var e,t=Object(x.a)(X);try{for(t.s();!(e=t.n()).done;){var a=e.value;Y[a]||(Y[a]=I(a),J.isInvalidArtifact(Y[a])&&Z.removeArtifactById(a))}}catch(n){t.e(n)}finally{t.f()}}},Z.getArtifact=function(e){return e?Y[e]:null},Z.removeArtifact=function(e){Z.removeArtifactById(e.id)},Z.addArtifact=function(e){if(!J.isInvalidArtifact(e)){var t="artifact_".concat(Q++);return localStorage.setItem("artifact_highest_id",Q),e.id=t,e=D(e),T(t,e),Y[t]=e,Z.updateCacheData(),t}},Z.updateArtifact=function(e){if(!J.isInvalidArtifact(e)){var t=e.id;e=D(e),T(t,e),Y[t]=e,Z.updateCacheData()}},Z.removeArtifactById=function(e){delete Y[e],localStorage.removeItem(e),Z.updateCacheData()},Z.moveToNewLocation=function(e,t){if(e){var a=Z.getArtifact(e);a&&a.location!==t&&(a.location=t,Z.updateArtifact(a))}},Z.swapLocations=function(e,t){var a=e.location,n=t.location;Z.moveToNewLocation(e.id,n),Z.moveToNewLocation(t.id,a)},Z.swapLocationsById=function(e,t){return Z.swapLocations(Z.getArtifact(e),Z.getArtifact(t))};var $={},ee=[],te=1,ae=function(){function e(){if(Object(g.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(y.a)(e,null,[{key:"updateCacheData",value:function(){this.updateIdList()}},{key:"updateIdList",value:function(){ee=Object.keys($),this.saveIdListToStorage()}}]),e}();ae.isInvalid=function(e){return!e||!e.name},ae.getIdListFromStorage=function(){return I("character_id_list")},ae.saveIdListToStorage=function(){return T("character_id_list",ee)},ae.getCharacterDatabase=function(){return D($)},ae.getCharacterIdList=function(){return D(ee)},ae.populateDatebaseFromLocalStorage=function(){if(!(ee.length>0)){te=parseInt(localStorage.getItem("character_highest_id")),isNaN(te)&&(te=0),null===(ee=ae.getIdListFromStorage())&&(ee=[]);var e,t=Object(x.a)(ee);try{for(t.s();!(e=t.n()).done;){var a=e.value;$[a]||($[a]=I(a))}}catch(n){t.e(n)}finally{t.f()}}},ae.addCharacter=function(e){var t="character_".concat(te++);return localStorage.setItem("character_highest_id",te),e.id=t,e=D(e),T(t,e),$[t]=e,ae.updateCacheData(),t},ae.updateCharacter=function(e){var t=e.id;e=D(e),T(t,e),$[t]=e,ae.updateCacheData()},ae.getCharacter=function(e){return e?$[e]:null},ae.removeCharacter=function(e){ae.removeCharacterById(e.id)},ae.removeCharacterById=function(e){var t=ae.getCharacter(e);t.equippedArtifacts&&Object.values(t.equippedArtifacts).forEach((function(e){return Z.moveToNewLocation(e,"")})),delete $[e],localStorage.removeItem(e),ae.updateCacheData()},ae.getArtifactIDFromSlot=function(e,t){if(!e||!t)return null;var a=ae.getCharacter(e);return a.equippedArtifacts?a.equippedArtifacts[t]:void 0},ae.equipArtifact=function(e,t){var a=ae.getCharacter(e);a&&t&&t.slotKey&&(a.equippedArtifacts||(a.equippedArtifacts={}),a.equippedArtifacts[t.slotKey]=t.id,ae.updateCharacter(a))},ae.unequipArtifactOnSlot=function(e,t){var a=ae.getCharacter(e);a&&t&&a.equippedArtifacts&&a.equippedArtifacts[t]&&(a.equippedArtifacts[t]="",ae.updateCharacter(a))},ae.equipArtifactBuild=function(e,t){var a=ae.getCharacter(e);if(a){var n={};Object.entries(t).forEach((function(e){var t=Object(m.a)(e,2),a=t[0],r=t[1];return n[a]=r.id})),a.equippedArtifacts=n,ae.updateCharacter(a)}};var ne=a(104),re=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(g.a)(this,a),(r=t.call(this,e)).validateInput=function(e){var t=e.target.value,a="."===t[t.length-1];t=parseFloat(t),isNaN(t)||r.setState({periodEnd:a}),t=t||0,r.props.onValueChange&&r.props.onValueChange(t)},r.render=function(){var e=Object(p.a)({},r.props);return e.value=r.props.value?r.props.value+(r.state.periodEnd?".":""):"",delete e.onValueChange,Object(n.jsx)(ne.a,Object(p.a)(Object(p.a)({},e),{},{onChange:function(e){return r.validateInput(e)}}))},r.state={periodEnd:!1},r}return a}(s.a.Component),se=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).validateInput=function(t){var a=t.target.value;a=(a=parseInt(a))||0,e.props.onValueChange&&e.props.onValueChange(a)},e.render=function(){var t=Object(p.a)({},e.props);return delete t.onValueChange,Object(n.jsx)(ne.a,Object(p.a)(Object(p.a)({},t),{},{onChange:function(t){return e.validateInput(t)}}))},e}return a}(s.a.Component),ce={flower:k.a,plume:k.h,sands:k.n,goblet:k.F,circlet:k.d},ie=a(28),le=a(160),oe=a(169),de=a(161),ue=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getBadgeColor=function(e){var t="secondary";return e>70?t="success":e>40&&(t="warning"),t},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.valid?this.getBadgeColor(this.props.percent):"danger";return this.props.tooltip?Object(n.jsx)(oe.a,{placement:"top",overlay:function(t){return Object(n.jsx)(le.a,Object(p.a)(Object(p.a)({},t),{},{children:e.props.tooltip}))},children:Object(n.jsx)(de.a,{variant:t,children:this.props.children})}):Object(n.jsx)(de.a,{variant:t,children:this.props.children})}}]),a}(s.a.Component),he=a(162),je=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"equipOnChar",value:function(e){var t=this.props.artifactData,a=t.slotKey,n=t.location,r=e?e.id:"",s=ae.getArtifactIDFromSlot(r,a),c=Z.getArtifact(s);c?Z.swapLocations(t,c):Z.moveToNewLocation(t.id,r),r&&ae.equipArtifact(r,t),n&&(c?ae.equipArtifact(n,c):ae.unequipArtifactOnSlot(n,a)),this.props.forceUpdate&&this.props.forceUpdate()}},{key:"render",value:function(){var e=this;if(!this.props.artifactData)return null;var t=this.props.artifactData,a=J.artifactValidation(t),r=ae.getCharacter(t.location),s=r?r.name:"Inventory";return Object(n.jsxs)(w.a,{className:"h-100",border:"".concat(t.numStars,"star"),bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{className:"pr-3",children:Object(n.jsxs)(d.a,{className:"no-gutters",children:[Object(n.jsxs)(u.a,{children:[Object(n.jsx)("h6",{children:Object(n.jsx)("b",{children:"".concat(J.getArtifactPieceName(t))})}),Object(n.jsxs)("div",{children:[t.slotKey&&Object(n.jsx)(o.a,{icon:ce[t.slotKey],className:"fa-fw"})," ".concat(J.getArtifactSlotName(t.slotKey)," +").concat(t.level)]})]}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsxs)("span",{className:"float-right align-top ml-1",children:[this.props.onEdit&&Object(n.jsx)(ie.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return e.props.onEdit()},children:Object(n.jsx)(o.a,{icon:k.g,className:"fa-fw"})}),this.props.onDelete&&Object(n.jsx)(ie.a,{variant:"danger",size:"sm",onClick:function(){return e.props.onDelete()},children:Object(n.jsx)(o.a,{icon:k.C,className:"fa-fw"})})]})})]})}),Object(n.jsxs)(w.a.Body,{className:"d-flex flex-column",children:[Object(n.jsx)(w.a.Title,{children:Object(n.jsx)("h6",{children:t.mainStatKey?"".concat(J.getStatName(t.mainStatKey).split("%")[0]," ").concat(J.getMainStatValue(t.mainStatKey,t.numStars,t.level)).concat(J.getStatUnit(t.mainStatKey)):null})}),Object(n.jsxs)(w.a.Subtitle,{children:[Object(n.jsx)("div",{children:J.getArtifactSetName(t.setKey,"Artifact Set")}),Object(n.jsx)("div",{children:"\ud83d\udfca".repeat(t.numStars?t.numStars:0)})]}),Object(n.jsx)("ul",{className:"mb-0",children:t.substats?t.substats.map((function(e,t){return e&&e.value?Object(n.jsx)("li",{children:"".concat(J.getStatName(e.key).split("%")[0],"+").concat(J.getStatUnit(e.key)?e.value.toFixed(1):e.value).concat(J.getStatUnit(e.key))},t):null})):null}),Object(n.jsxs)("div",{className:"mt-auto mb-n2",children:[Object(n.jsx)("span",{className:"mb-0 mr-1",children:"Substat Eff.:"}),Object(n.jsx)(ue,{tooltip:a.msg,valid:a.valid,percent:a.currentEfficiency,children:(a.currentEfficiency?a.currentEfficiency:0).toFixed(2)+"%"}),Object(n.jsx)("span",{children:"<"}),Object(n.jsx)(ue,{tooltip:a.msg,valid:a.valid,percent:a.maximumEfficiency,children:(a.maximumEfficiency?a.maximumEfficiency:0).toFixed(2)+"%"})]})]}),Object(n.jsx)(w.a.Footer,{className:"pr-3",children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{children:Object(n.jsxs)(he.a,{title:s,children:[Object(n.jsx)(C.a.Item,{onClick:function(){return e.equipOnChar()},children:"Inventory"}),Object.entries(ae.getCharacterDatabase()).map((function(t){var a=Object(m.a)(t,2),r=(a[0],a[1]);return Object(n.jsx)(C.a.Item,{onClick:function(){return e.equipOnChar(r)},children:r.name})}))]})}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)(ie.a,{size:"sm",disabled:t.location,onClick:function(){t.lock=!t.lock,Z.updateArtifact(t),e.forceUpdate()},children:Object(n.jsx)(o.a,{icon:t.lock||t.location?k.p:k.q,className:"fa-fw"})})})]})})]})}}]),a}(s.a.Component),be=a(170),fe=a(165),me=a(46),xe=a.n(me),pe=a(105),Oe=a(167),ge=a(163),ye=a(168),Se=a(106),ve=a.p+"static/media/scan_art_main.9e3b5389.png",ke=a.p+"static/media/snippet.d223e797.png";var Ce=function(e){var t=Object(r.useState)(),a=Object(m.a)(t,2),s=a[0],c=a[1],i=Object(r.useState)("Click here to Upload Artifact Screenshot File"),l=Object(m.a)(i,2),h=l[0],j=l[1],b=Object(r.useState)(""),f=Object(m.a)(b,2),x=f[0],p=f[1],O=Object(r.useState)(0),g=Object(m.a)(O,2),y=g[0],S=g[1],v=Object(r.useState)(""),C=Object(m.a)(v,2),A=C[0],N=C[1],_=Object(r.useState)(!1),K=Object(m.a)(_,2),B=K[0],I=K[1],T=function(){c(""),j("Click here to Upload Artifact Screenshot File"),p(""),S(0),N(""),I(!1)},D=function(t){var a=[];Object.entries(R).forEach((function(e){var n=Object(m.a)(e,2),r=n[0],s=n[1],c=("%"===s.unit?new RegExp(s.name+"\\s*\\+\\s*(\\d*\\.\\d)%","im"):new RegExp(s.name+"\\s*\\+\\s*(\\d*)(?!.)","im")).exec(t);c&&a.push({index:c.index,val:c[1],unit:s.unit,key:r})})),a.sort((function(e,t){return e.index-t.index})),a.forEach((function(t,a){if(!(a>=4)){var n="%"===t.unit?parseFloat(t.val):parseInt(t.val);e.setSubStat&&e.setSubStat(a,t.key,n)}}));for(var n=0,r=Object.entries(U);n<r.length;n++){var s=Object(m.a)(r[n],2),c=s[0],i=s[1];if(t.includes(i.name)&&e.setSetKey){e.setSetKey(c);break}}for(var l=0,o=Object.entries(H);l<o.length;l++){var d=Object(m.a)(o[l],2),u=d[0],h=d[1];if(t.includes(h.name)&&e.setSlotKey){e.setSlotKey(u);break}}},M=Object(Se.createWorker)({logger:function(e){"loading tesseract core"===e.status&&N("danger"),e.status.includes("loading language traineddata")&&N("warning"),e.status.includes("initializing api")&&N("info"),"recognizing text"===e.status&&N("success"),S(e.progress)}}),F=function(){var e=Object(pe.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.load();case 2:return e.next=4,M.loadLanguage("eng");case 4:return e.next=6,M.initialize("eng");case 6:return e.next=8,M.recognize(t);case 8:a=e.sent,n=a.data.text,c(n),D(n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){if(e){var t=new FileReader;t.onloadend=function(){return p(t.result)},t.readAsDataURL(e),F(e),j(e.name)}},P=Object(n.jsx)(Oe.a,{show:B,onHide:function(){return I(!1)},size:"xl",variant:"success",dialogAs:E.a,className:"pt-3 pb-3",children:Object(n.jsxs)(w.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:Object(n.jsx)(w.a.Title,{children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{children:Object(n.jsx)("span",{children:"How do Upload Screenshots for parsing"})}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)(ie.a,{variant:"danger",onClick:function(){return I(!1)},children:Object(n.jsx)(o.a,{icon:k.A})})})]})})}),Object(n.jsxs)(w.a.Body,{children:[Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{xs:8,md:4,children:Object(n.jsx)("img",{alt:"snippet of the screen to take",src:ke,className:"w-100 h-auto"})}),Object(n.jsxs)(u.a,{xs:12,md:8,children:[Object(n.jsx)("p",{children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),Object(n.jsx)("h5",{children:"What to include in the screenshot."}),Object(n.jsxs)("p",{children:["In Genshin Impact, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. To Take a screenshot, in Windows, the shortcut is ",Object(n.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]})]})]}),Object(n.jsxs)(d.a,{children:[Object(n.jsxs)(u.a,{children:[Object(n.jsx)("h5",{children:"Adding Screenshot to Genshin Optimizer"}),Object(n.jsxs)("p",{children:['At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard. You can click on the box next to "Browse" to browse the file in your harddrive, or even easier, just press ',Object(n.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard. You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",Object(n.jsx)("b",{children:"Artifact Editor"}),"."]})]}),Object(n.jsxs)(u.a,{xs:12,children:[Object(n.jsx)("h5",{children:"Finishing the Artifact"}),Object(n.jsxs)("p",{children:["Unfortunately, there isn't a reliable way to parse the ",Object(n.jsx)("i",{children:"number of stars"}),", ",Object(n.jsx)("i",{children:"the main stat"}),", and the ",Object(n.jsx)("i",{children:"level"})," of the artifact right now. So you will have to manually put them in. Once the artifact has been filled, Click on ",Object(n.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]}),Object(n.jsx)("img",{alt:"main screen after importing stats",src:ve,className:"w-75 h-auto"})]})]})]}),Object(n.jsx)(w.a.Footer,{children:Object(n.jsx)(ie.a,{variant:"danger",onClick:function(){return I(!1)},children:Object(n.jsx)("span",{children:"Close"})})})]})});Object(r.useEffect)((function(){var t=function(e){return L(e.clipboardData.files[0])};return window.addEventListener("paste",t),e.reset(T),function(){return window.removeEventListener("paste",t)}}));var G=x?Object(n.jsx)("img",{src:x,className:"w-100 h-auto",alt:"Screenshot to parse for artifact values"}):Object(n.jsx)("span",{children:"Please Select an Image"}),V=(100*y).toFixed(2);return Object(n.jsxs)(d.a,{children:[P,Object(n.jsxs)(u.a,{children:[Object(n.jsx)(d.a,{className:"mb-1",children:Object(n.jsxs)(u.a,{children:[Object(n.jsxs)(d.a,{className:"mb-1",children:[Object(n.jsx)(u.a,{children:Object(n.jsx)("h5",{children:"Parse Substats by Uploading Image"})}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)(ie.a,{variant:"info",onClick:function(){return I(!0)},children:"Show me How!"})})]}),A?Object(n.jsx)(ge.a,{variant:A,now:V,label:"".concat(V,"%")}):null]})}),Object(n.jsxs)(d.a,{className:"mb-1",children:[Object(n.jsx)(u.a,{xs:8,lg:4,children:G}),s&&Object(n.jsxs)(u.a,{xs:12,lg:8,children:[Object(n.jsx)("p",{children:"Parsed Text:"}),Object(n.jsx)("p",{children:s})]})]}),Object(n.jsx)(d.a,{className:"mb-4",children:Object(n.jsx)(u.a,{children:Object(n.jsx)(ye.a.Group,{as:u.a,children:Object(n.jsx)(ye.a.File,{type:"file",className:"custom-file-label",id:"inputGroupFile01",label:h,onChange:function(e){var t=e.target.files[0];L(t)},custom:!0})})})})]})]})},we=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(g.a)(this,a),(r=t.call(this,e)).setLevel=function(e){return r.setState((function(t){return e=parseInt(e),isNaN(e)&&(e=0),e<0&&(e=0),e>4*t.numStars&&(e=4*t.numStars),{level:e}}))},r.getRemainingSubstats=function(){return Object.keys(G).filter((function(e){return r.state.mainStatKey!==e&&!r.state.substats.some((function(t,a){return!(!t||!t.key)&&t.key===e}))}))},r.saveArtifact=function(){r.uploadDisplayReset();var e=D(r.state);e.artifactToEdit&&delete e.artifactToEdit,r.props.addArtifact&&r.props.addArtifact(e),r.setState(a.getInitialState())},r.setSetKey=function(e){return r.setState((function(t){var a,n=(a=J.getRarityArr(e)).length?a[a.length-1]:null,r=!t.level||t.level>4*n?4*n:t.level;return{setKey:e,numStars:n,level:r}}))},r.setSubStat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e<4&&r.setState((function(n){var r=D(n.substats);return r[e].key=t,r[e].value=a,{substats:r}}))},r.setMainStatKey=function(e){return r.setState((function(t){return t.substats.forEach((function(t,a){return t.key&&t.key===e&&r.setSubStat(a)})),{mainStatKey:e}}))},r.setSlotKey=function(e){return r.setState((function(t){var a,n=H[e].stats,s=Object(x.a)(n);try{var c=function(){var n=a.value;if(!t.substats.some((function(e){return!(!e||!e.key)&&e.key===n})))return{v:{slotKey:e,mainStatKey:n}}};for(s.s();!(a=s.n()).done;){var i=c();if("object"===typeof i)return i.v}}catch(o){s.e(o)}finally{s.f()}var l=n[0];return r.setMainStatKey(l),{slotKey:e}}))},r.ArtifactDropDown=function(e){var t=function(e){return J.getArtifactSetsByMaxStarEntries(e).map((function(e){var t=Object(m.a)(e,2),a=t[0],s=t[1];return Object(n.jsx)(C.a.Item,{onClick:function(){return r.setSetKey(a)},children:s.name},a)}))};return Object(n.jsxs)(he.a,{as:A.a.Prepend,title:J.getArtifactSetName(r.state.setKey,"Artifact Set"),children:[Object(n.jsx)(C.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),t(5),Object(n.jsx)(C.a.Divider,{}),Object(n.jsx)(C.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),t(4),Object(n.jsx)(C.a.Divider,{}),Object(n.jsx)(C.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),t(3)]})},r.MainSelection=function(e){return Object(n.jsxs)(A.a,{children:[r.ArtifactDropDown(),Object(n.jsx)(he.a,{as:A.a.Prepend,title:r.state.numStars>0?"\ud83d\udfca".repeat(r.state.numStars):"Rarity",disabled:!r.state.setKey,children:Object.keys(W).map((function(e,t){return e=parseInt(e),Object(n.jsx)(C.a.Item,{disabled:!r.state.setKey||!U[r.state.setKey].rarity.includes(e),onClick:function(){r.setState({numStars:e,level:0})},children:"\ud83d\udfca".repeat(e)},t)}))}),Object(n.jsx)(A.a.Prepend,{children:Object(n.jsx)(A.a.Text,{children:"Level"})}),Object(n.jsx)(ne.a,{value:r.state.level,disabled:!r.state.setKey,placeholder:"0~".concat(4*r.state.numStars),onChange:function(e){return r.setLevel(e.target.value)}}),Object(n.jsxs)(A.a.Append,{children:[Object(n.jsx)(ie.a,{onClick:function(){return r.setLevel(0)},disabled:!r.state.setKey||0===r.state.level,children:"0"}),Object(n.jsx)(ie.a,{onClick:function(){return r.setLevel(r.state.level-1)},disabled:!r.state.setKey||0===r.state.level,children:"-"}),Object(n.jsx)(ie.a,{onClick:function(){return r.setLevel(r.state.level+1)},disabled:!r.state.setKey||r.state.level===4*r.state.numStars,children:"+"}),Object(n.jsx)(ie.a,{onClick:function(){return r.setLevel(4*r.state.numStars)},disabled:!r.state.setKey||r.state.level===4*r.state.numStars,children:4*r.state.numStars})]})]})},r.MainStatInputRow=function(){return Object(n.jsxs)(A.a,{children:[Object(n.jsx)(he.a,{title:Object(n.jsxs)("span",{children:[r.state.slotKey&&Object(n.jsx)(o.a,{icon:ce[r.state.slotKey],className:"fa-fw mr-1"}),J.getArtifactSlotName(r.state.slotKey,"Slot")]}),disabled:!r.state.setKey,as:A.a.Prepend,children:r.state.setKey&&Object.keys(U[r.state.setKey].pieces).map((function(e){return Object(n.jsxs)(C.a.Item,{onClick:function(){return r.setSlotKey(e)},children:[ce[e]&&Object(n.jsx)(o.a,{icon:ce[e],className:"fa-fw mr-1"}),H[e].name]},e)}))}),Object(n.jsx)(ne.a,{value:J.getArtifactPieceName(r.state),disabled:!0,readOnly:!0}),Object(n.jsxs)(he.a,{title:J.getStatNameWithPercent(r.state.mainStatKey,"Main Stat"),disabled:!r.state.setKey||!r.state.slotKey,as:A.a.Prepend,children:[Object(n.jsx)(C.a.ItemText,{children:"Select a Main Artifact Stat "}),r.state.slotKey?H[r.state.slotKey].stats.map((function(e){return Object(n.jsx)(C.a.Item,{onClick:function(){return r.setMainStatKey(e)},children:J.getStatNameWithPercent(e)},e)})):Object(n.jsx)(C.a.Item,{})]}),Object(n.jsx)(ne.a,{value:r.state.mainStatKey?"".concat(J.getMainStatValue(r.state.mainStatKey,r.state.numStars,r.state.level)).concat(J.getStatUnit(r.state.mainStatKey)):"Main Stat",disabled:!0,readOnly:!0})]})},r.SubStatInput=function(e){var t=e.subStatKey&&"%"===J.getStatUnit(e.subStatKey),a={placeholder:"Select a Substat.",value:e.substatevalue?e.substatevalue:"",onValueChange:function(t){return r.onSubstatValueChange(t,e.index)},disabled:!e.subStatKey},s=t?Object(n.jsx)(re,Object(p.a)({},a)):Object(n.jsx)(se,Object(p.a)({},a));return Object(n.jsxs)(A.a,{children:[Object(n.jsx)(he.a,{title:e.subStatKey?R[e.subStatKey].name:"Substat ".concat(e.index+1),disabled:!e.remainingSubstats||0===e.remainingSubstats.length,as:A.a.Prepend,children:e.remainingSubstats?e.remainingSubstats.map((function(t){return Object(n.jsx)(C.a.Item,{onClick:function(){return r.onSubStatSelected(t,e.index)},children:J.getStatNameWithPercent(t)},t)})):Object(n.jsx)(C.a.Item,{})}),s,Object(n.jsxs)(A.a.Append,{children:[t&&Object(n.jsx)(A.a.Text,{children:"%"}),Object(n.jsx)(A.a.Text,{children:Object(n.jsx)(ue,{tooltip:e.subStatValidation.msg,valid:e.subStatValidation.valid||!e.subStatKey,percent:e.subStatValidation.efficiency,children:e.subStatKey?e.subStatValidation.valid?"".concat((e.subStatValidation.efficiency?e.subStatValidation.efficiency:0).toFixed(2),"%"):"ERR":"No Stat"})})]})]})},r.onSubStatSelected=function(e,t){r.setState((function(a){var n=JSON.parse(JSON.stringify(a.substats));return n[t]={key:e,value:null},{substats:n}}))},r.onSubstatValueChange=function(e,t){r.setState((function(a){var n=JSON.parse(JSON.stringify(a.substats));return n[t].value=e,{substats:n}}))},r.randomizeArtifact=function(){var e=a.getInitialState();e.setKey=K(Object.keys(U)),e.numStars=K(U[e.setKey].rarity),e.slotKey=K(Object.keys(U[e.setKey].pieces)),e.mainStatKey=K(H[e.slotKey].stats);var t=B(W[e.numStars].subsBaselow,W[e.numStars].subBaseHigh);e.level=B(0,4*e.numStars);var n=Math.floor(e.level/4),s=t+n;s>=4?(t=4,n=s-4):(t=s,n=0);for(var c=function(t){return K(J.getSubstatRollData(t,e.numStars))},i=0;i<t;i++){var l=e.substats[i];l.key=K(r.getRemainingSubstats()),l.value=c(l.key)}for(var o=0;o<n;o++){var d=K(e.substats);d.value+=c(d.key)}r.setState(e)},r.componentDidUpdate=function(){r.props.artifactToEdit&&r.state.id!==r.props.artifactToEdit.id&&r.setState(r.props.artifactToEdit)},r.state=a.getInitialState(),r}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.getRemainingSubstats(),r=this.state.substats.map((function(t){return J.validateSubStat(e.state,t)})),s=J.artifactValidation(this.state,r);return Object(n.jsxs)(w.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:"Artifact Editor"}),Object(n.jsxs)(w.a.Body,{children:[Object(n.jsxs)(d.a,{className:"mb-2",children:[Object(n.jsx)(u.a,{xs:12,className:"mb-2",children:Object(n.jsx)(this.MainSelection,{})}),Object(n.jsx)(u.a,{xs:12,children:Object(n.jsx)(this.MainStatInputRow,{})})]}),Object(n.jsx)(d.a,{children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)("h5",{className:"mr-auto",children:"Substats"}),Object(n.jsxs)("span",{children:[Object(n.jsxs)("span",{className:"mr-3",children:[Object(n.jsx)("span",{children:"Current Substat Efficiency "}),Object(n.jsx)(ue,{tooltip:s.msg,valid:s.valid,percent:s.currentEfficiency,children:(s.currentEfficiency?s.currentEfficiency:0).toFixed(2)+"%"})]}),Object(n.jsxs)("span",{children:[Object(n.jsx)("span",{children:"Maximum Substat Efficiency "}),Object(n.jsx)(ue,{tooltip:s.msg,valid:s.valid,percent:s.maximumEfficiency,children:(s.maximumEfficiency?s.maximumEfficiency:0).toFixed(2)+"%"})]}),Object(n.jsx)(oe.a,{placement:"left",overlay:Object(n.jsxs)(be.a,{children:[Object(n.jsx)(be.a.Title,{as:"h5",children:"Substat Efficiency"}),Object(n.jsx)(be.a.Content,{children:Object(n.jsxs)("span",{children:["Every time 4 artifact upgrades, you get a substat roll. The ",Object(n.jsx)("strong",{children:"substat efficiency"})," calculates as a percentage how high the substat rolled. The ",Object(n.jsx)("strong",{children:"Maximum Substat Efficiency"})," of an artifact calculates the efficiency if the remaining upgrades rolled maximum."]})})]}),children:Object(n.jsx)(o.a,{icon:k.s,className:"ml-2",style:{cursor:"help"}})})]})]})}),Object(n.jsx)(d.a,{className:"mb-2",children:this.state.substats.map((function(a,s){return Object(n.jsx)(u.a,{className:"mt-1 mb-1",xs:12,lg:6,children:Object(n.jsx)(e.SubStatInput,{numStars:e.state.numStars,remainingSubstats:t,subStatKey:a?a.key:null,substatevalue:a?a.value:null,index:s,subStatValidation:r[s]})},"substat"+s)}))}),Object(n.jsx)(d.a,{className:"mb-2",children:Object(n.jsx)(u.a,{children:s.msg?Object(n.jsx)(fe.a,{variant:"danger",children:s.msg}):null})}),Object(n.jsx)(d.a,{children:Object(n.jsx)(u.a,{xs:12,className:"mb-2",children:Object(n.jsx)(Ce,{setSetKey:this.setSetKey,setSubStat:this.setSubStat,setSlotKey:this.setSlotKey,reset:function(t){return e.uploadDisplayReset=t}})})})]}),Object(n.jsxs)(w.a.Footer,{children:[Object(n.jsx)(ie.a,{className:"mr-3",onClick:this.saveArtifact,disabled:J.isInvalidArtifact(this.state),children:this.props.artifactToEdit?"Save Artifact":"Add Artifact"}),Object(n.jsx)(ie.a,{className:"mr-3",variant:"success",onClick:function(){e.props.cancelEdit&&e.props.cancelEdit(),e.setState(a.getInitialState())},children:"Clear"}),Object(n.jsx)(ie.a,{variant:"warning",onClick:this.randomizeArtifact,children:"Randomize"})]})]})}}]),a}(s.a.Component);we.initialState={setKey:"",numStars:0,level:0,slotKey:"",mainStatKey:"",substats:[{key:"",value:0},{key:"",value:0},{key:"",value:0},{key:"",value:0}]},we.getInitialState=function(){return JSON.parse(JSON.stringify(we.initialState))};var Ae=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).forceUpdateArtifactDisplay=function(){return n.forceUpdate()},n.addArtifact=function(e){return n.setState((function(t){if(t.artToEdit&&t.artToEdit.id===e.id)return Z.updateArtifact(e),{artToEdit:null};var a=Z.addArtifact(e);return null!==a?{artIdList:[a].concat(Object(O.a)(t.artIdList))}:void 0}),n.forceUpdate)},n.deleteArtifact=function(e){return n.setState((function(t){var a=Z.getArtifact(e);a&&a.location&&ae.unequipArtifactOnSlot(a.location,a.slotKey),Z.removeArtifactById(e);var n=Object(O.a)(t.artIdList);return n.splice(n.indexOf(e),1),{artIdList:n}}))},n.editArtifact=function(e){return n.setState({artToEdit:Z.getArtifact(e)},n.forceUpdate)},n.cancelEditArtifact=function(){return n.setState({artToEdit:null},n.forceUpdate)},Z.populateDatebaseFromLocalStorage(),ae.populateDatebaseFromLocalStorage(),n.state={artIdList:Object(O.a)(Z.getArtifactIdList()),artToEdit:null},n.state=Object(p.a)(Object(p.a)({},n.state),a.initialFilter),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.state.artIdList.map((function(e){return Z.getArtifact(e)})).filter((function(t){if(e.state.filterArtSetKey&&e.state.filterArtSetKey!==t.setKey)return!1;if(!e.state.filterStars.includes(t.numStars))return!1;if(t.level<e.state.filterLevelLow||t.level>e.state.filterLevelHigh)return!1;if(e.state.filterSlotKey&&e.state.filterSlotKey!==t.slotKey)return!1;if(e.state.filterMainStatKey&&e.state.filterMainStatKey!==t.mainStatKey)return!1;var a,n=Object(x.a)(e.state.filterSubstates);try{var r=function(){var e=a.value;if(e&&!t.substats.some((function(t){return t.key===e})))return{v:!1}};for(n.s();!(a=n.n()).done;){var s=r();if("object"===typeof s)return s.v}}catch(c){n.e(c)}finally{n.f()}return!0})),a=function(t){return Object(n.jsx)(C.a.Item,{onClick:function(){return e.setState({filterMainStatKey:t.statKey})},children:J.getStatNameWithPercent(t.statKey)},t.statKey)},r=function(t){return J.getArtifactSetsByMaxStarEntries(t).map((function(t){var a=Object(m.a)(t,2),r=a[0],s=a[1];return Object(n.jsx)(C.a.Item,{onClick:function(){return e.setState({filterArtSetKey:r})},children:s.name},r)}))};return Object(n.jsxs)(E.a,{className:"mt-3",children:[Object(n.jsx)(d.a,{className:"mb-2 no-gutters",children:Object(n.jsx)(u.a,{children:Object(n.jsx)(we,{artifactToEdit:this.state.artToEdit,addArtifact:this.addArtifact,cancelEdit:this.cancelEditArtifact})})}),Object(n.jsx)(d.a,{className:"mb-2",children:Object(n.jsx)(u.a,{children:Object(n.jsxs)(w.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:"Artifact Filter"}),Object(n.jsx)(w.a.Body,{children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{xs:12,lg:6,className:"mb-2",children:Object(n.jsxs)(C.a,{as:A.a.Prepend,className:"flex-grow-1",children:[Object(n.jsx)(C.a.Toggle,{className:"w-100",children:J.getArtifactSetName(this.state.filterArtSetKey,"Artifact Set")}),Object(n.jsxs)(C.a.Menu,{children:[Object(n.jsx)(C.a.Item,{onClick:function(){return e.setState({filterArtSetKey:""})},children:"Unselect"}),Object(n.jsx)(C.a.Divider,{}),Object(n.jsx)(C.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),r(5),Object(n.jsx)(C.a.Divider,{}),Object(n.jsx)(C.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),r(4),Object(n.jsx)(C.a.Divider,{}),Object(n.jsx)(C.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),r(3)]})]})}),Object(n.jsx)(u.a,{xs:12,lg:6,className:"mb-2",children:Object(n.jsx)(N.a,{className:"w-100 d-flex",type:"checkbox",as:A.a.Append,onChange:function(t){return e.setState({filterStars:t})},defaultValue:this.state.filterStars,children:Object.keys(W).map((function(t){t=parseInt(t);var a=e.state.filterStars.includes(t);return Object(n.jsxs)(_.a,{value:t,children:[Object(n.jsx)(o.a,{icon:a?k.c:k.y})," ","\ud83d\udfca".repeat(t)]},t)}))})}),Object(n.jsx)(u.a,{xs:12,lg:6,className:"mb-2",children:Object(n.jsxs)(A.a,{children:[Object(n.jsx)(A.a.Prepend,{children:Object(n.jsx)(A.a.Text,{children:"Level Low/High (Inclusive)"})}),Object(n.jsx)(se,{value:this.state.filterLevelLow,placeholder:"Lowest Level to Filter",onValueChange:function(t){return t>=0&&t<=e.state.filterLevelHigh&&e.setState({filterLevelLow:t})}}),Object(n.jsx)(se,{value:this.state.filterLevelHigh,placeholder:"Highest Level to Filter",onValueChange:function(t){return t>=0&&t>=e.state.filterLevelLow&&e.setState({filterLevelHigh:t})}})]})}),Object(n.jsx)(u.a,{xs:12,lg:6,className:"mb-2",children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{children:Object(n.jsxs)(C.a,{className:"flex-grow-1",children:[Object(n.jsx)(C.a.Toggle,{className:"w-100",children:this.state.filterSlotKey?Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:ce[this.state.filterSlotKey],className:"fa-fw mr-1"}),H[this.state.filterSlotKey].name]}):"Slot"}),Object(n.jsxs)(C.a.Menu,{children:[Object(n.jsx)(C.a.Item,{onClick:function(){return e.setState({filterSlotKey:""})},children:"Unselect"}),Object.keys(H).map((function(t){return Object(n.jsxs)(C.a.Item,{onClick:function(){return e.setState({filterSlotKey:t})},children:[ce[t]&&Object(n.jsx)(o.a,{icon:ce[t],className:"fa-fw mr-1"}),H[t].name]},t)}))]})]})}),Object(n.jsx)(u.a,{children:Object(n.jsxs)(C.a,{className:"flex-grow-1",children:[Object(n.jsx)(C.a.Toggle,{className:"w-100",children:J.getStatNameWithPercent(this.state.filterMainStatKey,"Main Stat")}),Object(n.jsxs)(C.a.Menu,{children:[Object(n.jsx)(C.a.Item,{onClick:function(){return e.setState({filterMainStatKey:""})},children:"Unselect"}),Object.keys(R).filter((function(e){return"ele_dmg"!==e})).map((function(e){return Object(n.jsx)(a,{statKey:e},e)})),Object.keys(z).map((function(e){return Object(n.jsx)(a,{statKey:"".concat(e,"_ele_dmg")},e)}))]})]})})]})}),this.state.filterSubstates.map((function(t,a){return Object(n.jsx)(u.a,{xs:6,lg:3,className:"mb-2",children:Object(n.jsxs)(C.a,{children:[Object(n.jsx)(C.a.Toggle,{id:"dropdown-basic",className:"w-100",children:J.getStatNameWithPercent(t,"Substat ".concat(a+1))}),Object(n.jsxs)(C.a.Menu,{children:[Object(n.jsx)(C.a.Item,{onClick:function(){var t=D(e.state.filterSubstates);t[a]="",e.setState({filterSubstates:t})},children:"No Substat"}),Object.keys(G).filter((function(t){return!e.state.filterSubstates.includes(t)})).map((function(t){return Object(n.jsx)(C.a.Item,{onClick:function(){var n=D(e.state.filterSubstates);n[a]=t,e.setState({filterSubstates:n})},children:J.getStatNameWithPercent(t)},t)}))]})]})},a)}))]})})]})})}),Object(n.jsx)(d.a,{className:"mb-2 no-gutters",children:t.map((function(t){return Object(n.jsx)(u.a,{lg:4,md:6,className:"mb-2 pl-1 pr-1",children:Object(n.jsx)(je,{artifactData:t,onDelete:function(){return e.deleteArtifact(t.id)},onEdit:function(){return e.editArtifact(t.id)},forceUpdate:e.forceUpdateArtifactDisplay})},t.id)}))})]})}}]),a}(s.a.Component);Ae.initialFilter={filterArtSetKey:"",filterStars:[3,4,5],filterLevelLow:0,filterLevelHigh:20,filterSlotKey:"",filterMainStatKey:"",filterSubstates:["","","",""]};var Ne=a(108),_e=a(171);function Ee(){return new Worker(a.p+"static/js/BuildWorker.a63bea5f.worker.js")}var Ke=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,null,[{key:"splitArtifactsBySlot",value:function(e){var t={},a=function(a){t[a]=Object.values(e).filter((function(e){return e.slotKey===a}))};for(var n in H)a(n);return t}},{key:"generateAllPossibleArtifactSetPerm",value:function(e){var t=e.filter((function(e){return e.key})).map((function(e){return e.key}));e.reduce((function(e,t){return t.key?e+t.num:e}),0)<5&&t.push("Other");var a=[],n=Object.keys(H);return function r(s,c){if(s>=n.length){var i={};Object.values(c).forEach((function(e){i[e]?i[e]+=1:i[e]=1}));var l,o=!0,d=Object(x.a)(e);try{for(d.s();!(l=d.n()).done;){var u=l.value;if(u.key&&(!i[u.key]||i[u.key]<u.num)){o=!1;break}}}catch(j){d.e(j)}finally{d.f()}o&&a.push(c)}else{var h=n[s];t.forEach((function(e){("Other"===e||U[e]&&U[e].pieces&&Object.keys(U[e].pieces).includes(h))&&(c[h]=e,r(s+1,Object(p.a)({},c)))}))}}(0,{}),a}},{key:"calculateTotalBuildNumber",value:function(e,t,a){var n=a.filter((function(e){return e.key})).map((function(e){return e.key})),r={};return Object.entries(e).forEach((function(e){var t=Object(m.a)(e,2),a=t[0],s=t[1],c={};s.forEach((function(e){n.includes(e.setKey)?c[e.setKey]=(c[e.setKey]||0)+1:c.Other=(c.Other||0)+1})),r[a]=c})),t.reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){var a=Object(m.a)(t,2),n=a[0],s=a[1];return r[n]&&r[n][s]?e*r[n][s]:0}),1)}),0)}}]),e}();Ke.test=function(e){return 2*e};var Be={hp:{name:"HP",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"HP"})," is calculated as ",Object(n.jsx)("strong",{children:"HP Final = (Character HP Base )*(1 + HP% total) + HP Flat"}),", where the ",Object(n.jsx)("b",{children:"HP%"})," and ",Object(n.jsx)("b",{children:"HP Flat"})," are the sum of total stats from Artifacts and weapon."]})},atk:{name:"ATK",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"ATK"})," is calculated as ",Object(n.jsx)("strong",{children:"ATK Final = (Character ATK Base + Weapon ATK Flat ) * (1 + ATK % total) + ATK Flat"}),", where the ",Object(n.jsx)("b",{children:"ATK%"})," and ",Object(n.jsx)("b",{children:"ATK Flat"})," are the sum of total stats from Artifacts and weapon."]})},def:{name:"DEF",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"DEF"})," is calculated as ",Object(n.jsx)("strong",{children:"DEF Final = (Character DEF Base )*(1 + DEF% total) + DEF Flat"}),", where the ",Object(n.jsx)("b",{children:"DEF%"})," and ",Object(n.jsx)("b",{children:"DEF Flat"})," are the sum of total stats from Artifacts and weapon."]})},ele_mas:{name:"Elemental Mastery",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Elemental Mastery"})," is calculated as ",Object(n.jsx)("strong",{children:"Elemental Mastery Final = (Character Elemental Mastery Base ) + Elemental Mastery Bonus"}),", where the ",Object(n.jsx)("b",{children:"Elemental Mastery Bonus"})," is the sum of total stats from Artifacts and weapon."]})},crit_rate:{name:"Crit Rate",unit:"%",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Crit Rate"})," is calculated as ",Object(n.jsx)("strong",{children:"Crit Rate = Character Crit Rate Base + Crit Rate Bonus"})," where ",Object(n.jsx)("b",{children:"Crit Rate Bonus"})," is the sum of all values from weapons and artifacts. Every character has 5% base Crit rate."]})},crit_dmg:{name:"Crit DMG",unit:"%",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Crit DMG"})," is calculated as ",Object(n.jsx)("strong",{children:"Crit DMG = Character DMG Rate Base + Crit DMG Bonus"})," where ",Object(n.jsx)("b",{children:"Crit DMG Bonus"})," is the sum of all values from weapons and artifacts. Every character has 50% base Crit DMG."]})},heal_bonu:{name:"Healing Bonux",unit:"%",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Healing Bonus"})," is calculated as ",Object(n.jsx)("strong",{children:"Healing Bonus = Character Healing Bonus Base + Healing Bonus Bonus"})," where ",Object(n.jsx)("b",{children:"Healing Bonus Bonus"})," is the sum of all values from weapons and artifacts."]})},ener_rech:{name:"Energy Recharge",unit:"%",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Energy Recharge"})," is calculated as ",Object(n.jsx)("strong",{children:"Energy Recharge = Character Energy Recharge Base + Energy Recharge Bonus"})," where ",Object(n.jsx)("b",{children:"Energy Recharge Bonus"})," is the sum of all values from weapons and artifacts. Every character has 100% base Energy Recharge."]})},phy_dmg:{name:"Physical DMG Bonus",unit:"%",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Physical Damage Bonus"})," is the sum of all values from weapons and artifacts."]})},ele_dmg:{name:" DMG Bonus",unit:"%",explaination:Object(n.jsxs)("span",{children:[Object(n.jsx)("b",{children:"Elemental Damage Bonus"})," is calculated as the sum of all values from weapons and artifacts. Note: only the corresponding Elemental damage Bonus to the character's element is applicable."]})},phy_atk:{name:"Physical ATK Total",explaination:Object(n.jsx)("span",{children:Object(n.jsx)("strong",{children:"Physical ATK Total = ATK * (1 + Physical Damage Bonus %) * (1 + Crit Rate * (1 + Crit Dmg))"})})},ele_atk:{name:" ATK Total",explaination:Object(n.jsx)("span",{children:Object(n.jsx)("strong",{children:"Elemental ATK Total = ATK * (1 + Elemental Damage Bonus %) * (1 + Crit Rate * (1 + Crit Dmg))"})})}},Ie=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(e){var r;if(Object(g.a)(this,a),(r=t.call(this,e)).forceUpdateBuildDisplay=function(){return r.forceUpdate()},r.splitArtifacts=function(){if(!r.state.selectedCharacterKey)return{};var e=Z.getArtifactDatabase();if(Object.entries(e).forEach((function(t){var a=Object(m.a)(t,2),n=a[0],s=a[1];s.lock&&delete e[n],r.state.selectedCharacterKey&&s.location&&s.location!==r.state.selectedCharacterKey&&delete e[n]})),r.state.setFilters.every((function(e){return e.key}))){var t=r.state.setFilters.map((function(e){return e.key}));Object.entries(e).forEach((function(a){var n=Object(m.a)(a,2),r=n[0],s=n[1];t.includes(s.setKey)&&delete e[r]}))}var n=Ke.splitArtifactsBySlot(e);return a.artifactsSlotsToSelectMainStats.forEach((function(e,t){return r.state.mainStat[t]&&(n[e]=n[e].filter((function(e){return e.mainStatKey===r.state.mainStat[t]})))})),n},r.changeMainStat=function(e,t){r.setState((function(a){var n=D(a.mainStat);return n[e]=t,{mainStat:n}}))},r.changeSetFilterKey=function(e,t,a){r.state.setFilters[e].key!==t&&r.setState((function(n){var r=D(n.setFilters),s=0;return a&&a[0]&&(s=parseInt(a[0])),r[e]={key:t,num:s},{setFilters:r}}))},r.dropdownitemsForStar=function(e,t){return J.getArtifactSetsByMaxStarEntries(e).map((function(e){var a=Object(m.a)(e,2),s=a[0],c=a[1];if(r.state.setFilters.some((function(e){return e.key===s})))return!1;var i=Object.keys(U[s].sets),l=r.state.setFilters.reduce((function(e,a,n){return a.key&&n!==t?e+a.num:e}),0);return!i.every((function(e){return parseInt(e)+l>5}))&&Object(n.jsx)(C.a.Item,{onClick:function(){return r.changeSetFilterKey(t,s,i)},children:c.name},s)}))},r.generateBuilds=function(e,t){r.setState({generatingBuilds:!0,builds:[]});var a=ae.getCharacter(r.state.selectedCharacterKey),n={split:e,artifactSetPerms:t,setFilters:r.state.setFilters,character:a,ArtifactStatsData:R,ArtifactSlotsData:H,ArtifactMainStatsData:q,ArtifactSetsData:U,maxBuildsToShow:r.state.maxBuildsToShow,buildFilterKey:r.state.buildFilterKey,asending:r.state.asending},s=new Ee;s.onmessage=function(e){return r.setState({builds:e.data,generatingBuilds:!1})},s.postMessage(n)},r.BuildGeneratorEditorCard=function(e){var t=ae.getCharacterDatabase(),s=ae.getCharacter(r.state.selectedCharacterKey),c=s?s.name:"Character Name",i=r.state.setFilters.reduce((function(e,t){return t.key?e+t.num:e}),0),l=r.splitArtifacts(),h=Ke.generateAllPossibleArtifactSetPerm(r.state.setFilters),j=Ke.calculateTotalBuildNumber(l,h,r.state.setFilters),b=0===j?Object(n.jsx)(fe.a,{variant:"warning",className:"mb-0",children:Object(n.jsxs)("span",{children:["Current configuration will not generate any builds for ",Object(n.jsx)("b",{children:c}),". Please change your Artifact configurations, or add/unlock more Artifacts."]})}):j>r.state.maxBuildsToGenerate?Object(n.jsx)(fe.a,{variant:"danger",className:"mb-0",children:Object(n.jsxs)("span",{children:["Current configuration will generate ",Object(n.jsx)("b",{children:j})," builds for ",Object(n.jsx)("b",{children:c}),". Please restrict artifact configuration to reduce builds to less than ",r.state.maxBuildsToGenerate,", or your browser might crash."]})}):Object(n.jsx)(fe.a,{variant:"success",className:"mb-0",children:Object(n.jsxs)("span",{children:["Current configuration will generate ",Object(n.jsx)("b",{children:j})," builds for ",Object(n.jsx)("b",{children:c}),"."]})}),f=Be[r.state.buildFilterKey]?Be[r.state.buildFilterKey].name:"";return"ele_atk"===r.state.buildFilterKey&&s&&(f="".concat(z[s.element].name," ").concat(Be.ele_atk.name)),!f&&s&&r.state.buildFilterKey.includes("ele_dmg")&&(f="".concat(z[s.element].name," ").concat(Be.ele_dmg.name)),Object(n.jsxs)(w.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:"Build Generator"}),Object(n.jsxs)(w.a.Body,{children:[Object(n.jsxs)(d.a,{children:[Object(n.jsxs)(u.a,{children:[Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsxs)(he.a,{title:r.state.selectedCharacterKey?c:"Select Character",children:[Object(n.jsx)(C.a.Item,{onClick:function(){return r.setState({selectedCharacterKey:""})},children:"No Character"}),Object.values(t).map((function(e,t){return Object(n.jsx)(C.a.Item,{onClick:function(){return r.setState({selectedCharacterKey:e.id})},children:e.name},e.name+t)}))]})}),r.state.setFilters.map((function(e,t){return Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsxs)(Ne.a,{children:[Object(n.jsxs)(he.a,{as:Ne.a,title:e.key?U[e.key].name:"Set (Optional)",children:[Object(n.jsx)(C.a.Item,{onClick:function(){return r.changeSetFilterKey(t,"")},children:"Unselect Artifact"}),Object(n.jsx)(C.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),r.dropdownitemsForStar(5,t),Object(n.jsx)(C.a.Divider,{}),Object(n.jsx)(C.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),r.dropdownitemsForStar(4,t),Object(n.jsx)(C.a.Divider,{}),Object(n.jsx)(C.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),r.dropdownitemsForStar(3,t)]}),Object(n.jsx)(he.a,{as:Ne.a,title:"".concat(e.num,"-set"),disabled:!e.key||i>=5,children:e.key&&Object.keys(U[e.key].sets).map((function(a){var s=r.state.setFilters.reduce((function(t,a){return a.key&&a.key!==e.key?t+a.num:t}),0);return parseInt(a)+s<=5&&Object(n.jsx)(C.a.Item,{onClick:function(){return r.setState((function(e){var n=D(e.setFilters);return n[t].num=parseInt(a),{setFilters:n}}))},children:"".concat(a,"-set")},a)}))})]})},t)}))]}),Object(n.jsxs)(u.a,{children:[Object(n.jsx)("h5",{children:"Artifact Main Stat (Optional)"}),a.artifactsSlotsToSelectMainStats.map((function(e,t){return Object(n.jsxs)("div",{className:"text-inline mb-1 d-flex justify-content-between",children:[Object(n.jsxs)("h6",{className:"d-inline mr-2",children:[ce[e]&&Object(n.jsx)(o.a,{icon:ce[e],className:"mr-2 fa-fw"}),H[e].name]}),Object(n.jsxs)(he.a,{title:r.state.mainStat[t]?J.getStatNameWithPercent(r.state.mainStat[t]):"Select a mainstat",className:"d-inline",children:[Object(n.jsx)(C.a.Item,{onClick:function(){return r.changeMainStat(t,"")},children:"No MainStat"}),H[e].stats.map((function(e){return Object(n.jsx)(C.a.Item,{onClick:function(){return r.changeMainStat(t,e)},children:J.getStatNameWithPercent(e)},e)}))]})]},e)}))]})]}),Object(n.jsxs)(d.a,{className:"d-flex justify-content-between mb-2",children:[Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)(ie.a,{className:"h-100",disabled:!r.state.selectedCharacterKey||j>r.state.maxBuildsToGenerate||r.state.generatingBuilds,variant:r.state.selectedCharacterKey&&j<=r.state.maxBuildsToGenerate?"success":"danger",onClick:function(){return setTimeout((function(){r.generateBuilds(l,h)}),0)},children:Object(n.jsx)("span",{children:"Generate Builds"})})}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(he.a,{disabled:!r.state.selectedCharacterKey,title:"Sort by ".concat(f),as:Ne.a,children:r.state.selectedCharacterKey&&Object.entries(Be).map((function(e){var t=Object(m.a)(e,2),a=t[0],s=t[1].name,c=ae.getCharacter(r.state.selectedCharacterKey);"ele_dmg"!==a&&"ele_atk"!==a||(s=z[c.element].name+s,"ele_dmg"===a&&(a="".concat(c.element,"_").concat(a)));return Object(n.jsx)(C.a.Item,{onClick:function(){return r.setState({buildFilterKey:a})},children:s},a)}))}),Object(n.jsx)(ie.a,{onClick:function(){return r.setState((function(e){return{asending:!e.asending}}))},children:Object(n.jsx)(o.a,{icon:r.state.asending?k.w:k.x,className:"fa-fw"})})]})})]}),Object(n.jsx)(d.a,{children:Object(n.jsx)(u.a,{children:r.state.selectedCharacterKey&&b})})]})]})},r.ArtifactDisplayItem=function(e){var t=e.build;return Object(n.jsx)("div",{children:Object(n.jsxs)(_e.a.Item,{variant:e.index%2?"customdark":"customdarker",className:"text-white",action:!0,onClick:function(){return r.setState({modalBuild:t})},children:[Object(n.jsx)(d.a,{children:Object(n.jsx)(u.a,{children:r.ArtifactDisplay(t.setToSlots)})}),Object(n.jsx)(d.a,{children:Object.entries(Be).map((function(e){var a=Object(m.a)(e,2),r=a[0],s=a[1],c=s.name,i=s.unit?s.unit:"";"ele_dmg"!==r&&"ele_atk"!==r||(c=z[t.character.element].name+c,"ele_dmg"===r&&(r="".concat(t.character.element,"_").concat(r)));return Object(n.jsx)(u.a,{className:"text-nowrap",xs:12,sm:6,md:4,lg:3,children:Object(n.jsxs)("span",{children:[c,": ",Object(n.jsxs)("span",{className:"text-warning",children:[t.finalStats[r],i]})]})},r)}))})]})})},r.BuildModal=function(e){var t=e.build;return t?Object(n.jsx)(Oe.a,{show:null!==r.state.modalBuild,onHide:function(){return r.setState({modalBuild:null})},size:"xl",dialogAs:E.a,className:"pt-3 pb-3",children:Object(n.jsxs)(w.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:Object(n.jsx)(w.a.Title,{children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{children:Object(n.jsxs)("span",{children:[t.character.name," Build"]})}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)(ie.a,{variant:"danger",onClick:function(){return r.setState({modalBuild:null})},children:Object(n.jsx)(o.a,{icon:k.A})})})]})})}),Object(n.jsxs)(w.a.Body,{children:[Object(n.jsx)(d.a,{children:Object(n.jsx)(u.a,{className:"mb-3",children:Object(n.jsx)(Te,{build:t})})}),Object(n.jsx)(d.a,{children:Object(n.jsx)(u.a,{children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{sm:6,className:"mb-3",children:Object(n.jsx)(d.a,{className:"h-100",children:Object(n.jsxs)(u.a,{xs:12,className:"d-flex flex-column",children:[Object(n.jsxs)(w.a,{className:"flex-grow-1 mb-2",border:"light",bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:"Weapon"}),Object(n.jsx)(w.a.Body,{children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{children:Object(n.jsxs)("h6",{children:["Base ATK ",t.character.weapon_atk]})}),Object(n.jsx)(u.a,{children:t.character.weaponStatKey&&Object(n.jsxs)("h6",{children:[J.getStatName(t.character.weaponStatKey)," ",t.character.weaponStatVal,J.getStatUnit(t.character.weaponStatKey)]})})]})})]}),Object(n.jsxs)(w.a,{className:"flex-grow-1",border:"light",bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:"Artifact Set Effects"}),Object(n.jsx)(w.a.Body,{children:Object(n.jsx)(d.a,{children:Object.entries(t.artifactSetEffect).map((function(e){var t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)(u.a,{xs:12,className:"mb-3",children:[Object(n.jsx)("h6",{children:J.getArtifactSetName(a)}),Object(n.jsx)(d.a,{children:Object.entries(r).map((function(e){var t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)(u.a,{xs:12,children:[Object(n.jsxs)(de.a,{variant:"success",children:[a,"-Set"]})," ",Object(n.jsx)("span",{children:r.text})]},"num")}))})]},a)}))})})]})]})})}),Object.values(t.artifactIds).map((function(e){return Object(n.jsx)(u.a,{sm:6,className:"mb-3",children:Object(n.jsx)(je,{artifactData:Z.getArtifact(e),forceUpdate:r.forceUpdateBuildDisplay})},e)}))]})})})]}),Object(n.jsx)(w.a.Footer,{children:Object(n.jsxs)(d.a,{className:"d-flex justify-content-between",children:[Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)(ie.a,{variant:"primary",onClick:function(){return r.equipArtifacts(t)},children:Object(n.jsx)("span",{children:"Equip Artifacts on Character"})})}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)(ie.a,{variant:"danger",onClick:function(){return r.setState({modalBuild:null})},children:Object(n.jsx)("span",{children:"Close"})})})]})})]})}):null},r.ArtifactDisplay=function(e){return Object.entries(e).sort((function(e,t){var a=Object(m.a)(e,2),n=(a[0],a[1]),r=Object(m.a)(t,2);r[0];return r[1].length-n.length})).map((function(e){var t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)(de.a,{variant:"primary",className:"mr-2",children:[r.map((function(e){return ce[e]&&Object(n.jsx)(o.a,{icon:ce[e],className:"fa-fw"},e)})),U[a].name]},a)}))},r.equipArtifacts=function(e){var t=e.character,a=e.artifacts;t.equippedArtifacts&&Object.values(t.equippedArtifacts).forEach((function(e){return Z.moveToNewLocation(e,"")})),ae.equipArtifactBuild(t.id,a),Object.values(a).forEach((function(e){return Z.moveToNewLocation(e.id,t.id)})),r.forceUpdate()},ae.populateDatebaseFromLocalStorage(),Z.populateDatebaseFromLocalStorage(),r.state=a.getInitialState(),e.location.selectedCharacterKey)r.state=a.getInitialState(),e.location.selectedCharacterKey&&(r.state.selectedCharacterKey=e.location.selectedCharacterKey);else{var s=I("BuildsDisplay.state");if(s){var c=ae.getCharacter(s.selectedCharacterKey);s&&c&&(r.state=s)}}return r}return Object(y.a)(a,[{key:"componentDidUpdate",value:function(){var e=D(this.state);e.builds=[],delete e.generatingBuilds,delete e.modalBuild,T("BuildsDisplay.state",e)}},{key:"render",value:function(){var e=this,t=ae.getCharacter(this.state.selectedCharacterKey),a=t?t.name:"Character Name";return Object(n.jsxs)(E.a,{children:[Object(n.jsx)(this.BuildModal,{build:this.state.modalBuild}),Object(n.jsx)(d.a,{className:"mt-2 mb-2",children:Object(n.jsx)(u.a,{children:Object(n.jsx)(this.BuildGeneratorEditorCard,{})})}),Object(n.jsx)(d.a,{className:"mb-2",children:Object(n.jsx)(u.a,{children:Object(n.jsxs)(w.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:this.state.selectedCharacterKey?"Showing first ".concat(this.state.builds.length," Builds generated for ").concat(a):"Select a character to generate builds."}),Object(n.jsx)(_e.a,{children:this.state.builds.map((function(t,a){return a<e.state.maxBuildsToShow&&Object(n.jsx)(e.ArtifactDisplayItem,{build:t,index:a},Object.values(t.artifactIds).join("_"))}))})]})})})]})}}]),a}(s.a.Component);Ie.initialState={builds:[],generatingBuilds:!1,selectedCharacterKey:"",sandsMainKey:"",gobletMainKey:"",circletMainkey:"",setFilters:[{key:"",num:0},{key:"",num:0},{key:"",num:0}],mainStat:["","",""],buildFilterKey:"atk",asending:!1,modalBuild:null,maxBuildsToShow:100,maxBuildsToGenerate:5e5},Ie.maxBuildsToShowList=[100,50,25,5],Ie.maxBuildsToGenerateList=[5e4,1e4,5e3,1e3,500,100],Ie.getInitialState=function(){return JSON.parse(JSON.stringify(Ie.initialState))},Ie.artifactsSlotsToSelectMainStats=["sands","goblet","circlet"];var Te=function(e){var t=e.build;return Object(n.jsxs)(w.a,{className:"h-100",border:"success",bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:"Character Stats"}),Object(n.jsx)(w.a.Body,{children:Object(n.jsx)(d.a,{children:Object.entries(Be).map((function(e){var a=Object(m.a)(e,2),r=a[0],s=a[1],c=s.name,i=s.unit?s.unit:"";"ele_dmg"!==r&&"ele_atk"!==r||(c=z[t.character.element].name+c,"ele_dmg"===r&&(r="".concat(t.character.element,"_").concat(r)));var l=r in t.character?Object(n.jsxs)("span",{children:[c,": ",Object(n.jsxs)("span",{className:"text-warning",children:[t.character[r],i]})," ",Object(n.jsxs)("span",{className:"text-success",children:["+ ",(t.finalStats[r]-t.character[r]).toFixed("%"===i?1:0),i]})]}):Object(n.jsxs)("span",{children:[c,": ",Object(n.jsxs)("span",{className:"text-warning",children:[t.finalStats[r],i]})]});return Object(n.jsx)(u.a,{className:"text-nowrap",xs:12,sm:6,lg:4,children:Object(n.jsx)(oe.a,{placement:"top",overlay:Object(n.jsxs)(be.a,{children:[Object(n.jsx)(be.a.Title,{as:"h3",children:r in t.character?Object(n.jsxs)("span",{children:[c,": ",t.character[r],i," ",Object(n.jsxs)("span",{className:"text-success",children:["+ ",(t.finalStats[r]-t.character[r]).toFixed(1),i]})]}):Object(n.jsxs)("span",{children:[c,": ",t.finalStats[r],i]})}),Object(n.jsx)(be.a.Content,{children:r.includes("ele_dmg")?Be.ele_dmg.explaination:Be[r].explaination})]}),children:l})},r)}))})})]})},De={anemo:k.E,geo:k.m,electro:k.b,hydro:k.D,pyro:k.i,cryo:k.o,dendro:k.t},Me=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;if(!this.props.characterData)return null;var t=this.props.characterData,a=function(e){return Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:J.getStatName(e)}),Object(n.jsx)("span",{className:"float-right",children:t[e]+J.getStatUnit(e)})]},e)},r=["hp","atk","def","ele_mas"].map(a),s=["crit_rate","crit_dmg","heal_bonu","ener_rech"].map(a),c=Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:"Weapon ATK"}),Object(n.jsx)("span",{className:"float-right",children:t.weapon_atk})]}),i=Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:J.getStatName(t.weaponStatKey)}),Object(n.jsx)("span",{className:"float-right",children:t.weaponStatVal+J.getStatUnit(t.weaponStatKey)})]}),l=Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:J.getStatName(t.specialStatKey)}),Object(n.jsx)("span",{className:"float-right",children:t.specialStatVal+J.getStatUnit(t.specialStatKey)})]});return Object(n.jsxs)(w.a,{className:"h-100",border:"".concat(t.numStars,"star"),bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{className:"pr-2",children:Object(n.jsxs)(d.a,{className:"no-gutters",children:[Object(n.jsx)(u.a,{children:Object(n.jsx)("h6",{children:Object(n.jsx)("b",{children:t.name})})}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsxs)("span",{className:"float-right align-top ml-1",children:[Object(n.jsx)(ie.a,{variant:"primary",size:"sm",className:"mr-1",onClick:function(){return e.props.onEdit&&e.props.onEdit()},children:Object(n.jsx)(o.a,{icon:k.g})}),Object(n.jsx)(ie.a,{variant:"danger",size:"sm",onClick:function(){return e.props.onDelete&&e.props.onDelete()},children:Object(n.jsx)(o.a,{icon:k.C})})]})})]})}),Object(n.jsxs)(w.a.Body,{children:[Object(n.jsxs)("h6",{children:[Object(n.jsx)(o.a,{icon:De[t.element],className:"fa-fw"})," ",z[t.element].name]}),Object(n.jsx)("h5",{children:"Weapon"}),Object(n.jsxs)("ul",{children:[c,i]}),Object(n.jsx)("h5",{children:"Main Stats"}),Object(n.jsxs)("ul",{children:[r," "]}),Object(n.jsx)("h5",{children:"Specialized Stat"}),Object(n.jsx)("ul",{children:l}),Object(n.jsx)("h5",{children:"Advanced Stats"}),Object(n.jsx)("ul",{children:s})]}),Object(n.jsx)(w.a.Footer,{children:Object(n.jsx)(ie.a,{as:b.b,to:{pathname:"/build",selectedCharacterKey:this.props.characterData.id},children:"Generate Builds"})})]})}}]),a}(s.a.Component),Fe=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(g.a)(this,a),(r=t.call(this,e)).StatInput=function(e){var t=function(t){return e.onValueChange&&e.onValueChange(t)};return Object(n.jsxs)(A.a,{className:"mb-3",children:[Object(n.jsx)(A.a.Prepend,{children:Object(n.jsx)(A.a.Text,{children:e.name})}),e.percent?Object(n.jsx)(re,{placeholder:e.placeholder,value:e.value?e.value:"",onValueChange:t}):Object(n.jsx)(se,{placeholder:e.placeholder,value:e.value?e.value:"",onValueChange:t}),e.percent&&Object(n.jsx)(A.a.Append,{children:Object(n.jsx)(A.a.Text,{children:"%"})})]})},r.componentDidUpdate=function(){r.props.characterToEdit&&r.state.id!==r.props.characterToEdit.id&&r.setState(r.props.characterToEdit)},r.state=a.getInitialState(),r}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t="%"===J.getStatUnit(this.state.weaponStatKey),r="%"===J.getStatUnit(this.state.specialStatKey),s={placeholder:"Weapon 2nd Stat",value:this.state.weaponStatVal?this.state.weaponStatVal:"",onValueChange:function(t){return e.setState({weaponStatVal:t})},disabled:!this.state.weaponStatKey},c=t?Object(n.jsx)(re,Object(p.a)({},s)):Object(n.jsx)(se,Object(p.a)({},s)),i={placeholder:"Character Special Stat",value:this.state.specialStatVal?this.state.specialStatVal:"",onValueChange:function(t){return e.setState({specialStatVal:t})},disabled:!this.state.specialStatKey},l=r?Object(n.jsx)(re,Object(p.a)({},i)):Object(n.jsx)(se,Object(p.a)({},i));return Object(n.jsxs)(w.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(w.a.Header,{children:"Character Editor"}),Object(n.jsxs)(w.a.Body,{children:[Object(n.jsxs)(A.a,{className:"mb-3",children:[Object(n.jsx)(A.a.Prepend,{children:Object(n.jsxs)(A.a.Text,{children:[Object(n.jsx)(o.a,{icon:k.v,className:"mr-2"})," Character Name"]})}),Object(n.jsx)(ne.a,{placeholder:"Name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}),Object(n.jsx)(A.a.Append,{children:Object(n.jsx)(A.a.Text,{children:"Character Element"})}),Object(n.jsxs)(he.a,{title:this.state.element?Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:De[this.state.element],className:"fa-fw"}),Object(n.jsxs)("span",{children:[" ",z[this.state.element].name]})]}):"Element",as:A.a.Append,children:[Object(n.jsx)(C.a.ItemText,{children:"Select Element "}),Object.entries(z).map((function(t){var a=Object(m.a)(t,2),r=a[0],s=a[1];return Object(n.jsx)(C.a.Item,{onClick:function(){return r!==e.state.element&&e.setState({element:r})},children:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:De[r],className:"fa-fw"}),Object(n.jsxs)("span",{children:[" ",s.name]})]})},r)}))]})]}),Object(n.jsx)("h5",{children:"Base Stats"}),Object(n.jsxs)(d.a,{className:"mb-2",children:[Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsx)(this.StatInput,{name:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:k.B,className:"mr-2"})," Base HP"]}),placeholder:"Base Health",value:this.state.hp,percent:!1,onValueChange:function(t){return e.setState({hp:t})}})}),Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsx)(this.StatInput,{name:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:k.k,className:"mr-2"})," Base ATK"]}),placeholder:"Base Attack",value:this.state.atk,percent:!1,onValueChange:function(t){return e.setState({atk:t})}})}),Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsx)(this.StatInput,{name:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:k.u,className:"mr-2"})," Base DEF"]}),placeholder:"Base Defence",value:this.state.def,percent:!1,onValueChange:function(t){return e.setState({def:t})}})}),Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsx)(this.StatInput,{name:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:k.r,className:"mr-2"})," Base Elemental Mastery"]}),placeholder:"Elemental Mastery",value:this.state.ele_mas,percent:!1,onValueChange:function(t){return e.setState({ele_mas:t})}})}),Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsxs)(A.a,{children:[Object(n.jsxs)(he.a,{title:J.getStatNameWithPercent(this.state.specialStatKey,"Specialized Stat"),as:A.a.Prepend,children:[Object(n.jsx)(C.a.ItemText,{children:"Select Specialized Stat "}),V.map((function(t){return Object(n.jsx)(C.a.Item,{onClick:function(){e.setState({specialStatKey:t,specialStatVal:0})},children:J.getStatNameWithPercent(t)},t)}))]}),l,r&&Object(n.jsx)(A.a.Append,{children:Object(n.jsx)(A.a.Text,{children:"%"})})]})})]}),Object(n.jsx)("h5",{children:"Advanced Stats"}),Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsx)(this.StatInput,{name:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:k.e,className:"mr-2"})," Base Crit Rate"]}),placeholder:"Crit Rate",value:this.state.crit_rate,percent:!0,onValueChange:function(t){return e.setState({crit_rate:t})}})}),Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsx)(this.StatInput,{name:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:k.f,className:"mr-2"})," Base Crit Damage"]}),placeholder:"Crit Damage",value:this.state.crit_dmg,percent:!0,onValueChange:function(t){return e.setState({crit_dmg:t})}})}),Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsx)(this.StatInput,{name:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:k.j,className:"mr-2"})," Base Healing Bonus"]}),placeholder:"Healing Bonus",value:this.state.heal_bonu,percent:!0,onValueChange:function(t){return e.setState({heal_bonu:t})}})}),Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsx)(this.StatInput,{name:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:k.z,className:"mr-2"})," Base Energy Recharge"]}),placeholder:"Energy Recharge",value:this.state.ener_rech,percent:!0,onValueChange:function(t){return e.setState({ener_rech:t})}})})]}),Object(n.jsx)("h5",{children:"Weapon Stats"}),Object(n.jsxs)(d.a,{children:[Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsx)(this.StatInput,{name:Object(n.jsxs)("span",{children:[Object(n.jsx)(o.a,{icon:k.l,className:"mr-2"})," Weapon ATK"]}),placeholder:"Weapon Attack",value:this.state.weapon_atk,percent:!1,onValueChange:function(t){return e.setState({weapon_atk:t})}})}),Object(n.jsx)(u.a,{lg:6,xs:12,children:Object(n.jsxs)(A.a,{children:[Object(n.jsxs)(he.a,{title:J.getStatNameWithPercent(this.state.weaponStatKey,"Weapon Stat"),as:A.a.Prepend,children:[Object(n.jsx)(C.a.ItemText,{children:"Select a weapon secondary stat "}),Object.entries(R).map((function(t){var a=Object(m.a)(t,2),r=a[0];a[1];return Object(n.jsx)(C.a.Item,{onClick:function(){e.setState({weaponStatKey:r,weaponStatVal:null})},children:J.getStatNameWithPercent(r)},r)}))]}),c,t&&Object(n.jsx)(A.a.Append,{children:Object(n.jsx)(A.a.Text,{children:"%"})})]})})]})]}),Object(n.jsxs)(w.a.Footer,{children:[Object(n.jsx)(ie.a,{className:"mr-3",disabled:ae.isInvalid(this.state),onClick:function(){e.props.addCharacter&&e.props.addCharacter(e.state),e.setState(a.getInitialState())},children:this.props.characterToEdit?"Save Character":"Add Character"}),Object(n.jsx)(ie.a,{className:"mr-3",variant:"success",onClick:function(){e.props.cancelEdit&&e.props.cancelEdit(),e.setState(a.getInitialState())},children:"Clear"})]})]})}}]),a}(s.a.Component);Fe.initialState={name:"",element:Object.keys(z)[0],hp:0,atk:0,def:0,ele_mas:0,crit_rate:5,crit_dmg:50,heal_bonu:0,ener_rech:100,weapon_atk:0,weaponStatKey:"",weaponStatVal:0,specialStatKey:"",specialStatVal:0},Fe.getInitialState=function(){return JSON.parse(JSON.stringify(Fe.initialState))};var Le=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).addCharacter=function(e){if(n.state.charToEdit&&n.state.charToEdit.id===e.id)ae.updateCharacter(e),n.setState({charToEdit:null},n.forceUpdate);else{var t=ae.addCharacter(e);n.setState((function(e){return{charIdList:[].concat(Object(O.a)(e.charIdList),[t])}}))}},n.deleteCharacter=function(e){ae.removeCharacterById(n.state.charIdList[e]),n.setState((function(t){var a=Object(O.a)(t.charIdList);return a.splice(e,1),{charIdList:a}}))},n.editCharacter=function(e){return n.setState({charToEdit:ae.getCharacter(n.state.charIdList[e])})},n.cancelEditCharacter=function(){return n.setState({charToEdit:null})},ae.populateDatebaseFromLocalStorage(),n.state={charIdList:Object(O.a)(ae.getCharacterIdList()),charToEdit:null},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(E.a,{children:[Object(n.jsx)(d.a,{className:"mb-2 no-gutters",children:Object(n.jsx)(u.a,{children:Object(n.jsx)(Fe,{characterToEdit:this.state.charToEdit,addCharacter:this.addCharacter,cancelEdit:this.cancelEditCharacter})})}),Object(n.jsx)(d.a,{className:"mb-2",children:this.state.charIdList.map((function(t,a){return Object(n.jsx)(u.a,{lg:4,md:6,className:"mb-2",children:Object(n.jsx)(Me,{characterData:ae.getCharacter(t),onDelete:function(){return e.deleteCharacter(a)},onEdit:function(){return e.editCharacter(a)}})},t)}))})]})}}]),a}(s.a.Component),Pe=a(111);var Re=function(){return Object(n.jsxs)("div",{className:"h-100 d-flex flex-column",children:[Object(n.jsxs)("div",{id:"content",className:"flex-grow-1",children:[Object(n.jsxs)(j.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(n.jsx)(j.a.Brand,{as:b.b,to:"/",children:"Genshin Optimizer"}),Object(n.jsxs)(h.a,{className:"mr-auto",children:[Object(n.jsx)(h.a.Link,{as:b.b,to:"/artifact",children:"Artifacts"}),Object(n.jsx)(h.a.Link,{as:b.b,to:"/character",children:"Characters"}),Object(n.jsx)(h.a.Link,{as:b.b,to:"/build",children:"Builds"})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsxs)(h.a.Link,{href:"https://www.paypal.com/donate?hosted_button_id=WAHN2DGLCXPZW",target:"_blank",children:[Object(n.jsx)(o.a,{icon:l.c,className:"fa-fw"})," PayPal"]}),Object(n.jsxs)(h.a.Link,{href:"https://www.patreon.com/frzyc",target:"_blank",children:[Object(n.jsx)(o.a,{icon:l.b,className:"fa-fw"})," Patreon"]}),Object(n.jsxs)(h.a.Link,{href:"https://discord.gg/CXUbQXyfUs",target:"_blank",children:[Object(n.jsx)(o.a,{icon:l.a,className:"fa-fw"})," Discord"]})]})]}),Object(n.jsxs)(f.c,{children:[Object(n.jsx)(f.a,{path:"/artifact",component:Ae}),Object(n.jsx)(f.a,{path:"/character",component:Le}),Object(n.jsx)(f.a,{path:"/build",component:Ie}),Object(n.jsx)(f.a,{path:"/",component:Ae})]})]}),Object(n.jsx)(h.a,{id:"footer",className:"bg-dark",children:Object(n.jsxs)(d.a,{className:"w-100 ml-0 mr-0 mb-2 text-light d-flex justify-content-between",children:[Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsxs)("span",{children:[" ",Object(n.jsx)("small",{children:"Genshin Optimizer is not affiliated with or endorsed by miHoYo. "})]})}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)("span",{children:Object(n.jsxs)("small",{children:[" Genshin Optimizer Ver:",Pe.a," "]})})})]})})]})},Ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,172)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(b.a,{children:Object(n.jsx)(Re,{})})}),document.getElementById("root")),Ge()}},[[155,1,2]]]);
//# sourceMappingURL=main.16a0dc89.chunk.js.map