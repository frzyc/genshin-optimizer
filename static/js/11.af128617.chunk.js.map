{"version":3,"sources":["StatDependency.js","TestPage/TestDisplay.js"],"names":["formulaKeyDependency","DependencyStatKeys","key","formulaOverrides","dependencies","forEach","k","push","formulaOverride","OverrideFormulas","dependency","includes","Set","formulaKeys","Object","keys","Formulas","filter","statkeys","StatData","testObj","defineProperty","get","configurable","AttachLazyFormulas","getDependency","TestDisplay","props","DatabaseInitAndVerify","editable","characterId"],"mappings":"qLAGMA,EAAuB,GAqB7B,SAASC,EAAmBC,GAA6B,IAAD,EAAvBC,EAAuB,uDAAJ,GAC9CC,EAAeJ,EAAqBE,IAAQ,GAChD,UAAAF,EAAqBE,UAArB,SAA2BG,SAAQ,SAAAC,GAAC,aAAI,EAAAF,GAAaG,KAAb,oBAAsBP,EAAqBM,IAAM,QAEzFH,EAAiBE,SAAQ,SAAAG,GAAoB,IAAD,IACXC,IAAiBD,EAAgBN,MAAQ,GAAlEA,EADoC,EACpCA,IADoC,IAC/BQ,kBAD+B,MAClB,GADkB,EAErCN,EAAaO,SAAST,KAC3B,EAAAE,GAAaG,KAAb,oBAAqBG,OAEvBN,EAAY,YAAO,IAAIQ,IAAIR,IAC3B,IAAIS,EAAcC,OAAOC,KAAKC,KAAUC,QAAO,SAAAX,GAAC,OAAIA,IAAMJ,GAAOE,EAAaO,SAASL,MACnFY,EAAWJ,OAAOC,KAAKI,KAAUF,QAAO,SAAAX,GAAC,OAAIA,IAAMJ,GAAOE,EAAaO,SAASL,MACpF,MAAO,CAAEO,cAAaK,YAdxBJ,OAAOC,KAAKC,KAAUX,SAAQ,SAAAH,GAAG,OAlBX,SAACA,GACrB,IAAIkB,EAAU,GACVV,EAAa,GACjBI,OAAOC,KAAKI,KAAUF,QAAO,SAAAX,GAAC,OAAIA,IAAMJ,KAAKG,SAAQ,SAAAC,GACnDQ,OAAOO,eAAeD,EAASd,EAAG,CAChCgB,IAAK,WAGH,OAFAZ,EAAWH,KAAKD,GAChBQ,OAAOO,eAAeD,EAASd,EAAG,CAAEgB,IAAK,kBAAM,KACxC,GAETC,cAAc,OAGlBC,YAAmBJ,GAES,kBAAjBA,EAAQlB,KACjBF,EAAqBE,GAAOQ,GAEKe,CAAcvB,O,4HClBpC,SAASwB,EAAYC,GAElC,OADAC,cACO,cAAC,IAAD,UACL,cAAC,IAAD,CAAsBC,UAAQ,EAACC,YAAa","file":"static/js/11.af128617.chunk.js","sourcesContent":["import { AttachLazyFormulas, Formulas, OverrideFormulas, StatData } from \"./Stat\"\r\n\r\n//generate a statKey dependency, to reduce build generation calculation on a single stat.\r\nconst formulaKeyDependency = {}\r\nconst getDependency = (key) => {\r\n  let testObj = {}\r\n  let dependency = []\r\n  Object.keys(StatData).filter(k => k !== key).forEach(k => {\r\n    Object.defineProperty(testObj, k, {\r\n      get: () => {\r\n        dependency.push(k)\r\n        Object.defineProperty(testObj, k, { get: () => 0 })\r\n        return 0\r\n      },\r\n      configurable: true\r\n    })\r\n  })\r\n  AttachLazyFormulas(testObj)\r\n  //use the getter to generate the dependency\r\n  if (typeof testObj[key] === \"number\")\r\n    formulaKeyDependency[key] = dependency\r\n}\r\nObject.keys(Formulas).forEach(key => getDependency(key))\r\n\r\nfunction DependencyStatKeys(key, formulaOverrides = []) {\r\n  let dependencies = formulaKeyDependency[key] || []\r\n  formulaKeyDependency[key]?.forEach(k => dependencies.push(...(formulaKeyDependency[k] || [])))\r\n  //add any formula override dependencies\r\n  formulaOverrides.forEach(formulaOverride => {\r\n    let { key, dependency = [] } = OverrideFormulas[formulaOverride.key] || {}\r\n    if (!dependencies.includes(key)) return\r\n    dependencies.push(...dependency)\r\n  })\r\n  dependencies = [...new Set(dependencies)]\r\n  let formulaKeys = Object.keys(Formulas).filter(k => k === key || dependencies.includes(k))\r\n  let statkeys = Object.keys(StatData).filter(k => k === key || dependencies.includes(k))\r\n  return { formulaKeys, statkeys }\r\n}\r\nexport {\r\n  DependencyStatKeys,\r\n}\r\n","import { Container } from \"react-bootstrap\";\r\nimport CharacterDisplayCard from \"../Character/CharacterDisplayCard\";\r\nimport { DatabaseInitAndVerify } from '../DatabaseUtil';\r\nimport '../StatDependency'\r\nexport default function TestDisplay(props) {\r\n  DatabaseInitAndVerify()\r\n  return <Container>\r\n    <CharacterDisplayCard editable characterId={\"character_2\"} />\r\n  </Container>\r\n}\r\n"],"sourceRoot":""}