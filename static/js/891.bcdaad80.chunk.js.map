{"version":3,"file":"static/js/891.bcdaad80.chunk.js","mappings":"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","sources":["Data/Characters/dataUtil.tsx","Data/SheetUtil.tsx","Data/Weapons/util.ts","Data/Weapons/Claymore/Akuoumaru/index.tsx","Data/Weapons/Claymore/BlackcliffSlasher/index.tsx","Data/Weapons/Claymore/BloodtaintedGreatsword/index.tsx","Data/Weapons/Claymore/DebateClub/index.tsx","Data/Weapons/Claymore/FavoniusGreatsword/index.tsx","Data/Weapons/Claymore/FerrousShadow/index.tsx","Data/Weapons/Claymore/KatsuragikiriNagamasa/index.tsx","Data/Weapons/Claymore/LithicBlade/index.tsx","Data/Weapons/Claymore/LuxuriousSeaLord/index.tsx","Data/Weapons/Claymore/OldMercsPal/index.tsx","Data/Weapons/Claymore/PrototypeArchaic/index.tsx","Data/Weapons/Claymore/Rainslasher/index.tsx","Data/Weapons/Claymore/RedhornStonethresher/index.tsx","Data/Weapons/Claymore/RoyalGreatsword/index.tsx","Data/Weapons/Claymore/SacrificialGreatsword/index.tsx","Data/Weapons/Claymore/SerpentSpine/index.tsx","Data/Weapons/Claymore/SkyriderGreatsword/index.tsx","Data/Weapons/Claymore/SkywardPride/index.tsx","Data/Weapons/Claymore/SnowTombedStarsilver/index.tsx","Data/Weapons/Claymore/SongOfBrokenPines/index.tsx","Data/Weapons/Claymore/TheBell/index.tsx","Data/Weapons/Claymore/TheUnforged/index.tsx","Data/Weapons/Claymore/WasterGreatsword/index.tsx","Data/Weapons/Claymore/Whiteblind/index.tsx","Data/Weapons/Claymore/WhiteIronGreatsword/index.tsx","Data/Weapons/Claymore/WolfsGravestone/index.tsx","Data/Weapons/Claymore/index.ts","Data/Weapons/Sword/AmenomaKageuchi/index.tsx","Data/Weapons/Sword/AquilaFavonia/index.tsx","Data/Weapons/Sword/BlackcliffLongsword/index.tsx","Data/Weapons/Sword/CinnabarSpindle/index.tsx","Data/Weapons/Sword/CoolSteel/index.tsx","Data/Weapons/Sword/DarkIronSword/index.tsx","Data/Weapons/Sword/DullBlade/index.tsx","Data/Weapons/Sword/FavoniusSword/index.tsx","Data/Weapons/Sword/FesteringDesire/index.tsx","Data/Weapons/Sword/FilletBlade/index.tsx","Data/Weapons/Sword/FreedomSworn/index.tsx","Data/Weapons/Sword/HarbingerOfDawn/index.tsx","Data/Weapons/Sword/IronSting/index.tsx","Data/Weapons/Sword/LionsRoar/index.tsx","Data/Weapons/Sword/MistsplitterReforged/index.tsx","Data/Weapons/Sword/PrimordialJadeCutter/index.tsx","Data/Weapons/Sword/PrototypeRancour/index.tsx","Data/Weapons/Sword/RoyalLongsword/index.tsx","Data/Weapons/Sword/SacrificialSword/index.tsx","Data/Weapons/Sword/SilverSword/index.tsx","Data/Weapons/Sword/SkyriderSword/index.tsx","Data/Weapons/Sword/SkywardBlade/index.tsx","Data/Weapons/Sword/SummitShaper/index.tsx","Data/Weapons/Sword/SwordOfDescension/index.tsx","Data/Weapons/Sword/TheAlleyFlash/index.tsx","Data/Weapons/Sword/TheBlackSword/index.tsx","Data/Weapons/Sword/TheFlute/index.tsx","Data/Weapons/Sword/TravelersHandySword/index.tsx","Data/Weapons/Sword/index.ts","Data/Weapons/Polearm/BeginnersProtector/index.tsx","Data/Weapons/Polearm/BlackcliffPole/index.tsx","Data/Weapons/Polearm/BlackTassel/index.tsx","Data/Weapons/Polearm/CalamityQueller/index.tsx","Data/Weapons/Polearm/CrescentPike/index.tsx","Data/Weapons/Polearm/Deathmatch/index.tsx","Data/Weapons/Polearm/DragonsBane/index.tsx","Data/Weapons/Polearm/DragonspineSpear/index.tsx","Data/Weapons/Polearm/EngulfingLightning/index.tsx","Data/Weapons/Polearm/FavoniusLance/index.tsx","Data/Weapons/Polearm/Halberd/index.tsx","Data/Weapons/Polearm/IronPoint/index.tsx","Data/Weapons/Polearm/KitainCrossSpear/index.tsx","Data/Weapons/Polearm/LithicSpear/index.tsx","Data/Weapons/Polearm/PrimordialJadeWingedSpear/index.tsx","Data/Weapons/Polearm/PrototypeStarglitter/index.tsx","Data/Weapons/Polearm/RoyalSpear/index.tsx","Data/Weapons/Polearm/SkywardSpine/index.tsx","Data/Weapons/Polearm/StaffOfHoma/index.tsx","Data/Weapons/Polearm/TheCatch/index.tsx","Data/Weapons/Polearm/VortexVanquisher/index.tsx","Data/Weapons/Polearm/WavebreakersFin/index.tsx","Data/Weapons/Polearm/WhiteTassel/index.tsx","Data/Weapons/Polearm/index.ts","Data/Weapons/Bow/AlleyHunter/index.tsx","Data/Weapons/Bow/AmosBow/index.tsx","Data/Weapons/Bow/BlackcliffWarbow/index.tsx","Data/Weapons/Bow/CompoundBow/index.tsx","Data/Weapons/Bow/ElegyForTheEnd/index.tsx","Data/Weapons/Bow/FavoniusWarbow/index.tsx","Data/Weapons/Bow/Hamayumi/index.tsx","Data/Weapons/Bow/HuntersBow/index.tsx","Data/Weapons/Bow/Messenger/index.tsx","Data/Weapons/Bow/MitternachtsWaltz/index.tsx","Data/Weapons/Bow/MouunsMoon/index.tsx","Data/Weapons/Bow/PolarStar/index.tsx","Data/Weapons/Bow/Predator/index.tsx","Data/Weapons/Bow/PrototypeCrescent/index.tsx","Data/Weapons/Bow/RavenBow/index.tsx","Data/Weapons/Bow/RecurveBow/index.tsx","Data/Weapons/Bow/RoyalBow/index.tsx","Data/Weapons/Bow/Rust/index.tsx","Data/Weapons/Bow/SacrificialBow/index.tsx","Data/Weapons/Bow/SeasonedHuntersBow/index.tsx","Data/Weapons/Bow/SharpshootersOath/index.tsx","Data/Weapons/Bow/SkywardHarp/index.tsx","Data/Weapons/Bow/Slingshot/index.tsx","Data/Weapons/Bow/TheStringless/index.tsx","Data/Weapons/Bow/TheViridescentHunt/index.tsx","Data/Weapons/Bow/ThunderingPulse/index.tsx","Data/Weapons/Bow/WindblumeOde/index.tsx","Data/Weapons/Bow/index.ts","Data/Weapons/Catalyst/ApprenticesNotes/index.tsx","Data/Weapons/Catalyst/BlackcliffAgate/index.tsx","Data/Weapons/Catalyst/DodocoTales/index.tsx","Data/Weapons/Catalyst/EmeraldOrb/index.tsx","Data/Weapons/Catalyst/EverlastingMoonglow/index.tsx","Data/Weapons/Catalyst/EyeOfPerception/index.tsx","Data/Weapons/Catalyst/FavoniusCodex/index.tsx","Data/Weapons/Catalyst/Frostbearer/index.tsx","Data/Weapons/Catalyst/HakushinRing/index.tsx","Data/Weapons/Catalyst/KagurasVerity/index.tsx","Data/Weapons/Catalyst/LostPrayerToTheSacredWinds/index.tsx","Data/Weapons/Catalyst/MagicGuide/index.tsx","Data/Weapons/Catalyst/MappaMare/index.tsx","Data/Weapons/Catalyst/MemoryOfDust/index.tsx","Data/Weapons/Catalyst/OathswornEye/index.tsx","Data/Weapons/Catalyst/OtherworldlyStory/index.tsx","Data/Weapons/Catalyst/PocketGrimoire/index.tsx","Data/Weapons/Catalyst/PrototypeAmber/index.tsx","Data/Weapons/Catalyst/RoyalGrimoire/index.tsx","Data/Weapons/Catalyst/SacrificialFragments/index.tsx","Data/Weapons/Catalyst/SkywardAtlas/index.tsx","Data/Weapons/Catalyst/SolarPearl/index.tsx","Data/Weapons/Catalyst/TheWidsith/index.tsx","Data/Weapons/Catalyst/ThrillingTalesOfDragonSlayers/index.tsx","Data/Weapons/Catalyst/TwinNephrite/index.tsx","Data/Weapons/Catalyst/WineAndSong/index.tsx","Data/Weapons/Catalyst/index.ts","Data/Weapons/index.ts","Formula/reaction.ts"],"sourcesContent":["import { SubstatKey } from \"pipeline\";\r\nimport { input } from \"../../Formula\";\r\nimport { inferInfoMut, mergeData } from \"../../Formula/api\";\r\nimport { reactions } from \"../../Formula/reaction\";\r\nimport { Data, DisplaySub, NumNode } from \"../../Formula/type\";\r\nimport { constant, data, equalStr, infoMut, percent, prod, stringPrio, subscript, sum, unit } from \"../../Formula/utils\";\r\nimport { allMainStatKeys, MainStatKey } from \"../../Types/artifact\";\r\nimport { CharacterKey, ElementKey, Region } from \"../../Types/consts\";\r\nimport { layeredAssignment, objectKeyMap, objectMap } from \"../../Util/Util\";\r\nimport _charCurves from \"./expCurve_gen.json\";\r\n\r\n// TODO: Remove this conversion after changing the file format\r\nconst charCurves = objectMap(_charCurves, value => [0, ...Object.values(value)])\r\n\r\nconst commonBasic = objectKeyMap([\"hp\", \"atk\", \"def\", \"eleMas\", \"enerRech_\", \"critRate_\", \"critDMG_\", \"heal_\"], key => input.total[key])\r\ncommonBasic.critRate_ = input.total.cappedCritRate\r\n\r\nconst inferredHitEle = stringPrio(\r\n  // Inferred Element\r\n  equalStr(input.weaponType, \"catalyst\", input.charEle),\r\n  equalStr(input.hit.move, \"skill\", input.charEle),\r\n  equalStr(input.hit.move, \"burst\", input.charEle),\r\n  input.infusion,\r\n  input.team.infusion,\r\n  \"physical\",\r\n)\r\n\r\nfunction getTalentType(move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\") {\r\n  switch (move) {\r\n    case \"normal\": case \"charged\": case \"plunging\": return \"auto\";\r\n    case \"skill\": return \"skill\";\r\n    case \"burst\": return \"burst\";\r\n  }\r\n}\r\n\r\n/** Note: `additional` applies only to this formula */\r\nexport function customDmgNode(base: NumNode, move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\" | \"elemental\", additional: Data = {}): NumNode {\r\n  return data(input.hit.dmg, mergeData([{\r\n    hit: { base, move: constant(move), ele: additional?.hit?.ele ? undefined : inferredHitEle },\r\n  }, additional]))\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customShieldNode(base: NumNode, additional?: Data): NumNode {\r\n  const shieldNode = prod(base, sum(unit, input.total.shield_))\r\n  return additional ? data(shieldNode, additional) : shieldNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function customHealNode(base: NumNode, additional?: Data): NumNode {\r\n  const healNode = prod(base, sum(unit, input.total.heal_, input.total.incHeal_))\r\n  return additional ? data(healNode, additional) : healNode\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function dmgNode(base: MainStatKey | SubstatKey, lvlMultiplier: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional: Data = {}): NumNode {\r\n  const talentType = getTalentType(move)\r\n  return customDmgNode(prod(subscript(input.total[`${talentType}Index`], lvlMultiplier, { key: '_' }), input.total[base]), move, additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customShieldNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNode(base: MainStatKey | SubstatKey, percent: NumNode | number, flat: NumNode | number, additional?: Data): NumNode {\r\n  return customHealNode(sum(prod(percent, input.total[base]), flat), additional)\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function shieldNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customShieldNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function shieldElement(element: \"electro\" | \"cryo\" | \"hydro\" | \"pyro\" | \"geo\", shieldNode: NumNode) {\r\n  return infoMut(prod(percent(element === \"geo\" ? 1.5 : 2.5), shieldNode), { variant: element })\r\n}\r\n/** Note: `additional` applies only to this formula */\r\nexport function healNodeTalent(base: MainStatKey | SubstatKey, baseMultiplier: number[], flat: number[], move: \"normal\" | \"charged\" | \"plunging\" | \"skill\" | \"burst\", additional?: Data): NumNode {\r\n  const talentType = getTalentType(move)\r\n  const talentIndex = input.total[`${talentType}Index`]\r\n  return customHealNode(sum(\r\n    prod(subscript(talentIndex, baseMultiplier, { key: '_' }), input.total[base]),\r\n    subscript(talentIndex, flat)\r\n  ), additional)\r\n}\r\nexport function dataObjForCharacterSheet(\r\n  key: CharacterKey,\r\n  element: ElementKey | undefined,\r\n  region: Region | undefined,\r\n  gen: {\r\n    weaponTypeKey: string,\r\n    base: { hp: number, atk: number, def: number },\r\n    curves: { [key in string]?: string },\r\n    ascensions: { props: { [key in string]?: number } }[]\r\n  },\r\n  display: { [key: string]: DisplaySub },\r\n  additional: Data = {},\r\n): Data {\r\n  function curve(base: number, lvlCurve: string): NumNode {\r\n    return prod(base, subscript(input.lvl, charCurves[lvlCurve]))\r\n  }\r\n  display.basic = { ...commonBasic }\r\n  const data: Data = {\r\n    charKey: constant(key),\r\n    base: {},\r\n    weaponType: constant(gen.weaponTypeKey),\r\n    premod: {},\r\n    display,\r\n  }\r\n  if (element) {\r\n    data.charEle = constant(element)\r\n    data.teamBuff = { tally: { [element]: constant(1) } }\r\n    data.display!.basic[`${element}_dmg_`] = input.total[`${element}_dmg_`]\r\n    data.display!.reaction = reactions[element]\r\n  }\r\n  if (region)\r\n    layeredAssignment(data, [\"teamBuff\", \"tally\", region], constant(1))\r\n  if (gen.weaponTypeKey !== \"catalyst\") {\r\n    if (!data.display!.basic) data.display!.basic = {}\r\n    data.display!.basic!.physical_dmg_ = input.total.physical_dmg_\r\n  }\r\n\r\n  let foundSpecial: boolean | undefined\r\n  for (const stat of [...allMainStatKeys, \"def\" as const]) {\r\n    const list: NumNode[] = []\r\n    if (gen.curves[stat])\r\n      list.push(curve(gen.base[stat], gen.curves[stat]!))\r\n    const asc = gen.ascensions.some(x => x.props[stat])\r\n    if (asc)\r\n      list.push(subscript(input.asc, gen.ascensions.map(x => x.props[stat] ?? NaN)))\r\n\r\n    if (!list.length) continue\r\n\r\n    const result = infoMut(list.length === 1 ? list[0] : sum(...list), { key: stat, prefix: \"char\", asConst: true })\r\n    if (stat.endsWith(\"_dmg_\")) result.info!.variant = stat.slice(0, -5) as any\r\n    if (stat === \"atk\" || stat === \"def\" || stat === \"hp\")\r\n      data.base![stat] = result\r\n    else {\r\n      if (foundSpecial) throw new Error(\"Duplicated Char Special\")\r\n      foundSpecial = true\r\n      data.special = result\r\n      data.premod![stat] = input.special\r\n    }\r\n  }\r\n\r\n  return mergeData([data, inferInfoMut(additional)])\r\n}\r\n","import { Translate } from \"../Components/Translate\"\r\nimport { ReadNode } from \"../Formula/type\"\r\nimport { customStringRead } from \"../Formula/utils\"\r\nimport { ArtifactSetKey, CharacterKey, WeaponKey } from \"../Types/consts\"\r\n\r\nexport const st = (strKey: string, values?: object) => <Translate ns=\"sheet\" key18={strKey} values={values} />\r\nexport const sgt = (strKey: string) => <Translate ns=\"sheet_gen\" key18={strKey} />\r\n\r\nexport const condReadNode = (path: string[]) => customStringRead([\"conditional\", ...path])\r\nexport function cond(key: CharacterKey | WeaponKey | ArtifactSetKey, subKey: string): [path: string[], node: ReadNode<string>] {\r\n  const path = [key, subKey]\r\n  const node = condReadNode(path)\r\n  return [path, node]\r\n}\r\n\r\ntype Translated = [tr: ((i18key: string) => Displayable), tran: ((i18key: string, values?: object) => Displayable)]\r\nexport function trans(typeKey: \"char\", key: CharacterKey): Translated\r\nexport function trans(typeKey: \"weapon\", key: WeaponKey): Translated\r\nexport function trans(typeKey: \"artifact\", key: ArtifactSetKey): Translated\r\nexport function trans(typeKey: \"char\" | \"weapon\" | \"artifact\", key: CharacterKey | WeaponKey | ArtifactSetKey): Translated {\r\n  return [\r\n    (strKey: string) => <Translate ns={`${typeKey}_${key}_gen`} key18={strKey} />,\r\n    (strKey: string, values?: object) => <Translate ns={`${typeKey}_${key}`} key18={strKey} values={values} />\r\n  ]\r\n}\r\n","import type { WeaponData } from \"pipeline\";\r\nimport { inferInfoMut, mergeData } from \"../../Formula/api\";\r\nimport { WeaponKey } from \"../../Types/consts\";\r\nimport _weaponCurves from \"./expCurve_gen.json\";\r\nimport { input } from \"../../Formula\";\r\nimport { Data, DisplaySub } from \"../../Formula/type\";\r\nimport { infoMut, prod, constant, subscript, sum } from \"../../Formula/utils\";\r\n\r\n// TODO: Remove this conversion after changing the file format\r\nconst weaponCurves = Object.fromEntries(Object.entries(_weaponCurves).map(([key, value]) => [key, [0, ...Object.values(value)]]))\r\n\r\nexport function dataObjForWeaponSheet(\r\n  key: WeaponKey,\r\n  gen: WeaponData,\r\n  additional: Data = {},\r\n  displayWeapon: DisplaySub = {},\r\n): Data {\r\n  const result: Data = {\r\n    base: {},\r\n    premod: {},\r\n    total: {},\r\n    weapon: {\r\n      key: constant(key), type: constant(gen.weaponType),\r\n    },\r\n    display: {\r\n      [`weapon:${key}`]: displayWeapon\r\n    },\r\n  }\r\n\r\n  const { mainStat, subStat } = gen\r\n  const merging = [result]\r\n\r\n  if (mainStat.type !== \"atk\" && mainStat.type !== \"def\" && mainStat.type !== \"hp\") throw new Error(\"Main stat type must be `atk`\")\r\n  const mainStatNode = infoMut(sum(prod(mainStat.base, subscript(input.weapon.lvl, weaponCurves[mainStat.curve])), subscript(input.weapon.asc, gen.ascension.map(x => x.addStats[mainStat.type] ?? 0))), { key: mainStat.type })\r\n  merging.push({ base: { [mainStat.type]: input.weapon.main }, weapon: { main: mainStatNode } })\r\n\r\n  if (subStat) {\r\n    if (subStat.type === \"atk\" || subStat.type === \"def\" || subStat.type === \"hp\") throw new Error(\"SubStat cannot be `atk`, `def`, or `hp`\")\r\n    const substatNode = infoMut(prod(subStat.base, subscript(input.weapon.lvl, weaponCurves[subStat.curve])), { key: subStat.type })\r\n    merging.push({\r\n      premod: { [subStat.type]: input.weapon.sub },\r\n      weapon: { sub: substatNode },\r\n    })\r\n  }\r\n  return mergeData([...merging, inferInfoMut(additional, key)])\r\n}\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, min, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Akuoumaru\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"WatatsumiWavewalker\")\r\nconst energyRange = range(4, 36).map(i => i * 10)\r\nconst ratio = [0.0012, 0.0015, 0.0018, 0.0021, 0.0024]\r\nconst max = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst burst_dmg_ = lookup(condPassive, Object.fromEntries(energyRange.map(i => [i, min(prod(subscript(input.weapon.refineIndex, ratio, { key: \"_\" }), i), subscript(input.weapon.refineIndex, max, { key: \"_\" }))])), naught)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"party\"),\r\n      states: Object.fromEntries(energyRange.map(i => [i, {\r\n        name: i.toString(),\r\n        fields: [{ node: burst_dmg_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackcliffSlasher\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst opponentsDefeated = range(1, 3)\r\nconst atkInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = prod(lookup(condPassive, objectKeyMap(opponentsDefeated, i => constant(i)), 0),\r\n  subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"afterDefeatEnemy\"),\r\n      states:\r\n        Object.fromEntries(opponentsDefeated.map(c => [c, {\r\n          name: st(\"stack\", { count: c }),\r\n          fields: [{\r\n            node: atk_,\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 30,\r\n            unit: \"s\"\r\n          }]\r\n        }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BloodtaintedGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfFireAndThunder\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: all_dmg_,\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DebateClub\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmgPerc = [0.6, 0.75, 0.9, 1.05, 1.2]\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FerrousShadow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\n// const hpThreshold = [0.7, 0.75, 0.8, 0.85, 0.9]\r\nconst bonusInc = [0.3, 0.35, 0.4, 0.45, 0.5]\r\nconst [condPassivePath, condPassive] = cond(key, \"Unbending\")\r\nconst charged_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, bonusInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    charged_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      // TODO: need st(\"lessPercentHP\", { percent: xx }) to change depending on the weapon refine index.\r\n      // Probably need to change IConditional.name to have (data:Data)=>Displayable as well.\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: charged_dmg_,\r\n          }, {\r\n            text: trm(\"resistance\")\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"KatsuragikiriNagamasa\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst skill_dmg_Src = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, skill_dmg_Src)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: skill_dmg_ }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LithicBlade\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst atkInc = [0.07, 0.08, 0.09, 0.1, 0.11]\r\nconst critInc = [0.03, 0.04, 0.05, 0.06, 0.07]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), i)), naught)\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, critInc, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"members\")),\r\n      name: trm(\"condName\"),\r\n      states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n        name: st(\"member\", { count: i }),\r\n        fields: [{ node: atk_ }, { node: critRate_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LuxuriousSeaLord\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst burst_dmg_Src = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst dmg_Src = [1, 1.25, 1.5, 1.75, 2]\r\nconst burst_dmg_ = subscript(input.weapon.refineIndex, burst_dmg_Src)\r\nconst [condPassivePath, condPassive] = cond(key, \"OceanicVictory\")\r\nconst dmg_ = equal(condPassive, 'on', customDmgNode(prod(subscript(input.weapon.refineIndex, dmg_Src, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n}))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: burst_dmg_ }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: st('hitOp.burst'),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(dmg_, { key: \"sheet:dmg\" })\r\n          }, {\r\n            text: sgt(\"cd\"),\r\n            value: 15,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"OldMercsPal\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeArchaic\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmg_Src = [2.4, 3, 3.6, 4.2, 4.8]\r\nconst dmg_ = customDmgNode(prod(subscript(input.weapon.refineIndex, dmg_Src, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: infoMut(dmg_, { key: \"sheet:dmg\" }) }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Rainslasher\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.2, 0.24, 0.28, 0.32, 0.36]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfStormAndTide\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: all_dmg_,\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RedhornStonethresher\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst def_Src = [0.28, 0.35, 0.42, 0.49, 0.56]\r\nconst normal_dmg_Src = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst charged_dmg_Src = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst def_ = subscript(input.weapon.refineIndex, def_Src)\r\nconst normal_dmgInc = prod(subscript(input.weapon.refineIndex, normal_dmg_Src, { key: \"_\" }), input.premod.def)\r\nconst charged_dmgInc = prod(subscript(input.weapon.refineIndex, charged_dmg_Src, { key: \"_\" }), input.premod.def)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    def_,\r\n    normal_dmgInc, // TODO: technically should be in \"total\", but should be fine as premod\r\n    charged_dmgInc, // TODO: technically should be in \"total\", but should be fine as premod\r\n  }\r\n}, {\r\n  normal_dmgInc,\r\n  charged_dmgInc,\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: def_\r\n    }, {\r\n      node: normal_dmgInc\r\n    }, {\r\n      node: charged_dmgInc\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst crit_ = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, crit_, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{ node: critRate_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { equal, percent } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SacrificialGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Composed\")\r\nconst cdRed_ = equal(condPassive, 'on', percent(1))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    cdRed_,\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: cdRed_\r\n          },]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SerpentSpine\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst all_dmg_s = [0.06, 0.07, 0.08, 0.09, 0.1]\r\nconst takeDMG_s = [3, 2.7, 2.4, 2.2, 2]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Wavesplitter\")\r\nconst all_dmg_ = subscript(input.weapon.refineIndex, all_dmg_s, { key: \"_\" })\r\nconst all_dmg_stack = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 5), i => prod(all_dmg_, i)),\r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_: all_dmg_stack\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: st(\"activeCharField\"),\r\n      states: {\r\n        ...objectKeyMap(range(1, 5), i => ({\r\n          name: st(\"seconds\", { count: i * 4 }),\r\n          fields: [{\r\n            node: all_dmg_stack\r\n          }, {\r\n            text: trm(\"takeMoreDmg\"),\r\n            value: data => takeDMG_s[data.get(input.weapon.refineIndex).value] * i,\r\n            unit: \"%\"\r\n          }]\r\n        })),\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkyriderGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst bonusInc = [0.06, 0.07, 0.08, 0.09, 0.1]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      name: st(\"hitOp.normalOrCharged\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{ node: atk_ }, { text: sgt(\"duration\"), value: 6, unit: \"s\" }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardPride\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst dmgPerc = [0.8, 1, 1.2, 1.4, 1.6]\r\nconst all_dmg_ = subscript(input.weapon.refineIndex, dmgInc)\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: all_dmg_,\r\n    }, {\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SnowTombedStarsilver\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmgAoePerc = [0.8, 0.95, 1.1, 1.25, 1.4]\r\nconst dmgCryoPerc = [2, 2.4, 2.8, 3.2, 3.6]\r\nconst dmgAoe = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgAoePerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst dmgOnCryoOp = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgCryoPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmgAoe, { key: `weapon_${key}:aoeDmg` }),\r\n    }, {\r\n      node: infoMut(dmgOnCryoOp, { key: `weapon_${key}:cryoAffectedDmg` }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SongOfBrokenPines\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst atk_Src = [0.16, 0.20, 0.24, 0.28, 0.32]\r\nconst atkTeam_Src = [0.20, 0.25, 0.30, 0.35, 0.40]\r\nconst atkSPD_Src = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"RebelsBannerHymn\")\r\nconst atk_ = subscript(input.weapon.refineIndex, atk_Src, { key: \"_\" })\r\nconst atkTeam_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkTeam_Src, { key: \"atk_\" }))\r\nconst atkSPD_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkSPD_Src))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: atkTeam_,\r\n      atkSPD_,\r\n    }\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: atk_ }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      teamBuff: true,\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"milMove\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"name\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atkTeam_\r\n          }, {\r\n            node: atkSPD_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 12,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customShieldNode } from '../../../Characters/dataUtil'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheBell\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst shieldSrc = [0.2, 0.23, 0.26, 0.29, 0.32]\r\nconst allDmgSrc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"RebelliousGuardian\")\r\nconst shield = customShieldNode(prod(subscript(input.weapon.refineIndex, shieldSrc, { key: \"_\" }), input.total.hp))\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\nconst all_dmg_ = subscript(input.weapon.refineIndex, allDmgSrc, { key: \"_\" })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n}, {\r\n  shield\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: st(\"takeDmg\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            text: trm(\"generateShield\")\r\n          }, {\r\n            node: infoMut(shield, { key: `sheet_gen:dmgAbsorption` })\r\n          }, {\r\n            text: sgt(\"cd\"),\r\n            value: 45,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    conditional: {\r\n      value: condWithShield,\r\n      path: condWithShieldPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: st(\"protectedByShield\"),\r\n      states: {\r\n        protected: {\r\n          fields: [{\r\n            node: all_dmg_\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheUnforged\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst shieldSrc = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst atkSrc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\nconst shield_ = subscript(input.weapon.refineIndex, shieldSrc)\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\nconst atkInc = subscript(input.weapon.refineIndex, atkSrc)\r\nconst atkStacks = prod(\r\n  sum(1, equal(condWithShield, \"protected\", 1)),\r\n  lookup(condPassive, Object.fromEntries(range(1, 5).map(i =>\r\n    [i, prod(atkInc, i)])), naught)\r\n)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    shield_,\r\n    atk_: atkStacks\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: shield_\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"hits\"),\r\n      states: Object.fromEntries(range(1, 5).map(i => \r\n        [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{\r\n            node: atkStacks\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 8,\r\n            unit: \"s\"\r\n          }]\r\n        }]\r\n      )),\r\n    }\r\n  }, {\r\n    conditional: {\r\n      value: condWithShield,\r\n      path: condWithShieldPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"shield\")),\r\n      name: st(\"protectedByShield\"),\r\n      states: {\r\n        protected: {\r\n          fields: [{\r\n            text: trm(\"atkEffInc\"),\r\n            value: 100,\r\n            unit: \"%\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"WasterGreatsword\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Whiteblind\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst bonusInc = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\nconst def_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    def_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      name: st(\"hitOp.normalOrCharged\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          node: def_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 6,\r\n          unit: \"s\"\r\n        }]\r\n      }]))\r\n    }\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WhiteIronGreatsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst hpRegen = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst [condPath, condNode] = cond(key, \"CullTheWeak\")\r\nconst heal = equal(condNode, 'on', customHealNode(prod(subscript(input.weapon.refineIndex, hpRegen, { key: \"_\" }), input.total.hp)))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, undefined, { heal })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condNode,\r\n      path: condPath,\r\n      name: st('afterDefeatEnemy'),\r\n      header: conditionalHeader(tr, icon, iconAwaken, sgt(\"healing\")),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" })\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WolfsGravestone\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst atk_Src = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst atkTeam_Src = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst [condPassivePath, condPassive] = cond(key, \"WolfishTracker\")\r\nconst atk_ = subscript(input.weapon.refineIndex, atk_Src)\r\nconst atkTeam_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkTeam_Src, { key: \"atk_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: atkTeam_,\r\n    }\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fields: [{ node: atk_ }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      teamBuff: true,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: trm('condName'),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atkTeam_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 12,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponClaymoreKey } from \"../../../Types/consts\"\r\nimport WeaponSheet from \"../WeaponSheet\"\r\nimport Akuoumaru from \"./Akuoumaru\"\r\nimport BlackcliffSlasher from \"./BlackcliffSlasher\"\r\nimport BloodtaintedGreatsword from \"./BloodtaintedGreatsword\"\r\nimport DebateClub from \"./DebateClub\"\r\nimport FavoniusGreatsword from \"./FavoniusGreatsword\"\r\nimport FerrousShadow from \"./FerrousShadow\"\r\nimport KatsuragikiriNagamasa from \"./KatsuragikiriNagamasa\"\r\nimport LithicBlade from \"./LithicBlade\"\r\nimport LuxuriousSeaLord from \"./LuxuriousSeaLord\"\r\nimport OldMercsPal from \"./OldMercsPal\"\r\nimport PrototypeArchaic from \"./PrototypeArchaic\"\r\nimport Rainslasher from \"./Rainslasher\"\r\nimport RedhornStonethresher from \"./RedhornStonethresher\"\r\nimport RoyalGreatsword from \"./RoyalGreatsword\"\r\nimport SacrificialGreatsword from \"./SacrificialGreatsword\"\r\nimport SerpentSpine from \"./SerpentSpine\"\r\nimport SkyriderGreatsword from \"./SkyriderGreatsword\"\r\nimport SkywardPride from \"./SkywardPride\"\r\nimport SnowTombedStarsilver from \"./SnowTombedStarsilver\"\r\nimport SongOfBrokenPines from \"./SongOfBrokenPines\"\r\nimport TheBell from \"./TheBell\"\r\nimport TheUnforged from \"./TheUnforged\"\r\nimport WasterGreatsword from \"./WasterGreatsword\"\r\nimport Whiteblind from \"./Whiteblind\"\r\nimport WhiteIronGreatsword from \"./WhiteIronGreatsword\"\r\nimport WolfsGravestone from \"./WolfsGravestone\"\r\nconst claymore: Record<WeaponClaymoreKey, WeaponSheet> = {\r\n  Akuoumaru,\r\n  BlackcliffSlasher,\r\n  BloodtaintedGreatsword,\r\n  DebateClub,\r\n  FavoniusGreatsword,\r\n  FerrousShadow,\r\n  KatsuragikiriNagamasa,\r\n  LithicBlade,\r\n  LuxuriousSeaLord,\r\n  OldMercsPal,\r\n  PrototypeArchaic,\r\n  Rainslasher,\r\n  RedhornStonethresher,\r\n  RoyalGreatsword,\r\n  SacrificialGreatsword,\r\n  SerpentSpine,\r\n  SkyriderGreatsword,\r\n  SkywardPride,\r\n  SnowTombedStarsilver,\r\n  SongOfBrokenPines,\r\n  TheBell,\r\n  TheUnforged,\r\n  WasterGreatsword,\r\n  Whiteblind,\r\n  WhiteIronGreatsword,\r\n  WolfsGravestone,\r\n} as const\r\nexport default claymore\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"AmenomaKageuchi\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"AquilaFavonia\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst atkDealt = [2, 2.3, 2.6, 2.9, 3.2]\r\nconst hpRegen = [1, 1.15, 1.3, 1.45, 1.6]\r\nconst [condPath, condNode] = cond(key, \"FalconOfTheWest\")\r\nconst atk_ = subscript(input.weapon.refineIndex, data_gen.addProps.map(x => x.atk_ ?? NaN))\r\nconst heal = equal(condNode, 'on', prod(subscript(input.weapon.refineIndex, hpRegen, { key: \"_\" }), input.premod.atk))\r\nconst dmg = equal(condNode, 'on', customDmgNode(prod(subscript(input.weapon.refineIndex, atkDealt, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n}))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n  },\r\n}, {\r\n  heal, dmg\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: atk_,\r\n    }],\r\n    conditional: {\r\n      value: condNode,\r\n      path: condPath,\r\n      name: st('takeDmg'),\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"soul\")),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" })\r\n          }, {\r\n            node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n          }, {\r\n            text: sgt(\"cd\"),\r\n            value: 15,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackcliffLongsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst opponentsDefeated = range(1, 3)\r\nconst atkInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = prod(lookup(condPassive, objectKeyMap(opponentsDefeated, i => constant(i)), 0),\r\n  subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"afterDefeatEnemy\"),\r\n      states:\r\n        Object.fromEntries(opponentsDefeated.map(c => [c, {\r\n          name: st(\"stack\", { count: c }),\r\n          fields: [{\r\n            node: atk_,\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 30,\r\n            unit: \"s\"\r\n          }]\r\n        }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CinnabarSpindle\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst eleDmgIncSrc = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst [condPassivePath, condPassive] = cond(key, \"SpotlessHeart\")\r\nconst skill_dmgInc = equal(\"on\", condPassive, prod(subscript(input.weapon.refineIndex, eleDmgIncSrc, { key: \"_\" }), input.premod.def))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: { // TODO: should be total\r\n    skill_dmgInc\r\n  }\r\n}, {\r\n  skill_dmgInc\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"name\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: skill_dmgInc\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CoolSteel\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfWaterAndIce\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: all_dmg_,\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DarkIronSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst atkInc = [0.2, 0.25, 0.3, 0.35, 0.5]\r\nconst [condPassivePath, condPassive] = cond(key, \"Overloaded\")\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk_,\r\n          }, {\r\n            text: st(\"duration\"),\r\n            value: 12,\r\n            unit: 's'\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"DullBlade\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport icon from './Icon.png'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport { subscript } from \"../../../../Formula/utils\"\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport { input } from '../../../../Formula'\r\nimport data_gen_json from './data_gen.json'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\n\r\nconst key: WeaponKey = \"FesteringDesire\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst skill_dmgInc = [0.16, 0.2, 0.24, 0.28, 0.32]\r\nconst skill_critInc = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, skill_dmgInc, { key: '_' })\r\nconst skill_critRate_ = subscript(input.weapon.refineIndex, skill_critInc, { key: '_' })\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    skill_critRate_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: skill_dmg_\r\n    }, {\r\n      node: skill_critRate_\r\n    }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FilletBlade\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmg_Src = [2.4, 2.8, 3.2, 3.6, 4]\r\nconst cd_Src = [15, 14, 13, 12, 11]\r\nconst dmg_ = customDmgNode(prod(subscript(input.weapon.refineIndex, dmg_Src, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  dmg_\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [\r\n      { node: infoMut(dmg_, { key: \"sheet:dmg\" }) },\r\n      {\r\n        text: sgt(\"cd\"),\r\n        value: (data) => cd_Src[data.get(input.weapon.refineIndex).value],\r\n        unit: \"s\"\r\n      }\r\n    ]\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FreedomSworn\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"MillennialMovement\")\r\nconst autoSrc = [0.16, 0.20, 0.24, 0.28, 0.32]\r\nconst atk_Src = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atk_Src))\r\nconst normal_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, autoSrc))\r\nconst charged_dmg_ = { ...normal_dmg_ }\r\nconst plunging_dmg_ = { ...normal_dmg_ }\r\nconst dmg_ = subscript(input.weapon.refineIndex, data_gen.addProps.map(x => x.dmg_ ?? NaN))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_: dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_,\r\n      normal_dmg_,\r\n      charged_dmg_,\r\n      plunging_dmg_,\r\n    }\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: dmg_ }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      teamBuff: true,\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"milMove\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"sigilsConsumed\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk_\r\n          }, {\r\n            node: normal_dmg_\r\n          }, {\r\n            node: charged_dmg_\r\n          }, {\r\n            node: plunging_dmg_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 12,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"HarbingerOfDawn\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"SkyPiercingMight\")\r\nconst critRateSrc_ = [0.14, 0.175, 0.21, 0.245, 0.28]\r\nconst critRate_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, critRateSrc_))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_,\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: st(\"greaterPercentHP\", { percent: 90 }),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: critRate_\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"IronSting\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"InfusionStinger\")\r\nconst eleDmgDealtStack = range(1, 2)\r\nconst allDmgInc = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst all_dmg_ = prod(lookup(condPassive, objectKeyMap(eleDmgDealtStack, i => constant(i)), naught),\r\n  subscript(input.weapon.refineIndex, allDmgInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: trm(\"condName\"),\r\n      states:\r\n        Object.fromEntries(eleDmgDealtStack.map(c => [c, {\r\n          name: st(\"stack\", { count: c }),\r\n          fields: [{\r\n            node: all_dmg_,\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LionsRoar\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfFireAndThunder\")\r\nconst dmgInc = [0.2, 0.24, 0.28, 0.32, 0.36]\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: all_dmg_,\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, subscript, sum } from \"../../../../Formula/utils\"\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap } from '../../../../Util/Util'\r\nimport { cond, trans, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MistsplitterReforged\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst stacks = [\"1\", \"2\", \"3\"] as const\r\nconst passiveRefine = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst stacksRefine = {\r\n  \"1\": [0.08, 0.1, 0.12, 0.14, 0.16],\r\n  \"2\": [0.16, 0.2, 0.24, 0.28, 0.32],\r\n  \"3\": [0.28, 0.35, 0.42, 0.49, 0.56]\r\n}\r\nconst [condPath, condNode] = cond(key, \"MistsplittersEmblem\")\r\nconst passive_dmg_ = Object.fromEntries(allElements.map(ele =>\r\n  [`${ele}_dmg_`,\r\n  subscript(input.weapon.refineIndex, passiveRefine, { key: `${ele}_dmg_`, variant: ele })]\r\n))\r\nconst stacks_dmg_ = Object.fromEntries(allElements.map(ele =>\r\n  [`${ele}_dmg_`,\r\n  equal(input.charEle, ele,\r\n    lookup(condNode, objectKeyMap(stacks, stack =>\r\n      subscript(input.weapon.refineIndex, stacksRefine[stack])), naught, { key: `${ele}_dmg_`, variant: ele })\r\n  )]\r\n))\r\nconst allEle_dmg_ = Object.fromEntries(allElements.map(ele =>\r\n  [`${ele}_dmg_`,\r\n  sum(passive_dmg_[`${ele}_dmg_`], stacks_dmg_[`${ele}_dmg_`])]\r\n))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    ...allEle_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [ // Passive\r\n      ...allElements.map((ele) => {\r\n        return { node: passive_dmg_[`${ele}_dmg_`] }\r\n      })\r\n    ],\r\n    conditional: { // Stacks - Mistsplitter's Emblem\r\n      value: condNode,\r\n      path: condPath,\r\n      name: trm(\"emblem\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"emblem\")),\r\n      states: Object.fromEntries(\r\n        stacks.map(stack => [stack, {\r\n          name: st(\"stack\", { count: parseInt(stack) }),\r\n          fields: allElements.map(ele => ({\r\n            node: stacks_dmg_[`${ele}_dmg_`]\r\n          }))\r\n        }])\r\n      )\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrimordialJadeCutter\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst hpSrc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst atkSrc = [0.012, 0.015, 0.018, 0.021, 0.024]\r\nconst hp_ = subscript(input.weapon.refineIndex, hpSrc)\r\nconst atk = prod(subscript(input.weapon.refineIndex, atkSrc, { key: \"_\" }), input.premod.hp)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    hp_,\r\n  },\r\n  total: {\r\n    atk\r\n  }\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: hp_ }, { node: atk }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeRancour\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst bonusInc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\nconst def_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    def_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"onHit\"),\r\n      states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{ node: atk_ }, { node: def_ }, { text: sgt(\"duration\"), value: 6, unit: \"s\" }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalLongsword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst crit_ = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, crit_, { key: \"_\" }), i)), naught)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: trm(\"condName\"),\r\n      states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{ node: critRate_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { equal, percent } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SacrificialSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Composed\")\r\nconst cdRed_ = equal(condPassive, 'on', percent(1))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    cdRed_,\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: cdRed_\r\n          },]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"SilverSword\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkyriderSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Determination\")\r\nconst bonusInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = equal(condPassive, 'on', subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }))\r\nconst moveSPD_ = equal(condPassive, 'on', subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    moveSPD_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: st(\"afterUse.burst\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk_\r\n          }, {\r\n            node: moveSPD_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 15,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, percent, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardBlade\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"SkyPiercingMight\")\r\nconst atkSrc_ = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst moveSPD_ = equal(\"on\", condPassive, percent(0.1))\r\nconst atkSPD_ = equal(\"on\", condPassive, percent(0.1))\r\nconst dmg = equal(\"on\", condPassive, customDmgNode(prod(subscript(input.weapon.refineIndex, atkSrc_, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n}))\r\nconst critRate_ = subscript(input.weapon.refineIndex, data_gen.addProps.map(x => x.critRate_ ?? NaN))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_,\r\n    moveSPD_,\r\n    atkSPD_,\r\n  }\r\n}, { dmg })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: critRate_ }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"might\")),\r\n      description: conditionaldesc(tr),\r\n      name: st('afterUse.burst'),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: moveSPD_\r\n          }, {\r\n            node: atkSPD_\r\n          }, {\r\n            node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 12,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SummitShaper\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\nconst shieldSrc = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst atkSrc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\nconst shield_ = subscript(input.weapon.refineIndex, shieldSrc)\r\nconst atkInc = subscript(input.weapon.refineIndex, atkSrc)\r\nconst atkStacks = prod(\r\n  sum(1, equal(condWithShield, \"protected\", 1)),\r\n  lookup(condPassive, Object.fromEntries(range(1, 5).map(i =>\r\n    [i, prod(atkInc, i)])), naught)\r\n)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    shield_,\r\n    atk_: atkStacks\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: shield_\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"hits\"),\r\n      states: Object.fromEntries(range(1, 5).map(i =>\r\n        [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{\r\n            node: atkStacks\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 8,\r\n            unit: \"s\"\r\n          }]\r\n        }]\r\n      )),\r\n    }\r\n  }, {\r\n    conditional: {\r\n      value: condWithShield,\r\n      path: condWithShieldPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"shield\")),\r\n      name: st(\"protectedByShield\"),\r\n      states: {\r\n        protected: {\r\n          fields: [{\r\n            text: trm(\"atkEffInc\"),\r\n            value: 100,\r\n            unit: \"%\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, percent, prod } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SwordOfDescension\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst atk = equal(\"Traveler\", input.charKey, constant(66))\r\nconst dmg_ = customDmgNode(prod(percent(2), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk\r\n  }\r\n}, {\r\n  dmg_\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [\r\n      {\r\n        node: atk\r\n      },\r\n      {\r\n        node: infoMut(dmg_, { key: \"sheet:dmg\" })\r\n      }\r\n    ]\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheAlleyFlash\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"ItinerantHero\")\r\nconst bonusInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst all_dmg_ = equal(condPassive, 'on', subscript(input.weapon.refineIndex, bonusInc, { key: \"_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: all_dmg_\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheBlackSword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst autoSrc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst hpRegenSrc = [0.6, 0.7, 0.8, 0.9, 1]\r\nconst normal_dmg_ = subscript(input.weapon.refineIndex, autoSrc)\r\nconst charged_dmg_ = subscript(input.weapon.refineIndex, autoSrc)\r\nconst heal = customHealNode(prod(subscript(input.weapon.refineIndex, hpRegenSrc, { key: \"_\" }), input.total.atk))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_\r\n  }\r\n}, { heal })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [\r\n      { node: normal_dmg_ },\r\n      { node: charged_dmg_ },\r\n      { node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" }) }\r\n    ]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, percent, prod } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheFlute\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmg_ = customDmgNode(prod(percent(2), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  dmg_\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: infoMut(dmg_, { key: \"sheet:dmg\" }) }]\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TravelersHandySword\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst hpRegenSrc = [0.01, 0.0125, 0.015, 0.0175, 0.02]\r\nconst heal = customHealNode(prod(subscript(input.weapon.refineIndex, hpRegenSrc, { key: \"_\" }), input.total.hp))\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, { heal })\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [\r\n      { node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" }) }\r\n    ]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponSwordKey } from \"../../../Types/consts\"\r\nimport WeaponSheet from \"../WeaponSheet\"\r\nimport AmenomaKageuchi from \"./AmenomaKageuchi\"\r\nimport AquilaFavonia from \"./AquilaFavonia\"\r\nimport BlackcliffLongsword from \"./BlackcliffLongsword\"\r\nimport CinnabarSpindle from \"./CinnabarSpindle\"\r\nimport CoolSteel from \"./CoolSteel\"\r\nimport DarkIronSword from \"./DarkIronSword\"\r\nimport DullBlade from \"./DullBlade\"\r\nimport FavoniusSword from \"./FavoniusSword\"\r\nimport FesteringDesire from \"./FesteringDesire\"\r\nimport FilletBlade from \"./FilletBlade\"\r\nimport FreedomSworn from \"./FreedomSworn\"\r\nimport HarbingerOfDawn from \"./HarbingerOfDawn\"\r\nimport IronSting from \"./IronSting\"\r\nimport LionsRoar from \"./LionsRoar\"\r\nimport MistsplitterReforged from \"./MistsplitterReforged\"\r\nimport PrimordialJadeCutter from \"./PrimordialJadeCutter\"\r\nimport PrototypeRancour from \"./PrototypeRancour\"\r\nimport RoyalLongsword from \"./RoyalLongsword\"\r\nimport SacrificialSword from \"./SacrificialSword\"\r\nimport SilverSword from \"./SilverSword\"\r\nimport SkyriderSword from \"./SkyriderSword\"\r\nimport SkywardBlade from \"./SkywardBlade\"\r\nimport SummitShaper from \"./SummitShaper\"\r\nimport SwordOfDescension from \"./SwordOfDescension\"\r\nimport TheAlleyFlash from \"./TheAlleyFlash\"\r\nimport TheBlackSword from \"./TheBlackSword\"\r\nimport TheFlute from \"./TheFlute\"\r\nimport TravelersHandySword from \"./TravelersHandySword\"\r\nconst sword: Record<WeaponSwordKey, WeaponSheet> = {\r\n  AmenomaKageuchi,\r\n  AquilaFavonia,\r\n  BlackcliffLongsword,\r\n  CinnabarSpindle,\r\n  CoolSteel,\r\n  DarkIronSword,\r\n  DullBlade,\r\n  FavoniusSword,\r\n  FesteringDesire,\r\n  FilletBlade,\r\n  FreedomSworn,\r\n  HarbingerOfDawn,\r\n  IronSting,\r\n  LionsRoar,\r\n  MistsplitterReforged,\r\n  PrimordialJadeCutter,\r\n  PrototypeRancour,\r\n  RoyalLongsword,\r\n  SacrificialSword,\r\n  SilverSword,\r\n  SkyriderSword,\r\n  SkywardBlade,\r\n  SummitShaper,\r\n  SwordOfDescension,\r\n  TheAlleyFlash,\r\n  TheBlackSword,\r\n  TheFlute,\r\n  TravelersHandySword,\r\n} as const\r\nexport default sword\r\n","import icon from './Icon.png'\r\nimport iconAwaken from './AwakenIcon.png'\r\n\r\nimport data_gen_json from './data_gen.json'\r\nimport { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\n\r\nconst key: WeaponKey = \"BeginnersProtector\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\nconst key: WeaponKey = \"BlackcliffPole\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst opponentsDefeated = range(1, 3)\r\nconst atkInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = prod(lookup(condPassive, objectKeyMap(opponentsDefeated, i => constant(i)), 0),\r\n  subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"afterDefeatEnemy\"),\r\n      states:\r\n        Object.fromEntries(opponentsDefeated.map(c => [c, {\r\n          name: st(\"stack\", { count: c }),\r\n          fields: [{\r\n            node: atk_,\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 30,\r\n            unit: \"s\"\r\n          }]\r\n        }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackTassel\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: all_dmg_,\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, matchFull, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CalamityQueller\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\n// const [condActivePath, condActive] = cond(key, \"active\")\r\n\r\nconst dmg_ = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = [0.032, 0.04, 0.048, 0.056, 0.064]\r\n\r\nconst dmg_Nodes = Object.fromEntries(allElements.map(e => [`${e}_dmg_`, subscript(input.weapon.refineIndex, dmg_)]))\r\nconst atkInc = prod(\r\n  matchFull(input.activeCharKey, input.charKey,\r\n    constant(1, { /* TODO: Add key for active char */ }),\r\n    constant(2, { /* TODO: Add key for inactive char */ })),\r\n  lookup(condStack, objectKeyMap(range(1, 6), i => constant(i)), 0), // TODO: Add key for stack\r\n  subscript(input.weapon.refineIndex, atk_, { key: '_' }),\r\n)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    ...dmg_Nodes,\r\n    atk_: atkInc,\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: Object.values(dmg_Nodes).map(node => ({ node })),\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: tr(\"passiveName\"),\r\n      states: Object.fromEntries(range(1, 6).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{ node: atkInc }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, equal, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CrescentPike\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst atkInc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst [condPassivePath, condPassive] = cond(key, \"InfusionNeedle\")\r\nconst hit = equal(condPassive, 'on', customDmgNode(prod(input.total.atk, subscript(input.weapon.refineIndex, atkInc, { key: \"_\" })), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n}))\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  hit\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(hit, { key: `weapon_${key}:hitName` })\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, equal, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Deathmatch\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst atkDefInc = [0.16, 0.2, 0.24, 0.28, 0.32]\r\nconst atkInc = [0.24, 0.3, 0.36, 0.42, 0.48]\r\nconst atk_ = lookup(condStack, { \"oneOrNone\": subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), \"moreThanOne\": subscript(input.weapon.refineIndex, atkDefInc, { key: \"_\" }) }, naught)\r\nconst def_ = equal(condStack, \"moreThanOne\", subscript(input.weapon.refineIndex, atkDefInc, { key: \"_\" }))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    def_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        \"oneOrNone\": {\r\n          name: trm(\"opponents.oneOrNone\"),\r\n          fields: [{ node: atk_ }, { node: def_ }]\r\n        },\r\n        \"moreThanOne\": {\r\n          name: trm(\"opponents.moreThanOne\"),\r\n          fields: [{ node: atk_ }, { node: def_ }]\r\n        },\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DragonsBane\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.2, 0.24, 0.28, 0.32, 0.36]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfFlameAndWater\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: all_dmg_,\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DragonspineSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmgAoePerc = [0.8, 0.95, 1.1, 1.25, 1.4]\r\nconst dmgCryoPerc = [2, 2.4, 2.8, 3.2, 3.6]\r\nconst dmgAoe = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgAoePerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst dmgOnCryoOp = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgCryoPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmgAoe, { key: `weapon_${key}:aoeDmg` }),\r\n    }, {\r\n      node: infoMut(dmgOnCryoOp, { key: `weapon_${key}:cryoAffectedDmg` }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, min, percent, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"EngulfingLightning\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst atk = [0.28, 0.35, 0.42, 0.49, 0.56]\r\nconst atkMax = [0.8, 0.9, 1, 1.1, 1.2]\r\nconst atk_ = min(prod(subscript(input.weapon.refineIndex, atk), sum(input.total.enerRech_, percent(-1))), subscript(input.weapon.refineIndex, atkMax))\r\n\r\nconst enerRech = [0.3, 0.35, 0.40, 0.45, 0.5, 0.55]\r\nconst [condPassivePath, condPassive] = cond(key, \"TimelessDream\")\r\nconst enerRech_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, enerRech))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    enerRech_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: atk_,\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: st(\"afterUse.burst\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: enerRech_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 12,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusLance\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Halberd\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmgPerc = [1.6, 2, 2.4, 2.8, 3.2]\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import icon from './Icon.png'\r\nimport iconAwaken from './AwakenIcon.png'\r\n\r\nimport data_gen_json from './data_gen.json'\r\nimport { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\n\r\nconst key: WeaponKey = \"IronPoint\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"KitainCrossSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst skill_dmgInc = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, skill_dmgInc)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: skill_dmg_,\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LithicSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst atkInc = [0.07, 0.08, 0.09, 0.1, 0.11]\r\nconst critInc = [0.03, 0.04, 0.05, 0.06, 0.07]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), i)), naught)\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, critInc, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"members\")),\r\n      name: trm(\"condName\"),\r\n      states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n        name: st(\"member\", { count: i }),\r\n        fields: [{ node: atk_ }, { node: critRate_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrimordialJadeWingedSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst atkInc = [0.032, 0.039, 0.046, 0.053, 0.06]\r\nconst allDmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = lookup(condStack, objectKeyMap(range(1, 7), i => prod(subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), i)), naught)\r\nconst all_dmg_ = equal(condStack, \"7\", subscript(input.weapon.refineIndex, allDmgInc, { key: \"_\" }))\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    all_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"hitOp.none\"),\r\n      states: Object.fromEntries(range(1, 7).map(i => [i, {\r\n        name: st(\"hits\", { count: i }),\r\n        fields: [{ node: atk_ }, { node: all_dmg_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeStarglitter\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst dmgInc = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst normal_dmg_ = lookup(condStack, objectKeyMap(range(1, 2), i => prod(subscript(input.weapon.refineIndex, dmgInc, { key: \"_\" }), i)), naught)\r\nconst charged_dmg_ = lookup(condStack, objectKeyMap(range(1, 2), i => prod(subscript(input.weapon.refineIndex, dmgInc, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"afterUse.skill\"),\r\n      states: Object.fromEntries(range(1, 2).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{ node: normal_dmg_ }, { node: charged_dmg_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalSpear\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst crit_ = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, crit_, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: trm(\"condName\"),\r\n      states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{ node: critRate_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, percent, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardSpine\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst critRateInc = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst dmgPerc = [0.4, 0.55, 0.7, 0.85, 1]\r\nconst atkSPD_ = percent(0.12)\r\nconst critRate_ = subscript(input.weapon.refineIndex, critRateInc)\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_,\r\n    atkSPD_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: critRate_,\r\n    }, {\r\n      node: atkSPD_,\r\n    }, {\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, infoMut, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"StaffOfHoma\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst hpInc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst atkInc = [0.008, 0.01, 0.012, 0.014, 0.016]\r\nconst lowHpAtkInc = [0.01, 0.012, 0.014, 0.016, 0.018]\r\nconst hp_ = subscript(input.weapon.refineIndex, hpInc, { key: \"_\" })\r\nconst [condPassivePath, condPassive] = cond(key, \"RecklessCinnabar\")\r\nconst atk1_ = prod(subscript(input.weapon.refineIndex, atkInc, { key: \"_\" }), input.premod.hp)\r\nconst atk2_ = equal(\"on\", condPassive, prod(subscript(input.weapon.refineIndex, lowHpAtkInc, { key: \"_\" }), input.premod.hp), { key: \"atk\" })\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    hp_,\r\n  },\r\n  total: {\r\n    atk: sum(atk1_, atk2_)\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: hp_\r\n    }, {\r\n      node: infoMut(atk1_, { key: \"atk\" })\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: st(\"lessPercentHP\", { percent: 50 }),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk2_,\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheCatch\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst burstDmgSrc_ = [0.16, 0.2, 0.24, 0.28, 0.32]\r\nconst burstCritSrc_ = [0.06, 0.075, 0.09, 0.105, 0.12]\r\nconst burst_dmg_ = subscript(input.weapon.refineIndex, burstDmgSrc_)\r\nconst burst_critRate_ = subscript(input.weapon.refineIndex, burstCritSrc_)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_,\r\n    burst_critRate_,\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: burst_dmg_ }, { node: burst_critRate_ }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"VortexVanquisher\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\nconst shieldSrc = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst atkSrc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\nconst shield_ = subscript(input.weapon.refineIndex, shieldSrc)\r\n\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\n\r\nconst atkInc = subscript(input.weapon.refineIndex, atkSrc)\r\nconst atkStacks = prod(\r\n  sum(1, equal(condWithShield, \"protected\", 1)),\r\n  lookup(condPassive, Object.fromEntries(range(1, 5).map(i =>\r\n    [i, prod(atkInc, i)])), naught)\r\n)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    shield_,\r\n    atk_: atkStacks\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: shield_\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"hits\"),\r\n      states: Object.fromEntries(range(1, 5).map(i => \r\n        [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{\r\n            node: atkStacks\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 8,\r\n            unit: \"s\"\r\n          }]\r\n        }]\r\n      )),\r\n    }\r\n  }, {\r\n    conditional: {\r\n      value: condWithShield,\r\n      path: condWithShieldPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"shield\")),\r\n      name: st(\"protectedByShield\"),\r\n      states: {\r\n        protected: {\r\n          fields: [{\r\n            text: trm(\"atkEffInc\"),\r\n            value: 100,\r\n            unit: \"%\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, min, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WavebreakersFin\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"WatatsumiWavewalker\")\r\nconst energyRange = range(4, 36).map(i => i * 10)\r\nconst ratio = [0.0012, 0.0015, 0.0018, 0.0021, 0.0024]\r\nconst max = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst burst_dmg_ = lookup(condPassive, Object.fromEntries(energyRange.map(i => [i, min(prod(subscript(input.weapon.refineIndex, ratio, { key: \"_\" }), i), subscript(input.weapon.refineIndex, max, { key: \"_\" }))])), naught)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"party\"),\r\n      states: Object.fromEntries(energyRange.map(i => [i, {\r\n        name: i.toString(),\r\n        fields: [{ node: burst_dmg_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WhiteTassel\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.24, 0.30, 0.36, 0.42, 0.48]\r\nconst normal_dmg_ = subscript(input.weapon.refineIndex, dmgInc)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_dmg_,\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponPoleArmKey } from '../../../Types/consts'\r\nimport WeaponSheet from '../WeaponSheet'\r\nimport BeginnersProtector from './BeginnersProtector'\r\nimport BlackcliffPole from './BlackcliffPole'\r\nimport BlackTassel from './BlackTassel'\r\nimport CalamityQueller from './CalamityQueller'\r\nimport CrescentPike from './CrescentPike'\r\nimport Deathmatch from './Deathmatch'\r\nimport DragonsBane from './DragonsBane'\r\nimport DragonspineSpear from './DragonspineSpear'\r\nimport EngulfingLightning from './EngulfingLightning'\r\nimport FavoniusLance from './FavoniusLance'\r\nimport Halberd from './Halberd'\r\nimport IronPoint from './IronPoint'\r\nimport KitainCrossSpear from './KitainCrossSpear'\r\nimport LithicSpear from './LithicSpear'\r\nimport PrimordialJadeWingedSpear from './PrimordialJadeWingedSpear'\r\nimport PrototypeStarglitter from './PrototypeStarglitter'\r\nimport RoyalSpear from './RoyalSpear'\r\nimport SkywardSpine from './SkywardSpine'\r\nimport StaffOfHoma from './StaffOfHoma'\r\nimport TheCatch from './TheCatch'\r\nimport VortexVanquisher from './VortexVanquisher'\r\nimport WavebreakersFin from './WavebreakersFin'\r\nimport WhiteTassel from './WhiteTassel'\r\nconst polearm: Record<WeaponPoleArmKey, WeaponSheet> = {\r\n  BeginnersProtector,\r\n  BlackcliffPole,\r\n  BlackTassel,\r\n  CalamityQueller,\r\n  CrescentPike,\r\n  Deathmatch,\r\n  DragonsBane,\r\n  DragonspineSpear,\r\n  EngulfingLightning,\r\n  FavoniusLance,\r\n  Halberd,\r\n  IronPoint,\r\n  KitainCrossSpear,\r\n  LithicSpear,\r\n  PrimordialJadeWingedSpear,\r\n  PrototypeStarglitter,\r\n  RoyalSpear,\r\n  SkywardSpine,\r\n  StaffOfHoma,\r\n  TheCatch,\r\n  VortexVanquisher,\r\n  WavebreakersFin,\r\n  WhiteTassel,\r\n} as const\r\nexport default polearm\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, subscript, prod, naught } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet, conditionalHeader, conditionaldesc } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"AlleyHunter\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\nconst dmgInc = [.02, .025, .03, .035, .04]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"OppidanAmbush\")\r\nconst all_dmg_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 10), i => prod(subscript(input.weapon.refineIndex, dmgInc), i))\r\n}, naught)\r\n\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: Object.fromEntries(range(1, 10).map(c => [c, {\r\n        name: `${c}s`,\r\n        fields: [{\r\n          node: all_dmg_\r\n        }],\r\n      }]))\r\n    }\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"AmosBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\nconst autoDmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst arrowDmgInc = [0.08, 0.10, 0.12, 0.14, 0.16]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"StrongWilled\")\r\nconst normal_dmg_ = subscript(input.weapon.refineIndex, autoDmgInc, { key: \"normal_dmg_\" })\r\nconst charged_dmg_ = subscript(input.weapon.refineIndex, autoDmgInc, { key: \"charged_dmg_\" })\r\n\r\nconst dmgInc = subscript(input.weapon.refineIndex, arrowDmgInc)\r\nconst normal_dmg_arrow_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 5), i => prod(dmgInc, i)),\r\n}, naught, { key: \"normal_dmg_\" })\r\nconst charged_dmg_arrow_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 5), i => prod(dmgInc, i)),\r\n}, naught, { key: \"charged_dmg_\" })\r\n\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_: sum(normal_dmg_, normal_dmg_arrow_),\r\n    charged_dmg_: sum(charged_dmg_, charged_dmg_arrow_),\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [\r\n      { node: normal_dmg_ },\r\n      { node: charged_dmg_ },\r\n    ],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: objectKeyMap(range(1, 5), i => ({\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: normal_dmg_arrow_\r\n        }, {\r\n          node: charged_dmg_arrow_\r\n        }]\r\n      })),\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, subscript, prod, naught } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, sgt, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackcliffWarbow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\nconst atkInc = [.12, .15, .18, .21, .24]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst atk_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 3), i => prod(subscript(input.weapon.refineIndex, atkInc), i))\r\n}, naught)\r\n\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"afterDefeatEnemy\"),\r\n      states: Object.fromEntries(range(1, 3).map(c => [c, {\r\n        name: st(\"stack\", { count: c }),\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 30,\r\n          unit: 's'\r\n        }],\r\n      }]))\r\n    }\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"CompoundBow\"\r\nconst [tr, trm] = trans(\"weapon\", key)\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atk_s = [.04, .05, .06, .07, .08]\r\nconst atkSPD_s = [0.012, 0.015, 0.018, 0.021, 0.024]\r\nconst [condPassivePath, condPassive] = cond(key, \"InfusionArrow\")\r\nconst atk_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, atk_s), i)) \r\n}, naught)\r\nconst atkSPD_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 4), i => prod(subscript(input.weapon.refineIndex, atkSPD_s), i)) \r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    atkSPD_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: Object.fromEntries(range(1, 4).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          node: atkSPD_\r\n        }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript, sum } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"ElegyForTheEnd\"\r\nconst [tr, trm] = trans(\"weapon\", key)\r\nconst data_gen = data_gen_json as WeaponData\r\nconst eleMasInc = [60, 75, 90, 105, 120]\r\nconst eleMasInc2 = [100, 125, 150, 175, 200]\r\nconst atk_s = [0.20, 0.25, 0.30, 0.35, 0.40]\r\n\r\nconst [condPath, condNode] = cond(key, \"ThePartingRefrain\")\r\nconst eleMas = subscript(input.weapon.refineIndex, eleMasInc, { key: \"eleMas\" })\r\nconst eleMas2 = equal(condNode, 'on', subscript(input.weapon.refineIndex, eleMasInc2, { key: \"eleMas\" }))\r\nconst atk_ = equal(condNode, 'on', subscript(input.weapon.refineIndex, atk_s,))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    eleMas: sum(eleMas, eleMas2),\r\n    atk_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: eleMas,\r\n    }],\r\n    conditional: {\r\n      value: condNode,\r\n      path: condPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"milMove\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: eleMas2\r\n          }, {\r\n            node: atk_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 12,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusWarbow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Hamayumi\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst normal_dmg_s = [.16, .20, .24, .28, .32]\r\nconst charged_dmg_s = [.12, .15, .18, .21, .24]\r\n\r\nconst normal_dmg = subscript(input.weapon.refineIndex, normal_dmg_s, { key: \"normal_dmg_\" })\r\nconst charged_dmg = subscript(input.weapon.refineIndex, charged_dmg_s, { key: \"charged_dmg_\" })\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"FullDraw\")\r\nconst normal_passive = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, normal_dmg_s, { key: \"normal_dmg_\" }))\r\nconst charged_passive = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, charged_dmg_s, { key: \"charged_dmg_\" }))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_: sum(normal_dmg, normal_passive),\r\n    charged_dmg_: sum(charged_dmg, charged_passive)\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_dmg\r\n    }, {\r\n      node: charged_dmg\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: normal_passive\r\n          }, {\r\n            node: charged_passive\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"HuntersBow\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, subscript, prod, infoMut } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Messenger\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmg_s = [1, 1.25, 1.5, 1.75, 2]\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmg_s), input.total.atk), \"elemental\", { hit: { ele: constant(\"physical\") } })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n    }]\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MitternachtsWaltz\"\r\nconst [tr] = trans(\"weapon\", key)\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst skill_dmg_s = [.20, .25, .30, .35, .40]\r\nconst normal_dmg_s = [.20, .25, .30, .35, .40]\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"EvernightDuetSkill\")\r\nconst [condNormalPath, condNormal] = cond(key, \"EvernightDuetNormal\")\r\n\r\nconst skill_dmg_ = equal(condSkill, \"on\", subscript(input.weapon.refineIndex, skill_dmg_s))\r\nconst normal_dmg_ = equal(condNormal, \"on\", subscript(input.weapon.refineIndex, normal_dmg_s))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    normal_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condNormal,\r\n      path: condNormalPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: st(\"hitOp.skill\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: normal_dmg_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 5,\r\n            unit: 's'\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    conditional: {\r\n      value: condSkill,\r\n      path: condSkillPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: st(\"hitOp.normal\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: skill_dmg_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 5,\r\n            unit: 's'\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, min, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MouunsMoon\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"WatatsumiWavewalker\")\r\nconst energyRange = range(4, 36).map(i => i * 10)\r\nconst ratio = [0.0012, 0.0015, 0.0018, 0.0021, 0.0024]\r\nconst max = [0.4, 0.5, 0.6, 0.7, 0.8]\r\nconst burst_dmg_ = lookup(condPassive, Object.fromEntries(energyRange.map(i => [i, min(prod(subscript(input.weapon.refineIndex, ratio, { key: \"_\" }), i), subscript(input.weapon.refineIndex, max, { key: \"_\" }))])), naught)\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    burst_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"party\"),\r\n      states: Object.fromEntries(energyRange.map(i => [i, {\r\n        name: i.toString(),\r\n        fields: [{ node: burst_dmg_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PolarStar\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\nconst eleSrc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst ashenStack1 = [0.1, 0.125, 0.15, 0.175, 0.2]\r\nconst ashenStack2 = [0.2, 0.25, 0.3, 0.35, 0.4]\r\nconst ashenStack3 = [0.3, 0.375, 0.45, 0.528, 0.6]\r\nconst ashenStack4 = [0.48, 0.6, 0.72, 0.84, 0.96]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\n\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, eleSrc)\r\nconst burst_dmg_ = subscript(input.weapon.refineIndex, eleSrc)\r\nconst atk_ = lookup(condPassive, {\r\n  \"1\": subscript(input.weapon.refineIndex, ashenStack1), \"2\": subscript(input.weapon.refineIndex, ashenStack2),\r\n  \"3\": subscript(input.weapon.refineIndex, ashenStack3), \"4\": subscript(input.weapon.refineIndex, ashenStack4),\r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    burst_dmg_,\r\n    atk_\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: skill_dmg_,\r\n    }, {\r\n      node: burst_dmg_,\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: objectKeyMap(range(1, 4), i => ({\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: atk_\r\n        }]\r\n      }))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, prod, naught, constant, percent, equal } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Predator\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst normalInc = percent(.1)\r\nconst chargedInc = percent(.1)\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst normal_dmg_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 2), i => prod(normalInc, i))\r\n}, naught)\r\nconst charged_dmg_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 2), i => prod(chargedInc, i))\r\n}, naught)\r\nconst atk = equal(input.activeCharKey, \"Aloy\", constant(66))\r\n\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_,\r\n    atk\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"hitOp.cryo\"),\r\n      states: Object.fromEntries(range(1, 2).map(c => [c, {\r\n        name: st(\"stack\", { count: c }),\r\n        fields: [{\r\n          node: normal_dmg_\r\n        }, {\r\n          node: charged_dmg_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 6,\r\n          unit: 's'\r\n        }],\r\n      }]))\r\n    }\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, percent, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeCrescent\"\r\nconst [tr, trm] = trans(\"weapon\", key)\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst atk_s = [.36, .45, .54, .63, .72]\r\nconst [condPassivePath, condPassive] = cond(key, \"Unreturning\")\r\nconst atk_ = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, atk_s))\r\nconst moveSPD_ = equal(condPassive, \"on\", percent(.1))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    moveSPD_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk_\r\n          }, {\r\n            node: moveSPD_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 10,\r\n            unit: 's'\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RavenBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst all_dmg_s = [.12, .15, .18, .21, .24]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfFlameAndWater\")\r\nconst all_dmg_ = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, all_dmg_s))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: all_dmg_\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript, prod, infoMut } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RecurveBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst healing_s = [.08, .10, .12, .14, .16]\r\nconst healing = customHealNode(prod(input.total.hp, subscript(input.weapon.refineIndex, healing_s)))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(healing, { key: \"sheet_gen:healing\", variant: \"success\" })\r\n    }]\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalBow\"\r\nconst [tr, trm] = trans(\"weapon\", key)\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst critRate_s = [.08, .10, .12, .14, .16]\r\nconst [condPassivePath, condPassive] = cond(key, \"Focus\")\r\nconst critRate_ = lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, critRate_s), i))\r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: critRate_\r\n        }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Rust\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst normal_dmg_s = [.4, .5, .6, .7, .8]\r\n\r\nconst normal_dmg_ = subscript(input.weapon.refineIndex, normal_dmg_s)\r\nconst charged_dmg_ = constant(-0.1)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_dmg_\r\n    }, {\r\n      node: charged_dmg_\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { equal, percent } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SacrificialBow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Composed\")\r\nconst cdRed_ = equal(condPassive, 'on', percent(1))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    cdRed_,\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: cdRed_\r\n          },]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"SeasonedHuntersBow\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SharpshootersOath\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst weakspotDMG_s = [.24, .30, .36, .42, .48]\r\nconst weakspotDMG_ = subscript(input.weapon.refineIndex, weakspotDMG_s)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    weakspotDMG_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: weakspotDMG_\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, percent, subscript, prod, infoMut } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardHarp\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst critd_s = [.20, .25, .30, .35, .40]\r\nconst dmgPerc = percent(1.25)\r\nconst critDMG_ = subscript(input.weapon.refineIndex, critd_s)\r\nconst dmg = customDmgNode(prod(dmgPerc, input.total.atk), \"elemental\", { hit: { ele: constant(\"physical\") } })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critDMG_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n    }]\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, percent, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Slingshot\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst normal_atk_increase_s = [.46, .52, .58, .64, .70] // Increased by 10% to counteract the decrease\r\nconst charged_atk_increase_s = [.46, .52, .58, .64, .70]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Slingshot\")\r\nconst normal_atk_increase = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, normal_atk_increase_s), { key: \"normal_dmg_\" })\r\nconst charged_atk_increase = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, charged_atk_increase_s), { key: \"charged_dmg_\" })\r\nconst normal_atk_decrease = percent(.1, { key: \"normal_dmg_\" })\r\nconst charged_atk_decrease = percent(.1, { key: \"charged_dmg_\" })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmg_: sum(normal_atk_increase, normal_atk_decrease),\r\n    charged_dmg_: sum(charged_atk_increase, normal_atk_decrease)\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: normal_atk_decrease\r\n    }, {\r\n      node: charged_atk_decrease\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: normal_atk_increase\r\n          }, {\r\n            node: charged_atk_increase\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheStringless\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst refinementVals = [0.24, 0.30, 0.36, 0.42, 0.48]\r\nconst skill_dmg_ = subscript(input.weapon.refineIndex, refinementVals)\r\nconst burst_dmg_ = subscript(input.weapon.refineIndex, refinementVals)\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    burst_dmg_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: skill_dmg_,\r\n    }, {\r\n      node: burst_dmg_,\r\n    }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, subscript, prod, infoMut } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TheViridescentHunt\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmgPerc_s = [.4, .5, .6, .7, .8]\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc_s), input.total.atk), \"elemental\", { hit: { ele: constant(\"physical\") } })\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmg, { key: \"sheet:dmg\" })\r\n    }]\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"ThunderingPulse\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst atkSrc = [0.20, 0.25, 0.30, 0.35, 0.40]\r\nconst naStack1 = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst naStack2 = [0.24, 0.3, 0.36, 0.42, 0.48]\r\nconst naStack3 = [0.4, 0.5, 0.6, 0.7, 0.8]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"RuleByThunder\")\r\nconst atk_ = subscript(input.weapon.refineIndex, atkSrc)\r\nconst normal_dmg_ = lookup(condPassive, {\r\n  \"1\": subscript(input.weapon.refineIndex, naStack1), \"2\": subscript(input.weapon.refineIndex, naStack2), \"3\": subscript(input.weapon.refineIndex, naStack3)\r\n}, naught)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    normal_dmg_\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: atk_,\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: objectKeyMap(range(1, 3), i => ({\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{\r\n          node: normal_dmg_\r\n        }]\r\n      })),\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { subscript, equal } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WindblumeOde\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst atk_s = [.16, .20, .24, .28, .32]\r\nconst [condPassivePath, condPassive] = cond(key, \"WindblumeWish\")\r\nconst atk_ = equal(condPassive, \"on\", subscript(input.weapon.refineIndex, atk_s))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: st(\"afterUse.skill\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: 's'\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }]\r\n}\r\n\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponBowKey } from '../../../Types/consts'\r\nimport WeaponSheet from '../WeaponSheet'\r\nimport AlleyHunter from './AlleyHunter'\r\nimport AmosBow from \"./AmosBow\"\r\nimport BlackcliffWarbow from './BlackcliffWarbow'\r\nimport CompoundBow from './CompoundBow'\r\nimport ElegyForTheEnd from \"./ElegyForTheEnd\"\r\nimport FavoniusWarbow from './FavoniusWarbow'\r\nimport Hamayumi from './Hamayumi'\r\nimport HuntersBow from \"./HuntersBow\"\r\nimport Messenger from './Messenger'\r\nimport MitternachtsWaltz from './MitternachtsWaltz'\r\nimport MouunsMoon from './MouunsMoon'\r\nimport PolarStar from './PolarStar'\r\nimport Predator from './Predator'\r\nimport PrototypeCrescent from './PrototypeCrescent'\r\nimport RavenBow from './RavenBow'\r\nimport RecurveBow from './RecurveBow'\r\nimport RoyalBow from './RoyalBow'\r\nimport Rust from './Rust'\r\nimport SacrificialBow from \"./SacrificialBow\"\r\nimport SeasonedHuntersBow from './SeasonedHuntersBow'\r\nimport SharpshootersOath from './SharpshootersOath'\r\nimport SkywardHarp from './SkywardHarp'\r\nimport Slingshot from './Slingshot'\r\nimport TheStringless from './TheStringless'\r\nimport TheViridescentHunt from './TheViridescentHunt'\r\nimport ThunderingPulse from './ThunderingPulse'\r\nimport WindblumeOde from './WindblumeOde'\r\nconst bow: Record<WeaponBowKey, WeaponSheet> = {\r\n  AlleyHunter,\r\n  AmosBow,\r\n  BlackcliffWarbow,\r\n  CompoundBow,\r\n  ElegyForTheEnd,\r\n  FavoniusWarbow,\r\n  Hamayumi,\r\n  HuntersBow,\r\n  Messenger,\r\n  MitternachtsWaltz,\r\n  MouunsMoon,\r\n  PolarStar,\r\n  Predator,\r\n  PrototypeCrescent,\r\n  RavenBow,\r\n  RecurveBow,\r\n  RoyalBow,\r\n  Rust,\r\n  SacrificialBow,\r\n  SeasonedHuntersBow,\r\n  SharpshootersOath,\r\n  SkywardHarp,\r\n  Slingshot,\r\n  TheStringless,\r\n  TheViridescentHunt,\r\n  ThunderingPulse,\r\n  WindblumeOde,\r\n} as const\r\nexport default bow\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst data_gen = data_gen_json as WeaponData\r\nconst key: WeaponKey = \"ApprenticesNotes\"\r\nexport const data = dataObjForWeaponSheet(key, data_gen)\r\nconst sheet: IWeaponSheet = {\r\n  ...data_gen as WeaponData,\r\n  icon,\r\n  iconAwaken,\r\n  document: []\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, lookup, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"BlackcliffAgate\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"PressTheAdvantage\")\r\nconst opponentsDefeated = range(1, 3)\r\nconst atkInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst atk_ = prod(lookup(condPassive, objectKeyMap(opponentsDefeated, i => constant(i)), 0),\r\n  subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_: atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: st(\"afterDefeatEnemy\"),\r\n      states:\r\n        Object.fromEntries(opponentsDefeated.map(c => [c, {\r\n          name: st(\"stack\", { count: c }),\r\n          fields: [{\r\n            node: atk_,\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 30,\r\n            unit: \"s\"\r\n          }]\r\n        }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"DodocoTales\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst chargedDmgInc = [0.16, 0.2, 0.24, 0.28, 0.32]\r\nconst atkInc = [0.8, 0.10, 0.12, 0.14, 0.16]\r\n\r\nconst [condNormalPath, condNormal] = cond(key, \"DodoventureNormal\")\r\nconst [condChargedPath, condCharged] = cond(key, \"DodoventureCharged\")\r\nconst charged_dmg_ = equal(\"on\", condNormal, subscript(input.weapon.refineIndex, chargedDmgInc))\r\nconst atk_ = equal(\"on\", condCharged, subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    charged_dmg_,\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condNormal,\r\n      path: condNormalPath,\r\n      name: st(\"hitOp.normal\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: charged_dmg_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    conditional: {\r\n      value: condCharged,\r\n      path: condChargedPath,\r\n      name: st(\"hitOp.charged\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"EmeraldOrb\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst atkInc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Rapids\")\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 12,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport icon from './Icon.png'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport { prod, subscript } from \"../../../../Formula/utils\"\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport { input } from '../../../../Formula'\r\nimport data_gen_json from './data_gen.json'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { st, trans } from '../../../SheetUtil'\r\n\r\nconst key: WeaponKey = \"EverlastingMoonglow\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst hp_conv = [0.01, 0.015, 0.02, 0.025, 0.03]\r\nconst [, trm] = trans(\"weapon\", key)\r\nconst normal_dmgInc = prod(subscript(input.weapon.refineIndex, hp_conv, { key: '_' }), input.premod.hp)\r\nconst heal_ = subscript(input.weapon.refineIndex, data_gen.addProps.map(x => x.heal_ ?? NaN))\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    normal_dmgInc, // TODO: technically should be in \"total\", but should be fine as premod\r\n    heal_\r\n  }\r\n}, {\r\n  normal_dmgInc\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: heal_\r\n    }, {\r\n      text: trm(\"name\"),\r\n      node: normal_dmgInc,\r\n    }],\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"EyeOfPerception\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmg_Src = [2.4, 2.7, 3, 3.3, 3.6]\r\nconst dmg_ = customDmgNode(prod(subscript(input.weapon.refineIndex, dmg_Src, { key: \"_\" }), input.premod.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  dmg_\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: infoMut(dmg_, { key: \"sheet:dmg\" }) }],\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"FavoniusCodex\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"Frostbearer\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmgAoePerc = [0.8, 0.95, 1.1, 1.25, 1.4]\r\nconst dmgCryoPerc = [2, 2.4, 2.8, 3.2, 3.6]\r\nconst dmgAoe = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgAoePerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst dmgOnCryoOp = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgCryoPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, undefined, {\r\n  dmgAoe,\r\n  dmgOnCryoOp\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(dmgAoe, { key: `weapon_${key}:aoeDmg` }),\r\n    }, {\r\n      node: infoMut(dmgOnCryoOp, { key: `weapon_${key}:cryoAffectedDmg` }),\r\n    }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport ColorText from '../../../../Components/ColoredText'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, subscript, unequal } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"HakushinRing\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst refinementEleBonusSrc = [0.1, 0.125, 0.15, 0.175, 0.2]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"SakuraSaiguu\")\r\nconst eleDmg = subscript(input.weapon.refineIndex, refinementEleBonusSrc)\r\nconst anemo_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"anemo\", condPassive, eleDmg))\r\nconst cryo_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"cryo\", condPassive, eleDmg))\r\nconst geo_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"geo\", condPassive, eleDmg))\r\nconst hydro_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"hydro\", condPassive, eleDmg))\r\nconst pyro_dmg_ = unequal(input.activeCharKey, input.charKey, equal(\"pyro\", condPassive, eleDmg))\r\n\r\nconst electro_dmg_ = unequal(input.activeCharKey, input.charKey, lookup(condPassive, { \"anemo\": eleDmg, \"cryo\": eleDmg, \"geo\": eleDmg, \"hydro\": eleDmg, \"pyro\": eleDmg }, naught))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  teamBuff: {\r\n    premod: {\r\n      anemo_dmg_,\r\n      cryo_dmg_,\r\n      electro_dmg_,\r\n      geo_dmg_,\r\n      hydro_dmg_,\r\n      pyro_dmg_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: <Translate ns=\"weapon_HakushinRing\" key18=\"afterElectroReaction\" />,\r\n      canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n      teamBuff: true,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        anemo: {\r\n          name: <ColorText color=\"anemo\">{sgt(\"reaction.swirl\")}</ColorText>,\r\n          fields: [{\r\n            node: anemo_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        cryo: {\r\n          name: <ColorText color=\"cryo\">{sgt(\"reaction.Superconduct\")}</ColorText>,\r\n          fields: [{\r\n            node: cryo_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        geo: {\r\n          name: <ColorText color=\"geo\">{sgt(\"reaction.crystallize\")}</ColorText>,\r\n          fields: [{\r\n            node: geo_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        pyro: {\r\n          name: <ColorText color=\"pyro\">{sgt(\"reaction.overloaded\")}</ColorText>,\r\n          fields: [{\r\n            node: pyro_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        hydro: {\r\n          name: <ColorText color=\"hydro\">{sgt(\"reaction.electrocharged\")}</ColorText>,\r\n          fields: [{\r\n            node: hydro_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            canShow: (data) => data.get(input.activeCharKey).value !== data.get(input.charKey).value,\r\n            text: sgt(\"duration\"),\r\n            value: 6,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript, sum } from \"../../../../Formula/utils\"\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"KagurasVerity\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condPath, condNode] = cond(key, \"KaguraDance\")\r\nconst totems = range(1, 3)\r\nconst dmg_ = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst skill_dmg_s = totems.map(i => equal(condNode, i.toString(), subscript(input.weapon.refineIndex, dmg_.map(d => d * i)), { key: \"skill_dmg_\" }))\r\nconst ele_dmg_s = Object.fromEntries(allElements.map(ele => [ele, equal(condNode, \"3\", subscript(input.weapon.refineIndex, dmg_))]))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_: sum(...skill_dmg_s),\r\n    ...Object.fromEntries(allElements.map(ele => [`${ele}_dmg_`, ele_dmg_s[ele]]))\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condNode,\r\n      path: condPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: st(\"afterUse.skill\"),\r\n      states:\r\n        Object.fromEntries(totems.map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{\r\n            node: skill_dmg_s[i - 1]\r\n          },\r\n          ...allElements.map(ele => ({ node: ele_dmg_s[ele] }))]\r\n        }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, percent, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, trans, st } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"LostPrayerToTheSacredWinds\"\r\nconst [tr] = trans(\"weapon\", key)\r\nconst data_gen = data_gen_json as WeaponData\r\nconst ele_dmg_s = [0.8, 0.10, 0.12, 0.14, 0.16]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"BoundlessBlessing\")\r\n\r\nconst moveSPD_ = percent(0.1)\r\nconst eleDmgInc = subscript(input.weapon.refineIndex, ele_dmg_s)\r\nconst eleDmgStacks = Object.fromEntries(allElements.map(ele => [ele, lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 4), i => prod(eleDmgInc, i)),\r\n}, naught)]))\r\n\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    moveSPD_,\r\n    ...Object.fromEntries(allElements.map(ele => [`${ele}_dmg_`, eleDmgStacks[ele]])),\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{ node: moveSPD_ }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: st(\"activeCharField\"),\r\n      states: objectKeyMap(range(1, 4), i => ({\r\n        name: st(\"seconds\", { count: i * 4 }),\r\n        fields: allElements.map(ele => ({ node: eleDmgStacks[ele] }))\r\n      }))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MagicGuide\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst dmgInc = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst [condPassivePath, condPassive] = cond(key, \"BaneOfStormAndTide\")\r\nconst all_dmg_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, dmgInc))\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    all_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm(\"condName\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: all_dmg_,\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from '../../../../Formula/utils'\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, objectKeyValueMap, range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MappaMare\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"InfusionScroll\")\r\n\r\nconst dmgBonus = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst allDmgInc = subscript(input.weapon.refineIndex, dmgBonus)\r\nconst eleDmgs = objectKeyValueMap(allElements, e => [`${e}_dmg_`, lookup(condPassive, {\r\n  ...objectKeyMap(range(1, 2), i => prod(allDmgInc, i))\r\n}, naught)])\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: eleDmgs\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: objectKeyMap(range(1, 2), i => ({\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [...Object.values(eleDmgs).map(node => ({ node })), {\r\n          text: sgt(\"duration\"),\r\n          value: 10,\r\n          unit: \"s\"\r\n        }]\r\n      }))\r\n    }\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, lookup, naught, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"MemoryOfDust\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\nconst shieldSrc = [0.2, 0.25, 0.3, 0.35, 0.40]\r\nconst atkSrc = [0.04, 0.05, 0.06, 0.07, 0.08]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GoldenMajesty\")\r\nconst shield_ = subscript(input.weapon.refineIndex, shieldSrc)\r\n\r\nconst [condWithShieldPath, condWithShield] = cond(key, \"WithShield\")\r\n\r\nconst atkInc = subscript(input.weapon.refineIndex, atkSrc)\r\nconst atkStacks = prod(\r\n  sum(1, equal(condWithShield, \"protected\", 1)),\r\n  lookup(condPassive, Object.fromEntries(range(1, 5).map(i =>\r\n    [i, prod(atkInc, i)])), naught)\r\n)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    shield_,\r\n    atk_: atkStacks\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: shield_\r\n    }],\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      name: st(\"hits\"),\r\n      states: Object.fromEntries(range(1, 5).map(i => \r\n        [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{\r\n            node: atkStacks\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 8,\r\n            unit: \"s\"\r\n          }]\r\n        }]\r\n      )),\r\n    }\r\n  }, {\r\n    conditional: {\r\n      value: condWithShield,\r\n      path: condWithShieldPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, trm(\"shield\")),\r\n      name: st(\"protectedByShield\"),\r\n      states: {\r\n        protected: {\r\n          fields: [{\r\n            text: trm(\"atkEffInc\"),\r\n            value: 100,\r\n            unit: \"%\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"OathswornEye\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst refinementVals = [0.24, 0.30, 0.36, 0.42, 0.48]\r\n\r\nconst [condSkillBurstPath, condSkillBurst] = cond(key, \"faLight\")\r\nconst refineVal = subscript(input.weapon.refineIndex, refinementVals)\r\nconst enerRech_ = equal(\"skillBurst\", condSkillBurst, refineVal)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    enerRech_,\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condSkillBurst,\r\n      path: condSkillBurstPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: st(\"afterUse.skill\"),\r\n      states: {\r\n        skillBurst: {\r\n          fields: [{\r\n            node: enerRech_\r\n          }]\r\n        },\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"OtherworldlyStory\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst healPerc = [0.01, 0.0125, 0.015, 0.0175, 0.02]\r\nconst heal = customHealNode(prod(subscript(input.weapon.refineIndex, healPerc, { key: \"_\" }), input.total.hp))\r\nexport const data = dataObjForWeaponSheet(key, data_gen, undefined, { heal })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [{\r\n      node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" })\r\n    }]\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PocketGrimoire\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst data = dataObjForWeaponSheet(key, data_gen)\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { infoMut, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { customHealNode } from '../../../Characters/dataUtil'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"PrototypeAmber\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Gliding\")\r\nconst healPerc = [0.04, 0.045, 0.05, 0.055, 0.06]\r\n\r\nconst heal = customHealNode(prod(subscript(input.weapon.refineIndex, healPerc, { key: \"_\" }), input.total.hp))\r\nexport const data = dataObjForWeaponSheet(key, data_gen, undefined, { heal })\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: st(\"afterUse.burst\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{ node: infoMut(heal, { key: \"sheet_gen:healing\", variant: \"success\" }) }]\r\n        }\r\n      }\r\n    }\r\n  }]\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import type { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { lookup, naught, prod, subscript } from \"../../../../Formula/utils\"\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../../Util/Util'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"RoyalGrimoire\"\r\nconst data_gen = data_gen_json as WeaponData\r\n\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condStackPath, condStack] = cond(key, \"stack\")\r\nconst crit_ = [0.08, 0.1, 0.12, 0.14, 0.16]\r\nconst critRate_ = lookup(condStack, objectKeyMap(range(1, 5), i => prod(subscript(input.weapon.refineIndex, crit_, { key: \"_\" }), i)), naught)\r\nexport const data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    critRate_\r\n  },\r\n})\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condStack,\r\n      path: condStackPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken, st(\"stacks\")),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n        name: st(\"stack\", { count: i }),\r\n        fields: [{ node: critRate_ }]\r\n      }]))\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { equal, percent } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SacrificialFragments\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Composed\")\r\nconst cdRed_ = equal(condPassive, 'on', percent(1))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    cdRed_,\r\n  },\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: trm(\"condName\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: cdRed_\r\n          },]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { constant, infoMut, prod, subscript } from '../../../../Formula/utils'\r\nimport { allElements, WeaponKey } from '../../../../Types/consts'\r\nimport { customDmgNode } from '../../../Characters/dataUtil'\r\nimport { st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SkywardAtlas\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst dmgBonus = [0.12, 0.15, 0.18, 0.21, 0.24]\r\nconst eleBonus_ = Object.fromEntries(allElements.map(ele => [ele, subscript(input.weapon.refineIndex, dmgBonus)]))\r\nconst dmgPerc = [1.6, 2, 2.4, 2.8, 3.2]\r\n\r\nconst dmg = customDmgNode(prod(subscript(input.weapon.refineIndex, dmgPerc, { key: \"_\" }), input.total.atk), \"elemental\", {\r\n  hit: { ele: constant(\"physical\") }\r\n})\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    ...Object.fromEntries(allElements.map(ele => [`${ele}_dmg_`, eleBonus_[ele]])),\r\n  }\r\n}, { dmg })\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    fieldsHeader: conditionalHeader(tr, icon, iconAwaken, st(\"base\")),\r\n    fields: [\r\n      ...allElements.map(ele => ({ node: eleBonus_[ele] })),\r\n      {\r\n        node: infoMut(dmg, { key: \"sheet:dmg\" }),\r\n      }]\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"SolarPearl\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst refinementVals = [0.20, 0.25, 0.30, 0.35, 0.40]\r\n\r\nconst [condNormalPath, condNormal] = cond(key, \"solarShineNormal\")\r\nconst [condSkillBurstPath, condSkillBurst] = cond(key, \"solarShineSkillBurst\")\r\nconst refineVal = subscript(input.weapon.refineIndex, refinementVals)\r\nconst skill_dmg_ = equal(\"normal\", condNormal, refineVal)\r\nconst burst_dmg_ = { ...skill_dmg_ }\r\nconst normal_dmg_ = equal(\"skillBurst\", condSkillBurst, refineVal)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    skill_dmg_,\r\n    burst_dmg_,\r\n    normal_dmg_,\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condNormal,\r\n      path: condNormalPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: st(\"hitOp.normal\"),\r\n      states: {\r\n        normal: {\r\n          fields: [{\r\n            node: skill_dmg_\r\n          }, {\r\n            node: burst_dmg_\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }, { \r\n    conditional: {\r\n      value: condSkillBurst,\r\n      path: condSkillBurstPath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: st(\"hitOp.skillOrBurst\"),\r\n      states: {\r\n        skillBurst: {\r\n          fields: [{\r\n            node: normal_dmg_\r\n          }]\r\n        },\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)","import { WeaponData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\nconst key: WeaponKey = \"TheWidsith\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst refinementAtkVals = [0.6, 0.75, 0.9, 1.05, 1.2]\r\nconst refinementEleDmgVals = [0.48, 0.6, 0.72, 0.84, 0.96]\r\nconst refinementEleMasVals = [240, 300, 360, 420, 480]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Debut\")\r\nconst atk_ = equal(\"recitative\", condPassive, subscript(input.weapon.refineIndex, refinementAtkVals))\r\nconst anemo_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst cryo_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst electro_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst geo_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst hydro_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst pyro_dmg_ = equal(\"aria\", condPassive, subscript(input.weapon.refineIndex, refinementEleDmgVals))\r\nconst eleMas = equal(\"interlude\", condPassive, subscript(input.weapon.refineIndex, refinementEleMasVals))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    anemo_dmg_,\r\n    cryo_dmg_,\r\n    electro_dmg_,\r\n    geo_dmg_,\r\n    hydro_dmg_,\r\n    pyro_dmg_,\r\n    eleMas\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      name: <Translate ns=\"weapon_TheWidsith_gen\" key18=\"passiveName\" />,\r\n      states: {\r\n        aria: {\r\n          name: trm(\"aria\"),\r\n          fields: [{\r\n            node: anemo_dmg_\r\n          }, {\r\n            node: cryo_dmg_\r\n          }, {\r\n            node: electro_dmg_\r\n          }, {\r\n            node: geo_dmg_\r\n          }, {\r\n            node: hydro_dmg_\r\n          }, {\r\n            node: pyro_dmg_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 10,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        interlude: {\r\n          name: trm(\"interlude\"),\r\n          fields: [{\r\n            node: eleMas\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 10,\r\n            unit: \"s\"\r\n          }]\r\n        },\r\n        recitative: {\r\n          name: trm(\"recitative\"),\r\n          fields: [{\r\n            node: atk_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 10,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input, target } from '../../../../Formula'\r\nimport { equal, infoMut, subscript, unequal } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"ThrillingTalesOfDragonSlayers\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr, trm] = trans(\"weapon\", key)\r\n\r\nconst atkSrc = [0.24, 0.3, 0.36, 0.42, 0.48]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"Heritage\")\r\nconst atk_Disp = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkSrc))\r\nconst atk_ = equal(input.activeCharKey, target.charKey, atk_Disp)\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  teamBuff: {\r\n    premod: {\r\n      atk_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: trm('condName'),\r\n      canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n      teamBuff: true,\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(atk_Disp, { key: \"atk_\" })\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 10,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"TwinNephrite\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst refineInc = [0.12, 0.14, 0.16, 0.18, 0.2]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"GuerillaTactics\")\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, refineInc))\r\nconst moveSPD_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, refineInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_,\r\n    moveSPD_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: st(\"afterDefeatEnemy\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk_\r\n          }, {\r\n            node: moveSPD_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 15,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponData } from 'pipeline'\r\nimport { input } from '../../../../Formula'\r\nimport { equal, subscript } from '../../../../Formula/utils'\r\nimport { WeaponKey } from '../../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../../SheetUtil'\r\nimport { dataObjForWeaponSheet } from '../../util'\r\nimport WeaponSheet, { conditionaldesc, conditionalHeader, IWeaponSheet } from '../../WeaponSheet'\r\nimport iconAwaken from './AwakenIcon.png'\r\nimport data_gen_json from './data_gen.json'\r\nimport icon from './Icon.png'\r\n\r\nconst key: WeaponKey = \"WineAndSong\"\r\nconst data_gen = data_gen_json as WeaponData\r\nconst [tr] = trans(\"weapon\", key)\r\n\r\nconst atkInc = [0.2, 0.25, 0.3, 0.35, 0.4]\r\n\r\nconst [condPassivePath, condPassive] = cond(key, \"EverChanging\")\r\nconst atk_ = equal(\"on\", condPassive, subscript(input.weapon.refineIndex, atkInc))\r\n\r\nconst data = dataObjForWeaponSheet(key, data_gen, {\r\n  premod: {\r\n    atk_\r\n  }\r\n})\r\n\r\nconst sheet: IWeaponSheet = {\r\n  icon,\r\n  iconAwaken,\r\n  document: [{\r\n    conditional: {\r\n      value: condPassive,\r\n      path: condPassivePath,\r\n      name: st(\"afterSprint\"),\r\n      header: conditionalHeader(tr, icon, iconAwaken),\r\n      description: conditionaldesc(tr),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: atk_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: 5,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }\r\n  }],\r\n}\r\nexport default new WeaponSheet(key, sheet, data_gen, data)\r\n","import { WeaponCatalystKey } from '../../../Types/consts'\r\nimport WeaponSheet from '../WeaponSheet'\r\nimport ApprenticesNotes from './ApprenticesNotes'\r\nimport BlackcliffAgate from './BlackcliffAgate'\r\nimport DodocoTales from './DodocoTales'\r\nimport EmeraldOrb from './EmeraldOrb'\r\nimport EverlastingMoonglow from './EverlastingMoonglow'\r\nimport EyeOfPerception from './EyeOfPerception'\r\nimport FavoniusCodex from './FavoniusCodex'\r\nimport Frostbearer from './Frostbearer'\r\nimport HakushinRing from './HakushinRing'\r\nimport KagurasVerity from './KagurasVerity'\r\nimport LostPrayerToTheSacredWinds from './LostPrayerToTheSacredWinds'\r\nimport MagicGuide from './MagicGuide'\r\nimport MappaMare from './MappaMare'\r\nimport MemoryOfDust from './MemoryOfDust'\r\nimport OathswornEye from './OathswornEye'\r\nimport OtherworldlyStory from './OtherworldlyStory'\r\nimport PocketGrimoire from './PocketGrimoire'\r\nimport PrototypeAmber from './PrototypeAmber'\r\nimport RoyalGrimoire from './RoyalGrimoire'\r\nimport SacrificialFragments from './SacrificialFragments'\r\nimport SkywardAtlas from './SkywardAtlas'\r\nimport SolarPearl from './SolarPearl'\r\nimport TheWidsith from './TheWidsith'\r\nimport ThrillingTalesOfDragonSlayers from './ThrillingTalesOfDragonSlayers'\r\nimport TwinNephrite from './TwinNephrite'\r\nimport WineAndSong from './WineAndSong'\r\nconst catalyst: Record<WeaponCatalystKey, WeaponSheet> = {\r\n  ApprenticesNotes,\r\n  BlackcliffAgate,\r\n  DodocoTales,\r\n  EmeraldOrb,\r\n  EverlastingMoonglow,\r\n  EyeOfPerception,\r\n  FavoniusCodex,\r\n  Frostbearer,\r\n  HakushinRing,\r\n  KagurasVerity,\r\n  LostPrayerToTheSacredWinds,\r\n  MagicGuide,\r\n  MappaMare,\r\n  MemoryOfDust,\r\n  OathswornEye,\r\n  OtherworldlyStory,\r\n  PocketGrimoire,\r\n  PrototypeAmber,\r\n  RoyalGrimoire,\r\n  SacrificialFragments,\r\n  SkywardAtlas,\r\n  SolarPearl,\r\n  TheWidsith,\r\n  ThrillingTalesOfDragonSlayers,\r\n  TwinNephrite,\r\n  WineAndSong,\r\n} as const\r\nexport default catalyst\r\n","import claymore from './Claymore'\r\nimport sword from './Sword'\r\nimport polearm from './Polearm'\r\nimport bow from './Bow'\r\nimport { WeaponKey } from '../../Types/consts'\r\nimport catalyst from './Catalyst'\r\nimport WeaponSheet from './WeaponSheet'\r\n\r\nconst WeaponData: Record<WeaponKey, WeaponSheet> = {\r\n  ...sword,\r\n  ...claymore,\r\n  ...polearm,\r\n  ...bow,\r\n  ...catalyst\r\n} as const\r\nexport default WeaponData\r\n","import { crystallizeLevelMultipliers, transformativeReactionLevelMultipliers, transformativeReactions } from \"../StatConstants\";\r\nimport { absorbableEle } from \"../Types/consts\";\r\nimport { objectKeyMap } from \"../Util/Util\";\r\nimport { input } from \"./index\";\r\nimport { frac, infoMut, percent, prod, subscript, sum, unit } from \"./utils\";\r\n\r\nconst asConst = true as const\r\n\r\nconst crystallizeMulti1 = subscript(input.lvl, crystallizeLevelMultipliers)\r\nconst crystallizeElemas = prod(40 / 9, frac(input.total.eleMas, 1400))\r\nconst crystallizeHit = infoMut(prod(sum(unit, /** + Crystallize bonus */ crystallizeElemas), crystallizeMulti1), { key: \"crystallize\", variant: \"geo\" })\r\n\r\nconst transMulti1 = subscript(input.lvl, transformativeReactionLevelMultipliers)\r\nconst transMulti2 = prod(16, frac(input.total.eleMas, 2000))\r\nconst trans = {\r\n  ...objectKeyMap([\"overloaded\", \"electrocharged\", \"superconduct\", \"shattered\"] as const, reaction => {\r\n    const { multi, variants: [ele] } = transformativeReactions[reaction]\r\n    return infoMut(prod(\r\n      infoMut(prod(multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total[`${reaction}_dmg_`]),\r\n      input.enemy[`${ele}_resMulti`]),\r\n      { key: `${reaction}_hit`, variant: reaction })\r\n  }),\r\n  swirl: objectKeyMap(transformativeReactions.swirl.variants, ele => infoMut(\r\n    prod(\r\n      infoMut(prod(transformativeReactions.swirl.multi, transMulti1), { asConst }),\r\n      sum(unit, transMulti2, input.total.swirl_dmg_),\r\n      input.enemy[`${ele}_resMulti`]),\r\n    { key: `${ele}_swirl_hit`, variant: ele }))\r\n}\r\nexport const reactions = {\r\n  anemo: {\r\n    electroSwirl: trans.swirl.electro,\r\n    pyroSwirl: trans.swirl.pyro,\r\n    cryoSwirl: trans.swirl.cryo,\r\n    hydroSwirl: trans.swirl.hydro,\r\n    shattered: trans.shattered,\r\n  },\r\n  geo: {\r\n    crystallize: crystallizeHit,\r\n    ...Object.fromEntries(absorbableEle.map(e => [`${e}Crystallize`,\r\n    infoMut(prod(percent(2.5), crystallizeHit), { key: `${e}_crystallize`, variant: e })])),\r\n    shattered: trans.shattered,\r\n  },\r\n  electro: {\r\n    overloaded: trans.overloaded,\r\n    electrocharged: trans.electrocharged,\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n  hydro: {\r\n    electrocharged: trans.electrocharged,\r\n    shattered: trans.shattered,\r\n  },\r\n  pyro: {\r\n    overloaded: trans.overloaded,\r\n    shattered: trans.shattered,\r\n  },\r\n  cryo: {\r\n    superconduct: trans.superconduct,\r\n    shattered: trans.shattered,\r\n  },\r\n}\r\n"],"names":["charCurves","objectMap","_charCurves","value","Object","values","commonBasic","objectKeyMap","key","input","critRate_","inferredHitEle","stringPrio","equalStr","getTalentType","move","customDmgNode","base","additional","data","mergeData","hit","constant","ele","undefined","customShieldNode","shieldNode","prod","sum","unit","customHealNode","healNode","dmgNode","lvlMultiplier","talentType","subscript","percent","flat","shieldNodeTalent","baseMultiplier","talentIndex","shieldElement","element","infoMut","variant","healNodeTalent","dataObjForCharacterSheet","region","gen","display","curve","lvlCurve","basic","foundSpecial","charKey","weaponType","weaponTypeKey","premod","charEle","teamBuff","tally","reaction","reactions","layeredAssignment","physical_dmg_","stat","list","curves","push","ascensions","some","x","props","map","NaN","length","result","prefix","asConst","endsWith","info","slice","Error","special","allMainStatKeys","inferInfoMut","st","strKey","ns","key18","sgt","condReadNode","path","customStringRead","cond","subKey","trans","typeKey","weaponCurves","fromEntries","entries","_weaponCurves","dataObjForWeaponSheet","displayWeapon","total","weapon","type","mainStat","subStat","merging","mainStatNode","ascension","addStats","main","substatNode","sub","data_gen","data_gen_json","tr","trm","condPassivePath","condPassive","energyRange","range","i","ratio","max","burst_dmg_","lookup","min","naught","sheet","icon","iconAwaken","document","conditional","header","conditionalHeader","name","states","toString","fields","node","WeaponSheet","opponentsDefeated","atk_","c","count","text","all_dmg_","equal","description","conditionaldesc","on","dmg","fieldsHeader","charged_dmg_","skill_dmg_","condStackPath","condStack","atkInc","critInc","dmg_","def_","normal_dmgInc","charged_dmgInc","crit_","cdRed_","takeDMG_s","all_dmg_stack","get","bonusInc","dmgAoe","dmgOnCryoOp","atkTeam_","atkSPD_","shield","condWithShieldPath","condWithShield","protected","shield_","atkStacks","condPath","condNode","heal","claymore","Akuoumaru","BlackcliffSlasher","BloodtaintedGreatsword","DebateClub","FavoniusGreatsword","FerrousShadow","KatsuragikiriNagamasa","LithicBlade","LuxuriousSeaLord","OldMercsPal","PrototypeArchaic","Rainslasher","RedhornStonethresher","RoyalGreatsword","SacrificialGreatsword","SerpentSpine","SkyriderGreatsword","SkywardPride","SnowTombedStarsilver","SongOfBrokenPines","TheBell","TheUnforged","WasterGreatsword","Whiteblind","WhiteIronGreatsword","WolfsGravestone","addProps","skill_dmgInc","skill_critRate_","cd_Src","normal_dmg_","plunging_dmg_","eleDmgDealtStack","stacks","passiveRefine","stacksRefine","passive_dmg_","allElements","stacks_dmg_","stack","allEle_dmg_","parseInt","hp_","atk","moveSPD_","autoSrc","sword","AmenomaKageuchi","AquilaFavonia","BlackcliffLongsword","CinnabarSpindle","CoolSteel","DarkIronSword","DullBlade","FavoniusSword","FesteringDesire","FilletBlade","FreedomSworn","HarbingerOfDawn","IronSting","LionsRoar","MistsplitterReforged","PrimordialJadeCutter","PrototypeRancour","RoyalLongsword","SacrificialSword","SilverSword","SkyriderSword","SkywardBlade","SummitShaper","SwordOfDescension","TheAlleyFlash","TheBlackSword","TheFlute","TravelersHandySword","dmg_Nodes","e","matchFull","atkDefInc","enerRech_","dmgInc","atk1_","atk2_","burst_critRate_","polearm","BeginnersProtector","BlackcliffPole","BlackTassel","CalamityQueller","CrescentPike","Deathmatch","DragonsBane","DragonspineSpear","EngulfingLightning","FavoniusLance","Halberd","IronPoint","KitainCrossSpear","LithicSpear","PrimordialJadeWingedSpear","PrototypeStarglitter","RoyalSpear","SkywardSpine","StaffOfHoma","TheCatch","VortexVanquisher","WavebreakersFin","WhiteTassel","autoDmgInc","normal_dmg_arrow_","charged_dmg_arrow_","atk_s","atkSPD_s","eleMas","eleMas2","normal_dmg_s","charged_dmg_s","normal_dmg","charged_dmg","normal_passive","charged_passive","condSkillPath","condSkill","condNormalPath","condNormal","eleSrc","normalInc","chargedInc","healing","critRate_s","weakspotDMG_","dmgPerc","critDMG_","normal_atk_increase","charged_atk_increase","normal_atk_decrease","charged_atk_decrease","refinementVals","bow","AlleyHunter","AmosBow","BlackcliffWarbow","CompoundBow","ElegyForTheEnd","FavoniusWarbow","Hamayumi","HuntersBow","Messenger","MitternachtsWaltz","MouunsMoon","PolarStar","Predator","PrototypeCrescent","RavenBow","RecurveBow","RoyalBow","Rust","SacrificialBow","SeasonedHuntersBow","SharpshootersOath","SkywardHarp","Slingshot","TheStringless","TheViridescentHunt","ThunderingPulse","WindblumeOde","condChargedPath","condCharged","heal_","eleDmg","anemo_dmg_","unequal","cryo_dmg_","geo_dmg_","hydro_dmg_","pyro_dmg_","electro_dmg_","Translate","canShow","anemo","color","cryo","geo","pyro","hydro","totems","skill_dmg_s","d","ele_dmg_s","eleDmgInc","eleDmgStacks","allDmgInc","eleDmgs","objectKeyValueMap","condSkillBurstPath","condSkillBurst","refineVal","skillBurst","dmgBonus","eleBonus_","normal","refinementEleDmgVals","aria","interlude","recitative","atk_Disp","target","refineInc","ApprenticesNotes","BlackcliffAgate","DodocoTales","EmeraldOrb","EverlastingMoonglow","EyeOfPerception","FavoniusCodex","Frostbearer","HakushinRing","KagurasVerity","LostPrayerToTheSacredWinds","MagicGuide","MappaMare","MemoryOfDust","OathswornEye","OtherworldlyStory","PocketGrimoire","PrototypeAmber","RoyalGrimoire","SacrificialFragments","SkywardAtlas","SolarPearl","TheWidsith","ThrillingTalesOfDragonSlayers","TwinNephrite","WineAndSong","catalyst","crystallizeMulti1","crystallizeLevelMultipliers","crystallizeElemas","frac","crystallizeHit","transMulti1","transformativeReactionLevelMultipliers","transMulti2","transformativeReactions","multi","variants","swirl","electroSwirl","electro","pyroSwirl","cryoSwirl","hydroSwirl","shattered","crystallize","absorbableEle","overloaded","electrocharged","superconduct"],"sourceRoot":""}