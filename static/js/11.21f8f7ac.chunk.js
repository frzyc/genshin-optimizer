(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[11],{100:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(85),r=a(3),i=a(83),c=a(23),l=function(){return Object(r.jsx)(c.a,{icon:i.x})},o=function(e){var t=e.stars,a=e.colored,i=void 0!==a&&a;return Object(r.jsx)("span",{className:i?"text-5star":"",children:t?Object(n.a)(Array(t).keys()).map((function(e,t){return Object(r.jsx)(l,{},t)})):null})}},106:function(e,t,a){"use strict";var n=a(82),r=a(3),i=a(79),c=a(0),l=a(145);t.a=function(e){var t,a=e.float,o=void 0!==a&&a,s=e.placeholder,u=e.value,d=e.onValueChange,f=e.disabled,m=e.allowEmpty,v=void 0!==m&&m,_=Object(c.useState)(!1),h=Object(i.a)(_,2),b=h[0],g=h[1],j={type:"number",className:"hide-appearance",placeholder:s,value:v?"number"===typeof u?u:"":!u&&b?"":(null===u||void 0===u||null===(t=u.toString)||void 0===t?void 0:t.call(u))||u,disabled:f,onChange:function(e){var t=e.target.value;t=o?v&&""===t?null:parseFloat(t)||0:v&&""===t?null:parseInt(t)||0,null===d||void 0===d||d(t)},onFocus:function(){return g(!0)},onBlur:function(){return g(!1)}};return Object(r.jsx)(l.a,Object(n.a)(Object(n.a)({},j),{},{"aria-label":"custom-input"}))}},109:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return l}));var n={},r=Promise.all([a.e(0),a.e(15)]).then(a.bind(null,156));r.then((function(e){n=e.default,r=null}));var i=["L1","L5","L10","L15","L20","L20A","L25","L30","L35","L40","L40A","L45","L50","L50A","L55","L60","L60A","L65","L70","L70A","L75","L80","L80A","L85","L90"],c={L1:"Lvl. 1",L5:"Lvl. 5",L10:"Lvl. 10",L15:"Lvl. 15",L20:"Lvl. 20",L20A:"Lvl. 20A",L25:"Lvl. 25",L30:"Lvl. 30",L35:"Lvl. 35",L40:"Lvl. 40",L40A:"Lvl. 40A",L45:"Lvl. 45",L50:"Lvl. 50",L50A:"Lvl. 50A",L55:"Lvl. 55",L60:"Lvl. 60",L60A:"Lvl. 60A",L65:"Lvl. 65",L70:"Lvl. 70",L70A:"Lvl. 70A",L75:"Lvl. 75",L80:"Lvl. 80",L80A:"Lvl. 80A",L85:"Lvl. 85",L90:"Lvl. 90"},l={sword:"Sword",claymore:"Claymore",catalyst:"Catalyst",bow:"Bow",polearm:"Polearm"}},115:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a(95),r={hit:"DMG",avgHit:"Avg. DMG",critHit:"CRIT Hit DMG"},i={normal:"Normal Att.",charged:"Charged Att.",plunging:"Plunging Att.",skill:"Ele. Skill",burst:"Ele. Burst"},c=n.a,l={overloaded:{name:"Overloaded",variants:{pyro:4}},shattered:{name:"Shattered",variants:{physical:3}},electrocharged:{name:"Electro-Charged",variants:{electro:2.4}},superconduct:{name:"Superconduct",variants:{cryo:1}},swirl:{name:"Swirl",variants:{pyro:1.2,hydro:1.2,electro:1.2,cryo:1.2}}},o={vaporize:{name:"Vaporize",variants:{pyro:1.5,hydro:2}},melt:{name:"Melt",variants:{pyro:2,cryo:1.5}}},s={overloaded:[37.4371542286,-4.3991155718,.9268181504,-.0314790536,518944e-9,-27646e-10],superconduct:[7.4972486411,-.4750909512,.1836799174,-.006423771,.0001110078,-6.038e-7],electrocharged:[20.8340255487,-1.698723279,.4742385201,-.0162160738,.0002746679,-14798e-10],shattered:[31.2160750111,-3.7397755267,.7174530144,-.0239673351,.0003895953,-20555e-10],swirl:[13.5157684329,-1.7733381829,.3097567417,-.0103922088,.0001679502,-8.854e-7],crystalize:[83.06561,-4.42541,.5568372,-.01637168,.0002253889,-1088197e-12]}},116:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(79);var n=a(85),r=a(98);function i(e){var t=new Set;return e(new Proxy({},{get:function(e,a,n){t.add(a)}}),new Proxy({},{get:function(e,a,n){t.add(a)}})),Object(n.a)(t)}var c=Object.freeze(Object.fromEntries(Object.keys(r.b).map((function(e){return[e,i(r.b[e])]}))));function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(r.d),a=new Set;return t.forEach((function(t){return o(t,e,a)})),Object(n.a)(a)}function o(e,t,a){var n,r;a.has(e)||(null===(n=c[e])||void 0===n||n.forEach((function(e){return o(e,t,a)})),Object.keys(null!==(r=t[e])&&void 0!==r?r:{}).forEach((function(e){return o(e,t,a)})),a.add(e))}},119:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return l}));var n={},r=Promise.all([a.e(0),a.e(14)]).then(a.bind(null,155));r.then((function(e){n=e.default,r=null}));var i={L1:{name:"Lv. 1",level:1,asend:0},L20:{name:"Lv. 20",level:20,asend:0},L20A:{name:"Lv. 20 As.1",level:20,asend:1},L40:{name:"Lv. 40",level:40,asend:1},L40A:{name:"Lv. 40 As.2",level:40,asend:2},L50:{name:"Lv. 50",level:50,asend:2},L50A:{name:"Lv. 50 As.3",level:50,asend:3},L60:{name:"Lv. 60",level:60,asend:3},L60A:{name:"Lv. 60 As.4",level:60,asend:4},L70:{name:"Lv. 70",level:70,asend:4},L70A:{name:"Lv. 70 As.5",level:70,asend:5},L80:{name:"Lv. 80",level:80,asend:5},L80A:{name:"Lv. 80 As.6",level:80,asend:6},L90:{name:"Lv. 90",level:90,asend:6}},c={critRate_:5,critDMG_:50,enerRech_:100,stamina:100},l=["hp_","atk_","def_","eleMas","enerRech_","heal_","critRate_","critDMG_","physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_"]},121:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(79),r=a(110),i=a(91),c=a(94),l=a(90),o={char_ele_key:"characterEle",char_level:"characterLevel",hp_base:"characterHP",hp_final:"finalHP",atk_character_base:"characterATK",atk_base:"baseATK",atk_final:"finalATK",atk_weapon:"weaponATK",def_base:"characterDEF",def_final:"finalDEF",phy_dmg_bonus:"physical_dmg_",phy_res:"physical_res_",anemo_ele_dmg_bonus:"anemo_dmg_",geo_ele_dmg_bonus:"geo_dmg_",electro_ele_dmg_bonus:"electro_dmg_",hydro_ele_dmg_bonus:"hydro_dmg_",pyro_ele_dmg_bonus:"pyro_dmg_",cryo_ele_dmg_bonus:"cryo_dmg_",anemo_ele_res:"anemo_res_",geo_ele_res:"geo_res_",electro_ele_res:"electro_res_",hydro_ele_res:"hydro_res_",pyro_ele_res:"pyro_res_",cryo_ele_res:"cryo_res_",ener_rech:"enerRech_",crit_rate:"critRate_",crit_dmg:"critDMG_",stam:"stamina",heal_bonu:"heal_",inc_heal:"incHeal_",pow_shield:"powShield_",red_cd:"cdRed_",skill_cd_red:"skillCDRed_",burst_cd_red:"burstCDRed_",all_dmg_bonus:"dmg_",move_spd:"moveSPD_",atk_spd:"atkSPD_",weakspot_dmg:"weakspotDMG_",stamina_dec:"staminaDec_",stamina_gliding_dec:"staminaGlidingDec_",stamina_charged_dec:"staminaChargedDec_",ele_mas_multi_x:"eleMasX",ele_mas_multi_y:"eleMasY",ele_mas_multi_z:"eleMasZ",norm_atk_dmg:"physical_normal_hit",char_atk_dmg:"physical_charged_hit",plunge_dmg:"physical_plunging_hit",norm_atk_crit_dmg:"physical_normal_critHit",char_atk_crit_dmg:"physical_charged_critHit",plunge_crit_dmg:"physical_plunging_critHit",norm_atk_avg_dmg:"physical_normal_avgHit",char_atk_avg_dmg:"physical_charged_avgHit",plunge_avg_dmg:"physical_plunging_avgHit",norm_atk_dmg_bonus:"normal_dmg_",char_atk_dmg_bonus:"charged_dmg_",plunge_atk_dmg_bonus:"plunging_dmg_",skill_dmg_bonus:"skill_dmg_",burst_dmg_bonus:"burst_dmg_",norm_atk_crit_rate:"normal_critRate_",char_atk_crit_rate:"charged_critRate_",skill_crit_rate:"skill_critRate_",burst_crit_rate:"burst_critRate_",anemo_skill_dmg:"anemo_skill_hit",anemo_burst_dmg:"anemo_burst_hit",anemo_skill_crit_dmg:"anemo_skill_critHit",anemo_burst_crit_dmg:"anemo_burst_critHit",anemo_skill_avg_dmg:"anemo_skill_avgHit",anemo_burst_avg_dmg:"anemo_burst_avgHit",geo_skill_dmg:"geo_skill_hit",geo_burst_dmg:"geo_burst_hit",geo_skill_crit_dmg:"geo_skill_critHit",geo_burst_crit_dmg:"geo_burst_critHit",geo_skill_avg_dmg:"geo_skill_avgHit",geo_burst_avg_dmg:"geo_burst_avgHit",electro_skill_dmg:"electro_skill_hit",electro_burst_dmg:"electro_burst_hit",electro_skill_crit_dmg:"electro_skill_critHit",electro_burst_crit_dmg:"electro_burst_critHit",electro_skill_avg_dmg:"electro_skill_avgHit",electro_burst_avg_dmg:"electro_burst_avgHit",hydro_skill_dmg:"hydro_skill_hit",hydro_burst_dmg:"hydro_burst_hit",hydro_skill_crit_dmg:"hydro_skill_critHit",hydro_burst_crit_dmg:"hydro_burst_critHit",hydro_skill_avg_dmg:"hydro_skill_avgHit",hydro_burst_avg_dmg:"hydro_burst_avgHit",pyro_skill_dmg:"pyro_skill_hit",pyro_burst_dmg:"pyro_burst_hit",pyro_skill_crit_dmg:"pyro_skill_critHit",pyro_burst_crit_dmg:"pyro_burst_critHit",pyro_skill_avg_dmg:"pyro_skill_avgHit",pyro_burst_avg_dmg:"pyro_burst_avgHit",cryo_skill_dmg:"cryo_skill_hit",cryo_burst_dmg:"cryo_burst_hit",cryo_skill_crit_dmg:"cryo_skill_critHit",cryo_burst_crit_dmg:"cryo_burst_critHit",cryo_skill_avg_dmg:"cryo_skill_avgHit",cryo_burst_avg_dmg:"cryo_burst_avgHit",phy_dmg:"physical_hit",phy_crit_dmg:"physical_critHit",phy_avg_dmg:"physical_avgHit",anemo_ele_dmg:"anemo_hit",anemo_ele_crit_dmg:"anemo_critHit",anemo_ele_avg_dmg:"anemo_avgHit",geo_ele_dmg:"geo_hit",geo_ele_crit_dmg:"geo_critHit",geo_ele_avg_dmg:"geo_avgHit",electro_ele_dmg:"electro_hit",electro_ele_crit_dmg:"electro_critHit",electro_ele_avg_dmg:"electro_avgHit",hydro_ele_dmg:"hydro_hit",hydro_ele_crit_dmg:"hydro_critHit",hydro_ele_avg_dmg:"hydro_avgHit",pyro_ele_dmg:"pyro_hit",pyro_ele_crit_dmg:"pyro_critHit",pyro_ele_avg_dmg:"pyro_avgHit",cryo_ele_dmg:"cryo_hit",cryo_ele_crit_dmg:"cryo_critHit",cryo_ele_avg_dmg:"cryo_avgHit",overload_dmg:"overload_hit",overload_dmg_bonus:"overload_dmg_",overload_multi:"overload_multi",electrocharged_dmg:"electrocharged_hit",electrocharged_dmg_bonus:"electrocharged_dmg_",electrocharged_multi:"electrocharged_multi",superconduct_dmg:"superconduct_hit",superconduct_dmg_bonus:"superconduct_dmg_",superconduct_multi:"superconduct_multi",burning_dmg:"burning_hit",burning_dmg_bonus:"burning_dmg_",swirl_dmg:"swirl_hit",swirl_dmg_bonus:"swirl_dmg_",swirl_multi:"swirl_multi",shatter_dmg:"shattered_hit",shatter_dmg_bonus:"shattered_dmg_",shatter_multi:"shattered_multi",crystalize_dmg:"crystalize_hit",crystalize_dmg_bonus:"crystalize_dmg_",melt_dmg_bonus:"melt_dmg_",vaporize_dmg_bonus:"vaporize_dmg_",pyro_vaporize_normal_dmg:"pyro_vaporize_normal_hit",pyro_vaporize_normal_crit_dmg:"pyro_vaporize_normal_critHit",pyro_vaporize_normal_avg_dmg:"pyro_vaporize_normal_avgHit",pyro_vaporize_chraged_dmg:"pyro_vaporize_chraged_hit",pyro_vaporize_chraged_crit_dmg:"pyro_vaporize_chraged_critHit",pyro_vaporize_chraged_avg_dmg:"pyro_vaporize_chraged_avgHit",pyro_vaporize_plunge_dmg:"pyro_vaporize_plunging_hit",pyro_vaporize_plunge_crit_dmg:"pyro_vaporize_plunging_critHit",pyro_vaporize_plunge_avg_dmg:"pyro_vaporize_plunging_avgHit",pyro_vaporize_skill_dmg:"pyro_vaporize_skill_hit",pyro_vaporize_skill_crit_dmg:"pyro_vaporize_skill_critHit",pyro_vaporize_skill_avg_dmg:"pyro_vaporize_skill_avgHit",pyro_vaporize_burst_dmg:"pyro_vaporize_burst_hit",pyro_vaporize_burst_crit_dmg:"pyro_vaporize_burst_critHit",pyro_vaporize_burst_avg_dmg:"pyro_vaporize_burst_avgHit",pyro_vaporize_ele_dmg:"pyro_vaporize_hit",pyro_vaporize_ele_crit_dmg:"pyro_vaporize_critHit",pyro_vaporize_ele_avg_dmg:"pyro_vaporize_avgHit",hydro_vaporize_normal_dmg:"hydro_vaporize_normal_hit",hydro_vaporize_normal_crit_dmg:"hydro_vaporize_normal_critHit",hydro_vaporize_normal_avg_dmg:"hydro_vaporize_normal_avgHit",hydro_vaporize_chraged_dmg:"hydro_vaporize_chraged_hit",hydro_vaporize_chraged_crit_dmg:"hydro_vaporize_chraged_critHit",hydro_vaporize_chraged_avg_dmg:"hydro_vaporize_chraged_avgHit",hydro_vaporize_plunge_dmg:"hydro_vaporize_plunging_hit",hydro_vaporize_plunge_crit_dmg:"hydro_vaporize_plunging_critHit",hydro_vaporize_plunge_avg_dmg:"hydro_vaporize_plunging_avgHit",hydro_vaporize_skill_dmg:"hydro_vaporize_skill_hit",hydro_vaporize_skill_crit_dmg:"hydro_vaporize_skill_critHit",hydro_vaporize_skill_avg_dmg:"hydro_vaporize_skill_avgHit",hydro_vaporize_burst_dmg:"hydro_vaporize_burst_hit",hydro_vaporize_burst_crit_dmg:"hydro_vaporize_burst_critHit",hydro_vaporize_burst_avg_dmg:"hydro_vaporize_burst_avgHit",hydro_vaporize_ele_dmg:"hydro_vaporize_hit",hydro_vaporize_ele_crit_dmg:"hydro_vaporize_critHit",hydro_vaporize_ele_avg_dmg:"hydro_vaporize_avgHit",pyro_melt_normal_dmg:"pyro_melt_normal_hit",pyro_melt_normal_crit_dmg:"pyro_melt_normal_critHit",pyro_melt_normal_avg_dmg:"pyro_melt_normal_avgHit",pyro_melt_chraged_dmg:"pyro_melt_chraged_hit",pyro_melt_chraged_crit_dmg:"pyro_melt_chraged_critHit",pyro_melt_chraged_avg_dmg:"pyro_melt_chraged_avgHit",pyro_melt_plunge_dmg:"pyro_melt_plunging_hit",pyro_melt_plunge_crit_dmg:"pyro_melt_plunging_critHit",pyro_melt_plunge_avg_dmg:"pyro_melt_plunging_avgHit",pyro_melt_skill_dmg:"pyro_melt_skill_hit",pyro_melt_skill_crit_dmg:"pyro_melt_skill_critHit",pyro_melt_skill_avg_dmg:"pyro_melt_skill_avgHit",pyro_melt_burst_dmg:"pyro_melt_burst_hit",pyro_melt_burst_crit_dmg:"pyro_melt_burst_critHit",pyro_melt_burst_avg_dmg:"pyro_melt_burst_avgHit",pyro_melt_ele_dmg:"pyro_melt_hit",pyro_melt_ele_crit_dmg:"pyro_melt_critHit",pyro_melt_ele_avg_dmg:"pyro_melt_avgHit",cryo_melt_normal_dmg:"cryo_melt_normal_hit",cryo_melt_normal_crit_dmg:"cryo_melt_normal_critHit",cryo_melt_normal_avg_dmg:"cryo_melt_normal_avgHit",cryo_melt_chraged_dmg:"cryo_melt_chraged_hit",cryo_melt_chraged_crit_dmg:"cryo_melt_chraged_critHit",cryo_melt_chraged_avg_dmg:"cryo_melt_chraged_avgHit",cryo_melt_plunge_dmg:"cryo_melt_plunging_hit",cryo_melt_plunge_crit_dmg:"cryo_melt_plunging_critHit",cryo_melt_plunge_avg_dmg:"cryo_melt_plunging_avgHit",cryo_melt_skill_dmg:"cryo_melt_skill_hit",cryo_melt_skill_crit_dmg:"cryo_melt_skill_critHit",cryo_melt_skill_avg_dmg:"cryo_melt_skill_avgHit",cryo_melt_burst_dmg:"cryo_melt_burst_hit",cryo_melt_burst_crit_dmg:"cryo_melt_burst_critHit",cryo_melt_burst_avg_dmg:"cryo_melt_burst_avgHit",cryo_melt_ele_dmg:"cryo_melt_hit",cryo_melt_ele_crit_dmg:"cryo_melt_critHit",cryo_melt_ele_avg_dmg:"cryo_melt_avgHit",enemy_phy_res:"physical_enemyRes_",enemy_phy_res_multi:"physical_enemyRes_multi",enemy_phy_immunity:"physical_enemyImmunity",anemo_enemy_ele_res:"anemo_enemyRes_",anemo_enemy_ele_res_multi:"anemo_enemyRes_multi",anemo_enemy_ele_immunity:"anemo_enemyImmunity",geo_enemy_ele_res:"geo_enemyRes_",geo_enemy_ele_res_multi:"geo_enemyRes_multi",geo_enemy_ele_immunity:"geo_enemyImmunity",electro_enemy_ele_res:"electro_enemyRes_",electro_enemy_ele_res_multi:"electro_enemyRes_multi",electro_enemy_ele_immunity:"electro_enemyImmunity",hydro_enemy_ele_res:"hydro_enemyRes_",hydro_enemy_ele_res_multi:"hydro_enemyRes_multi",hydro_enemy_ele_immunity:"hydro_enemyImmunity",pyro_enemy_ele_res:"pyro_enemyRes_",pyro_enemy_ele_res_multi:"pyro_enemyRes_multi",pyro_enemy_ele_immunity:"pyro_enemyImmunity",cryo_enemy_ele_res:"cryo_enemyRes_",cryo_enemy_ele_res_multi:"cryo_enemyRes_multi",cryo_enemy_ele_immunity:"cryo_enemyImmunity",ele_mas:"eleMas",amp_reaction_base_multi:"ampReactionBase_multi",enemy_level_multi:"enemyLevel_multi",enemy_level:"enemyLevel"},s={avg_dmg:"avgHit",dmg:"hit",crit_dmg:"critHit"},u=a(80);function d(){var e=f();if(e<2){Object.keys(localStorage).filter((function(e){return e.startsWith("character_")})).forEach((function(e){var t=Object(u.j)(e),a=t.characterKey,i=t.equippedArtifacts,c=void 0===i?{}:i,l="char_".concat(a);if(null===localStorage.getItem(l)){t.id,t.name;var d,f,m,v=t.dmgMode,_=Object(r.a)(t,["id","name","dmgMode"]);Array.isArray(null===_||void 0===_||null===(d=_.buildSetting)||void 0===d?void 0:d.mainStat)&&(_.buildSetting.mainStat=_.buildSetting.mainStat.map((function(e){return e in o?o[e]:e}))),"object"===typeof(null===_||void 0===_||null===(f=_.buildSetting)||void 0===f?void 0:f.statFilters)&&(_.buildSetting.statFilters=Object.fromEntries(Object.entries(_.buildSetting.statFilters).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return[a in o?o[a]:a,r]})))),_.hitMode=null!==(m=s[v])&&void 0!==m?m:Object.keys(s)[0],Object(u.l)(l,_),Object.values(c).forEach((function(e){var t=Object(u.j)(e);t&&(t.location=a,Object(u.l)(e,t))}))}else Object.values(c).forEach((function(e){var t=Object(u.j)(e);t&&(t.location="",Object(u.l)(e,t))}));localStorage.removeItem(e)}));var t=Object(u.j)("ArtifactDisplay.state");t&&(t.filterMainStatKey in o&&(t.filterMainStatKey=o[t.filterMainStatKey]),t.filterSubstats=t.filterSubstats.map((function(e){return e in o?o[e]:e})),Object(u.l)("ArtifactDisplay.state",t))}var a=l.a.populateDatebaseFromLocalStorage(),d=c.a.populateDatebaseFromLocalStorage();if(a||d){Object.values(c.a.getArtifactDatabase()).forEach((function(t){var a,n=!0;if(t.location)if(l.a.get(t.location)){var r=l.a.getArtifactIDFromSlot(t.location,t.slotKey);r?r!==t.id&&(t.location="",n=!1):l.a.equipArtifact(t.location,t)}else t.location="",n=!1;if(e<1){var s,u;i.a.substatsValidation(t),n=!1,"string"===typeof t.numStars&&(t.numStars=parseInt(t.numStars),n=!1);var d={"Wanderer's Troupe":"WanderersTroupe","Viridescent Venerer":"ViridescentVenerer","Thundering Fury":"ThunderingFury","Retracing Bolide":"RetracingBolide","Noblesse Oblige":"NoblesseOblige","Maiden Beloved":"MaidenBeloved","Gladiator's Finale":"GladiatorsFinale","Crimson Witch of Flames":"CrimsonWitchOfFlames","Bloodstained Chivalry":"BloodstainedChivalry","Archaic Petra":"ArchaicPetra","Brave Heart":"BraveHeart","Tiny Miracle":"TinyMiracle","Defender's Will":"DefendersWill","Martial Artist":"MartialArtist","Resolution of Sojourner":"ResolutionOfSojourner","The Exile":"TheExile","Traveling Doctor":"TravelingDoctor","Lucky Dog":"LuckyDog","Prayers of Wisdom":"PrayersForWisdom","Prayers of Springtime":"PrayersToSpringtime","Prayers of Illumination":"PrayersForIllumination","Prayers of Destiny":"PrayersForDestiny"};d[t.setKey]&&(t.setKey=d[t.setKey],n=!1),(null===t||void 0===t||null===(s=t.mainStatKey)||void 0===s||null===(u=s.endsWith)||void 0===u?void 0:u.call(s,"ele_dmg"))&&(t.mainStatKey=t.mainStatKey.replace("ele_dmg","ele_dmg_bonus"),n=!1),"phy_dmg"===(null===t||void 0===t?void 0:t.mainStatKey)&&(t.mainStatKey="phy_dmg_bonus",n=!1)}e<2&&(t.mainStatKey in o&&(t.mainStatKey=o[t.mainStatKey],n=!1),null===t||void 0===t||null===(a=t.substats)||void 0===a||a.forEach((function(e,a){e.key in o&&(t.substats[a].key=o[e.key],n=!1)})));n||c.a.updateArtifact(t)}));var v=l.a.getCharacterDatabase();Object.values(v).forEach((function(t){var a,r,i,o=!0,s=t.characterKey;(t.equippedArtifacts||(t.equippedArtifacts={},o=!1),Object.entries(t.equippedArtifacts).forEach((function(e){var a=Object(n.a)(e,2),r=a[0],i=a[1],l=c.a.get(i);l&&l.location!==s&&c.a.moveToNewLocation(i,s),l||(o=!1,t.equippedArtifacts[r]="")})),e<1)&&(t.artifactConditionals=null!==(a=null===(r=t.artifactConditionals)||void 0===r||null===(i=r.filter)||void 0===i?void 0:i.call(r,(function(e){return!(!e.srcKey||!e.srcKey2)||(o=!1,!1)})))&&void 0!==a?a:[],t.hitMode||(t.hitMode="hit",o=!1));o||l.a.updateCharacter(t)})),m(2)}}var f=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return parseInt(null!==(e=Object(u.j)("db_ver"))&&void 0!==e?e:t)},m=function(e){return Object(u.l)("db_ver",e)}},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),r=a(113),i=a(88),c=a(90);function l(e){var t=e.onSelect;return c.a.getCharacterKeyList().sort((function(e,t){return e<t?-1:e>t?1:0})).map((function(e){return Object(n.jsx)(r.a.Item,{onClick:function(){return t(e)},children:i.a.getName(e)},e)}))}},131:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(3),r=a(83),i=a(23),c=(a(0),a(114)),l=a(97),o=a(133),s=a(31),u=a(30),d=a(113),f=a(148),m=a(104),v=a(40),_=a(103),h=a(88),b=a(125),g=a(100),j=a(81),y=a(91),p=a(94),O=a(132);function x(e){var t,a,x=e.artifactId,S=e.artifactObj,k=e.forceUpdate,A=e.onEdit,N=e.onDelete,E=e.assumeFull,w=void 0!==E&&E;if(!x&&!S)return null;var K=S||p.a.get(x);if(!K)return null;var L=K.setKey,M=K.slotKey,D=K.numStars,C=void 0===D?0:D,I=K.level,H=void 0===I?0:I,R=K.mainStatKey,T=K.substats,z=void 0===T?[]:T,F=K.location,P=void 0===F?"":F,B=K.lock,W=K.currentEfficiency,U=void 0===W?0:W,V=K.maximumEfficiency,G=void 0===V?0:V,q=w?4*C:H,Y=w&&H!==4*C,J=Object(n.jsxs)("span",{className:Y?"text-orange":"",children:[y.a.getMainStatValue(R,C,q,""),j.a.getStatUnit(R)]}),Q=z.every((function(e){var t;return!e.key||e.key&&e.value&&(null===e||void 0===e||null===(t=e.rolls)||void 0===t?void 0:t.length)})),X=function(e){y.a.equipArtifactOnChar(x,e),null===k||void 0===k||k()};return Object(n.jsxs)(s.a,{className:"h-100",border:"".concat(C,"star"),bg:"lightcontent",text:"lightfont",children:[Object(n.jsx)(s.a.Header,{className:"p-0",children:Object(n.jsxs)(v.a,{children:[Object(n.jsx)(u.a,{xs:2,md:3,children:Object(n.jsx)(f.a,{src:y.a.getPieceIcon(L,M),className:"w-100 h-auto grad-".concat(C,"star m-1"),thumbnail:!0})}),Object(n.jsxs)(u.a,{className:"pt-3",children:[Object(n.jsx)("h6",{children:Object(n.jsx)("b",{children:y.a.getPieceName(L,M,"Unknown Piece Name")})}),Object(n.jsxs)("div",{children:[y.a.getSlotNameWithIcon(M)," +".concat(H)]})]})]})}),Object(n.jsxs)(s.a.Body,{className:"d-flex flex-column py-2",children:[Object(n.jsxs)(s.a.Title,{children:[Object(n.jsx)("div",{children:y.a.getSetName(L,"Artifact Set")}),Object(n.jsx)("small",{className:"text-halfsize",children:Object(n.jsx)(g.a,{stars:C})})]}),Object(n.jsx)("h5",{className:"mb-1",children:Object(n.jsxs)("b",{children:[j.a.getStatName(R)," ",J]})}),Object(n.jsx)(v.a,{className:"mb-0",children:z.map((function(e,t){var a;if(!e||!e.value)return null;var r=(null===e||void 0===e||null===(a=e.rolls)||void 0===a?void 0:a.length)||0,i=(null===e||void 0===e?void 0:e.efficiency)||0,l=.3+.7*i,o=j.a.getStatName(e.key);return Object(n.jsxs)(u.a,{xs:12,children:[Object(n.jsx)(c.a,{variant:r?"".concat(r,"roll"):"danger",className:"text-darkcontent",children:Object(n.jsx)("b",{children:r||"?"})})," ",Object(n.jsxs)("span",{className:"text-".concat(r,"roll"),children:[o,"+".concat(j.a.getStatUnit(e.key)?e.value.toFixed(1):e.value).concat(j.a.getStatUnit(e.key))]}),Object(n.jsxs)("span",{className:"float-right",style:{opacity:l},children:[i.toFixed(1),"%"]})]},t)}))}),Object(n.jsxs)("div",{className:"mt-auto",children:[Object(n.jsx)("span",{className:"mb-0 mr-1",children:"Substat Eff.:"}),Object(n.jsx)(O.a,{percent:U,valid:Q,children:null!==(t=null===U||void 0===U?void 0:U.toFixed(2))&&void 0!==t?t:U+"%"}),Object(n.jsx)("b",{children:" < "}),Object(n.jsx)(O.a,{percent:G,valid:Q,children:null!==(a=null===G||void 0===G?void 0:G.toFixed(2))&&void 0!==a?a:G+"%"})]})]}),Object(n.jsx)(s.a.Footer,{className:"pr-3",children:Object(n.jsxs)(v.a,{className:"d-flex justify-content-between no-gutters",children:[k?Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(d.a.Toggle,{size:"sm",className:"text-left",children:h.a.getName(P,"Inventory")}),Object(n.jsxs)(d.a.Menu,{children:[Object(n.jsx)(d.a.Item,{onClick:function(){return X("")},children:"Inventory"}),Object(n.jsx)(d.a.Divider,{}),Object(n.jsx)(b.a,{onSelect:function(e){return X(e)}})]})]})}):Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)("b",{children:h.a.getName(P,"Inventory")})}),Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsxs)(o.a,{children:[k?Object(n.jsx)(m.a,{placement:"top",overlay:Object(n.jsx)(_.a,{children:"Locking a artifact will prevent the build generator from picking it for builds. Artifacts on characters are locked by default."}),children:Object(n.jsx)("span",{className:"d-inline-block",children:Object(n.jsx)(l.a,{size:"sm",disabled:P,style:P?{pointerEvents:"none"}:{},onClick:function(){K.lock=!B,p.a.updateArtifact(K),null===k||void 0===k||k()},children:Object(n.jsx)(i.a,{icon:B||P?r.m:r.n,className:"fa-fw"})})})}):null,Boolean(A)&&Object(n.jsx)(l.a,{variant:"info",size:"sm",onClick:function(){return A()},children:Object(n.jsx)(i.a,{icon:r.g,className:"fa-fw"})}),Boolean(N)&&Object(n.jsx)(l.a,{variant:"danger",size:"sm",onClick:function(){return N()},children:Object(n.jsx)(i.a,{icon:r.C,className:"fa-fw"})})]})})]})})]})}},132:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(3),r=a(114);function i(e){var t=e.percent,a=e.valid,i=e.children,c=a?isNaN(t)?"secondary":"".concat(Math.floor(.05*t)+1,"roll"):"danger";return Object(n.jsx)(r.a,{variant:c,className:"secondary"===c?"":"text-darkcontent",children:i})}},229:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Se}));var n=a(79),r=a(3),i=a(92),c=a(82),l=a(87),o=a(96),s=a(137),u=a(136),d=a(83),f=a(23),m=a(0),v=a.n(m),_=a(31),h=a(97),b=a(113),g=a(166),j=a(167),y=a(141),p=a(133),O=a(30),x=a(55),S=a(40),k=a(18),A=a(88),N=a(90),E=a(125),w=a(106),K=a(100),L=a(121),M=a(217),D=a(80);function C(e){var t,a,i=e.pageKey,c=void 0===i?"":i,l=e.text,o=void 0===l?"":l,s=e.modalTitle,u=void 0===s?"":s,v=e.children,b=Object(m.useState)(null===(t=null===(a=Object(D.j)("infoShown"))||void 0===a?void 0:a[c])||void 0===t||t),g=Object(n.a)(b,2),j=g[0],y=g[1],p=Object(m.useState)(Array.isArray(o)?Object(D.g)(o):o),x=Object(n.a)(p,1)[0],k=function(){var e,t=null!==(e=Object(D.j)("infoShown"))&&void 0!==e?e:{};t[c]=!1,Object(D.l)("infoShown",t),y(!1)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(M.a,{show:j,onHide:function(){return k()},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(r.jsxs)(_.a,{bg:"darkcontent",text:"lightfont",children:[Object(r.jsx)(_.a.Header,{children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(O.a,{children:Object(r.jsx)(_.a.Title,{children:u})}),Object(r.jsx)(O.a,{xs:"auto",children:Object(r.jsx)(h.a,{variant:"danger",onClick:function(){return k()},children:Object(r.jsx)(f.a,{icon:d.z})})})]})}),Object(r.jsx)(_.a.Body,{children:v}),Object(r.jsx)(_.a.Footer,{children:Object(r.jsx)(h.a,{variant:"danger",onClick:function(){return k()},children:Object(r.jsx)("span",{children:"Close"})})})]})}),Object(r.jsx)(_.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(r.jsx)(_.a.Body,{className:"pl-2 py-0 pr-0",children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(O.a,{children:Object(r.jsx)("small",{children:x})}),Object(r.jsx)(O.a,{xs:"auto",children:Object(r.jsx)(h.a,{size:"sm",variant:"info",className:"m-0 py-1",onClick:function(){return y(!0)},children:Object(r.jsx)(f.a,{icon:d.q})})})]})})})]})}var I=a(81),H=a(91),R=a(131),T=a(94),z=a(85),F=a(148),P=a(114),B=a.p+"static/media/artifactcard.b41c23a2.png",W=a.p+"static/media/artifacteditor.e1ced319.png",U=a.p+"static/media/artifactfilter.36cf6083.png";function V(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(S.a,{className:"mb-2",children:[Object(r.jsx)(O.a,{xs:12,lg:5,xl:4,children:Object(r.jsx)(F.a,{src:B,className:"w-100 h-auto"})}),Object(r.jsxs)(O.a,{xs:12,lg:7,xl:8,children:[Object(r.jsx)("h5",{children:"Substat rolls"}),Object(r.jsxs)("p",{children:["The ",Object(r.jsx)("b",{children:"number of rolls"})," a substat has is shown to the left of the substat. As the number gets higher, the substat is more colorful:",Object(z.a)(Array(6).keys()).map((function(e){return Object(r.jsx)(P.a,{variant:"".concat(e+1,"roll"),className:"text-darkcontent ml-1",children:Object(r.jsx)("b",{children:e+1})},e)})),"."]}),Object(r.jsx)("h5",{children:"Substat Efficiency"}),Object(r.jsxs)("p",{children:["The Efficiency of an subtat is a percentage of the current value over the highest potential 5",Object(r.jsx)(K.a,{stars:1})," value. From the Image, the maximum roll value of CRIT DMG is 7.8%. In efficiency: ",Object(r.jsx)("b",{children:"5.8/7.8 = 69.2%."})]}),Object(r.jsx)("h5",{children:"Current efficiency vs. Maximum Potential efficiency"}),Object(r.jsxs)("p",{children:["When a 5",Object(r.jsx)(K.a,{stars:1})," have 9(4+5) total rolls, with each of the rolls having the highest value, that is defined as a 100% efficient artifact. However, most of the artifacts are not this lucky. The ",Object(r.jsx)("b",{children:"current efficiency"})," of an artifact is a percentage over that 100% artifact. The ",Object(r.jsx)("b",{children:"maximum efficiency"})," is the maximum possible efficiency an artifact can achieve, if the remaining artifact rolls from upgrades are the hightest value."]}),Object(r.jsx)("h5",{children:"Locking an artifact"}),Object(r.jsxs)("p",{children:["By locking an artifact ",Object(r.jsx)(f.a,{icon:d.m}),", This artifact will not be picked up by the build generator for optimization. An equipped artifact is locked by default."]})]})]}),Object(r.jsxs)(S.a,{className:"mb-2",children:[Object(r.jsxs)(O.a,{xs:12,lg:6,xl:7,children:[Object(r.jsx)("h5",{children:"Artifact Editor"}),Object(r.jsxs)("p",{children:["A fully featured artifact editor, that can accept any 3",Object(r.jsx)(K.a,{stars:1})," to 5",Object(r.jsx)(K.a,{stars:1})," Artifact. When a substat is inputted, it can calculate the exact roll values, and from it, the efficiency. It will also make sure that you have the correct number of rolls in the artifact according to the level, along with other metrics of validation."]}),Object(r.jsx)("h5",{children:"Scan screenshots"}),Object(r.jsxs)("p",{children:["Manual input is not your cup of tea? You can scan in your artifacts with screenshots! On the Artifact Editor, click the ",Object(r.jsx)(P.a,{variant:"info",children:"Show Me How!"})," button to learn more."]}),Object(r.jsx)("h5",{children:"Duplicate/Upgrade artifact detection"}),Object(r.jsxs)("p",{children:["Did you know GO can detect if you are adding a ",Object(r.jsx)("b",{children:"duplicate"})," artifact that exist in the system? It can also detect if the current artifact in editor is an ",Object(r.jsx)("b",{children:"upgrade"})," of an existing aritact as well. Once a duplicate/upgrade is is detected, a preview will allow you to compare the two artifact in question(See Image)."]})]}),Object(r.jsx)(O.a,{xs:12,lg:6,xl:5,children:Object(r.jsx)(F.a,{src:W,className:"w-100 h-auto"})})]}),Object(r.jsxs)(S.a,{children:[Object(r.jsx)(O.a,{xs:12,lg:7,xl:6,children:Object(r.jsx)(F.a,{src:U,className:"w-100 h-auto"})}),Object(r.jsxs)(O.a,{xs:12,lg:5,xl:6,children:[Object(r.jsx)("h5",{children:"Artifact Inventory"}),Object(r.jsx)("p",{children:"All your artifacts that you've added to GO can be displayed here. However, displaying hundreds of artifacts at once will be laggy, so GO only shows your a maximum of 50. Use the artifact filter to filter your results. "}),Object(r.jsx)("h5",{children:"Unequip all artifacts"}),Object(r.jsx)("p",{children:"If you ever need to unequip all your artifacts from all your characters, so you can re-optimize your characters in a fresh state, you can use this button. You will have to confirm a dialog, of course/"}),Object(r.jsx)("h5",{children:"Example: Finding Fodder Artifacts"}),Object(r.jsx)("p",{children:"By utilizing the artifact filter, and the artifact efficiency calculations, you can quickly find artifacts to feed as food. Select the undesirable substat combinations(in the Image, flat ATK and flat DEF are selected), set the filter to artifacts in Inventory, and sort the artifacts by lowest artifact efficiency."})]})]})]})}var G=a(221),q=a(145),Y=a(104),J=a(231),Q=a(222),X=a(132),Z=a(146),$=a.n(Z),ee=a(184),te=a(216),ae=a(228),ne=a(185),re=a.p+"static/media/scan_art_main.4c0903fc.png",ie=a.p+"static/media/snippet.d223e797.png",ce={r:255,g:204,b:50};function le(e){var t=e.setState,a=e.reset,l=Object(m.useState)("Click here to Upload Artifact Screenshot File"),o=Object(n.a)(l,2),s=o[0],u=o[1],d=Object(m.useState)(""),f=Object(n.a)(d,2),v=f[0],_=f[1],b=Object(m.useState)(!1),g=Object(n.a)(b,2),j=g[0],y=g[1],p=Object(m.useState)(""),x=Object(n.a)(p,2),A=x[0],N=x[1],E=Object(m.useState)(0),w=Object(n.a)(E,2),K=w[0],L=w[1],M=Object(m.useState)(""),C=Object(n.a)(M,2),R=C[0],T=C[1],z=Object(m.useState)(""),F=Object(n.a)(z,2),P=F[0],B=F[1],W=Object(m.useState)(0),U=Object(n.a)(W,2),V=U[0],G=U[1],q=Object(m.useState)(""),Y=Object(n.a)(q,2),J=Y[0],Q=Y[1],X=Object(m.useState)(""),Z=Object(n.a)(X,2),re=Z[0],ie=Z[1],ce=Object(m.useState)(0),le=Object(n.a)(ce,2),se=le[0],_e=le[1],pe=Object(m.useState)(""),Oe=Object(n.a)(pe,2),xe=Oe[0],Se=Oe[1],ke=Object(m.useState)(""),Ae=Object(n.a)(ke,2),Ne=Ae[0],Ee=Ae[1],we=Object(m.useState)(""),Ke=Object(n.a)(we,2),Le=Ke[0],Me=Ke[1],De=Object(m.useState)(""),Ce=Object(n.a)(De,2),Ie=Ce[0],He=Ce[1],Re=Object(m.useState)(""),Te=Object(n.a)(Re,2),ze=Te[0],Fe=Te[1],Pe=Object(m.useState)(!1),Be=Object(n.a)(Pe,2),We=Be[0],Ue=Be[1],Ve=function(){N(""),Ee(""),B(""),ie(""),Me(""),He(""),Fe("")},Ge=function(){u("Click here to Upload Artifact Screenshot File"),_(""),Ue(!1),y(!1),L(0),T(""),G(0),Q(""),_e(0),Se(""),Ve()},qe=function(){var e=Object(ee.a)($.a.mark((function e(t,a,n,r){var i,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(ne.createWorker)({logger:function(e){"loading tesseract core"===e.status&&n("danger"),e.status.includes("loading language traineddata")&&n("warning"),e.status.includes("initializing api")&&n("info"),"recognizing text"===e.status&&n("success"),a(e.progress)},errorHandler:function(e){return console.error(e)}}),e.next=4,i.load();case 4:return e.next=6,i.loadLanguage("eng");case 6:return e.next=8,i.initialize("eng");case 8:return e.next=10,i.recognize(t);case 10:return c=e.sent,e.next=13,i.terminate();case 13:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(ee.a)($.a.mark((function e(a){var c,l,o,s,d,f,m,v,h,b,g,j,p,O,x,S,k,A,E,w,K,M,C,R,z,F,P,W,U,V,q,Y,J;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return y(!0),Ve(),u(a.name),e.next=7,ue(a);case 7:return c=e.sent,_(c),e.next=11,de(c);case 11:return l=e.sent,o=Object(D.a)(me(l.data,l.width,l.height,5),3,5),s=Object(r.jsxs)("span",{children:["Detected ",Object(r.jsx)("span",{className:"text-success",children:o})," Stars."]}),d=[qe(fe(ve(l,{r:140,g:140,b:140},{r:255,g:255,b:255},{region:"top",mode:"bw"})),L,T),qe(fe(ve(l,{r:30,g:50,b:80},{r:160,g:160,b:160},{region:"bot"})),G,Q),qe(fe(ve(l,{r:30,g:160,b:30},{r:200,g:255,b:200},{region:"bot",mode:"bw"})),_e,Se)],e.next=17,Promise.all(d);case 17:if(f=e.sent,m=Object(n.a)(f,3),v=m[0],h=m[1],b=m[2],g=ge(b),j=je(v),p=he(h),O=NaN,x=be(v),S=ye(v),k=S.mainStatValue,A=S.unit,E=void 0===A?"":A,Me(k?Object(r.jsxs)("span",{children:["Detected Main Stat value to be ",Object(r.jsxs)("span",{className:"text-success",children:[k,E]}),"."]}):Object(r.jsx)("span",{className:"text-warning",children:"Could not detect main stat value."})),"hp"!==x&&"def"!==x&&"atk"!==x||("%"===E||H.a.getSlotMainStatKeys(j).includes("".concat(x,"_")))&&(x="".concat(x,"_")),j&&!H.a.getSlotMainStatKeys(j).includes(x)&&(x=""),x&&He(Object(r.jsxs)("span",{children:["Detected main stat: ",Object(r.jsx)("span",{className:"text-success",children:I.a.getStatNameRaw(x)})]})),g&&o&&(H.a.getRarityArr(g).includes(o)||(o=0,s=Object(r.jsx)("span",{className:"text-danger",children:"Could not detect artifact rarity."}))),j&&!x&&(1===(w=H.a.getSlotMainStatKeys(j)).length?(x=w[0],He(Object(r.jsxs)("span",{className:"text-warning",children:['Main stat was not successfully detected. Since artifact is of "',H.a.getSlotName(j),'", main stat: ',Object(r.jsx)("span",{className:"text-danger",children:I.a.getStatName(x)}),"."]}))):(w=w.filter((function(e){return(!k||E===I.a.getStatUnit(e))&&((!p||!p.some((function(t){return t.key===e})))&&!(k&&o&&O&&H.a.getMainStatValue(e,o,O)!==k))}))).length>0&&(x=w[0],He(Object(r.jsxs)("span",{className:"text-warning",children:["Main stat was not successfully detected. Inferring main stat: ",Object(r.jsx)("span",{className:"text-danger",children:I.a.getStatName(x)}),"."]})))),K=function(e,t,a){var n=H.a.getMainStatValues(e,t.includes("ele_dmg_")?"ele_dmg_":t);if(n.length>0){var r="%"===I.a.getStatUnit(t),i=n.findIndex((function(e){return r?Math.abs(a-e)<.1:a===e}));if(-1!==i)return O=i,!0}return!1},isNaN(O)&&o&&x&&k&&K(o,x,k),M=!isNaN(O),isNaN(O)||Fe(Object(r.jsxs)("span",{children:["Detected level: ",Object(r.jsx)("span",{className:"text-success",children:O})]})),!(isNaN(O)&&x&&k)){e.next=60;break}C=g?H.a.getRarityArr(g):H.a.getStars().reverse(),R=Object(i.a)(C),e.prev=41,R.s();case 43:if((z=R.n()).done){e.next=52;break}if(F=z.value,!K(F,x,k)){e.next=50;break}if(g&&!H.a.getRarityArr(g).includes(F)){e.next=50;break}return o=F,s=Object(r.jsxs)("span",{className:"text-warning",children:["Inferred ",Object(r.jsx)("span",{className:"text-success",children:o})," Stars from Artifact Set."]}),e.abrupt("break",52);case 50:e.next=43;break;case 52:e.next=57;break;case 54:e.prev=54,e.t0=e.catch(41),R.e(e.t0);case 57:return e.prev=57,R.f(),e.finish(57);case 60:if(isNaN(O)||M||Fe(Object(r.jsxs)("span",{className:"text-warning",children:["Inferred level: ",Object(r.jsx)("span",{className:"text-danger",children:O})]})),o&&!isNaN(O)&&O>4*o&&(O=NaN),o=Object(D.a)(o,3,5),isNaN(O)&&(O=4*o,Fe(Object(r.jsxs)("span",{className:"text-warning",children:["Could not detect artifact level. Default to: ",Object(r.jsx)("span",{className:"text-danger",children:O})]}))),!j){e.next=68;break}B(Object(r.jsxs)("span",{children:["Detected slot name ",Object(r.jsx)("span",{className:"text-success",children:H.a.getSlotName(j)})]})),e.next=89;break;case 68:if(!x){e.next=89;break}P=g?Object.keys(H.a.getPieces(g)):H.a.getSlotKeys(),W=Object(i.a)(P),e.prev=71,W.s();case 73:if((U=W.n()).done){e.next=81;break}if(V=U.value,!H.a.getMainStatKeys(V).includes(x)){e.next=79;break}return j=V,B(Object(r.jsxs)("span",{className:"text-warning",children:["Slot name was not successfully detected. Inferring slot name: ",Object(r.jsx)("span",{className:"text-danger",children:H.a.getSlotName(j)}),"."]})),e.abrupt("break",81);case 79:e.next=73;break;case 81:e.next=86;break;case 83:e.prev=83,e.t1=e.catch(71),W.e(e.t1);case 86:return e.prev=86,W.f(),e.finish(86);case 89:q={},isNaN(O)||(q.level=O),g?(q.setKey=g,Ee(Object(r.jsxs)("span",{children:["Detected set ",Object(r.jsx)("span",{className:"text-success",children:H.a.getSetName(g)})]}))):Ee(Object(r.jsx)("span",{className:"text-danger",children:"Could not detect artifact set name."})),j?q.slotKey=j:B(Object(r.jsx)("span",{className:"text-danger",children:"Could not detect slot name."})),p?(q.substats=p,Y=p.reduce((function(e,t){return e+(t.key?1:0)}),0),J=H.a.getBaseSubRollNumLow(o),ie(o&&Y<J?Object(r.jsxs)("span",{className:"text-warning",children:["Detected ",Y," substats, but there should be at least ",J," substats."]}):Object(r.jsxs)("span",{children:["Detected ",Object(r.jsx)("span",{className:"text-success",children:Y})," substats."]}))):ie(Object(r.jsx)("span",{className:"text-danger",children:"Could not detect any substats."})),o&&(q.numStars=o,N(s)),x?q.mainStatKey=x:He(Object(r.jsx)("span",{className:"text-danger",children:"Could not detect main stat."})),null===t||void 0===t||t(q);case 97:case"end":return e.stop()}}),e,null,[[41,54,57,60],[71,83,86,89]])})));return function(t){return e.apply(this,arguments)}}();Object(m.useEffect)((function(){var e=function(e){return Ye(e.clipboardData.files[0])};return window.addEventListener("paste",e),null===a||void 0===a||a(Ge),function(){return window.removeEventListener("paste",e)}}));var Je=Boolean(v)&&Object(r.jsx)("img",{src:v,className:"w-100 h-auto",alt:"Screenshot to parse for artifact values"}),Qe=(100*se).toFixed(1),Xe=(100*V).toFixed(1),Ze=(100*K).toFixed(1);return Object(r.jsxs)(S.a,{children:[Object(r.jsx)(oe,Object(c.a)({},{modalShow:We,setModalShow:Ue})),Object(r.jsx)(O.a,{xs:12,className:"mb-2",children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(O.a,{children:Object(r.jsx)("h6",{className:"mb-0",children:"Parse Substats by Uploading Image"})}),Object(r.jsx)(O.a,{xs:"auto",children:Object(r.jsx)(h.a,{variant:"info",size:"sm",onClick:function(){Ue(!0),k.a.modalview("/artifact/how-to-upload")},children:"Show Me How!"})})]})}),Object(r.jsx)(O.a,{xs:8,lg:v?4:0,children:Je}),Object(r.jsxs)(O.a,{xs:12,lg:v?8:12,children:[j&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"mb-2",children:[Object(r.jsx)("h6",{className:"mb-0",children:"Scan".concat(Qe<100?"ning":"ned"," Artifact Set")}),Object(r.jsx)(te.a,{variant:xe,now:Qe,label:"".concat(Qe,"%")})]}),Object(r.jsxs)("div",{className:"mb-2",children:[Object(r.jsx)("h6",{className:"mb-0",children:"Scan".concat(Xe<100?"ning":"ned"," Artifact Substat")}),Object(r.jsx)(te.a,{variant:J,now:Xe,label:"".concat(Xe,"%")})]}),Object(r.jsxs)("div",{className:"mb-2",children:[Object(r.jsx)("h6",{className:"mb-0",children:"Scan".concat(Ze<100?"ning":"ned"," Other")}),Object(r.jsx)(te.a,{variant:R,now:Ze,label:"".concat(Ze,"%")})]}),Object(r.jsxs)("div",{className:"mb-2",children:[Object(r.jsx)("div",{children:A}),Object(r.jsx)("div",{children:Ne}),Object(r.jsx)("div",{children:P}),Object(r.jsx)("div",{children:Le}),Object(r.jsx)("div",{children:Ie}),Object(r.jsx)("div",{children:ze}),Object(r.jsx)("div",{children:re})]})]}),Object(r.jsx)(ae.a.File,{type:"file",className:"mb-0",id:"inputGroupFile01",label:s,onChange:function(e){var t=e.target.files[0];Ye(t)},custom:!0}),Boolean(!v)&&Object(r.jsx)(ae.a.Label,{className:"mb-0",children:"Please Select an Image, or paste a screenshot here (Ctrl+V)"})]})]})}function oe(e){var t=e.modalShow,a=e.setModalShow;return Object(r.jsx)(M.a,{show:t,onHide:function(){return a(!1)},size:"xl",variant:"success",contentClassName:"bg-transparent",children:Object(r.jsxs)(_.a,{bg:"darkcontent",text:"lightfont",children:[Object(r.jsx)(_.a.Header,{children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(O.a,{children:Object(r.jsx)(_.a.Title,{children:"How do Upload Screenshots for parsing"})}),Object(r.jsx)(O.a,{xs:"auto",children:Object(r.jsx)(h.a,{variant:"danger",onClick:function(){return a(!1)},children:Object(r.jsx)(f.a,{icon:d.z})})})]})}),Object(r.jsxs)(_.a.Body,{children:[Object(r.jsxs)(S.a,{children:[Object(r.jsx)(O.a,{xs:8,md:4,children:Object(r.jsx)("img",{alt:"snippet of the screen to take",src:ie,className:"w-100 h-auto"})}),Object(r.jsxs)(O.a,{xs:12,md:8,children:[Object(r.jsx)("p",{children:"Using screenshots can dramatically decrease the amount of time you manually input in stats on the Genshin Optimizer."}),Object(r.jsx)("h5",{children:"Where to snip the screenshot."}),Object(r.jsxs)("p",{children:["In game, Open your bag, and navigate to the artifacts tab. Select the artifact you want to scan with Genshin Optimizer. To take a screenshot, in Windows, the shortcut is ",Object(r.jsx)("strong",{children:"Shift + WindowsKey + S"}),". Once you selected the region, the image is automatically included in your clipboard."]}),Object(r.jsx)("h5",{children:"What to include in the screenshot."}),Object(r.jsx)("p",{children:"As shown in the Image, starting from the top with the artifact name, all the way to the set name(the text in green). "})]})]}),Object(r.jsxs)(S.a,{children:[Object(r.jsxs)(O.a,{children:[Object(r.jsx)("h5",{children:"Adding Screenshot to Genshin Optimizer"}),Object(r.jsxs)("p",{children:['At this point, you should have the artifact snippet either saved to your harddrive, or in your clipboard. You can click on the box next to "Browse" to browse the file in your harddrive, or even easier, just press ',Object(r.jsx)("strong",{children:"Ctrl + V"})," to paste from your clipboard. You should be able to see a Preview of your artifact snippet, and after waiting a few seconds, the artifact set and the substats will be filled in in the ",Object(r.jsx)("b",{children:"Artifact Editor"}),"."]})]}),Object(r.jsxs)(O.a,{xs:12,children:[Object(r.jsx)("h5",{children:"Finishing the Artifact"}),Object(r.jsxs)("p",{children:["Unfortunately, computer vision is not 100%. There will always be cases where something is not scanned properly. You should always double check the scanned artifact values! Once the artifact has been filled, Click on ",Object(r.jsx)("strong",{children:"Add Artifact"})," to finish editing the artifact."]}),Object(r.jsx)("img",{alt:"main screen after importing stats",src:re,className:"w-75 h-auto"})]})]})]}),Object(r.jsx)(_.a.Footer,{children:Object(r.jsx)(h.a,{variant:"danger",onClick:function(){return a(!1)},children:Object(r.jsx)("span",{children:"Close"})})})]})})}var se=new FileReader;function ue(e){return new Promise((function(t){se.onloadend=function(){t(se.result)},se.readAsDataURL(e)}))}function de(e){return new Promise((function(t){var a=new Image;a.onload=function(){return t(function(e){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.width,t.height=e.height,a.drawImage(e,0,0,e.width,e.height),a.getImageData(0,0,e.width,e.height)}(a))},a.src=e}))}function fe(e){var t=document.createElement("canvas"),a=t.getContext("2d");t.width=e.width,t.height=e.height;var n=a.createImageData(e.width,e.height);return n.data.set(e.data),a.putImageData(n,0,0),t.toDataURL()}function me(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e,i=0,c=0,l=0;l<a;l++){for(var o=0,s=!1,u=0;u<t;u++){var d=4*(l*t+u),f=r[d],m=r[d+1],v=r[d+2];_e({r:f,g:m,b:v},ce)?s||(s=!0,o++):s=!1}if(i!==o)i=o,c=1;else if(i&&++c>=10)return i}return n}function ve(e,t,a,n){var r=n.region,i=n.mode;r||(r="all");for(var c=Uint8ClampedArray.from(e.data),l=Math.floor(e.width*(e.height/2)*4),o="top"===r,s="bot"===r,u="all"===r,d="bw"===i,f="invert"===i,m=0;m<c.length;m+=4){var v=c[m],_=c[m+1],h=c[m+2];(u||o&&m<l||s&&m>l)&&v>=t.r&&v<=a.r&&_>=t.g&&_<=a.g&&h>=t.b&&h<=a.b?d?c[m]=c[m+1]=c[m+2]=0:f&&(c[m]=255-v,c[m+1]=255-_,c[m+2]=255-h):c[m]=c[m+1]=c[m+2]=255}return new ImageData(c,e.width,e.height)}function _e(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=function(e,t){return Math.abs(e-t)<=a};return!!(n(e.r,t.r)&&n(e.g,t.g)&&n(e.b,t.b))}function he(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.lines)||void 0===a?void 0:a.map((function(e){return e.text}));if(!r)return n;var c,l=[],o=Object(i.a)(r);try{var s=function(){var e=c.value;H.a.getSubStatKeys().forEach((function(t){var a=I.a.getStatUnit(t),n=I.a.getStatNameRaw(t),r=("%"===a?new RegExp(n+"\\s*\\+\\s*(\\d+\\.\\d)%","im"):new RegExp(n+"\\s*\\+\\s*(\\d+,\\d+|\\d+)($|\\s)","im")).exec(e);r&&l.push({value:r[1],unit:a,key:t})}))};for(o.s();!(c=o.n()).done;)s()}catch(f){o.e(f)}finally{o.f()}l.forEach((function(e,t){t>=4||(e.value="%"===e.unit?parseFloat(e.value):parseInt(e.value))}));for(var u=[],d=0;d<4;d++)l[d]?u.push({key:l[d].key,value:l[d].value}):u.push({key:"",value:0});return u}function be(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.lines)||void 0===a?void 0:a.map((function(e){return e.text}));if(!r)return n;var c,l=Object(i.a)(r);try{for(l.s();!(c=l.n()).done;){var o,s=c.value,u=Object(i.a)(H.a.getMainStatKeys());try{for(u.s();!(o=u.n()).done;){var d=o.value;if(s.toLowerCase().includes(I.a.getStatNameRaw(d).toLowerCase()))return d;if(d.includes("_bonu")&&Object(D.i)(s.replace(/\W/g,""),I.a.getStatNameRaw(d).replace(/\W/g,""))<=1)return d}}catch(f){u.e(f)}finally{u.f()}}}catch(f){l.e(f)}finally{l.f()}return n}function ge(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.lines)||void 0===a?void 0:a.map((function(e){return e.text}));if(!r)return n;var c,l=Object(i.a)(r);try{for(l.s();!(c=l.n()).done;){var o,s=c.value,u=Object(i.a)(H.a.getSetKeys());try{for(u.s();!(o=u.n()).done;){var d=o.value;if(Object(D.i)(s.replace(/\W/g,""),H.a.getSetName(d).replace(/\W/g,""))<=2)return d}}catch(f){u.e(f)}finally{u.f()}}}catch(f){l.e(f)}finally{l.f()}}function je(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.lines)||void 0===a?void 0:a.map((function(e){return e.text}));if(!r)return n;var c,l=Object(i.a)(r);try{for(l.s();!(c=l.n()).done;){var o,s=c.value,u=Object(i.a)(H.a.getSlotKeys());try{for(u.s();!(o=u.n()).done;){var d=o.value;if(Object(D.i)(s.replace(/\W/g,""),H.a.getSlotName(d).replace(/\W/g,""))<=2)return d}}catch(f){u.e(f)}finally{u.f()}}}catch(f){l.e(f)}finally{l.f()}}function ye(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mainStatValue:NaN},r=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.lines)||void 0===a?void 0:a.map((function(e){return e.text}));if(!r)return n;var c,l=Object(i.a)(r);try{for(l.s();!(c=l.n()).done;){var o=c.value,s=/(\d+\.\d)%/,u=s.exec(o);if(u)return{mainStatValue:parseFloat(u[1]),unit:"%"};if(u=(s=/(\d+,\d{3}|\d{2,3})/).exec(o))return{mainStatValue:parseInt(u[1].replace(/,/g,""))}}}catch(d){l.e(d)}finally{l.f()}return n}var pe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).setLevel=function(e){return n.setState((function(t){return e=parseInt(e),isNaN(e)&&(e=0),e<0&&(e=0),e>4*t.numStars&&(e=4*t.numStars),{level:e}}))},n.getRemainingSubstats=function(e,t){return H.a.getSubStatKeys().filter((function(a){return e!==a&&!t.some((function(e){return(null===e||void 0===e?void 0:e.key)===a}))}))},n.saveArtifact=function(e){var t,r,i,c;null===(t=(r=n).uploadDisplayReset)||void 0===t||t.call(r);var l=Object(D.e)(n.state);if(delete l.artifactIdToEdit,"string"===typeof e){var o=T.a.get(e);o&&(l.id=o.id,l.location=o.location)}l.maximumEfficiency||H.a.substatsValidation(l),null===(i=(c=n.props).addArtifact)||void 0===i||i.call(c,l),n.setState(a.getInitialState())},n.clearArtifact=function(){var e,t,r,i;null===(e=(t=n).uploadDisplayReset)||void 0===e||e.call(t),null===(r=(i=n.props).cancelEdit)||void 0===r||r.call(i),n.setState(a.getInitialState())},n.setSetKey=function(e){return n.setState((function(t){var a=Object(D.f)(H.a.getRarityArr(e)),n=!t.level||t.level>4*a?4*a:t.level;return{setKey:e,numStars:a,level:n}}))},n.setSubStat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n.setState((function(n){if(!(e>=4)){var r=n.substats;return r[e].key=t,r[e].value=a,{substats:r}}}))},n.setMainStatKey=function(e){return n.setState((function(t){return t.substats.forEach((function(a,n){return a.key&&a.key===e&&(t.substats[n]={key:"",value:0})})),{mainStatKey:e}}))},n.setSlotKey=function(e){return n.setState((function(t){var a,r=H.a.getSlotMainStatKeys(e),c=Object(i.a)(r);try{var l=function(){var n=a.value;if(!t.substats.some((function(e){return!(!e||!e.key)&&e.key===n})))return{v:{slotKey:e,mainStatKey:n}}};for(c.s();!(a=c.n()).done;){var o=l();if("object"===typeof o)return o.v}}catch(u){c.e(u)}finally{c.f()}var s=r[0];return n.setMainStatKey(s),{slotKey:e}}))},n.checkDuplicate=function(){var e=n.state,t=e.id,r=e.setKey,c=void 0===r?"":r,l=e.numStars,o=void 0===l?0:l,s=e.level,u=void 0===s?0:s,d=e.slotKey,f=void 0===d?"":d,m=e.mainStatKey,v=void 0===m?"":m,_=e.substats,h=void 0===_?Object(D.e)(a.initialState.substats):_,b=null,g=!1;if(!t&&c&&f&&o&&v){var j,y=Object.values(T.a.getArtifactDatabase()).filter((function(e){if(c!==e.setKey)return!1;if(o!==e.numStars)return!1;if(f!==e.slotKey)return!1;if(v!==e.mainStatKey)return!1;if(e.level>u)return!1;var t,a=Object(i.a)(e.substats);try{var n=function(){var e=t.value;return e.key?h.find((function(t){return t.key===e.key&&(t.value>e.value||H.a.subStatCloseEnough(t.key,t.value,e.value))}))?void 0:{v:!1}:"continue"};for(a.s();!(t=a.n()).done;){var r=n();if("continue"!==r&&"object"===typeof r)return r.v}}catch(l){a.e(l)}finally{a.f()}return!0}));if(b=null===(j=y[0])||void 0===j?void 0:j.id,y.length>0){var p=y.filter((function(e){if(e.level!==u)return!1;var t,a=Object(i.a)(e.substats);try{var n=function(){var e=t.value;return e.key?h.find((function(t){return t.key===e.key&&H.a.subStatCloseEnough(t.key,t.value,e.value)}))?void 0:{v:!1}:"continue"};for(a.s();!(t=a.n()).done;){var r=n();if("continue"!==r&&"object"===typeof r)return r.v}}catch(c){a.e(c)}finally{a.f()}return!0}));p.length>0&&(b=p[0].id,g=!0)}}return{dupId:b,dup:g}},n.randomizeArtifact=function(){var e,t,r=a.getInitialState();r.setKey=Object(D.g)(H.a.getSetKeys()),r.numStars=Object(D.g)(H.a.getRarityArr(r.setKey)),r.slotKey=Object(D.g)(Object.keys(H.a.getPieces(r.setKey))),r.mainStatKey=Object(D.g)(H.a.getSlotMainStatKeys(r.slotKey));var i=Object(D.h)(H.a.getBaseSubRollNumLow(r.numStars),H.a.getBaseSubRollNumHigh(r.numStars));r.level=Object(D.h)(0,4*r.numStars);var c=Math.floor(r.level/4),l=i+c;l>=4?(i=4,c=l-4):(i=l,c=0);for(var o=function(e){return Object(D.g)(H.a.getSubstatRollData(e,r.numStars))},s=n.getRemainingSubstats(r.mainStatKey,r.substats),u=function(e){var t=r.substats[e];t.key=Object(D.g)(s),s=s.filter((function(e){return e!==t.key})),t.value=o(t.key)},d=0;d<i;d++)u(d);for(var f=0;f<c;f++){var m=Object(D.g)(r.substats);m.value+=o(m.key),Number.isInteger(m.value)||(m.value=parseFloat(m.value.toFixed(1)))}null===(e=(t=n.props).cancelEdit)||void 0===e||e.call(t),n.setState(r)},n.componentDidUpdate=function(e,t){n.props.artifactIdToEdit&&e.artifactIdToEdit!==n.props.artifactIdToEdit&&n.setState(Object(D.e)(T.a.get(n.props.artifactIdToEdit)))},n.state=a.getInitialState(),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=H.a.substatsValidation(this.state),i=this.state,l=i.id,o=i.setKey,s=void 0===o?"":o,u=i.numStars,m=void 0===u?0:u,j=i.level,y=void 0===j?0:j,p=i.slotKey,x=void 0===p?"":p,k=i.mainStatKey,A=void 0===k?"":k,N=i.substats,E=void 0===N?Object(D.e)(a.initialState.substats):N,w=i.currentEfficiency,L=i.maximumEfficiency,M=this.checkDuplicate(),C=M.dupId,z=M.dup;return Object(r.jsxs)(_.a,{bg:"darkcontent",text:"lightfont",children:[Object(r.jsx)(_.a.Header,{children:"Artifact Editor"}),Object(r.jsx)(_.a.Body,{children:Object(r.jsxs)(S.a,{className:"mb-n2",children:[Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsxs)(g.a,{className:"w-100 d-flex",children:[Object(r.jsxs)(b.a,{as:g.a.Prepend,className:"flex-grow-1",children:[Object(r.jsx)(b.a.Toggle,{className:"w-100",children:H.a.getSetName(s,"Artifact Set")}),Object(r.jsx)(b.a.Menu,{children:[5,4,3].map((function(t,a){return Object(r.jsxs)(v.a.Fragment,{children:[a>0&&Object(r.jsx)(b.a.Divider,{}),Object(r.jsxs)(b.a.ItemText,{children:["Max Rarity ",Object(r.jsx)(K.a,{stars:t})]}),H.a.getSetsByMaxStarEntries(t).map((function(t){var a=Object(n.a)(t,2),i=a[0],c=a[1];return Object(r.jsx)(b.a.Item,{onClick:function(){return e.setSetKey(i)},children:c.name},i)}))]},t)}))})]}),Object(r.jsx)(G.a,{as:g.a.Append,title:m>0?Object(r.jsx)(K.a,{stars:m}):"Rarity",disabled:!s,children:H.a.getStars().map((function(t,a){return Object(r.jsx)(b.a.Item,{disabled:!H.a.getRarityArr(s).includes(t),onClick:function(){return e.setState({numStars:t,level:0})},children:Object(r.jsx)(K.a,{stars:t})},a)}))})]})}),Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsxs)(g.a,{children:[Object(r.jsx)(g.a.Prepend,{children:Object(r.jsx)(g.a.Text,{children:"Level"})}),Object(r.jsx)(q.a,{value:y,disabled:!s,placeholder:"0~".concat(4*m),onChange:function(t){return e.setLevel(t.target.value)}}),Object(r.jsxs)(g.a.Append,{children:[Object(r.jsx)(h.a,{onClick:function(){return e.setLevel(0)},disabled:!s||0===y,children:"0"}),Object(r.jsx)(h.a,{onClick:function(){return e.setLevel(y-1)},disabled:!s||0===y,children:"-"}),Object(r.jsx)(h.a,{onClick:function(){return e.setLevel(y+1)},disabled:!s||y===4*m,children:"+"}),Object(r.jsx)(h.a,{onClick:function(){return e.setLevel(4*m)},disabled:!s||y===4*m,children:4*m})]})]})}),Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsxs)(g.a,{children:[Object(r.jsx)(G.a,{title:H.a.getSlotNameWithIcon(x,"Slot"),disabled:!s,as:g.a.Prepend,children:Object.keys(H.a.getPieces(s)).map((function(t){return Object(r.jsx)(b.a.Item,{onClick:function(){return e.setSlotKey(t)},children:H.a.getSlotNameWithIcon(t,"Slot")},t)}))}),Object(r.jsx)(q.a,{value:H.a.getPieceName(s,x,"Unknown Piece Name"),disabled:!0,readOnly:!0})]})}),Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsxs)(g.a,{children:[Object(r.jsxs)(G.a,{title:I.a.getStatNameWithPercent(A,"Main Stat"),disabled:!s||!x,as:g.a.Prepend,children:[Object(r.jsx)(b.a.ItemText,{children:"Select a Main Artifact Stat "}),H.a.getSlotMainStatKeys(x).map((function(t){return Object(r.jsx)(b.a.Item,{onClick:function(){return e.setMainStatKey(t)},children:I.a.getStatNameWithPercent(t)},t)}))]}),Object(r.jsx)(q.a,{value:A?"".concat(H.a.getMainStatValue(A,m,y)).concat(I.a.getStatUnit(A)):"Main Stat",disabled:!0,readOnly:!0})]})}),E.map((function(t,a){var n=e.getRemainingSubstats(A,E);return Object(r.jsx)(O.a,{className:"mb-2",xs:12,lg:6,children:Object(r.jsx)(Oe,Object(c.a)({},{index:a,substat:t,numStars:m,remainingSubstats:n,setSubStat:e.setSubStat}))},"substat"+a)})),Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsx)(_.a,{bg:"lightcontent",text:"lightfont",children:Object(r.jsx)(_.a.Body,{className:"py-1 px-2",children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(O.a,{className:"text-center",children:Object(r.jsx)("span",{children:"Current Substat Efficiency "})}),Object(r.jsxs)(O.a,{xs:"auto",children:[Object(r.jsx)(X.a,{valid:!t.length,percent:w,children:w.toFixed(2)+"%"}),Object(r.jsx)(Y.a,{placement:"bottom",overlay:Object(r.jsxs)(J.a,{children:[Object(r.jsx)(J.a.Title,{as:"h5",children:"Current Substat Efficiency"}),Object(r.jsx)(J.a.Content,{children:Object(r.jsxs)("span",{children:["Every 4 artifact upgrades, you get a substat roll. ",Object(r.jsx)("strong",{children:"Substat Efficiency"})," calculates how high the substat rolled as a percentage."]})})]}),children:Object(r.jsx)(f.a,{icon:d.q,className:"ml-2",style:{cursor:"help"}})})]})]})})})}),Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsx)(_.a,{bg:"lightcontent",text:"lightfont",children:Object(r.jsx)(_.a.Body,{className:"py-1 px-2",children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(O.a,{className:"text-center",children:Object(r.jsx)("span",{children:"Maximum Substat Efficiency "})}),Object(r.jsxs)(O.a,{xs:"auto",children:[Object(r.jsx)(X.a,{valid:!t.length,percent:L,children:L.toFixed(2)+"%"}),Object(r.jsx)(Y.a,{placement:"bottom",overlay:Object(r.jsxs)(J.a,{children:[Object(r.jsx)(J.a.Title,{as:"h5",children:"Maximum Substat Efficiency"}),Object(r.jsx)(J.a.Content,{children:Object(r.jsxs)("span",{children:["The ",Object(r.jsx)("strong",{children:"Maximum Substat Efficiency"})," of an artifact calculates the efficiency if the remaining upgrades rolled their maximum values."]})})]}),children:Object(r.jsx)(f.a,{icon:d.q,className:"ml-2",style:{cursor:"help"}})})]})]})})})}),Object(r.jsx)(O.a,{xs:12,className:"mb-2",children:Object(r.jsx)(le,{setState:function(t){return e.setState(t)},reset:function(t){return e.uploadDisplayReset=t}})}),(C||l)&&Object(r.jsx)(O.a,{xs:12,className:"mb-2",children:Object(r.jsxs)(S.a,{className:"d-flex justify-content-around mb-n2",children:[Object(r.jsxs)(O.a,{lg:4,md:6,className:"mb-2",children:[Object(r.jsx)("h6",{className:"text-center",children:"Artifact Editor Preview"}),Object(r.jsx)("div",{children:Object(r.jsx)(R.a,{artifactObj:this.state})})]}),Object(r.jsxs)(O.a,{lg:4,md:6,className:"mb-2",children:[Object(r.jsx)("h6",{className:"text-center",children:C?"Detected ".concat(z?"Duplicate":"Upgraded"," Artifact"):"Before Edit"}),Object(r.jsx)("div",{children:Object(r.jsx)(R.a,{artifactId:C||l})})]})]})}),Boolean(t.length)&&Object(r.jsx)(O.a,{xs:12,className:"mb-2",children:Object(r.jsx)(Q.a,{variant:"danger",className:"py-2 px-3 mb-0 ",children:t.map((function(e){return Object(r.jsx)("div",{children:e},e)}))})})]})}),Object(r.jsxs)(_.a.Footer,{children:[Object(r.jsx)(h.a,{className:"mr-2",onClick:this.saveArtifact,disabled:T.a.isInvalid(this.state)||t.length,variant:C?"warning":"primary",children:l?"Save Artifact":"Add Artifact"}),Object(r.jsx)(h.a,{className:"mr-2",onClick:this.clearArtifact,variant:"success",children:"Clear"}),!1,Boolean(C)&&Object(r.jsx)(h.a,{className:"float-right",onClick:function(){return e.saveArtifact(C)},disabled:T.a.isInvalid(this.state)||t.length,variant:"success",children:"Update Artifact"})]})]})}}]),a}(v.a.Component);function Oe(e){var t=e.index,a=e.substat,n=a.key,i=a.value,c=a.rolls,l=a.efficiency,o=e.numStars,s=e.remainingSubstats,u=void 0===s?[]:s,d=e.setSubStat,f="%"===I.a.getStatUnit(n),m="";!o&&n&&i&&(m="Artifact Rarity not set.");var v=H.a.getSubstatRollData(n,o),j=(null===c||void 0===c?void 0:c.length)||0;if(!m&&!j&&n&&i&&(m="Substat cannot be rolled 0 times."),!m&&o){var y=H.a.getNumUpgradesOrUnlocks(o)-(4-H.a.getBaseSubRollNumHigh(o))+1;j>y&&(m="Substat cannot be rolled more than ".concat(y," times."))}var O=null;if(!m){var x=Object(r.jsxs)(P.a,{variant:0===j?"secondary":"".concat(j,"roll"),className:"text-darkcontent",children:[j||"No"," Roll",(j>1||0===j)&&"s"]}),S=null===c||void 0===c?void 0:c.map((function(e,t){var a=v.indexOf(e),n=6-(v.length-1-a);return Object(r.jsx)("span",{className:"mr-2 text-".concat(n,"roll"),children:e},t)})),k=Boolean(v.length)&&Object(r.jsxs)("span",{className:"float-right text-right",children:[Object(r.jsx)("small",{children:"Possible Rolls: "}),Object(r.jsx)(p.a,{size:"sm",children:v.map((function(e,a,c){return Object(r.jsx)(h.a,{variant:"".concat(6-(c.length-1-a),"roll"),className:"py-0 text-darkcontent",onClick:function(){return null===d||void 0===d?void 0:d(t,n,f?parseFloat((i+e).toFixed(1)):i+e)},children:e},a)}))})]});O=Object(r.jsxs)("span",{children:[x," ",S,k]})}return Object(r.jsxs)(_.a,{bg:"lightcontent",text:"lightfont",children:[Object(r.jsxs)(g.a,{children:[Object(r.jsxs)(G.a,{title:I.a.getStatName(n,"Substat ".concat(t+1)),disabled:0===u.length,as:g.a.Prepend,children:[Boolean(n)&&Object(r.jsx)(b.a.Item,{onClick:function(){return null===d||void 0===d?void 0:d(t,"")},children:"No Substat"},n),u.map((function(e){return Object(r.jsx)(b.a.Item,{onClick:function(){return null===d||void 0===d?void 0:d(t,e)},children:I.a.getStatNameWithPercent(e)},e)}))]}),Object(r.jsx)(w.a,{float:f,placeholder:"Select a Substat.",value:i||"",onValueChange:function(e){return null===d||void 0===d?void 0:d(t,n,e)},disabled:!n}),Object(r.jsxs)(g.a.Append,{children:[f&&Object(r.jsx)(g.a.Text,{children:"%"}),Object(r.jsx)(g.a.Text,{children:Object(r.jsx)(X.a,{valid:!m||!n,percent:l,children:n?m?"ERR":"".concat((l||0).toFixed(2),"%"):"No Stat"})})]})]}),Object(r.jsx)("div",{className:"p-1",children:m?Object(r.jsxs)("span",{children:[Object(r.jsx)(P.a,{variant:"danger",children:"ERR"})," ",m]}):O})]})}pe.initialState={id:null,artifactIdToEdit:null,setKey:"",numStars:0,level:0,slotKey:"",mainStatKey:"",substats:Object(z.a)(Array(4).keys()).map((function(){return{key:"",value:0}}))},pe.getInitialState=function(){return Object(D.e)(pe.initialState)};var xe={quality:"Quality",level:"Level",efficiency:"Current Substat Eff.",mefficiency:"Maximum Substat Eff."},Se=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;if(Object(l.a)(this,a),(n=t.call(this,e)).ressetFilters=function(){return n.setState((function(e){return Object(c.a)(Object(c.a)({},e),Object(D.e)(a.initialFilter))}))},n.forceUpdateArtifactDisplay=function(){return n.forceUpdate()},n.addArtifact=function(e){T.a.updateArtifact(e),n.setState({artToEditId:null})},n.deleteArtifact=function(e){var t=T.a.get(e);t&&t.location&&N.a.unequipArtifactOnSlot(t.location,t.slotKey),T.a.removeArtifactById(e),n.forceUpdate()},n.editArtifact=function(e){return n.setState({artToEditId:e},(function(){return n.scrollRef.current.scrollIntoView({behavior:"smooth"})}))},n.cancelEditArtifact=function(){return n.setState({artToEditId:null})},n.unequipAll=function(){window.confirm("Do you want to unequip ALL your equipped artifacts from EVERY character?")&&(T.a.unequipAllArtifacts(),N.a.unequipAllArtifacts(),n.forceUpdate())},Object(L.a)(),n.state=Object(c.a)(Object(c.a)({artToEditId:null},Object(D.e)(a.initialFilter)),{},{maxNumArtifactsToDisplay:50}),e.location.artToEditId)n.state.artToEditId=e.location.artToEditId;else{var r=Object(D.j)("ArtifactDisplay.state");r&&(n.state=Object(c.a)(Object(c.a)({},n.state),r))}return k.a.pageview("/artifact"),n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(D.e)(this.state);delete e.artToEditId,Object(D.l)("ArtifactDisplay.state",e)}},{key:"componentDidMount",value:function(){var e=this;this.scrollRef=v.a.createRef(),Promise.all([A.a.getCharacterDataImport(),H.a.getDataImport()]).then((function(){return e.forceUpdate()}))}},{key:"render",value:function(){var e,t,a=this,c=this.state,l=c.artToEditId,o=c.filterArtSetKey,s=c.filterSlotKey,u=c.filterMainStatKey,m=c.filterStars,k=c.filterLevelLow,N=c.filterLevelHigh,L=c.filterSubstats,M=void 0===L?this.initialFilter.filterSubstats:L,D=c.maxNumArtifactsToDisplay,z=c.filterLocation,F=void 0===z?"":z,P=c.sortType,B=void 0===P?Object.keys(xe)[0]:P,W=c.ascending,U=void 0!==W&&W,G=T.a.getArtifactDatabase()||{},q=(null===(e=Object.keys(G))||void 0===e?void 0:e.length)||0;t=F?"Inventory"===F?Object(r.jsx)("span",{children:"Location: Inventory"}):"Equipped"===F?Object(r.jsx)("span",{children:"Location: Equipped"}):Object(r.jsx)("b",{children:A.a.getName(F)}):Object(r.jsx)("span",{children:"Location: Any"});var Y=Object.values(G).filter((function(e){if("Inventory"===F){if(e.location)return!1}else if("Equipped"===F){if(!e.location)return!1}else if(F&&F!==e.location)return!1;if(o&&o!==e.setKey)return!1;if(s&&s!==e.slotKey)return!1;if(u&&u!==e.mainStatKey)return!1;if(e.level<k||e.level>N)return!1;if(!m.includes(e.numStars))return!1;var t,a=Object(i.a)(M);try{var n=function(){var a=t.value;if(a&&!e.substats.some((function(e){return e.key===a})))return{v:!1}};for(a.s();!(t=a.n()).done;){var r=n();if("object"===typeof r)return r.v}}catch(c){a.e(c)}finally{a.f()}return!0})).sort((function(e,t){var a=0;switch(B){case"quality":0===(a=e.numStars-t.numStars)&&(a=e.level-t.level);break;case"level":0===(a=e.level-t.level)&&(a=e.numStars-t.numStars);break;case"efficiency":a=e.currentEfficiency-t.currentEfficiency;break;case"mefficiency":a=e.maximumEfficiency-t.maximumEfficiency}return a*(U?1:-1)}));return Object(r.jsxs)(x.a,{className:"mt-2",ref:this.scrollRef,children:[Object(r.jsx)(C,{pageKey:"artifactPage",modalTitle:"Artifact Editing/Management Page Info",text:["The maximum efficiency of a 4 star artifact is around 60%.","The maximum efficiency of an artifact will usually decrease as you upgrade. It's perfectly normal!",'Substats with "1"s are the hardest to scan in screenshots.',"If all your rolls(6) went into a single substat, it will be purple!",'Click on "Details" when you are upgrading your artifacts in game to scan as you upgrade.'],children:Object(r.jsx)(V,{})}),Object(r.jsx)(S.a,{className:"mb-2 no-gutters",children:Object(r.jsx)(O.a,{children:Object(r.jsx)(pe,{artifactIdToEdit:l,addArtifact:this.addArtifact,cancelEdit:this.cancelEditArtifact})})}),Object(r.jsx)(S.a,{className:"mb-2",children:Object(r.jsx)(O.a,{children:Object(r.jsxs)(_.a,{bg:"darkcontent",text:"lightfont",children:[Object(r.jsxs)(_.a.Header,{children:[Object(r.jsx)("span",{children:"Artifact Filter"}),Object(r.jsxs)(h.a,{size:"sm",className:"ml-2",variant:"danger",onClick:this.ressetFilters,children:[Object(r.jsx)(f.a,{icon:d.D,className:"fa-fw"})," Reset"]}),Object(r.jsx)(h.a,{size:"sm",className:"ml-2",variant:"danger",onClick:this.unequipAll,children:"Unequip Artifacts on every character"}),Object(r.jsxs)("span",{className:"float-right text-right",children:["Showing ",Object(r.jsx)("b",{children:Y.length>D?D:Y.length})," out of ",Y.length!==q?"".concat(Y.length,"/"):"",q," Artifacts"]})]}),Object(r.jsx)(_.a.Body,{children:Object(r.jsxs)(S.a,{className:"mb-n2",children:[Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsxs)(b.a,{as:g.a.Prepend,className:"flex-grow-1",children:[Object(r.jsx)(b.a.Toggle,{className:"w-100",variant:o?"success":"primary",children:H.a.getSetName(o,"Artifact Set")}),Object(r.jsxs)(b.a.Menu,{children:[Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({filterArtSetKey:""})},children:"Unselect"}),[5,4,3].map((function(e){return Object(r.jsxs)(v.a.Fragment,{children:[Object(r.jsx)(b.a.Divider,{}),Object(r.jsxs)(b.a.ItemText,{children:["Max Rarity ",Object(r.jsx)(K.a,{stars:e})]}),H.a.getSetsByMaxStarEntries(e).map((function(e){var t=Object(n.a)(e,2),i=t[0],c=t[1];return Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({filterArtSetKey:i})},children:c.name},i)}))]},e)}))]})]})}),Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsx)(j.a,{className:"w-100 d-flex",type:"checkbox",as:g.a.Append,onChange:function(e){return a.setState({filterStars:e})},defaultValue:m,children:H.a.getStars().map((function(e){var t=m.includes(e);return Object(r.jsxs)(y.a,{value:e,variant:t?"success":"primary",children:[Object(r.jsx)(f.a,{icon:t?d.b:d.w})," ",Object(r.jsx)(K.a,{stars:e})]},e)}))})}),Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsxs)(g.a,{children:[Object(r.jsx)(g.a.Prepend,{children:Object(r.jsx)(g.a.Text,{children:Object(r.jsxs)("span",{children:["Level ",Object(r.jsx)("span",{className:"text-".concat(k>0?"success":""),children:"Low"}),"/",Object(r.jsx)("span",{className:"text-".concat(N<20?"success":""),children:"High"})," (Inclusive)"]})})}),Object(r.jsx)(w.a,{value:k,placeholder:"Min Level",onValueChange:function(e){return e>=0&&e<=N&&a.setState({filterLevelLow:e})}}),Object(r.jsx)(w.a,{value:N,placeholder:"Max Level",onValueChange:function(e){return e<=20&&e>=k&&a.setState({filterLevelHigh:e})}})]})}),Object(r.jsx)(O.a,{xs:6,lg:3,className:"mb-2",children:Object(r.jsxs)(b.a,{className:"flex-grow-1",children:[Object(r.jsx)(b.a.Toggle,{className:"w-100",variant:s?"success":"primary",children:H.a.getSlotNameWithIcon(s,"Slot")}),Object(r.jsxs)(b.a.Menu,{children:[Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({filterSlotKey:""})},children:"Unselect"}),H.a.getSlotKeys().map((function(e){return Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({filterSlotKey:e})},children:H.a.getSlotNameWithIcon(e)},e)}))]})]})}),Object(r.jsx)(O.a,{xs:6,lg:3,className:"mb-2",children:Object(r.jsxs)(b.a,{className:"flex-grow-1",children:[Object(r.jsx)(b.a.Toggle,{className:"w-100",variant:u?"success":"primary",children:I.a.getStatNameWithPercent(u,"Main Stat")}),Object(r.jsxs)(b.a.Menu,{children:[Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({filterMainStatKey:""})},children:"Unselect"}),H.a.getMainStatKeys().map((function(e){return Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({filterMainStatKey:e})},children:I.a.getStatNameWithPercent(e)},e)}))]})]})}),M.map((function(e,t){return Object(r.jsx)(O.a,{xs:6,lg:3,className:"mb-2",children:Object(r.jsxs)(b.a,{children:[Object(r.jsx)(b.a.Toggle,{id:"dropdown-basic",className:"w-100",variant:e?"success":"primary",children:I.a.getStatNameWithPercent(e,"Substat ".concat(t+1))}),Object(r.jsxs)(b.a.Menu,{children:[Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState((function(e){var a=e.filterSubstats;return a[t]="",{filterSubstats:a}}))},children:"No Substat"}),H.a.getSubStatKeys().filter((function(e){return!M.includes(e)})).map((function(e){return Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState((function(a){var n=a.filterSubstats;return n[t]=e,{filterSubstats:n}}))},children:I.a.getStatNameWithPercent(e)},e)}))]})]})},t)})),Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsxs)(b.a,{className:"flex-grow-1",children:[Object(r.jsx)(b.a.Toggle,{className:"w-100",variant:F?"success":"primary",children:t}),Object(r.jsxs)(b.a.Menu,{children:[Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({filterLocation:""})},children:"Unselect"}),Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({filterLocation:"Inventory"})},children:"Inventory"}),Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({filterLocation:"Equipped"})},children:"Currently Equipped"}),Object(r.jsx)(b.a.Divider,{}),Object(r.jsx)(E.a,{onSelect:function(e){return a.setState({filterLocation:e})}})]})]})}),Object(r.jsx)(O.a,{xs:12,lg:6,className:"mb-2",children:Object(r.jsxs)(p.a,{className:"w-100 d-flex flex-row",children:[Object(r.jsxs)(b.a,{as:p.a,className:"flex-grow-1",children:[Object(r.jsx)(b.a.Toggle,{children:Object(r.jsxs)("span",{children:["Sort By: ",xe[B]]})}),Object(r.jsx)(b.a.Menu,{children:Object.entries(xe).map((function(e){var t=Object(n.a)(e,2),i=t[0],c=t[1];return Object(r.jsx)(b.a.Item,{onClick:function(){return a.setState({sortType:i})},children:c},i)}))})]}),Object(r.jsx)(h.a,{onClick:function(){return a.setState((function(e){return{ascending:!e.ascending}}))},className:"flex-shrink-1",children:Object(r.jsx)(f.a,{icon:U?d.u:d.v,className:"fa-fw"})})]})})]})})]})})}),Object(r.jsx)(S.a,{className:"mb-2",children:Y.map((function(e,t){return t<D?Object(r.jsx)(O.a,{lg:4,md:6,className:"mb-2",children:Object(r.jsx)(R.a,{artifactId:e.id,onDelete:function(){return a.deleteArtifact(e.id)},onEdit:function(){return a.editArtifact(e.id)},forceUpdate:a.forceUpdateArtifactDisplay})},e.id):null}))})]})}}]),a}(v.a.Component);Se.initialFilter={filterArtSetKey:"",filterStars:[3,4,5],filterLevelLow:0,filterLevelHigh:20,filterSlotKey:"",filterMainStatKey:"",filterSubstats:["","","",""],filterLocation:"",ascending:!1}},80:function(e,t,a){"use strict";a.d(t,"h",(function(){return r})),a.d(t,"g",(function(){return n})),a.d(t,"j",(function(){return i})),a.d(t,"l",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return f})),a.d(t,"f",(function(){return d})),a.d(t,"m",(function(){return m})),a.d(t,"i",(function(){return v})),a.d(t,"k",(function(){return _}));var n=function(e){return e[Math.floor(Math.random()*e.length)]};function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}var i=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},c=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},l=function(e){return JSON.parse(JSON.stringify(e))},o=function(e,t){return Math.abs(e-t)<=.101},s=function(e,t){return Math.abs(e-t)<=1},u=function(e,t,a){return e<t?t:e>a?a:e},d=function(e){return e.length?e[e.length-1]:null},f=function(e){return u(e,0,100)};function m(e,t,a){return(new Array(a+1).join(t)+e).slice(-a)}function v(e,t){var a=0;e=e.toLowerCase(),t=t.toLowerCase();for(var n=0,r=Math.max(e.length,t.length);n<r;n++){var i=!0;e[n]&&t[n]&&e[n]===t[n]||(i=!1),e[n-1]!==t[n]&&e[n+1]!==t[n]||(i=!0),i||a++}return a}function _(e,t){Object.keys(e).forEach((function(a){"object"===typeof e[a]&&_(e[a],t),"number"===typeof e[a]&&(e[a]=e[a]*t)}))}},81:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(3),r=a(79),i=a(85),c=a(87),l=a(98),o=a(115),s=function e(){if(Object(c.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};s.getStatName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u[e]||(null===(t=l.d[e])||void 0===t?void 0:t.name)||a},s.getStatNamePretty=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u[e]||(null===(t=l.d[e])||void 0===t?void 0:t.pretty)||(null===(a=l.d[e])||void 0===a?void 0:a.name)||n},s.getStatNameRaw=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=l.d[e])||void 0===t?void 0:t.name)||a},s.getStatNameWithPercent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=s.getStatName(e,t);return a===t||"hp_"!==e&&"atk_"!==e&&"def_"!==e||(a+="%"),a},s.getStatVariant=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=l.d[e])||void 0===t?void 0:t.variant)||a},s.getStatUnit=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"multi"===(null===(t=l.d[e])||void 0===t?void 0:t.unit)?n:(null===(a=l.d[e])||void 0===a?void 0:a.unit)||n},s.fixedUnit=function(e){var t;return"multi"===(null===(t=l.d[e])||void 0===t?void 0:t.unit)?3:"%"===s.getStatUnit(e)?1:0},s.printStat=function(e,t){return d({stats:t,expand:!1},e)},s.getPrintableFormulaStatKeyList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object.keys(m),n=Object.keys(t).filter((function(e){return!a.includes(e)}));return[].concat(Object(i.a)(n),Object(i.a)(a)).filter((function(t){return e.includes(t)}))},s.printFormula=function(e,t){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=Object.entries(null!==(a=null===i||void 0===i?void 0:i[e])&&void 0!==a?a:[]).map((function(a){var i,c,l=Object(r.a)(a,2),o=l[0],u=l[1];return Object(n.jsxs)("span",{className:"text-nowrap",children:[" + ",s.printStat(o,t)," * ",null!==(i=null===u||void 0===u||null===(c=u.toFixed)||void 0===c?void 0:c.call(u,3))&&void 0!==i?i:u]},e+o)}));return"function"===typeof(null===m||void 0===m?void 0:m[e])?Object(n.jsxs)("span",{children:[m[e]({stats:t,expand:c}),l]}):Object(n.jsxs)("span",{children:["Basic Stats from artifacts/weapon",l]})};var u=Object.fromEntries(Object.entries(l.d).filter((function(e){var t=Object(r.a)(e,2);t[0];return t[1].variant})).map((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1];return[a,Object(n.jsx)("span",{className:"text-".concat(i.variant," text-nowrap"),children:i.name})]})));function d(e,t){var a,r,i=e.stats,c=e.expand;if(i){if((void 0===c||c)&&(null===m||void 0===m?void 0:m[t]))return Object(n.jsxs)("span",{children:["( ",m[t](e)," )"]});var l=s.getStatNamePretty(t),o=s.getStatUnit(t),u=s.fixedUnit(t),d=(null===i||void 0===i||null===(a=i[t])||void 0===a||null===(r=a.toFixed)||void 0===r?void 0:r.call(a,u))||(null===i||void 0===i?void 0:i[t]);return Object(n.jsxs)("span",{className:"text-nowrap",children:[Object(n.jsx)("b",{children:l})," ",Object(n.jsxs)("span",{className:"text-info",children:[d,o]})]})}}function f(e,t,a){var r=t<0?" - ":" + ",i=Math.abs(t),c="";return a>1&&(c=Object(n.jsxs)("span",{children:[" * ( ",d(e,"characterLevel")," )^",a]})),1===a&&(c=Object(n.jsxs)("span",{children:[" * ",d(e,"characterLevel")]})),Object(n.jsxs)("span",{children:[r,i,c]},a)}var m={baseATK:function(e){return Object(n.jsxs)("span",{children:[d(e,"characterATK")," + ",d(e,"weaponATK")," "]})},finalATK:function(e){return Object(n.jsxs)("span",{children:[d(e,"baseATK")," * ( 100% + ",d(e,"atk_")," ) + ",d(e,"atk")]})},finalHP:function(e){return Object(n.jsxs)("span",{children:[d(e,"characterHP")," * ( 100% + ",d(e,"hp_")," ) + ",d(e,"hp")]})},finalDEF:function(e){return Object(n.jsxs)("span",{children:[d(e,"characterDEF")," * ( 100% + ",d(e,"def_")," ) + ",d(e,"def")]})},heal_multi:function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"heal_")," + ",d(e,"incHeal_")," )"]})},enemyLevel_multi:function(e){return Object(n.jsxs)("span",{children:["( 100 + ",d(e,"characterLevel")," ) / ( ( 100 + ",d(e,"characterLevel")," ) + ( 100 + ",d(e,"enemyLevel")," ) * ( 100% - ",d(e,"enemyDEFRed_")," ) )"]})}};Object.entries(o.c).forEach((function(e){var t=Object(r.a)(e,2),a=t[0];t[1].name;m["".concat(a,"_enemyRes_multi")]=function(e){if(e.stats["".concat(a,"_enemyImmunity")])return Object(n.jsx)("span",{children:"0 (immune)"});var t=(e.stats["".concat(a,"_enemyRes_")]||0)/100;return t<0?Object(n.jsxs)("span",{children:[" 100% - ",d(e,"".concat(a,"_enemyRes_"))," / 2"]}):t>=.75?Object(n.jsxs)("span",{children:[" 1 / ( ",d(e,"".concat(a,"_enemyRes_"))," * 4 + 1)"]}):Object(n.jsxs)("span",{children:[" 100% - ",d(e,"".concat(a,"_enemyRes_"))," "]})}})),Object.entries(o.d).forEach((function(e){var t=Object(r.a)(e,2),a=t[0];t[1];m["final_".concat(a,"_critRate_")]=function(e){return Object(n.jsxs)("span",{children:["Min( ",d(e,"critRate_")," + ",d(e,"".concat(a,"_critRate_"))," , 100% )"]})}})),Object.entries(o.c).forEach((function(e){var t=Object(r.a)(e,2),a=t[0];t[1].name;m["".concat(a,"_elemental_hit_multi")]=function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"dmg_")," * ",d(e,"".concat(a,"_dmg_"))," ) * ",d(e,"enemyLevel_multi")," * ",d(e,"".concat(a,"_enemyRes_multi"))]})},m["".concat(a,"_elemental_hit")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"finalATK")," * ",d(e,"".concat(a,"_elemental_hit_multi"))]})},m["".concat(a,"_elemental_critHit_multi")]=function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"critDMG_")," ) * ",d(e,"".concat(a,"_elemental_hit_multi"))]})},m["".concat(a,"_elemental_critHit")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"finalATK")," * ",d(e,"".concat(a,"_elemental_critHit_multi"))]})},m["".concat(a,"_elemental_avgHit_multi")]=function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"critDMG_")," * ",d(e,"critRate_")," ) * ",d(e,"".concat(a,"_elemental_hit_multi"))]})},m["".concat(a,"_elemental_avgHit")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"finalATK")," * ",d(e,"".concat(a,"_elemental_avgHit_multi"))]})},Object.entries(o.d).forEach((function(e){var t=Object(r.a)(e,2),i=t[0];t[1];m["".concat(a,"_").concat(i,"_hit_multi")]=function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"dmg_")," + ",d(e,"".concat(a,"_dmg_"))," + ",d(e,"".concat(i,"_dmg_"))," ) * ",d(e,"enemyLevel_multi")," * ",d(e,"".concat(a,"_enemyRes_multi"))]})},m["".concat(a,"_").concat(i,"_hit")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"finalATK")," * ",d(e,"".concat(a,"_").concat(i,"_hit_multi"))]})},m["".concat(a,"_").concat(i,"_critHit_multi")]=function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"critDMG_")," ) * ",d(e,"".concat(a,"_").concat(i,"_hit_multi"))]})},m["".concat(a,"_").concat(i,"_critHit")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"finalATK")," * ",d(e,"".concat(a,"_").concat(i,"_critHit_multi"))]})},m["".concat(a,"_").concat(i,"_avgHit_multi")]=function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"critDMG_")," * ",d(e,"final_".concat(i,"_critRate_"))," ) * ",d(e,"".concat(a,"_").concat(i,"_hit_multi"))]})},m["".concat(a,"_").concat(i,"_avgHit")]=function(e){return Object(n.jsxs)("span",{children:[d(e,"finalATK")," * ",d(e,"".concat(a,"_").concat(i,"_avgHit_multi"))]})}}))})),Object.assign(m,{amplificative_dmg_:function(e){return Object(n.jsxs)("span",{children:["25 / 9 * ",d(e,"eleMas")," / ( 1400 + ",d(e,"eleMas")," ) * 100%"]})}}),Object.entries(o.b).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1].variants;Object.entries(i).forEach((function(e){var t=Object(r.a)(e,2),i=t[0],c=t[1];m["".concat(i,"_").concat(a,"_multi")]=function(e){return Object(n.jsxs)("span",{children:[c," * ( 100% + ",d(e,"amplificative_dmg_")," + ",d(e,"".concat(a,"_dmg_"))," )"]})},Object.entries(o.e).forEach((function(e){var t=Object(r.a)(e,2),c=t[0];t[1];m["".concat(i,"_").concat(a,"_elemental_").concat(c)]=function(e){return Object(n.jsxs)("span",{children:[d(e,"".concat(i,"_elemental_").concat(c))," * ",d(e,"".concat(i,"_").concat(a,"_multi"))]})},Object.entries(o.d).forEach((function(e){var t=Object(r.a)(e,2),l=t[0];t[1];m["".concat(i,"_").concat(a,"_").concat(l,"_").concat(c)]=function(e){return Object(n.jsxs)("span",{children:[d(e,"".concat(i,"_").concat(l,"_").concat(c))," * ",d(e,"".concat(i,"_").concat(a,"_multi"))]})}}))}))}))})),Object.assign(m,{transformative_dmg_:function(e){return Object(n.jsxs)("span",{children:["60 / 9 * ",d(e,"eleMas")," / ( 1400 + ",d(e,"eleMas")," ) * 100%"]})}}),Object.entries(o.f).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1].variants;if(m["".concat(a,"_multi")]=function(e){return o.a[a].map((function(t,a){return f(e,t,a)}))},1===Object.entries(i).length){var c=Object.entries(i),l=Object(r.a)(c,1),s=Object(r.a)(l[0],1)[0];m["".concat(a,"_hit")]=function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"transformative_dmg_")," + ",d(e,"".concat(a,"_dmg_"))," ) * ",d(e,"".concat(a,"_multi"))," * ",d(e,"".concat(s,"_enemyRes_multi"))]})}}else Object.keys(i).forEach((function(e){m["".concat(e,"_").concat(a,"_hit")]=function(t){return Object(n.jsxs)("span",{children:["( 100% + ",d(t,"transformative_dmg_")," + ",d(t,"".concat(a,"_dmg_"))," ) * ",d(t,"".concat(a,"_multi"))," * ",d(t,"".concat(e,"_enemyRes_multi"))]})}}))})),Object.assign(m,{crystalize_eleMas_:function(e){return Object(n.jsxs)("span",{children:["40 / 9 * ",d(e,"eleMas")," / ( 1400 + ",d(e,"eleMas")," ) * 100%"]})},crystalize_multi:function(e){return o.a.crystalize.map((function(t,a){return f(e,t,a)}))},crystalize_hit:function(e){return Object(n.jsxs)("span",{children:["( 100% + ",d(e,"crystalize_dmg_")," + ",d(e,"crystalize_eleMas_")," ) * ",d(e,"crystalize_multi")]})}})},88:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(118),r=a(82),i=a(85),c=a(92),l=a(79),o=a(87),s=a(96),u=a(91),d=a(94),f=a(119),m=a(95),v=a(98),_=a(116),h=a(93),b=a(80),g=a(99),j=a(90),y=function(){function e(){if(Object(o.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(s.a)(e,null,[{key:"getFormulaPath",value:function(e,t,a){var n,r=null===(n=this.getCDataObj(e))||void 0===n?void 0:n.formula;if(r){var i;if("auto"===t)for(var c=0,o=["normal","charged","plunging"];c<o.length;c++){var s,u,d=o[c],f=null!==(s=Object.entries(null!==(u=null===r||void 0===r?void 0:r[d])&&void 0!==u?u:{}).find((function(e){return Object(l.a)(e,2)[1]===a})))&&void 0!==s?s:[];if(i=Object(l.a)(f,1)[0]){t=d;break}}else{var m,v,_=null!==(m=Object.entries(null!==(v=null===r||void 0===r?void 0:r[t])&&void 0!==v?v:{}).find((function(e){return Object(l.a)(e,2)[1]===a})))&&void 0!==m?m:[];i=Object(l.a)(_,1)[0]}if(i)return{characterKey:e,talentKey:t,formulaKey:i}}}},{key:"remove",value:function(e){var t=j.a.get(e);t.equippedArtifacts&&Object.values(t.equippedArtifacts).forEach((function(e){return d.a.moveToNewLocation(e,"")})),j.a.remove(e)}}]),e}();y.getCharacterDataImport=function(){return f.b},y.getBaseStatValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.characterKey,r=e.levelKey;if("specializedStatKey"===t)return y.getSpecializedStatKey(n);if("specializedStatVal"===t)return y.getSpeicalizedStatVal(n,r);if("weaponATK"===t)return g.a.getWeaponMainStatValWithOverride(null===e||void 0===e?void 0:e.weapon);if("characterLevel"===t||"enemyLevel"===t)return y.getLevel(r);if(t.includes("enemyRes_"))return 10;if(t in f.e)return f.e[t];var i=y.getCDataObj(n);return i&&t in i.baseStat?i.baseStat[t][y.getIndexFromlevelkey(r)]:a},y.getCDataObj=function(e){return f.a[e]},y.getElementalName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===m.a||void 0===m.a||null===(t=m.a[e])||void 0===t?void 0:t.name)||a},y.getAllCharacterKeys=function(){return Object.keys(f.a)},y.getName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=y.getCDataObj(e))||void 0===t?void 0:t.name)||a},y.getStar=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===(t=y.getCDataObj(e))||void 0===t?void 0:t.star)||a},y.getElementalKey=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=y.getCDataObj(e))||void 0===t?void 0:t.elementKey)||a},y.getElementalKeys=function(){return Object.keys(m.a)},y.getElementalKeysWithoutPhysical=function(){return y.getElementalKeys().filter((function(e){return"physical"!==e}))},y.getWeaponTypeKey=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=y.getCDataObj(e))||void 0===t?void 0:t.weaponTypeKey)||a},y.getConstellationName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=y.getCDataObj(e))||void 0===t?void 0:t.constellationName)||a},y.getTitles=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null===(t=y.getCDataObj(e))||void 0===t?void 0:t.titles)||a},y.getlevelKeys=function(){return Object.keys(f.d)},y.getlevelNames=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===f.d||void 0===f.d||null===(t=f.d[e])||void 0===t?void 0:t.name)||a},y.getIndexFromlevelkey=function(e){return y.getlevelKeys().indexOf(e)},y.getLevel=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(null===f.d||void 0===f.d||null===(t=f.d[e])||void 0===t?void 0:t.level)||a},y.getAscension=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===f.d||void 0===f.d||null===(t=f.d[e])||void 0===t?void 0:t.asend)||a},y.getSpecializedStat=function(e){var t;return null===(t=y.getCDataObj(e))||void 0===t?void 0:t.specializeStat},y.getSpecializedStatKey=function(e){var t;return null===(t=y.getSpecializedStat(e))||void 0===t?void 0:t.key},y.getSpeicalizedStatVal=function(e,t){var a,n;return null===(a=y.getSpecializedStat(e))||void 0===a||null===(n=a.value)||void 0===n?void 0:n[y.getIndexFromlevelkey(t)]},y.getThumb=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=y.getCDataObj(e))||void 0===t?void 0:t.thumbImg)||a},y.getCard=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=y.getCDataObj(e))||void 0===t?void 0:t.cardImg)||a},y.getTalentImg=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(a=y.getTalent(e,t))||void 0===a?void 0:a.img)||n},y.getConstellationImg=function(e,t){var a,n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(a=y.getCDataObj(e))||void 0===a||null===(n=a.talent)||void 0===n||null===(r=n["constellation".concat(t+1)])||void 0===r?void 0:r.img)||i},y.getTalent=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(null===(a=y.getCDataObj(e))||void 0===a||null===(n=a.talent)||void 0===n?void 0:n[t])||r},y.getTalentName=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(null===(a=y.getTalent(e,t))||void 0===a?void 0:a.name)||n},y.getTalentLevelBoost=function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("burst"!==t&&"skill"!==t)return r;for(var i=(null===(n=y.getCDataObj(e))||void 0===n?void 0:n.talent)||{},c=1;c<=a;c++){var o,s=(null===(o=i["constellation".concat(c)])||void 0===o?void 0:o.talentBoost)||{},u=Object.entries(s).find((function(e){var a=Object(l.a)(e,2),n=a[0];a[1];return n===t}));if(u)return u[1]}return r},y.getTalentDocument=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(null===(a=y.getTalent(e,t))||void 0===a?void 0:a.document)||n},y.getTalentDocumentSections=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=j.a.get(e);if(!n)return a;var r=n.constellation,i=void 0===r?0:r,c=n.levelKey,l=void 0===c?Object.keys(f.d)[0]:c,o=y.getAscension(l);return y.getTalentDocument(e,t).map((function(e){return"function"===typeof e?e(i,o):e}))},y.getTalentField=function(e,t,a,n){var r,i,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!e)return l;var o=e.constellation,s=void 0===o?0:o,u=e.levelKey,d=void 0===u?Object.keys(f.d)[0]:u,m=y.getAscension(d),v=null===(r=y.getTalentDocumentSections(e.characterKey,t))||void 0===r||null===(i=r[a])||void 0===i||null===(c=i.fields)||void 0===c?void 0:c[n];return v?"function"===typeof v?v(s,m):v:l},y.getTalentFieldValue=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return(null===e||void 0===e?void 0:e[t])?"function"===typeof(null===e||void 0===e?void 0:e[t])?e[t](n.talentLevelKeys[a],n):e[t]:r},y.getTalentStats=function(e,t,a,n){var r,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=null===(r=y.getTalent(e,t))||void 0===r?void 0:r.stats;return"function"===typeof c?c(a,n):c||i},y.getTalentStatsAll=function(e,t,a){var n,r=(null===(n=y.getCDataObj(e))||void 0===n?void 0:n.talent)||{},i=[];return Object.keys(r).forEach((function(n){var r=y.getTalentStats(e,n,t,a);r&&i.push(r)})),i},y.getTalentConditional=function(e,t,a,n,r,i){var l,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=y.getTalentDocumentSections(e,t),u=null,d=Object(c.a)(s);try{for(d.s();!(l=d.n()).done;){var f,m=l.value,v=m.conditional;if("function"===typeof v&&(v=v(n,r,i)),(null===(f=v)||void 0===f?void 0:f.conditionalKey)===a){u=v;break}}}catch(_){d.e(_)}finally{d.f()}return u||o},y.getTalentConditionalStats=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t||!e)return a;var n=h.a.getConditionalProp(e,"stats",t),r=Object(l.a)(n,2),i=r[0],c=void 0===i?{}:i,o=r[1];return o?Object.fromEntries(Object.entries(c).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return"modifiers"===a?[a,n]:[a,n*o]}))):a},y.getTalentConditionalFields=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t||!e)return a;var n=h.a.getConditionalProp(e,"fields",t)[0];return n||a},y.isAutoElemental=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"catalyst"===y.getWeaponTypeKey(e)||t},y.isAutoInfusable=function(e){var t,a,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null===(t=y.getCDataObj(e))||void 0===t||null===(a=t.talent)||void 0===a||null===(n=a.auto)||void 0===n?void 0:n.infusable)||r},y.hasTalentPage=function(e){var t;return Boolean(null===(t=y.getCDataObj(e))||void 0===t?void 0:t.talent)},y.getDisplayStatKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{basicKeys:[]};if(!e)return t;var a=e.characterKey,n=y.getElementalKey(a);if(!n)return t;var c=["finalHP","finalATK","finalDEF","eleMas","critRate_","critDMG_","heal_","enerRech_","".concat(n,"_dmg_")],l=y.isAutoElemental(a),o=y.isAutoInfusable(a);l||c.push("physical_dmg_");var s=Object(b.e)(v.a[n]),u=y.getWeaponTypeKey(a);if(s.includes("shattered_hit")||"claymore"!==u||s.push("shattered_hit"),y.hasTalentPage(a)){var d,f,m={};return Object.keys(null!==(d=null===(f=y.getCDataObj(a))||void 0===f?void 0:f.talent)&&void 0!==d?d:{}).forEach((function(t){var n;return null===(n=y.getTalentDocumentSections(a,t))||void 0===n?void 0:n.forEach((function(a,n){var r;return null===a||void 0===a||null===(r=a.fields)||void 0===r?void 0:r.forEach((function(a,r){var c,l;return((null===a||void 0===a?void 0:a.formula)||(null===(c=y.getTalentField(e,t,n,r))||void 0===c?void 0:c.formula))&&(m[t]=[].concat(Object(i.a)(null!==(l=m[t])&&void 0!==l?l:[]),[{talentKey:t,sectionIndex:n,fieldIndex:r}]))}))}))})),Object(r.a)(Object(r.a)({basicKeys:c},m),{},{transReactions:s})}var _=[];if(l||_.push("physical_normal_avgHit","physical_charged_avgHit"),l||o?_.push("".concat(n,"_normal_avgHit"),"".concat(n,"_charged_avgHit")):"bow"===y.getWeaponTypeKey(a)&&_.push("".concat(n,"_charged_avgHit")),_.push("".concat(n,"_skill_avgHit"),"".concat(n,"_burst_avgHit")),"pyro"===n){var h=[];h.push.apply(h,Object(i.a)(_.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_vaporize_"))})))),h.push.apply(h,Object(i.a)(_.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_melt_"))})))),_.push.apply(_,h)}else"cryo"===n?_.push.apply(_,Object(i.a)(_.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_melt_"))})))):"hydro"===n&&_.push.apply(_,Object(i.a)(_.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_vaporize_"))}))));return{basicKeys:c,genericAvgHit:_,transReactions:s}},y.hasOverride=function(e,t){return"finalHP"===t?y.hasOverride(e,"hp")||y.hasOverride(e,"hp_")||y.hasOverride(e,"characterHP")||!1:"finalDEF"===t?y.hasOverride(e,"def")||y.hasOverride(e,"def_")||y.hasOverride(e,"characterDEF")||!1:"finalATK"===t?y.hasOverride(e,"atk")||y.hasOverride(e,"atk_")||y.hasOverride(e,"characterATK")||!1:!!(null===e||void 0===e?void 0:e.baseStatOverrides)&&t in e.baseStatOverrides},y.getStatValueWithOverride=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return y.hasOverride(e,t)?null!==(a=null===e||void 0===e||null===(n=e.baseStatOverrides)||void 0===n?void 0:n[t])&&void 0!==a?a:r:y.getBaseStatValue(e,t,r)},y.equipArtifacts=function(e,t){var a=j.a.get(e);if(a){var n=a.equippedArtifacts,r=t;u.a.getSlotKeys().forEach((function(t){var a=d.a.get(null===r||void 0===r?void 0:r[t]);if(a.location!==e){var i=d.a.get(null===n||void 0===n?void 0:n[t]),c=(null===a||void 0===a?void 0:a.location)||"";i&&d.a.moveToNewLocation(i.id,c),c&&j.a.equipArtifact(c,i),a&&d.a.moveToNewLocation(a.id,e)}})),a.equippedArtifacts={},Object.entries(t).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return a.equippedArtifacts[n]=r})),j.a.updateCharacter(a)}},y.calculateBuild=function(e){var t=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,d.a.get(n)]}))),a=y.calculateCharacterWithWeaponStats(e);return y.calculateBuildWithObjs(e.artifactConditionals,a,t)},y.calculateBuildWithObjs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=u.a.setToSlots(a),r=u.a.getArtifactSetEffectsStats(n),i=Object(b.e)(t);Object.values(a).forEach((function(e){e&&(i[e.mainStatKey]=(i[e.mainStatKey]||0)+u.a.getMainStatValue(e.mainStatKey,e.numStars,i.artifactsAssumeFull?4*e.numStars:e.level),e.substats.forEach((function(e){return e&&e.key&&(i[e.key]=(i[e.key]||0)+e.value)})))})),r.forEach((function(e){return i[e.key]=(i[e.key]||0)+e.statVal})),e.forEach((function(e){var t=e.srcKey,a=e.srcKey2,r=e.conditionalNum;!n[t]||n[t].length<parseInt(a)||Object.entries(u.a.getConditionalStats(t,a,r)).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return i[a]=(i[a]||0)+n}))}));var c=Object(_.a)(null===i||void 0===i?void 0:i.modifiers);return Object(v.c)(c,i).formula(i),{artifactIds:Object.fromEntries(Object.entries(a).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return[a,null===n||void 0===n?void 0:n.id]}))),setToSlots:n,finalStats:i,artifactConditionals:e}},y.mergeStats=function(e,t){return t&&Object.entries(t).forEach((function(t){var a,n=Object(l.a)(t,2),r=n[0],i=n[1];if("modifiers"===r){var c;e.modifiers=null!==(c=e.modifiers)&&void 0!==c?c:{};for(var o=0,s=Object.entries(i);o<s.length;o++){var u,d=Object(l.a)(s[o],2),f=d[0],m=d[1];e.modifiers[f]=null!==(u=e.modifiers[f])&&void 0!==u?u:{};for(var v=0,_=Object.entries(m);v<_.length;v++){var h,b=Object(l.a)(_[v],2),g=b[0],j=b[1];e.modifiers[f][g]=(null!==(h=e.modifiers[f][g])&&void 0!==h?h:0)+j}}}else e[r]=(null!==(a=e[r])&&void 0!==a?a:0)+i}))},y.calculateCharacterWithWeaponStats=function(e){var t,a,r,c,o,s,u,d,m,v,_,h,j,p,O,x,S,k=e=Object(b.e)(e),A=k.characterKey,N=k.levelKey,E=k.hitMode,w=k.autoInfused,K=k.reactionMode,L=k.talentLevelKeys,M=k.constellation,D=k.talentConditionals,C=void 0===D?[]:D,I=y.getAscension(N),H=["characterHP","characterATK","characterDEF","weaponATK","characterLevel","enemyLevel","physical_enemyRes_","physical_enemyImmunity"].concat(Object(i.a)(Object.keys(f.e))),R=Object.fromEntries(H.map((function(t){return[t,y.getStatValueWithOverride(e,t)]})));for(var T in R.characterEle=y.getElementalKey(A),R.characterKey=A,R.hitMode=E,R.autoInfused=w&&(null===(t=y.getCDataObj(A))||void 0===t||null===(a=t.talent)||void 0===a||null===(r=a.auto)||void 0===r?void 0:r.infusable),R.reactionMode=K,R.talentConditionals=C,R.weaponType=y.getWeaponTypeKey(A),R.talentLevelKeys=L,R.constellation=M,R.ascension=I,R.talentLevelKeys)R.talentLevelKeys[T]+=y.getTalentLevelBoost(e.characterKey,T,M);y.getElementalKeys().forEach((function(t){var a="".concat(t,"_enemyRes_");R[a]=y.getStatValueWithOverride(e,a),a="".concat(t,"_enemyImmunity"),R[a]=y.getStatValueWithOverride(e,a)}));var z=(null===(c=e)||void 0===c?void 0:c.baseStatOverrides)||{};Object.entries(z).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];"specializedStatKey"!==a&&"specializedStatVal"!==a&&(R.hasOwnProperty(a)||(R[a]=n))}));var F=y.getStatValueWithOverride(e,"specializedStatVal"),P=y.getStatValueWithOverride(e,"specializedStatKey");y.mergeStats(R,Object(n.a)({},P,F)),C.forEach((function(e){var t=e.srcKey,a=e.srcKey2,n=e.conditionalNum,r=y.getTalentConditional(A,t,a,R.talentLevelKeys[t],M,I);y.mergeStats(R,y.getTalentConditionalStats(r,n,{}))})),y.getTalentStatsAll(A,M,I).forEach((function(e){return y.mergeStats(R,e)}));var B=g.a.getWeaponSubStatKey(null===(o=e)||void 0===o||null===(s=o.weapon)||void 0===s?void 0:s.key);return B&&y.mergeStats(R,Object(n.a)({},B,g.a.getWeaponSubStatValWithOverride(null===(u=e)||void 0===u?void 0:u.weapon))),y.mergeStats(R,g.a.getWeaponBonusStat(null===(d=e)||void 0===d||null===(m=d.weapon)||void 0===m?void 0:m.key,null===(v=e)||void 0===v||null===(_=v.weapon)||void 0===_?void 0:_.refineIndex)),y.mergeStats(R,g.a.getWeaponConditionalStat(null===(h=e)||void 0===h||null===(j=h.weapon)||void 0===j?void 0:j.key,null===(p=e)||void 0===p||null===(O=p.weapon)||void 0===O?void 0:O.refineIndex,null===(x=e)||void 0===x||null===(S=x.weapon)||void 0===S?void 0:S.conditionalNum,{})),R}},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(79),r=a(87),i=a(80),c=!1,l={},o=function e(){if(Object(r.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};o.isInvalid=function(e){return!e||!e.characterKey||!e.levelKey},o.getCharacterDatabase=function(){return Object(i.e)(l)},o.getCharacterKeyList=function(){return Object.keys(l)},o.getIdNameList=function(){return Object.entries(l).map((function(e){var t=Object(n.a)(e,2);return[t[0],t[1].name]}))},o.populateDatebaseFromLocalStorage=function(){return!c&&(Object.keys(localStorage).filter((function(e){return e.startsWith("char_")})).forEach((function(e){var t=e.split("char_"),a=Object(n.a)(t,2)[1];if(!l[a]){var r=Object(i.j)(e);if(!r)return;l[a]=r}})),c=!0,!0)},o.updateCharacter=function(e){if(!o.isInvalid(e)){var t=Object(i.e)(e);Object(i.l)("char_".concat(e.characterKey),t),l[e.characterKey]=t}},o.get=function(e){var t,a;return null!==(t=null===(a=l)||void 0===a?void 0:a[e])&&void 0!==t?t:null},o.remove=function(e){delete l[e],localStorage.removeItem("char_".concat(e))},o.getArtifactIDFromSlot=function(e,t){var a,n,r;return null!==(a=null===(n=o.get(e))||void 0===n||null===(r=n.equippedArtifacts)||void 0===r?void 0:r[t])&&void 0!==a?a:null},o.equipArtifact=function(e,t){var a=o.get(e);a&&t&&t.slotKey&&(a.equippedArtifacts||(a.equippedArtifacts={}),a.equippedArtifacts[t.slotKey]=t.id,o.updateCharacter(a))},o.unequipArtifactOnSlot=function(e,t){var a,n=o.get(e);n&&t&&(null===n||void 0===n||null===(a=n.equippedArtifacts)||void 0===a?void 0:a[t])&&(n.equippedArtifacts[t]="",o.updateCharacter(n))},o.equipArtifactBuild=function(e,t){var a=o.get(e);a&&(a.equippedArtifacts=t,o.updateCharacter(a))},o.unequipAllArtifacts=function(){Object.values(l).forEach((function(e){e.equippedArtifacts={},o.updateCharacter(e)}))},o.clearDatabase=function(){l={},c=!1}},91:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(3),r=a(79),i=a(85),c=a(92),l=a(87),o=a(96),s=a(23),u=a(90),d=a(83),f={flower:d.a,plume:d.h,sands:d.l,goblet:d.G,circlet:d.d},m=a(80),v=a(95),_={},h=Promise.all([a.e(0),a.e(16)]).then(a.bind(null,227));h.then((function(e){_=e.default,h=null}));var b=["hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_","heal_"];Object.keys(v.a).forEach((function(e){return b.push("".concat(e,"_dmg_"))}));var g={3:{subsBaselow:1,subBaseHigh:2,numUpgradesOrUnlocks:3},4:{subsBaselow:2,subBaseHigh:3,numUpgradesOrUnlocks:4},5:{subsBaselow:3,subBaseHigh:4,numUpgradesOrUnlocks:5}},j={1:{hp:[129,178,227,275,324],atk:[8,12,15,18,21],hp_:[3.1,4.3,5.5,6.7,7.9],atk_:[3.1,4.3,5.5,6.7,7.9],def_:[3.9,5.4,6.9,8.4,9.9],physical_dmg_:[3.9,5.4,6.9,8.4,9.9],ele_dmg_:[3.1,4.3,5.5,6.7,7.9],eleMas:[13,17,22,27,32],enerRech_:[3.5,4.8,6.1,7.5,8.8],critRate_:[2.1,2.9,3.7,4.5,5.3],critDMG_:[4.2,5.8,7.4,9,10.5],heal_:[2.4,3.3,4.3,5.2,6.1]},2:{hp:[258,331,404,478,551,624,697,770,843],atk:[17,22,26,31,36,41,45,50,55],hp_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7],atk_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7],def_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1],physical_dmg_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1],ele_dmg_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7],eleMas:[17,22,26,31,36,41,45,50,55],enerRech_:[4.7,6,7.3,8.6,9.9,11.3,12.6,13.9,15.2],critRate_:[2.8,3.6,4.4,5.2,6,6.8,7.6,8.3,9.1],critDMG_:[5.6,7.2,8.8,10.4,11.9,13.5,15.1,16.7,18.3],heal_:[3.2,4.1,5.1,6,6.9,7.8,8.7,9.6,10.5]},3:{hp:[430,552,674,796,918,1040,1162,1283,1405,1527,1649,1771,1893],atk:[28,36,44,52,60,68,76,84,91,99,107,115,123],hp_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],atk_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],def_:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],physical_dmg_:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],ele_dmg_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],eleMas:[21,27,33,39,45,51,57,63,69,75,80,86,92],enerRech_:[5.8,7.5,9.1,10.8,12.4,14.1,15.7,17.4,19,20.7,22.3,24,25.6],critRate_:[3.5,4.5,5.5,6.5,7.5,8.4,9.4,10.4,11.4,12.4,13.4,14.4,15.4],critDMG_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8],heal_:[4,5.2,6.3,7.5,8.6,9.8,10.9,12,13.2,14.3,15.5,16.6,17.8]},4:{hp:[645,828,1011,1194,1377,1559,1742,1925,2108,2291,2474,2657,2839,3022,3205,3388,3571],atk:[42,54,66,78,90,102,113,125,137,149,161,173,185,197,209,221,232],hp_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],atk_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],def_:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],physical_dmg_:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],ele_dmg_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],eleMas:[25,32,39,47,54,61,68,75,82,89,97,104,111,118,125,132,139],enerRech_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7],critRate_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7,14.9,16.1,17.3,18.5,19.7,20.8,22,23.2],critDMG_:[8.4,10.8,13.1,15.5,17.9,20.3,22.7,25,27.4,29.8,32.2,34.5,36.9,39.3,41.7,44.1,46.4],heal_:[4.8,6.2,7.6,9,10.3,11.7,13.1,14.4,15.8,17.2,18.6,19.9,21.3,22.7,24,25.4,26.8]},5:{hp:[717,920,1123,1326,1530,1733,1936,2139,2342,2545,2749,2952,3155,3358,3561,3764,3967,4171,4374,4577,4780],atk:[47,60,73,86,100,113,126,139,152,166,179,192,205,219,232,245,258,272,285,298,311],hp_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],atk_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],def_:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],physical_dmg_:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],ele_dmg_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],eleMas:[28,36,44,52,60,68,76,84,91,99,107,115,123,131,139,147,155,163,171,179,187],enerRech_:[7.8,10,12.2,14.4,16.6,18.8,21,23.2,25.4,27.6,29.8,32,34.2,36.4,38.6,40.8,43,45.2,47.4,49.6,51.8],critRate_:[4.7,6,7.3,8.6,9.9,11.3,12.6,13.9,15.2,16.6,17.9,19.2,20.5,21.8,23.2,24.5,25.8,27.1,28.4,29.8,31.1],critDMG_:[9.3,11.9,14.6,17.2,19.9,22.5,25.5,27.8,30.5,33.1,35.8,38.4,41.1,43.7,46.3,49,51.6,54.3,56.9,59.6,62.2],heal_:[5.4,6.9,8.4,10,11.5,13,14.5,16.1,17.6,19.1,20.6,22.2,23.7,25.2,26.7,28.3,29.8,31.3,32.8,34.4,35.9]}},y={hp:{1:[24,30],2:[50,61,72],3:[100,115,129,143],4:[167,191,215,239],5:[209,239,269,299]},hp_:{1:[1.2,1.5],2:[1.6,2,2.3],3:[2.5,2.8,3.2,3.5],4:[3.3,3.7,4.2,4.7],5:[4.1,4.7,5.3,5.8]},atk:{1:[2],2:[3,4,5],3:[7,8,9],4:[11,12,14,16],5:[14,16,18,19]},atk_:{1:[1.2,1.5],2:[1.6,2,2.3],3:[2.5,2.8,3.2,3.5],4:[3.3,3.7,4.2,4.7],5:[4.1,4.7,5.3,5.8]},def:{1:[2],2:[4,5,6],3:[8,9,10,11],4:[13,15,17,19],5:[16,19,21,23]},def_:{1:[1.5,1.8],2:[2,2.5,2.9],3:[3.1,3.5,3.9,4.4],4:[4.1,4.7,5.3,5.8],5:[5.1,5.8,6.6,7.3]},eleMas:{1:[5,6],2:[7,8,9],3:[10,11,13,14],4:[13,15,17,19],5:[16,19,21,23]},enerRech_:{1:[1.3,1.6],2:[1.8,2.2,2.6],3:[2.7,3.1,3.5,3.9],4:[3.6,4.1,4.7,5.2],5:[4.5,5.2,5.8,6.5]},critRate_:{1:[.8,1],2:[1.1,1.3,1.6],3:[1.6,1.9,2.1,2.3],4:[2.2,2.5,2.8,3.1],5:[2.7,3.1,3.5,3.9]},critDMG_:{1:[1.6,1.9],2:[2.2,2.6,3.1],3:[3.3,3.7,4.2,4.7],4:[4.4,5,5.6,6.2],5:[5.4,6.2,7,7.8]}},p=Object.fromEntries(Object.entries(y).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return[a,{max:Object.fromEntries(Object.keys(n).map((function(e){return[e,Object(m.f)(n[e])]}))),min:Object.fromEntries(Object.keys(n).map((function(e){return[e,n[e][0]]})))}]}))),O={flower:{name:"Flower of Life",stats:["hp"]},plume:{name:"Plume of Death",stats:["atk"]},sands:{name:"Sands of Eon",stats:["hp_","def_","atk_","eleMas","enerRech_"]},goblet:{name:"Goblet of Eonothem",stats:["hp_","def_","atk_","eleMas","physical_dmg_","anemo_dmg_","geo_dmg_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_"]},circlet:{name:"Circlet of Logos",stats:["hp_","def_","atk_","eleMas","critRate_","critDMG_","heal_"]}},x=a(81),S=a(93),k=function e(){if(Object(l.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};k.setToSlots=function(e){var t={};return Object.entries(e).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1];i&&(t[i.setKey]?t[i.setKey].push(n):t[i.setKey]=[n])})),t};var A=a(94),N=function(){function e(){if(Object(l.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(o.a)(e,null,[{key:"substatsValidation",value:function(t){var a,n=t.numStars,r=void 0===n?0:n,i=t.level,l=void 0===i?0:i,o=t.substats,s=void 0===o?[]:o,u=Object(c.a)(s);try{for(u.s();!(a=u.n()).done;){var d=a.value,f=d.key,m=d.value,v=e.getSubstatRolls(f,m,r)||[];d.rolls=v[0]||[],v.length>1&&(d.rollArr=v),d.efficiency=e.getSubstatEfficiency(f,d.rolls)}}catch(L){u.e(L)}finally{u.f()}var _=e.getArtifactEfficiency(s,r,l),h=_.currentEfficiency,b=_.maximumEfficiency;t.currentEfficiency=h,t.maximumEfficiency=b;var g,j=[],y=Object(c.a)(s);try{for(y.s();!(g=y.n()).done;){var p,O=g.value;!(null===(p=O.rolls)||void 0===p?void 0:p.length)&&O.key&&O.value&&j.push("One of the substat is invalid.")}}catch(L){y.e(L)}finally{y.f()}if(!j.length&&s.some((function(e){var t;return(null===(t=e.rolls)||void 0===t?void 0:t.length)>1}))&&s.some((function(e){var t;return!(null===(t=e.rolls)||void 0===t?void 0:t.length)}))&&j.push("One of the substat have >1 rolls, but not all substats are unlocked."),r){var x=s.reduce((function(e,t){var a;return e+((null===(a=t.rolls)||void 0===a?void 0:a.length)||0)}),0),S=e.getBaseSubRollNumLow(r)+Math.floor(l/4);if(x<S){var k,A=Object(c.a)(s);try{var N=function(){var a,n=k.value,i=null===(a=n.rolls)||void 0===a?void 0:a.length;if(!i||!n.rollArr)return"continue";var c=n.rollArr.filter((function(e){return e.length>i}));if(c.length){n.rolls=c[0],c.length>1?n.rollArr=c:delete n.rollArr,n.efficiency=e.getSubstatEfficiency(n.key,n.rolls);var o=e.getArtifactEfficiency(s,r,l),u=o.currentEfficiency,d=o.maximumEfficiency;t.currentEfficiency=u,t.maximumEfficiency=d}return(x=s.reduce((function(e,t){var a;return e+((null===(a=t.rolls)||void 0===a?void 0:a.length)||0)}),0))>=S?"break":void 0};for(A.s();!(k=A.n()).done;){var E=N();if("continue"!==E&&"break"===E)break}}catch(L){A.e(L)}finally{A.f()}}if(x<S)j.push("Artifact should have at least ".concat(S," Rolls, it currently only have ").concat(x," Rolls."));else{var w=e.rollsRemaining(l,r),K=e.totalPossibleRolls(r);x+w>K&&j.push("Current number of substat rolles(".concat(x,") + Rolls remaining from level up (").concat(w,") is greater than the total possible roll of this artifact (").concat(K,") "))}}return j}},{key:"getArtifactEfficiency",value:function(t,a,n){if(!a)return{currentEfficiency:0,maximumEfficiency:0};var r=e.totalPossibleRolls(5),c=e.rollsRemaining(n,a),l=t.reduce((function(e,t){var a;return e+((null===t||void 0===t?void 0:t.efficiency)*(null===t||void 0===t||null===(a=t.rolls)||void 0===a?void 0:a.length)||0)}),0),o=t.filter((function(e){return e.key})).map((function(e){return e.key})),s=100*Math.max.apply(Math,Object(i.a)((4===o.length?o:Object.keys(p)).map((function(t){return e.getSubstatAllMax(t,a)/e.getSubstatAllMax(t)}))));return{currentEfficiency:Object(m.b)(l/r),maximumEfficiency:Object(m.b)((l+c*s)/r)}}},{key:"equipArtifactOnChar",value:function(e,t){var a=A.a.get(e);if(a){var n=a.location,r=t||"";if(n!==r){var i=a.slotKey,c=u.a.getArtifactIDFromSlot(r,i),l=A.a.get(c);l?A.a.swapLocations(a,l):A.a.moveToNewLocation(a.id,r),r&&u.a.equipArtifact(r,a),n&&(l?u.a.equipArtifact(n,l):u.a.unequipArtifactOnSlot(n,i))}}}}]),e}();N.getDataImport=function(){return h},N.getSetKeys=function(){return Object.keys(_||{})},N.getSetName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===_||void 0===_||null===(t=_[e])||void 0===t?void 0:t.name)||a},N.getSetsByMaxStarEntries=function(e){return Object.entries(_||{}).filter((function(t){var a=Object(r.a)(t,2)[1];return a.rarity[a.rarity.length-1]===e}))},N.getPieces=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(null===_||void 0===_||null===(t=_[e])||void 0===t?void 0:t.pieces)||a},N.getPieceName=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return N.getPieces(e)[t]||a},N.getPieceIcon=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===_||void 0===_||null===(a=_[e])||void 0===a||null===(n=a.icons)||void 0===n?void 0:n[t])||r},N.getSetEffectsObj=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(null===_||void 0===_||null===(t=_[e])||void 0===t?void 0:t.setEffects)||a},N.getArtifactSetNumStats=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(m.e)((null===(a=N.getSetEffectsObj(e))||void 0===a||null===(n=a[t])||void 0===n?void 0:n.stats)||r)},N.getArtifactSetEffectsStats=function(e){var t=[];return Object.entries(e).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1];return Object.entries(N.getSetEffectsObj(n)).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],c=a[1];return parseInt(n)<=i.length&&c.stats&&Object.keys(c.stats).length&&Object.entries(c.stats).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1];return t.push({key:n,statVal:i})}))}))})),t},N.getSetEffects=function(e){var t={};return Object.entries(e).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1],c=Object.keys(N.getSetEffectsObj(n)).filter((function(e){return parseInt(e)<=i.length}));c.length&&(t[n]=c)})),t},N.getSetEffectText=function(e,t,a){var n,r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=null===(n=N.getSetEffectsObj(e))||void 0===n||null===(r=n[t])||void 0===r?void 0:r.text;return c?"function"===typeof c?c(a):c||i:i},N.getSetEffectConditional=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(a=N.getSetEffectsObj(e))||void 0===a||null===(n=a[t])||void 0===n?void 0:n.conditional)||r},N.getSlotKeys=function(){return Object.keys(O||{})},N.getSlotName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===O||void 0===O||null===(t=O[e])||void 0===t?void 0:t.name)||a},N.getSlotIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&f[e]?Object(n.jsx)(s.a,{icon:f[e],className:"fa-fw"},e):t},N.getSlotMainStatKeys=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null===O||void 0===O||null===(t=O[e])||void 0===t?void 0:t.stats)||a},N.getSlotNameWithIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return t;var a=N.getSlotName(e);if(!a)return t;var r=N.getSlotIcon(e);return r?Object(n.jsxs)("span",{children:[r," ",a]}):t},N.splitArtifactsBySlot=function(e){return Object.fromEntries(N.getSlotKeys().map((function(t){return[t,Object.values(e).filter((function(e){return e.slotKey===t}))]})))},N.getStars=function(){return Object.keys(g||{}).map((function(e){return parseInt(e)}))},N.getRarityArr=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null===_||void 0===_||null===(t=_[e])||void 0===t?void 0:t.rarity)||a},N.getMainStatKeys=function(){return Object(m.e)(b)},N.getMainStatValues=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(null===j||void 0===j||null===(a=j[e])||void 0===a?void 0:a[t])||n},N.getMainStatValue=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=N.getMainStatValues(t,e)[a];return r||((null===e||void 0===e?void 0:e.includes("_dmg_"))?N.getMainStatValue("ele_dmg_",t,a,n):n)},N.getBaseSubRollNumLow=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===g||void 0===g||null===(t=g[e])||void 0===t?void 0:t.subsBaselow)||a},N.getBaseSubRollNumHigh=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===g||void 0===g||null===(t=g[e])||void 0===t?void 0:t.subBaseHigh)||a},N.getNumUpgradesOrUnlocks=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===g||void 0===g||null===(t=g[e])||void 0===t?void 0:t.numUpgradesOrUnlocks)||a},N.getSubstatAllMax=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==(t=null===p||void 0===p||null===(a=p[e])||void 0===a?void 0:a.max[n])&&void 0!==t?t:r},N.getSubStatKeys=function(){return Object.keys(y||{})},N.subStatCloseEnough=function(e,t,a){return"%"===x.a.getStatUnit(e)?Object(m.c)(t,a):Object(m.d)(t,a)},N.totalPossibleRolls=function(e){return g[e]?g[e].subBaseHigh+g[e].numUpgradesOrUnlocks:0},N.rollsRemaining=function(e,t){return Math.ceil((4*t-e)/4)},N.numberOfSubstatUnlocked=function(e){return e.substats.reduce((function(e,t){return e+(t&&t.value?1:0)}),0)},N.getSubstatRollData=function(e,t){var a,n;return null!==(a=null===y||void 0===y||null===(n=y[e])||void 0===n?void 0:n[t])&&void 0!==a?a:[]},N.getSubstatRolls=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!a||!e||"number"!==typeof t||!t)return n;var r=N.getSubstatRollData(e,a);if(!r.length)return n;if(r.includes(t))return[[t]];if(t>r[r.length-1]*(N.getNumUpgradesOrUnlocks(a)+2))return n;var c="%"===x.a.getStatUnit(e),l=[],o=Math.round(t/r[0]);if(!o)return n;var s=function e(a,n){if(n.length){if(n.length>o)return;var s=n.reduce((function(e,t){return e+t}),0);if(c){if(s-a>=.101)return;if(Object(m.c)(s,a))return l.push(n)}else{if(s-a>1)return;if(Object(m.d)(s,a))return l.push(n)}}r.slice().reverse().forEach((function(a){(!n.length||n[n.length-1]>=a)&&e(t,[].concat(Object(i.a)(n),[a]))}))};return s(t,[]),l},N.getSubstatEfficiency=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.length,n=t.reduce((function(e,t){return e+t}),0),r=N.getSubstatAllMax(e)*a;return r?Object(m.b)(n/r*100):0},N.setToSlots=k.setToSlots,N.getConditionalStats=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!a)return n;var i=N.getSetEffectConditional(e,t);if(!i)return n;var c=S.a.getConditionalProp(i,"stats",a),l=Object(r.a)(c,2),o=l[0],s=l[1];return s?Object.fromEntries(Object.entries(o).map((function(e){var t=Object(r.a)(e,2);return[t[0],t[1]*s]}))):n},N.getAllArtifactSetEffectsObj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return Object.entries(_).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],i=a[1],c={};i.setEffects&&Object.entries(i.setEffects).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];Object.keys(n.stats||{}).length>0&&(c[a]=Object(m.e)(n.stats))})),Object.keys(c).length>0&&(t[n]=c)})),e.forEach((function(e){var a,n,i=e.srcKey,c=e.srcKey2,l=e.conditionalNum,o=N.getConditionalStats(i,c,l);Object.keys(o).length>0&&(null!==(a=t[i])&&void 0!==a||(t[i]={}),null!==(n=t[i][c])&&void 0!==n||(t[i][c]={}),Object.entries(o).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],l=a[1];return t[i][c][n]=(t[i][c][n]||0)+l})))})),t}},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(92),r=a(87),i=a(96),c=a(80),l=function(){function e(){if(Object(r.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(i.a)(e,null,[{key:"getConditionalNum",value:function(e,t){var a,n=t.srcKey,r=t.srcKey2;if(e)return(null===(a=e.find((function(e){return e.srcKey===n&&(!r||r&&e.srcKey2===r)})))||void 0===a?void 0:a.conditionalNum)||0}},{key:"setConditional",value:function(e,t,a){var n=t.srcKey,r=t.srcKey2;e||(e=[]);var i=e.findIndex((function(e){return e.srcKey===n&&(!r||r&&e.srcKey2===r)}));if(!a&&i>=0)e.splice(i,1);else{if(!a&&i<0)return e;var c={srcKey:n,conditionalNum:a};r&&(c.srcKey2=r),i>=0?e[i]=c:e.push(c)}return e}},{key:"getConditionalProp",value:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[{},0];if(Array.isArray(e)){var i,l=a,o=null,s=Object(n.a)(e);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(!(l>u.maxStack)){o=u;break}l-=u.maxStack}}catch(m){s.e(m)}finally{s.f()}if(!o)return r;var d=Object(c.a)(l,1,o.maxStack);return[o[t],d]}var f=Object(c.a)(a,1,e.maxStack);return[e[t],f]}}]),e}()},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(87),r=a(80),i=!1,c={},l=1,o=function e(){if(Object(n.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};o.isInvalid=function(e){return!e||!e.setKey||!e.numStars||!e.slotKey||!e.mainStatKey},o.getArtifactDatabase=function(){return Object(r.e)(c)},o.getArtifactIdList=function(){return Object.keys(c)},o.populateDatebaseFromLocalStorage=function(){return!i&&(Object.keys(localStorage).filter((function(e){return e.includes("artifact_")})).forEach((function(e){if(!c[e]){var t=Object(r.j)(e);if(!t)return;if(o.isInvalid(t))return void o.removeArtifactById(e);c[e]=t}})),i=!0,!0)},o.get=function(e){var t;return null!==(t=c[e])&&void 0!==t?t:null},o.removeArtifact=function(e){o.removeArtifactById(e.id)},o.updateArtifact=function(e){if(!o.isInvalid(e)){var t=e.id;if(!t){do{t="artifact_".concat(l++)}while(null!==localStorage.getItem(t));e.id=t}var a=Object(r.e)(e);Object(r.l)(t,a),c[t]=a}},o.removeArtifactById=function(e){delete c[e],localStorage.removeItem(e)},o.moveToNewLocation=function(e,t){if(e){var a=o.get(e);a&&a.location!==t&&(a.location=t,o.updateArtifact(a))}},o.swapLocations=function(e,t){var a=e.location,n=t.location;o.moveToNewLocation(e.id,n),o.moveToNewLocation(t.id,a)},o.swapLocationsById=function(e,t){return o.swapLocations(o.get(e),o.get(t))},o.unequipAllArtifacts=function(){Object.values(c).forEach((function(e){e.location="",o.updateArtifact(e)}))},o.clearDatabase=function(){c={},i=!1,l=1}},95:function(e,t,a){"use strict";t.a={physical:{name:"Physical"},anemo:{name:"Anemo"},geo:{name:"Geo"},electro:{name:"Electro"},hydro:{name:"Hydro"},pyro:{name:"Pyro"},cryo:{name:"Cryo"}}},98:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return u}));var n=a(82),r=a(79),i=a(80),c=a(115),l={flat:{name:"",default:1},characterHP:{name:"HP",pretty:"Character Base HP",const:!0},characterDEF:{name:"DEF",pretty:"Character Base DEF",const:!0},characterATK:{name:"ATK",pretty:"Character Base ATK",const:!0},characterEle:{name:"Character Element Key",default:"anemo",const:!0},characterLevel:{name:"Character Level",default:1,const:!0},weaponATK:{name:"Weapon ATK",pretty:"ATK Weapon",const:!0},baseATK:{name:"ATK",pretty:"ATK Base",const:!0},hp:{name:"HP",pretty:"Flat HP"},hp_:{name:"HP",unit:"%",pretty:"HP Bonus"},atk:{name:"ATK",pretty:"Flat ATK"},atk_:{name:"ATK",unit:"%",pretty:"ATK Bonus"},def:{name:"DEF",pretty:"Flat DEF"},def_:{name:"DEF",unit:"%",pretty:"DEF Bonus"},dmg_:{name:"All DMG Bonus",unit:"%"},finalHP:{name:"HP",pretty:"HP"},finalATK:{name:"ATK",pretty:"ATK"},finalDEF:{name:"DEF",pretty:"DEF"},eleMas:{name:"Elemental Mastery"},enerRech_:{name:"Energy Recharge",unit:"%"},critRate_:{name:"CRIT Rate",unit:"%"},critDMG_:{name:"CRIT DMG",unit:"%"},weakspotDMG_:{name:"Weakspot DMG",unit:"%"},heal_:{name:"Healing Bonus",unit:"%"},incHeal_:{name:"Incoming Healing Bonus",unit:"%"},powShield_:{name:"Shield Strength",unit:"%"},cdRed_:{name:"CD Red.",unit:"%"},skillCDRed_:{name:"Ele. Skill CD Red.",unit:"%"},burstCDRed_:{name:"Ele. Burst CD Red.",unit:"%"},moveSPD_:{name:"Movement SPD",unit:"%"},atkSPD_:{name:"ATK SPD",unit:"%"},stamina:{name:"Stamina"},staminaDec_:{name:"Stamina Consumption Dec.",unit:"%"},staminaGlidingDec_:{name:"Gliding Stamina Consumption Dec.",unit:"%"},staminaChargedDec_:{name:"Charged Attack Stamina Consumption Dec.",unit:"%"},heal_multi:{name:"Heal multiplier",unit:"multi"},amplificative_dmg_:{name:"Amplificative Reaction DMG Bonus",unit:"%"},transformative_dmg_:{name:"Transformative Reaction DMG Bonus",unit:"%"},crystalize_eleMas_:{name:"Crystalize Bonus (Elemental Mastery)",unit:"%",variant:"crystalize"},crystalize_multi:{name:"Crystalize Multiplier",unit:"multi",const:!0,variant:"crystalize"},crystalize_dmg_:{name:"Crystalize Bonus",unit:"%",variant:"crystalize"},crystalize_hit:{name:"Crystalize Shield HP",variant:"crystalize"},burning_dmg_:{name:"Burning DMG Bonus",variant:"burning"},enemyLevel:{name:"Enemy Level",const:!0},enemyLevel_multi:{name:"Enemy Level RES Multiplier",unit:"multi",const:!0},enemyDEFRed_:{name:"Enemy DEF Reduction",unit:"%",const:!0}},o={baseATK:function(e,t){return t.characterATK+t.weaponATK},finalATK:function(e,t){return t.baseATK*(1+e.atk_/100)+e.atk},finalHP:function(e,t){return t.characterHP*(1+e.hp_/100)+e.hp},finalDEF:function(e,t){return t.characterDEF*(1+e.def_/100)+e.def},enemyLevel_multi:function(e,t){return(100+t.characterLevel)/(100+t.characterLevel+(100+t.enemyLevel)*(1-t.enemyDEFRed_/100))},heal_multi:function(e){return 1+e.heal_/100+e.incHeal_/100},amplificative_dmg_:function(e){return 2500/9*e.eleMas/(1400+e.eleMas)},transformative_dmg_:function(e){return 6e3/9*e.eleMas/(1400+e.eleMas)},crystalize_eleMas_:function(e){return 4e3/9*e.eleMas/(1400+e.eleMas)},crystalize_multi:function(e,t){return c.a.crystalize.reduce((function(e,a,n){return e+a*Math.pow(t.characterLevel,n)}),0)},crystalize_hit:function(e,t){return(100+e.crystalize_dmg_+e.crystalize_eleMas_)/100*t.crystalize_multi}},s={physical:[],anemo:["electro_swirl_hit","pyro_swirl_hit","cryo_swirl_hit","hydro_swirl_hit"],geo:["crystalize_hit","shattered_hit"],electro:["overloaded_hit","electrocharged_hit","superconduct_hit"],hydro:["electrocharged_hit","shattered_hit"],pyro:["overloaded_hit"],cryo:["shattered_hit","superconduct_hit"],dendro:[]};function u(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.modifiers,i=void 0===n?{}:n,c={},s={},u=e.map((function(e){var n,u,d,f,m,v,_,h,b=null!==(n=i[e])&&void 0!==n?n:{},g=Object.entries(b).filter((function(e){var t,a=Object(r.a)(e,1)[0];return null===(t=l[a])||void 0===t?void 0:t.const})),j=Object.entries(b).filter((function(e){var t,a=Object(r.a)(e,1)[0];return!(null===(t=l[a])||void 0===t?void 0:t.const)})),y=function(e,t){return g.reduce((function(e,a){var n=Object(r.a)(a,2),i=n[0],c=n[1];return e+t[i]*c}),0)},p=function(e){return j.reduce((function(t,a){var n=Object(r.a)(a,2),i=n[0],c=n[1];return t+e[i]*c}),0)},O=0;switch(g.length&&(O+=1),j.length&&(O+=2),o[e]||(O+=(null===(u=l[e])||void 0===u?void 0:u.const)?4:8),O){case 0:h=o[e];break;case 1:h=function(t,a){return o[e](t,a)+y(0,a)};break;case 2:h=function(t,a){return o[e](t,a)+p(t)};break;case 3:h=function(t,a){return o[e](t,a)+y(0,a)+p(t)};break;case 4:h=function(t,a){return a[e]};break;case 5:h=function(t,a){return a[e]+y(0,a)};break;case 6:h=function(t,a){return a[e]+p(t)};break;case 7:h=function(t,a){return a[e]+y(0,a)+p(t)};break;case 8:h=function(t,a){return t[e]};break;case 9:h=function(t,a){return t[e]+y(0,a)};break;case 10:h=function(t,a){return t[e]+p(t)};break;default:h=function(t,a){return t[e]+y(0,a)+p(t)}}var x=h;return a&&console.log((null===(d=l[e])||void 0===d?void 0:d.const)?"Const":"Dynamic",e,g,j,""+o[e]),e in o||(t[e]=null!==(f=null!==(m=t[e])&&void 0!==m?m:null===(v=l[e])||void 0===v?void 0:v.default)&&void 0!==f?f:0),(null===(_=l[e])||void 0===_?void 0:_.const)?(s[e]=t[e],s[e]=x(t,s),t[e]=s[e],j.length&&console.error("Constant key ".concat(e," depends on a dynamic modifer ").concat(j,". The result will be incorrect.")),null):(e in o||(c[e]=t[e]),[e,x])})).filter((function(e){return e}));return a&&console.log(c,s),{initialStats:c,formula:function(e){u.forEach((function(t){var a=Object(r.a)(t,2),n=a[0],i=a[1];return e[n]=i(e,s)})),Object.assign(e,s)}}}Object.entries(c.d).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];l["".concat(a,"_dmg_")]={name:"".concat(n," DMG Bonus"),unit:"%"},l["".concat(a,"_critRate_")]={name:"".concat(n," CRIT Rate Bonus"),unit:"%"},l["final_".concat(a,"_critRate_")]={name:"".concat(n," CRIT Rate"),unit:"%"},o["final_".concat(a,"_critRate_")]=function(e){return Object(i.a)(e.critRate_+e["".concat(a,"_critRate_")],0,100)}})),Object.entries(c.c).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1].name,s={variant:a};l["".concat(a,"_dmg_")]=Object(n.a)({name:"".concat(i," DMG Bonus"),unit:"%"},s),l["".concat(a,"_res_")]=Object(n.a)({name:"".concat(i," DMG RES"),unit:"%"},s),l["".concat(a,"_enemyRes_")]=Object(n.a)({name:"Enemy ".concat(i," DMG RES"),unit:"%",default:10,const:!0},s),l["".concat(a,"_enemyImmunity")]=Object(n.a)({name:"Enemy ".concat(i," Immunity"),default:!1,const:!0},s),l["".concat(a,"_enemyRes_multi")]=Object(n.a)({name:"Enemy ".concat(i," RES Multiplier"),unit:"multi",const:!0},s),l["".concat(a,"_bonus_multi")]=Object(n.a)({name:"".concat(i," Attack Bonus DMG Multiplier"),unit:"multi"},s),Object.entries(c.e).forEach((function(e){var t=Object(r.a)(e,2),c=t[0],u=t[1];l["".concat(a,"_elemental_").concat(c)]=Object(n.a)({name:"".concat(i," Attack ").concat(u)},s),l["".concat(a,"_elemental_").concat(c,"_multi")]={name:"".concat(i," Attack ").concat(u," Multiplier"),unit:"multi"},o["".concat(a,"_elemental_").concat(c)]=function(e){return e.finalATK*e["".concat(a,"_elemental_").concat(c,"_multi")]}})),o["".concat(a,"_elemental_hit_multi")]=function(e,t){return(1+(e.dmg_+e["".concat(a,"_dmg_")])/100)*t.enemyLevel_multi*t["".concat(a,"_enemyRes_multi")]},o["".concat(a,"_elemental_critHit_multi")]=function(e){return e["".concat(a,"_elemental_hit_multi")]*(1+e.critDMG_/100)},o["".concat(a,"_elemental_avgHit_multi")]=function(e){return e["".concat(a,"_elemental_hit_multi")]*(1+e.critDMG_*e.critRate_/1e4)},o["".concat(a,"_enemyRes_multi")]=function(e,t){return t["".concat(a,"_enemyImmunity")]?0:(n=t["".concat(a,"_enemyRes_")],(n/=100)<0?1-n/2:n>=.75?1/(4*n+1):1-n);var n}})),Object.entries(c.d).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1];Object.entries(c.c).forEach((function(e){var t=Object(r.a)(e,2),s=t[0],u=(t[1].name,{variant:s});Object.entries(c.e).forEach((function(e){var t=Object(r.a)(e,2),c=t[0],d=t[1];l["".concat(s,"_").concat(a,"_").concat(c)]=Object(n.a)({name:"".concat(i," ").concat(d)},u),l["".concat(s,"_").concat(a,"_").concat(c,"_multi")]=Object(n.a)({name:"".concat(i," ").concat(d," Multiplier"),unit:"multi"},u),o["".concat(s,"_").concat(a,"_").concat(c)]=function(e){return e.finalATK*e["".concat(s,"_").concat(a,"_").concat(c,"_multi")]}})),o["".concat(s,"_").concat(a,"_hit_multi")]=function(e,t){return(1+(e.dmg_+e["".concat(s,"_dmg_")]+e["".concat(a,"_dmg_")])/100)*t.enemyLevel_multi*t["".concat(s,"_enemyRes_multi")]},o["".concat(s,"_").concat(a,"_critHit_multi")]=function(e){return e["".concat(s,"_").concat(a,"_hit_multi")]*(1+e.critDMG_/100)},o["".concat(s,"_").concat(a,"_avgHit_multi")]=function(e){return e["".concat(s,"_").concat(a,"_hit_multi")]*(1+e.critDMG_*e["final_".concat(a,"_critRate_")]/1e4)}}))})),Object.entries(c.f).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1],s=i.name,u=i.variants,d={variant:a};if(l["".concat(a,"_dmg_")]=Object(n.a)({name:"".concat(s," DMG Bonus"),unit:"%"},d),l["".concat(a,"_multi")]=Object(n.a)({name:"".concat(s," Multiplier"),unit:"multi",const:!0},d),o["".concat(a,"_multi")]=function(e,t){return c.a[a].reduce((function(e,a,n){return e+a*Math.pow(t.characterLevel,n)}),0)},1===Object.keys(u).length){var f=Object.keys(u),m=Object(r.a)(f,1)[0],v={variant:a};l["".concat(a,"_hit")]=Object(n.a)({name:"".concat(s," DMG")},v),o["".concat(a,"_hit")]=function(e,t){return(100+e.transformative_dmg_+e["".concat(a,"_dmg_")])/100*t["".concat(a,"_multi")]*t["".concat(m,"_enemyRes_multi")]}}else Object.entries(u).forEach((function(e){var t=Object(r.a)(e,2),i=t[0],u=(t[1],{variant:i});l["".concat(i,"_").concat(a,"_hit")]=Object(n.a)({name:"".concat(c.c[i].name," ").concat(s," DMG")},u),o["".concat(i,"_").concat(a,"_hit")]=function(e,t){return(100+e.transformative_dmg_+e["".concat(a,"_dmg_")])/100*t["".concat(a,"_multi")]*t["".concat(i,"_enemyRes_multi")]}}))})),Object.entries(c.b).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1],s=i.name,u=i.variants,d={variant:a};l["".concat(a,"_dmg_")]=Object(n.a)({name:"".concat(s," DMG Bonus"),unit:"%"},d),Object.entries(u).forEach((function(e){var t=Object(r.a)(e,2),i=t[0],u=t[1];l["".concat(i,"_").concat(a,"_multi")]=Object(n.a)({name:"".concat(s," Multiplier"),unit:"multi"},d),o["".concat(i,"_").concat(a,"_multi")]=function(e){return u*(100+e.amplificative_dmg_+e["".concat(a,"_dmg_")])/100},Object.entries(c.e).forEach((function(e){var t=Object(r.a)(e,2),u=t[0],f=t[1];l["".concat(i,"_").concat(a,"_elemental_").concat(u)]=Object(n.a)({name:"".concat(s," ").concat(f)},d),o["".concat(i,"_").concat(a,"_elemental_").concat(u)]=function(e){return e["".concat(i,"_elemental_").concat(u)]*e["".concat(i,"_").concat(a,"_multi")]},Object.entries(c.d).forEach((function(e){var t=Object(r.a)(e,2),c=t[0],m=t[1];l["".concat(i,"_").concat(a,"_").concat(c,"_").concat(u)]=Object(n.a)({name:"".concat(s," ").concat(m," ").concat(f)},d),o["".concat(i,"_").concat(a,"_").concat(c,"_").concat(u)]=function(e){return e["".concat(i,"_").concat(c,"_").concat(u)]*e["".concat(i,"_").concat(a,"_multi")]}}))}))}))}))},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(79),r=a(87),i=a(109),c=a(93),l=a(80),o=function e(){if(Object(r.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};o.getWeaponDataImport=function(){return i.c},o.getLevelName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.a[e]||t},o.getLevelIndex=function(e){return i.d.indexOf(e)},o.getWeaponName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=i.b[e])||void 0===t?void 0:t.name)||a},o.getWeaponRarity=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===(t=i.b[e])||void 0===t?void 0:t.rarity)||a},o.getWeaponPassiveName=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=i.b[e])||void 0===t?void 0:t.passiveName)||a},o.getWeaponPassiveDescription=function(e,t,a,n){var r,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return(null===(r=i.b[e])||void 0===r||null===(c=r.passiveDescription)||void 0===c?void 0:c.call(r,t,a,n))||l},o.getWeaponDescription=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=i.b[e])||void 0===t?void 0:t.description)||a},o.getWeaponConditional=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=i.b[e])||void 0===t?void 0:t.conditional)||a},o.getWeaponImg=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=i.b[e])||void 0===t?void 0:t.img)||a},o.getWeaponMainStatVal=function(e,t){var a,n,r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(a=i.b[e])||void 0===a||null===(n=a.baseStats)||void 0===n||null===(r=n.main)||void 0===r?void 0:r[o.getLevelIndex(t)])||c},o.getWeaponSubStatVal=function(e,t){var a,n,r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(a=i.b[e])||void 0===a||null===(n=a.baseStats)||void 0===n||null===(r=n.sub)||void 0===r?void 0:r[o.getLevelIndex(t)])||c},o.getWeaponSubStatKey=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=i.b[e])||void 0===t||null===(a=t.baseStats)||void 0===a?void 0:a.subStatKey)||n},o.getWeaponBonusStat=function(e,t){var a,n,r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null!==(a=null===(n=i.b[e])||void 0===n||null===(r=n.stats)||void 0===r?void 0:r.call(n,t))&&void 0!==a?a:c},o.getWeaponsOfType=function(e){return Object.fromEntries(Object.entries(i.b).filter((function(t){var a=Object(n.a)(t,2);a[0];return a[1].weaponType===e})))},o.getWeaponTypeName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.e[e]||t},o.getWeaponTypeKeys=function(){return Object.keys(i.e)},o.getWeaponMainStatValWithOverride=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===e||void 0===e?void 0:e.overrideMainVal)||o.getWeaponMainStatVal(null===e||void 0===e?void 0:e.key,null===e||void 0===e?void 0:e.levelKey,t)},o.getWeaponSubStatValWithOverride=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===e||void 0===e?void 0:e.overrideSubVal)||o.getWeaponSubStatVal(null===e||void 0===e?void 0:e.key,null===e||void 0===e?void 0:e.levelKey,t)},o.getWeaponConditionalStat=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=o.getWeaponConditional(e);if(!i||!a)return r;var s=c.a.getConditionalProp(i,"stats",a),u=Object(n.a)(s,2),d=u[0],f=u[1];return f?(d=d(t),1!==f&&Object(l.k)(d,f),d):r}}}]);
//# sourceMappingURL=11.21f8f7ac.chunk.js.map