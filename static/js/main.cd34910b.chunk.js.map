{"version":3,"sources":["Components/CustomFormControl.js","Components/SlotIcon.js","Util.js","Artifact/ArtifactData.js","Artifact/Artifact.js","Artifact/PercentBadge.js","Artifact/ArtifactDatabase.js","Character/CharacterDatabase.js","Artifact/ArtifactCard.js","Artifact/ArtifactEditor.js","Artifact/ArtifactDisplay.js","Build/Build.js","Build/BuildStatData.js","Build/BuildWorker.js","Build/BuildDisplay.js","Components/ElementalIcon.js","Character/CharacterCard.js","Character/CharacterEditor.js","Character/CharacterDisplay.js","App.js","reportWebVitals.js","index.js"],"names":["FloatFormControl","props","validateInput","e","value","target","periodEnd","length","parseFloat","isNaN","setState","onValueChange","render","state","FormControl","onChange","React","Component","IntFormControl","parseInt","SlotIcon","flower","faBahai","plume","faFeatherAlt","sands","faHourglass","goblet","faWineGlass","circlet","faCrown","getRandomElementFromArray","array","Math","floor","random","getRandomIntInclusive","min","max","ceil","loadFromLocalStorage","key","data","localStorage","getItem","JSON","parse","saveToLocalStorage","obj","setItem","stringify","deepClone","ArtifactStatsData","hp","name","hp_","unit","atk","atk_","def","def_","phy_dmg","ele_dmg","ele_mas","ener_rech","crit_rate","crit_dmg","heal_bonu","ArtifactSubStatsData","2","low","high","3","4","5","ArtifactSlotSData","stats","CharacterSpecializedStatKey","ArtifactSetsData","rarity","pieces","sets","text","anemo_ele_dmg","electro_ele_dmg","pyro_ele_dmg","geo_ele_dmg","1","ArtifactStarsData","subsBaselow","subBaseHigh","numUpgradesOrUnlocks","ArtifactMainStatsData","ElementalData","anemo","geo","electro","hydro","pyro","cryo","dendro","Artifact","substateValidation","currentEfficiency","maximumEfficiency","substats","map","substat","validateSubStat","valid","msg","some","rolls","currentNumOfRolls","getCurrentNumOfRolls","rollsRemaining","totalPossbleRolls","totalPossibleRolls","totalCurrentEfficiency","getCurrentTotalEfficiency","totalPossbleUpgrade","getArtifactSetName","defVal","getArtifactSetsByMaxStarEntries","star","Object","entries","filter","setobj","getArtifactSlotName","slotKey","getArtifactPieceName","setKey","getStatName","includes","element","split","getStatUnit","getMainStatValue","numStars","level","elementKey","numberOfSubstatUnlocked","reduce","sum","cur","getRemainingSubstats","keys","mainStatKey","i","efficiency","getStatHighRollVal","subStatKey","getStatLowRollVal","statHighRollVal","statLowRollVal","validateRolls","totalAllowableRolls","toFixed","validation","errormsg","rolls2","PercentBadge","getBadgeColor","percent","badgeColor","this","tooltip","OverlayTrigger","placement","overlay","Tooltip","Badge","variant","children","artifactDatabase","artifactIdList","artIdIndex","ArtifactDatabase","Error","updateIdList","saveIdListToStorage","getIdListFromStorage","getArtifactDatabase","getArtifactIdList","populateDatebaseFromLocalStorage","id","getArtifact","removeArtifact","art","removeArtifactById","addArtifact","updateCacheData","updateArtifact","artId","removeItem","characterDatabase","characterIdList","charIdIndex","CharacterDatabase","getIdList","saveIdList","getCharacterDatabase","getCharacterIdList","addCharacter","char","push","updateCharacter","getCharacter","removeCharacter","removeCharacterById","index","indexOf","splice","ArtifactCard","artifactData","artifactValidation","location","Card","className","border","bg","Header","Row","Col","icon","xs","Button","size","onClick","onEdit","faEdit","onDelete","faTrashAlt","Body","Title","Subtitle","repeat","stat","Footer","disabled","lock","forceUpdate","faLock","faLockOpen","ArtifactEditor","ArtifactDropDown","dropdownitemsForStar","Dropdown","Item","ret","DropdownButton","as","InputGroup","Prepend","title","ItemText","Divider","Test","MainSelection","Text","placeholder","setLevel","Append","MainStatInputRow","getInitialState","readOnly","SubStatInput","percentStat","substatprops","substatevalue","val","onSubstatValueChange","subStatFormControl","remainingSubstats","onSubStatSelected","subStatValidation","newStatValue","randomizeArtifact","numOfInitialSubStats","totRolls","RollStat","lowRoll","highRoll","componentDidUpdate","artifactToEdit","newlevel","substatValidations","Popover","Content","faQuestionCircle","style","cursor","lg","Alert","saveArtifact","cancelEdit","initialState","ArtifactDisplay","artToEdit","artIdList","deleteArtifact","editArtifact","cancelEditArtifact","initialFilter","artifacts","artid","filterArtSetKey","filterStars","filterLevelLow","filterLevelHigh","filterSlotKey","filterMainStatKey","filterSubstates","filterKey","MainStatDropDownItem","statKey","Container","Toggle","Menu","ToggleButtonGroup","type","defaultValue","selected","ToggleButton","faCheckSquare","faSquare","ele","substatKey","md","Build","databaseObj","slot","values","setFilters","accu","num","perm","slotKeys","slotPerm","numArtsPerSet","forEach","setFilter","splitArtifacts","setPerms","setsInFilter","splitNumArtsPerSet","artArr","setPerm","permaccu","test","input","artifactDisplaySortKey","explaination","phy_atk","ele_atk","Worker_fn","Worker","BuildDisplay","selectedCharacterKey","every","filterKeys","splitArtifactsBySlot","artifactsSlotsToSelectMainStats","mainStat","changeMainStat","changeSetFilterKey","newkey","setsNumArr","artsAccountedOther","ind","generateBuilds","artifactSetPerms","generatingBuilds","builds","character","maxBuildsToShow","buildFilterKey","asending","worker","onmessage","postMessage","BuildGeneratorEditorCard","charlist","selectedCharacter","characterName","artsAccounted","generateAllPossibleArtifactSetPerm","totBuildNumber","calculateTotalBuildNumber","buildAlert","maxBuildsToGenerate","sortName","ButtonGroup","setTimeout","faSortAmountDownAlt","faSortAmountUp","ArtifactDisplayItem","build","ListGroup","action","modalBuild","setToSlots","sm","finalStats","BuildModal","Modal","show","onHide","dialogAs","faTimes","weapon_atk","weaponStatKey","weaponStatVal","artifactSetEffect","effects","effect","artifact","equipArtifacts","sort","slotarr1","slotarr","equippedArtifacts","savedState","sandsMainKey","gobletMainKey","circletMainkey","maxBuildsToShowList","maxBuildsToGenerateList","ModalArtifactCard","BuildModalCharacterCard","statsDisplay","ElementalIcon","faWind","faGem","faBolt","faWater","faFire","faIcicles","faSeedling","CharacterCard","characterData","liElement","mainEles","advEles","weaponAtk","weaponSub","specialized","specialStatKey","specialStatVal","Link","to","pathname","CharacterEditor","StatInput","v","characterToEdit","percentWeaponStatSelect","percentSpecialStatSlect","weaponprops","weaponSubStatInput","specialStatProps","specialStatInput","faSignature","faTint","faFistRaised","faShieldAlt","faMagic","faDice","faDiceD20","faFirstAid","faSync","faGavel","CharacterDisplay","charToEdit","charIdList","deleteCharacter","editCharacter","cancelEditCharacter","App","Navbar","expand","Brand","Nav","process","href","faDiscord","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","console","log","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cd34910b.chunk.js","sourcesContent":["import React from 'react'\r\nimport { FormControl } from 'react-bootstrap'\r\n\r\nclass FloatFormControl extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      periodEnd: false,\r\n    }\r\n  }\r\n  validateInput = (e) => {\r\n    let value = e.target.value;\r\n    let periodEnd = value[value.length - 1] === \".\";\r\n    value = parseFloat(value)\r\n    if (!isNaN(value)) this.setState({ periodEnd: periodEnd })\r\n    value = value ? value : 0\r\n    this.props.onValueChange && this.props.onValueChange(value);\r\n  }\r\n  render = () => {\r\n    let props = { ...this.props }\r\n    props.value = this.props.value ? (this.props.value + (this.state.periodEnd ? \".\" : \"\")) : \"\";\r\n    delete props.onValueChange\r\n    return <FormControl {...props}\r\n      onChange={(e) => this.validateInput(e)}\r\n    />\r\n  }\r\n}\r\nclass IntFormControl extends React.Component {\r\n  validateInput = (e) => {\r\n    let value = e.target.value;\r\n    value = parseInt(value)\r\n    value = value ? value : 0\r\n    this.props.onValueChange && this.props.onValueChange(value);\r\n  }\r\n  render = () => {\r\n    let props = { ...this.props }\r\n    delete props.onValueChange\r\n    return <FormControl {...props}\r\n      onChange={(e) => this.validateInput(e)}\r\n    />\r\n  }\r\n}\r\nexport {\r\n  FloatFormControl,\r\n  IntFormControl\r\n}","import { faBahai, faFeatherAlt, faHourglass, faWineGlass, faCrown } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst SlotIcon = {\r\n  flower: faBahai,\r\n  plume: faFeatherAlt,\r\n  sands: faHourglass,\r\n  goblet: faWineGlass,\r\n  circlet: faCrown\r\n}\r\nexport default SlotIcon","const getRandomElementFromArray = (array) => array[Math.floor(Math.random() * array.length)];\r\nfunction getRandomInt(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n}\r\nfunction getRandomIntInclusive(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1) + min); //The maximum is inclusive and the minimum is inclusive \r\n}\r\nfunction getRandomArbitrary(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\nconst loadFromLocalStorage = (key) => {\r\n  let data = localStorage.getItem(key)\r\n  if (!data) return null\r\n  return JSON.parse(data)\r\n}\r\nconst saveToLocalStorage = (key, obj) =>\r\n  localStorage.setItem(key, JSON.stringify(obj));\r\nconst deepClone = (obj) =>\r\n  JSON.parse(JSON.stringify(obj))\r\nexport {\r\n  getRandomInt,\r\n  getRandomIntInclusive,\r\n  getRandomArbitrary,\r\n  getRandomElementFromArray,\r\n  loadFromLocalStorage,\r\n  saveToLocalStorage,\r\n  deepClone\r\n}","\r\nconst ArtifactStatsData = {\r\n  hp: { name: \"HP\", key: \"hp\" },\r\n  hp_: { name: \"HP%\", key: \"hp_\", unit: \"%\" },\r\n  atk: { name: \"ATK\", key: \"atk\" },\r\n  atk_: { name: \"ATK%\", key: \"atk_\", unit: \"%\" },\r\n  def: { name: \"DEF\", key: \"def\" },\r\n  def_: { name: \"DEF%\", key: \"def_\", unit: \"%\" },\r\n  phy_dmg: { name: \"Physical DMG Bonus\", key: \"phy_dmg\", unit: \"%\" },\r\n  ele_dmg: { name: \"Elemental DMG Bonus\", key: \"ele_dmg\", unit: \"%\" },\r\n  ele_mas: { name: \"Elemental Mastery\", key: \"ele_mas\" },\r\n  ener_rech: { name: \"Energy Recharge%\", key: \"ener_rech\", unit: \"%\" },\r\n  crit_rate: { name: \"Crit Rate%\", key: \"crit_rate\", unit: \"%\" },\r\n  crit_dmg: { name: \"Crit DMG%\", key: \"crit_dmg\", unit: \"%\" },\r\n  heal_bonu: { name: \"Healing Bonus%\", key: \"heal_bonu\", unit: \"%\" },\r\n};\r\n\r\nconst ArtifactSubStatsData = {\r\n  hp: { 2: { low: 50, high: 72 }, 3: { low: 100, high: 143 }, 4: { low: 167, high: 239 }, 5: { low: 209, high: 299 } },\r\n  hp_: { 2: { low: 1.6, high: 2.3 }, 3: { low: 2.5, high: 3.5 }, 4: { low: 3.3, high: 4.7 }, 5: { low: 4.1, high: 5.8 } },\r\n  atk: { 2: { low: 3, high: 4 }, 3: { low: 7, high: 9 }, 4: { low: 11, high: 16 }, 5: { low: 14, high: 19 } },\r\n  atk_: { 2: { low: 1.6, high: 2.3 }, 3: { low: 2.5, high: 3.5 }, 4: { low: 3.3, high: 4.7 }, 5: { low: 4.1, high: 5.8 } },\r\n  def: { 2: { low: 4, high: 6 }, 3: { low: 8, high: 11 }, 4: { low: 13, high: 19 }, 5: { low: 16, high: 23 } },\r\n  def_: { 2: { low: 2, high: 2.9 }, 3: { low: 3.1, high: 4.4 }, 4: { low: 4.1, high: 5.8 }, 5: { low: 5.1, high: 7.3 } },\r\n  ele_mas: { 2: { low: 7, high: 9 }, 3: { low: 10, high: 14 }, 4: { low: 13, high: 19 }, 5: { low: 16, high: 23 } },\r\n  ener_rech: { 2: { low: 1.8, high: 2.6 }, 3: { low: 2.7, high: 3.9 }, 4: { low: 3.6, high: 5.2 }, 5: { low: 4.5, high: 6.5 } },\r\n  crit_rate: { 2: { low: 1.1, high: 1.6 }, 3: { low: 1.6, high: 2.3 }, 4: { low: 2.2, high: 3.1 }, 5: { low: 2.7, high: 3.9 } },\r\n  crit_dmg: { 2: { low: 2.2, high: 3.1 }, 3: { low: 3.3, high: 4.7 }, 4: { low: 4.4, high: 6.2 }, 5: { low: 5.4, high: 7.8 } },\r\n}\r\n\r\nconst ArtifactSlotSData = {\r\n  flower: { name: \"Flower of Life\", stats: [\"hp\"] },\r\n  plume: { name: \"Plume of Death\", stats: [\"atk\"] },\r\n  sands: { name: \"Sands of Eon\", stats: [\"hp_\", \"def_\", \"atk_\", \"ele_mas\", \"ener_rech\"] },\r\n  goblet: { name: \"Goblet of Eonothem\", stats: [\"hp_\", \"def_\", \"atk_\", \"ele_mas\", \"phy_dmg\", \"anemo_ele_dmg\", \"geo_ele_dmg\", \"electro_ele_dmg\", \"hydro_ele_dmg\", \"pyro_ele_dmg\", \"cryo_ele_dmg\",] },\r\n  circlet: { name: \"Circlet of Logos\", stats: [\"hp_\", \"def_\", \"atk_\", \"ele_mas\", \"crit_rate\", \"crit_dmg\", \"heal_bonu\"] },\r\n};\r\nconst CharacterSpecializedStatKey = [\"hp_\", \"atk_\", \"def_\", \"ele_mas\", \"ener_rech\", \"heal_bonu\", \"crit_rate\", \"crit_dmg\", \"phy_dmg\", \"anemo_ele_dmg\", \"geo_ele_dmg\", \"electro_ele_dmg\", \"hydro_ele_dmg\", \"pyro_ele_dmg\", \"cryo_ele_dmg\"]\r\nconst ArtifactSetsData = {\r\n  \"Wanderer's Troupe\": {\r\n    name: \"Wanderer's Troupe\", rarity: [4, 5], pieces: {\r\n      flower: \"Troupe's Dawnlight\",\r\n      plume: \"Bard's Arrow Feather\",\r\n      sands: \"Concert's Final Hour\",\r\n      goblet: \"Wanderer's String-Kettle\",\r\n      circlet: \"Conductor's Top Hat\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Elemental Mastery +80\",\r\n        stats: {\r\n          ele_mas: 80\r\n        }\r\n      },\r\n      4: {\r\n        text: \"Increases Charged Attack DMG by 35% if the character uses a Catalyst or Bow.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Viridescent Venerer\": {\r\n    name: \"Viridescent Venerer\", rarity: [4, 5], pieces: {\r\n      flower: \"In Remembrance of Viridescent Fields\",\r\n      plume: \"Viridescent Arrow Feather\",\r\n      sands: \"Viridescent Venerer's Determination\",\r\n      goblet: \"Viridescent Venerer's Vessel\",\r\n      circlet: \"Viridescent Venerer's Diadem\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Anemo DMG Bonus +15%\",\r\n        stats: {\r\n          anemo_ele_dmg: 15\r\n        }\r\n      },\r\n      4: {\r\n        text: \"Increases Swirl DMG by 60%. Decreases opponent's Elemental RES to the element infused in the Swirl by 40% for 10s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Thundersoother\": {\r\n    name: \"Thundersoother\", rarity: [4, 5], pieces: {\r\n      flower: \"Thundersoother's Heart\",\r\n      plume: \"Thundersoother's Plume\",\r\n      sands: \"Hour of Soothing Thunder\",\r\n      goblet: \"Thundersoother's Goblet\",\r\n      circlet: \"Thundersoother's Diadem\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Electro RES increased by 40%\",\r\n        stats: {}//TODO ele_res\r\n      },\r\n      4: {\r\n        text: \"Increases DMG against enemies affected by Electro by 35%.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Thundering Fury\": {\r\n    name: \"Thundering Fury\", rarity: [4, 5], pieces: {\r\n      flower: \"Thunderbird's Mercy\",\r\n      plume: \"Survivor of Catastrophe\",\r\n      sands: \"Hourglass of Thunder\",\r\n      goblet: \"Omen of Thunderstorm\",\r\n      circlet: \"Thunder Summoner's Crown\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Electro DMG Bonus +15%\",\r\n        stats: { electro_ele_dmg: 15 }\r\n      },\r\n      4: {\r\n        text: \"Increases damage caused by Overloaded, Electro-Charged, and Superconduct DMG by 40%. Triggering such effects decreases Elemental Skill CD by 1s. Can only occur once every 0.8s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Retracing Bolide\": {\r\n    name: \"Retracing Bolide\", rarity: [4, 5], pieces: {\r\n      flower: \"Summer Night's Bloom\",\r\n      plume: \"Summer Night's Finale\",\r\n      sands: \"Summer Night's Moment\",\r\n      goblet: \"Summer Night's Waterballoon\",\r\n      circlet: \"Summer Night's Mask\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Increases the effectiveness of shields by 35%\",\r\n        stats: {}//TODO shield \r\n      },\r\n      4: {\r\n        text: \"Gain an additional 40% Normal and Charged Attack DMG while under the protection of a shield.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Noblesse Oblige\": {\r\n    name: \"Noblesse Oblige\", rarity: [4, 5], pieces: {\r\n      flower: \"Royal Flora\",\r\n      plume: \"Royal Plume\",\r\n      sands: \"Royal Pocket Watch\",\r\n      goblet: \"Royal Silver Urn\",\r\n      circlet: \"Royal Masque\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Elemental Burst DMG +20%\",\r\n        stats: {}\r\n      },\r\n      4: {\r\n        text: \"Using an Elemental Burst increase all party members' ATK by 20% for 12s. This effect cannot stack.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Maiden Beloved\": {\r\n    name: \"Maiden Beloved\", rarity: [4, 5], pieces: {\r\n      flower: \"Maiden's Distant Love\",\r\n      plume: \"Maiden's Heart-stricken Infatuation\",\r\n      sands: \"Maiden's Passing Youth\",\r\n      goblet: \"Maiden's Fleeting Leisure\",\r\n      circlet: \"Maiden's Fading Beauty\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Character Healing Effectiveness +15%\",\r\n        stats: { heal_bonu: 15 }\r\n      },\r\n      4: {\r\n        text: \"Using an Elemental Skill or Burst increases healing received by all party members by 20% for 10s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Lavawalker\": {\r\n    name: \"Lavawalker\", rarity: [4, 5], pieces: {\r\n      flower: \"Lavawalker's Resolution\",\r\n      plume: \"Lavawalker's Salvation\",\r\n      sands: \"Lavawalker's Torment\",\r\n      goblet: \"Lavawalker's Epiphany\",\r\n      circlet: \"Lavawalker's Wisdom\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Pyro RES increased by 40%\",\r\n        stats: {}//TODO ele_res\r\n      },\r\n      4: {\r\n        text: \"Increases DMG against enemies that are Burning or affected by Pyro by 35%.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Gladiator's Finale\": {\r\n    name: \"Gladiator's Finale\", rarity: [4, 5], pieces: {\r\n      flower: \"Gladiator's Nostalgia\",\r\n      plume: \"Gladiator's Destiny\",\r\n      sands: \"Gladiator's Longing\",\r\n      goblet: \"Gladiator's Intoxication\",\r\n      circlet: \"Gladiator's Triumphus\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"ATK +18%\",\r\n        stats: { atk_: 18 }\r\n      },\r\n      4: {\r\n        text: \"If the wielder of this artifact set uses a Sword, Claymore or Polearm, increases their Normal Attack DMG by 35%.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Crimson Witch of Flames\": {\r\n    name: \"Crimson Witch of Flames\", rarity: [4, 5], pieces: {\r\n      flower: \"Witch's Flower of Blaze\",\r\n      plume: \"Witch's Ever-Burning Plume\",\r\n      sands: \"Witch's End Time\",\r\n      goblet: \"Witch's Heart Flames\",\r\n      circlet: \"Witch's Scorching Hat\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Pyro DMG Bonus +15%\",\r\n        stats: { pyro_ele_dmg: 15 }\r\n      },\r\n      4: {\r\n        text: \"Increases Overloaded and Burning DMG by 40%. Increases Vaporize and Melt DMG by 15%. Using an Elemental Skill increases 2-Piece Set effects by 50% for 10s. Max 3 stacks.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Bloodstained Chivalry\": {\r\n    name: \"Bloodstained Chivalry\", rarity: [4, 5], pieces: {\r\n      flower: \"Bloodstained Flower of Iron\",\r\n      plume: \"Bloodstained Black Plume\",\r\n      sands: \"Bloodstained Final Hour\",\r\n      goblet: \"Bloodstained Chevalier's Goblet\",\r\n      circlet: \"Bloodstained Iron Mask\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Physical DMG +25%\",\r\n        stats: { phy_dmg: 25 }\r\n      },\r\n      4: {\r\n        text: \"After defeating an opponent, increases Charged Attack DMG by 50%, and reduces its Stamina cost to 0 for 10s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  }, \"Archaic Petra\": {\r\n    name: \"Archaic Petra\", rarity: [4, 5], pieces: {\r\n      flower: \"Flower of Creviced Cliff\",\r\n      plume: \"Feather of Jagged Peaks\",\r\n      sands: \"Sundial of Enduring Jade\",\r\n      goblet: \"Goblet of Chiseled Crag\",\r\n      circlet: \"Mask of Solitude Basalt\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"\tGain a 15% Geo DMG Bonus\",\r\n        stats: { geo_ele_dmg: 15 }\r\n      },\r\n      4: {\r\n        text: \"Upon obtaining a crystal created through a Geo Elemental Reaction, all party members gain 35% RES to that particular element for 10s. Only one form of Elemental RES can be gained in this manner at any one time. Upon obtaining a crystal created through a Geo Elemental Reaction, all party members gain 35% RES to that particular element for 10s. Only one form of Elemental RES can be gained in this manner at any one time.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Scholar\": {\r\n    name: \"Scholar\", rarity: [3, 4], pieces: {\r\n      flower: \"Scholar's Bookmark\",\r\n      plume: \"Scholar's Quill Pen\",\r\n      sands: \"Scholar's Clock\",\r\n      goblet: \"Scholar's Ink Cup\",\r\n      circlet: \"Scholar's Lens\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Energy Recharge +20%\",\r\n        stats: { ener_rech: 20 }\r\n      },\r\n      4: {\r\n        text: \"Gaining Energy gives 3 Energy to all party members who have a bow or a catalyst equipped. Can only occur once every 3s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Gambler\": {\r\n    name: \"Gambler\", rarity: [3, 4], pieces: {\r\n      flower: \"Gambler's Brooch\",\r\n      plume: \"Gambler's Feathered Accessory\",\r\n      sands: \"Gambler's Pocket Watch\",\r\n      goblet: \"Gambler's Dice Cup\",\r\n      circlet: \"Gambler's Earrings\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Elemental Skill DMG increased by 20%\",\r\n        stats: {}\r\n      },\r\n      4: {\r\n        text: \"Defeating an enemy has 100% chance to remove Elemental Skill CD. Can only occur once every 15s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Brave Heart\": {\r\n    name: \"Brave Heart\", rarity: [3, 4], pieces: {\r\n      flower: \"Medal of the Brave\",\r\n      plume: \"Prospect of the Brave\",\r\n      sands: \"Fortitude of the Brave\",\r\n      goblet: \"Outset of the Brave\",\r\n      circlet: \"Crown of the Brave\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"2-piece Set Bonus: ATK +18%\",\r\n        stats: { atk_: 18 }\r\n      },\r\n      4: {\r\n        text: \"Increases DMG by 30% against enemies with more than 50% HP.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Tiny Miracle\": {\r\n    name: \"Tiny Miracle\", rarity: [3, 4], pieces: {\r\n      flower: \"Tiny Miracle's Flower\",\r\n      plume: \"Tiny Miracle's Feather\",\r\n      sands: \"Tiny Miracle's Hourglass\",\r\n      goblet: \"Tiny Miracle's Goblet\",\r\n      circlet: \"Tiny Miracle's Earrings\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"All Elemental RES increased by 20%\",\r\n        stats: {}\r\n      },\r\n      4: {\r\n        text: \"Incoming elemental DMG increases corresponding Elemental RES by 30% for 10s. Can only occur once every 10s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Defender's Will\": {\r\n    name: \"Defender's Will\", rarity: [3, 4], pieces: {\r\n      flower: \"Guardian's Flower\",\r\n      plume: \"Guardian's Sigil\",\r\n      sands: \"Guardian's Clock\",\r\n      goblet: \"Guardian's Vessel\",\r\n      circlet: \"Guardian's Band\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Base DEF +30%\",\r\n        stats: { def_: 30 }\r\n      },\r\n      4: {\r\n        text: \"Increases Elemental RES by 30% for each element present in the party.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Martial Artist\": {\r\n    name: \"Martial Artist\", rarity: [3, 4], pieces: {\r\n      flower: \"Martial Artist's Red Flower\",\r\n      plume: \"Martial Artist's Feathered Accessory\",\r\n      sands: \"Martial Artist's Water Hourglass\",\r\n      goblet: \"Martial Artist's Wine Cup\",\r\n      circlet: \"Martial Artist's Bandana\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Increases Normal Attack and Charged Attack DMG by 15%.\",\r\n        stats: {}\r\n      },\r\n      4: {\r\n        text: \"After using Elemental Skill, increases Normal Attack and Charged Attack DMG by 25% for 8s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Resolution of Sojourner\": {\r\n    name: \"Resolution of Sojourner\", rarity: [3, 4], pieces: {\r\n      flower: \"Heart of Comradeship\",\r\n      plume: \"Feather of Homecoming\",\r\n      sands: \"Sundial of the Sojourner\",\r\n      goblet: \"Goblet of the Sojourner\",\r\n      circlet: \"Crown of Parting\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"ATK +18%\",\r\n        stats: { atk_: 18 }\r\n      },\r\n      4: {\r\n        text: \"Increases Charged Attack CRIT Rate by 30%.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"The Exile\": {\r\n    name: \"The Exile\", rarity: [3, 4], pieces: {\r\n      flower: \"Exile's Flower\",\r\n      plume: \"Exile's Feather\",\r\n      sands: \"Exile's Pocket Watch\",\r\n      goblet: \"Exile's Goblet\",\r\n      circlet: \"Exile's Circlet\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Energy Recharge +20%\",\r\n        stats: { ener_rech: 20 }\r\n      },\r\n      4: {\r\n        text: \"Using an Elemental Burst regenerates 2 Energy for other party members every 2s for 6s. This effect cannot stack.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Berserker\": {\r\n    name: \"Berserker\", rarity: [3, 4], pieces: {\r\n      flower: \"Berserker's Rose\",\r\n      plume: \"Berserker's Indigo Feather\",\r\n      sands: \"Berserker's Timepiece\",\r\n      goblet: \"Berserker's Bone Goblet\",\r\n      circlet: \"Berserker's Battle Mask\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"CRIT Rate +12%\",\r\n        stats: { crit_rate: 12 }\r\n      },\r\n      4: {\r\n        text: \"When HP is below 70%, CRIT Rate increases by an additional 24%.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Instructor\": {\r\n    name: \"Instructor\", rarity: [3, 4], pieces: {\r\n      flower: \"Instructor's Brooch\",\r\n      plume: \"Instructor's Feathered Accessory\",\r\n      sands: \"Instructor's Pocket Watch\",\r\n      goblet: \"Instructor's Tea Cup\",\r\n      circlet: \"Instructor's Cap\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Increases Elemental Mastery by 80.\",\r\n        stats: { ele_mas: 80 }\r\n      },\r\n      4: {\r\n        text: \"After using Elemental Skill, increases all party members' Elemental Mastery by 120 for 8s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Traveling Doctor\": {\r\n    name: \"Traveling Doctor\", rarity: [3], pieces: {\r\n      flower: \"Traveling Doctor's Medicine Pot\",\r\n      plume: \"Traveling Doctor's Handkerchief\",\r\n      sands: \"Traveling Doctor's Pocket Watch\",\r\n      goblet: \"Traveling Doctor's Silver Lotus\",\r\n      circlet: \"Traveling Doctor's Owl Feather\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Increases incoming healing by 20%.\",\r\n        stats: {}\r\n      },\r\n      4: {\r\n        text: \"Using Elemental Burst restores 20% HP.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Lucky Dog\": {\r\n    name: \"Lucky Dog\", rarity: [3], pieces: {\r\n      flower: \"Lucky Dog's Clover\",\r\n      plume: \"Lucky Dog's Eagle Feather\",\r\n      sands: \"Lucky Dog's Hourglass\",\r\n      goblet: \"Lucky Dog's Goblet\",\r\n      circlet: \"Lucky Dog's Silver Circlet\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"DEF increased by 100.\",\r\n        stats: { def: 100 }\r\n      },\r\n      4: {\r\n        text: \"Picking up Mora restores 300 HP.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Adventurer\": {\r\n    name: \"Adventurer\", rarity: [3], pieces: {\r\n      flower: \"Adventurer's Flower\",\r\n      plume: \"Adventurer's Tail Feather\",\r\n      sands: \"Adventurer's Pocket Watch\",\r\n      goblet: \"Adventurer's Golden Goblet\",\r\n      circlet: \"Adventurer's Bandana\"\r\n    },\r\n    sets: {\r\n      2: {\r\n        text: \"Max HP increased by 1,000.\",\r\n        stats: { hp: 1000 }\r\n      },\r\n      4: {\r\n        text: \"Opening chest regenerates 30% Max HP over 5s.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Prayers of Wisdom\": {\r\n    name: \"Prayers of Wisdom\", rarity: [3, 4], pieces: {\r\n      circlet: \"Tiara of Thunder\"\r\n    },\r\n    sets: {\r\n      1: {\r\n        text: \"Affected by Electro for 40% less time.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Prayers of Springtime\": {\r\n    name: \"Prayers of Springtime\", rarity: [3, 4], pieces: {\r\n      circlet: \"Tiara of Frost\"\r\n    },\r\n    sets: {\r\n      1: {\r\n        text: \"Affected by Cryo for 40% less time.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Prayers of Illumination\": {\r\n    name: \"Prayers of Illumination\", rarity: [3, 4], pieces: {\r\n      circlet: \"Tiara of Flame\"\r\n    },\r\n    sets: {\r\n      1: {\r\n        text: \"Affected by Pyro for 40% less time.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  \"Prayers of Destiny\": {\r\n    name: \"Prayers of Destiny\", rarity: [3, 4], pieces: {\r\n      circlet: \"Tiara of Torrents\"\r\n    },\r\n    sets: {\r\n      1: {\r\n        text: \"Affected by Hydro for 40% less time.\",\r\n        stats: {}\r\n      }\r\n    }\r\n  },\r\n  // \"\": {\r\n  //   name: \"\", rarity: [4, 5], pieces: {\r\n  //     flower: \"\",\r\n  //     plume: \"\",\r\n  //     sands: \"\",\r\n  //     goblet: \"\",\r\n  //     circlet: \"\"\r\n  //   },\r\n  //   sets: {\r\n  //     2: {\r\n  //       text: \"\",\r\n  //       stats: {}\r\n  //     },\r\n  //     4: {\r\n  //       text: \"\",\r\n  //       stats: {}\r\n  //     }\r\n  //   }\r\n  // },\r\n}\r\nconst ArtifactStarsData = {\r\n  3: { subsBaselow: 1, subBaseHigh: 2, numUpgradesOrUnlocks: 3 },\r\n  4: { subsBaselow: 2, subBaseHigh: 3, numUpgradesOrUnlocks: 4 },\r\n  5: { subsBaselow: 3, subBaseHigh: 4, numUpgradesOrUnlocks: 5 }\r\n};\r\n\r\nconst ArtifactMainStatsData = {\r\n  3: {\r\n    hp: [430, 552, 674, 796, 918, 1040, 1162, 1283, 1405, 1527, 1649, 1771, 1893],\r\n    atk: [28, 36, 44, 52, 60, 68, 76, 84, 91, 99, 107, 115, 123],\r\n    hp_: [5.2, 6.7, 8.2, 9.7, 11.2, 12.7, 14.2, 15.6, 17.1, 18.6, 20.1, 21.6, 23.1],\r\n    atk_: [5.2, 6.7, 8.2, 9.7, 11.2, 12.7, 14.2, 15.6, 17.1, 18.6, 20.1, 21.6, 23.1],\r\n    def_: [6.6, 8.4, 10.3, 12.1, 14.0, 15.8, 17.7, 19.6, 21.4, 23.3, 25.1, 27.0, 28.8],\r\n    phy_dmg: [6.6, 8.4, 10.3, 12.1, 14.0, 15.8, 17.7, 19.6, 21.4, 23.3, 25.1, 27.0, 28.8],\r\n    ele_dmg: [5.2, 6.7, 8.2, 9.7, 11.2, 12.7, 14.2, 15.6, 17.1, 18.6, 20.1, 21.6, 23.1],\r\n    ele_mas: [21, 27, 33, 39, 45, 51, 57, 63, 69, 75, 80, 86, 92],\r\n    ener_rech: [5.8, 7.5, 9.1, 10.8, 12.4, 14.1, 15.7, 17.4, 19.0, 20.7, 22.3, 24.0, 25.6],\r\n    crit_rate: [3.5, 4.5, 5.5, 6.5, 7.5, 8.4, 9.4, 10.4, 11.4, 12.4, 13.4, 14.4, 15.4],\r\n    crit_dmg: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8],\r\n    heal_bonu: [4.0, 5.2, 6.3, 7.5, 8.6, 9.8, 10.9, 12.0, 13.2, 14.3, 15.5, 16.6, 17.8],\r\n  },\r\n  4: {\r\n    hp: [645, 828, 1011, 1194, 1377, 1559, 1742, 1925, 2108, 2291, 2474, 2657, 2839, 3022, 3205, 3388, 3571],\r\n    atk: [42, 54, 66, 78, 90, 102, 113, 125, 137, 149, 161, 173, 185, 197, 209, 221, 232],\r\n    hp_: [6.3, 8.1, 9.9, 11.6, 13.4, 15.2, 17.0, 18.8, 20.6, 22.3, 24.1, 25.9, 27.7, 29.5, 31.3, 33.0, 34.8],\r\n    atk_: [6.3, 8.1, 9.9, 11.6, 13.4, 15.2, 17.0, 18.8, 20.6, 22.3, 24.1, 25.9, 27.7, 29.5, 31.3, 33.0, 34.8],\r\n    def_: [7.9, 10.1, 12.3, 14.6, 16.8, 19.0, 21.2, 23.5, 25.7, 27.9, 30.2, 32.4, 34.6, 36.8, 39.1, 41.3, 43.5],\r\n    phy_dmg: [7.9, 10.1, 12.3, 14.6, 16.8, 19.0, 21.2, 23.5, 25.7, 27.9, 30.2, 32.4, 34.6, 36.8, 39.1, 41.3, 43.5],\r\n    ele_dmg: [6.3, 8.1, 9.9, 11.6, 13.4, 15.2, 17.0, 18.8, 20.6, 22.3, 24.1, 25.9, 27.7, 29.5, 31.3, 33.0, 34.8],\r\n    ele_mas: [25, 32, 39, 47, 54, 61, 68, 75, 82, 89, 97, 104, 111, 118, 125, 132, 139],\r\n    ener_rech: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8, 32.8, 34.7, 36.7, 38.7],\r\n    crit_rate: [4.2, 5.4, 6.6, 7.8, 9.0, 10.1, 11.3, 12.5, 13.7, 14.9, 16.1, 17.3, 18.5, 19.7, 20.8, 22.0, 23.2],\r\n    crit_dmg: [8.4, 10.8, 13.1, 15.5, 17.9, 20.3, 22.7, 25.0, 27.4, 29.8, 32.2, 34.5, 36.9, 39.3, 41.7, 44.1, 46.4],\r\n    heal_bonu: [4.8, 6.2, 7.6, 9.0, 10.3, 11.7, 13.1, 14.4, 15.8, 17.2, 18.6, 19.9, 21.3, 22.7, 24.0, 25.4, 26.8],\r\n  },\r\n  5: {\r\n    hp: [717, 920, 1123, 1326, 1530, 1733, 1936, 2139, 2342, 2545, 2749, 2952, 3155, 3358, 3561, 3764, 3967, 4171, 4374, 4577, 4780],\r\n    atk: [47, 60, 73, 86, 100, 113, 126, 139, 152, 166, 179, 192, 205, 219, 232, 245, 258, 272, 285, 298, 311],\r\n    hp_: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8, 32.8, 34.7, 36.7, 38.7, 40.7, 42.7, 44.6, 46.6],\r\n    atk_: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8, 32.8, 34.7, 36.7, 38.7, 40.7, 42.7, 44.6, 46.6],\r\n    def_: [8.7, 11.2, 13.7, 16.2, 18.6, 21.1, 23.6, 26.1, 28.6, 31, 33.5, 36, 38.5, 40.9, 43.4, 45.9, 48.4, 50.8, 53.3, 55.8, 58.3],\r\n    phy_dmg: [8.7, 11.2, 13.7, 16.2, 16.2, 21.1, 23.6, 26.1, 28.6, 31, 33.5, 36, 38.5, 40.9, 43.4, 45.9, 48.4, 50.8, 53.3, 55.8, 58.3],\r\n    ele_dmg: [7.0, 9.0, 11.0, 12.9, 14.9, 16.9, 18.9, 20.9, 22.8, 24.8, 26.8, 28.8, 30.8, 32.8, 34.7, 36.7, 38.7, 40.7, 42.7, 44.6, 46.6],\r\n    ele_mas: [28, 36, 44, 52, 60, 68, 76, 84, 91, 99, 107, 115, 123, 131, 139, 147, 155, 163, 171, 179, 187],\r\n    ener_rech: [7.8, 10.0, 12.2, 14.4, 16.6, 18.8, 21.0, 23.2, 25.4, 27.6, 29.8, 32.0, 34.2, 36.4, 38.6, 40.8, 43.0, 45.2, 47.4, 49.6, 51.8],\r\n    crit_rate: [4.7, 6.0, 7.4, 8.7, 10.0, 11.4, 12.7, 14.0, 15.4, 16.7, 18.0, 19.3, 20.7, 22.0, 23.3, 24.7, 26.0, 27.3, 28.7, 30.0, 31.3],\r\n    crit_dmg: [9.3, 11.9, 14.6, 17.2, 19.9, 22.5, 25.5, 27.8, 30.5, 33.1, 35.8, 38.4, 41.1, 43.7, 46.3, 49.0, 51.6, 54.3, 56.9, 59.6, 62.2],\r\n    heal_bonu: [5.4, 6.9, 8.4, 10.0, 11.5, 13.0, 14.5, 16.1, 17.6, 19.1, 20.6, 22.2, 23.7, 25.2, 26.7, 28.3, 29.8, 31.3, 32.8, 34.4, 35.9],\r\n  }\r\n}\r\nconst ElementalData = {\r\n  anemo: { name: \"Anemo\" },\r\n  geo: { name: \"Geo\" },\r\n  electro: { name: \"Electro\" },\r\n  hydro: { name: \"Hydro\" },\r\n  pyro: { name: \"Pyro\" },\r\n  cryo: { name: \"Cryo\" },\r\n  dendro: { name: \"Dendro\" }\r\n}\r\nexport {\r\n  ArtifactStatsData,\r\n  ArtifactSlotSData,\r\n  ArtifactSetsData,\r\n  ArtifactSubStatsData,\r\n  ArtifactStarsData,\r\n  ArtifactMainStatsData,\r\n  ElementalData,\r\n  CharacterSpecializedStatKey\r\n}","import { ArtifactStatsData, ArtifactStarsData, ArtifactMainStatsData, ArtifactSetsData, ArtifactSubStatsData, ArtifactSlotSData, ElementalData } from './ArtifactData'\r\n\r\nexport default class Artifact {\r\n\r\n  static getArtifactSetName = (key, defVal = \"\") =>\r\n    key ? ArtifactSetsData[key].name : defVal;\r\n\r\n  static getArtifactSetsByMaxStarEntries = (star) =>\r\n    Object.entries(ArtifactSetsData).filter(([key, setobj]) => setobj.rarity[(setobj.rarity.length) - 1] === star)\r\n\r\n  static getArtifactSlotName = (slotKey) =>\r\n    ArtifactSlotSData[slotKey] ? ArtifactSlotSData[slotKey].name : \"\"\r\n\r\n  static getArtifactPieceName = (state) =>\r\n    (state.setKey && state.slotKey && ArtifactSetsData[state.setKey].pieces) ?\r\n      ArtifactSetsData[state.setKey].pieces[state.slotKey] : \"Piece Name\";\r\n  static getStatName = (key, defVal = \"\") => {\r\n    if (key && ArtifactStatsData[key])\r\n      return ArtifactStatsData[key].name;\r\n    else if (key && key.includes(\"_ele_dmg\")) {\r\n      let element = key.split(\"_ele_dmg\")[0]\r\n      if (ElementalData[element])\r\n        return ElementalData[element].name + \" DMG Bonus\"\r\n    }\r\n    return defVal\r\n  }\r\n\r\n  static getStatUnit = (key, defVal = \"\") => {\r\n    if (key && ArtifactStatsData[key] && ArtifactStatsData[key].unit)\r\n      return ArtifactStatsData[key].unit\r\n    else if (key && key.includes(\"_ele_dmg\"))\r\n      return this.getStatUnit(\"ele_dmg\")\r\n    else\r\n      return defVal\r\n  }\r\n\r\n  static getMainStatValue = (key, numStars, level, defVal = 0) => {\r\n    if (key && numStars && ArtifactMainStatsData[numStars] && ArtifactMainStatsData[numStars][key] && ArtifactMainStatsData[numStars][key][level])\r\n      return ArtifactMainStatsData[numStars][key][level]\r\n    else {\r\n      if (key.includes(\"_ele_dmg\")) {\r\n        let elementKey = \"ele_dmg\"\r\n        return this.getMainStatValue(elementKey, numStars, level, defVal)\r\n      }\r\n      return defVal\r\n    }\r\n  }\r\n\r\n\r\n  static totalPossibleRolls = (state) => ArtifactStarsData[state.numStars] ?\r\n    (ArtifactStarsData[state.numStars].subBaseHigh + ArtifactStarsData[state.numStars].numUpgradesOrUnlocks) : 0;\r\n\r\n  static rollsRemaining = (state) =>\r\n    Math.ceil((state.numStars * 4 - state.level) / 4);\r\n\r\n  static numberOfSubstatUnlocked = (state) =>\r\n    state.substats.reduce((sum, cur) =>\r\n      sum + (cur && cur.value ? 1 : 0), 0);\r\n\r\n  static getRemainingSubstats = (state) =>\r\n    (state.slotKey ? Object.keys(ArtifactSubStatsData).filter((key) => {\r\n      //if mainstat has key, not valid\r\n      if (state.mainStatKey === key) return false;\r\n      //if any one of the substat has, not valid.\r\n      return !state.substats.some((substat, i) =>\r\n        (substat && substat.key ? (substat.key === key) : false)\r\n      )\r\n    }) : []);\r\n\r\n  static getCurrentNumOfRolls = (substateValidation) =>\r\n    substateValidation.reduce((sum, cur) => sum + (cur.valid ? cur.rolls : 0), 0);\r\n\r\n  static getCurrentTotalEfficiency = (substateValidation) =>\r\n    substateValidation.reduce((sum, cur) => sum + (cur.valid && cur.efficiency ? (cur.efficiency * cur.rolls) : 0), 0)\r\n\r\n  static getStatHighRollVal = (subStatKey, numStars) => (subStatKey ?? numStars) ?\r\n    ArtifactSubStatsData[subStatKey][numStars].high : 0\r\n  static getStatLowRollVal = (subStatKey, numStars) => (subStatKey ?? numStars) ?\r\n    ArtifactSubStatsData[subStatKey][numStars].low : 0\r\n  static validateSubStat = (state, substat) => {\r\n    if (!substat || !substat.value) return { valid: true }\r\n    let value = parseFloat(substat.value);\r\n    if (isNaN(value)) return { valid: false, msg: `Invalid Input` }\r\n    let statHighRollVal = this.getStatHighRollVal(substat.key, state.numStars);\r\n    let statLowRollVal = this.getStatLowRollVal(substat.key, state.numStars);\r\n    const validateRolls = (rolls) => {\r\n      if (rolls === 0) return { valid: false, msg: `Substat cannot be rolled 0 times.` };\r\n      let totalAllowableRolls = ArtifactStarsData[state.numStars].numUpgradesOrUnlocks - (4 - ArtifactStarsData[state.numStars].subBaseHigh) + 1;//+1 for its base roll\r\n      if (rolls > totalAllowableRolls) return { valid: false, msg: `Substat cannot be rolled more than ${totalAllowableRolls} times.` };\r\n      let min = statLowRollVal * rolls;\r\n      let max = statHighRollVal * rolls;\r\n      if (value < min || value > max)\r\n        return { valid: false, msg: `Invalid value(${value}) for ${rolls} rolls, should be between [${min.toFixed(2)},${max.toFixed(2)}].` }\r\n      return { valid: true, efficiency: ((value - min) / (max - min)) * 100, msg: `This substat was rolled ${rolls} time(s). Min/Max value: ${min.toFixed(2)}/${max.toFixed(2)}.` }\r\n    }\r\n    let rolls = Math.ceil(value / statHighRollVal);\r\n    let validation = validateRolls(rolls);\r\n    let errormsg = validation.msg;//store error msg\r\n    if (!validation.valid) {\r\n      let rolls2 = Math.floor(value / statLowRollVal);\r\n      if (rolls2 !== rolls)\r\n        validation = validateRolls(rolls2);\r\n      if (!validation.valid) {\r\n        rolls = 0;\r\n        if (validation.msg !== errormsg)\r\n          validation.msg = errormsg + \" \" + validation.msg;//combine both error tooltips\r\n      } else {\r\n        rolls = rolls2\r\n      }\r\n    }\r\n    validation.rolls = rolls;\r\n    return validation;\r\n  }\r\n  static artifactValidation(state, substateValidation) {\r\n    let currentEfficiency = 0, maximumEfficiency = 0;\r\n    if (!substateValidation) substateValidation = state.substats.map(substat => Artifact.validateSubStat(state, substat));\r\n    for (const substat of substateValidation)\r\n      if (!substat.valid)\r\n        return { substateValidation, valid: false, msg: \"One of the substat is invalid.\", currentEfficiency, maximumEfficiency }\r\n\r\n    //if a substat has >=2 rolls, when not all of them have been unlocked//if a substat has >=2 rolls, when not all of them have been unlocked\r\n    if (substateValidation.some((substat) => substat.rolls > 1) && substateValidation.some((substat) => !substat.rolls))\r\n      return { substateValidation, valid: false, msg: \"One of the substat have >1 rolls, but not all substats are unlocked.\", currentEfficiency, maximumEfficiency }\r\n    let currentNumOfRolls = Artifact.getCurrentNumOfRolls(substateValidation);\r\n    let rollsRemaining = Artifact.rollsRemaining(state);\r\n    let totalPossbleRolls = Artifact.totalPossibleRolls(state);\r\n\r\n    if ((currentNumOfRolls + rollsRemaining) > totalPossbleRolls)\r\n      return { substateValidation, valid: false, msg: `Current number of substat rolles(${currentNumOfRolls}) + Rolls remaining from level up (${rollsRemaining}) is greater than the total possibel roll of this artifact (${totalPossbleRolls}) `, currentEfficiency, maximumEfficiency }\r\n\r\n    let totalCurrentEfficiency = Artifact.getCurrentTotalEfficiency(substateValidation);\r\n    currentEfficiency = totalCurrentEfficiency / totalPossbleRolls;\r\n    maximumEfficiency = (totalCurrentEfficiency + rollsRemaining * 100) / totalPossbleRolls;\r\n    return { valid: true, substateValidation, currentNumOfRolls, rollsRemaining, totalPossbleUpgrade: totalPossbleRolls, currentEfficiency, maximumEfficiency }\r\n\r\n  }\r\n}","import React from 'react';\r\nimport { Badge, OverlayTrigger, Tooltip } from 'react-bootstrap';\r\n\r\nexport default class PercentBadge extends React.Component {\r\n  getBadgeColor = (percent) => {\r\n    let badgeColor = \"secondary\";\r\n    if (percent > 70) {\r\n      badgeColor = \"success\";\r\n    } else if (percent > 40) {\r\n      badgeColor = \"warning\"\r\n    }\r\n    return badgeColor\r\n  }\r\n  render() {\r\n    const renderTooltip = (props) => (\r\n      <Tooltip {...props}>\r\n        {this.props.tooltip}\r\n      </Tooltip>\r\n    );\r\n    let badgeColor = !this.props.valid ? \"danger\" : this.getBadgeColor(this.props.percent);\r\n    if (this.props.tooltip)\r\n      return (\r\n        <OverlayTrigger placement=\"top\" overlay={renderTooltip}>\r\n          <Badge variant={badgeColor}>\r\n            {this.props.children}\r\n          </Badge>\r\n        </OverlayTrigger>)\r\n    else\r\n      return (\r\n        <Badge variant={badgeColor}>{this.props.children}</Badge>)\r\n  }\r\n}\r\n","import { deepClone, loadFromLocalStorage, saveToLocalStorage } from \"../Util\";\r\n\r\nvar artifactDatabase = {};\r\nvar artifactIdList = [];\r\nvar artIdIndex = 1;\r\nexport default class ArtifactDatabase {\r\n  //do not instantiate.\r\n  constructor() {\r\n    if (this instanceof ArtifactDatabase) {\r\n      throw Error('A static class cannot be instantiated.');\r\n    }\r\n  }\r\n  static getIdListFromStorage = () => loadFromLocalStorage(\"artifact_id_list\");\r\n  static saveIdListToStorage = () => saveToLocalStorage(\"artifact_id_list\", artifactIdList);\r\n  static getArtifactDatabase = () => deepClone(artifactDatabase);\r\n  static getArtifactIdList = () => deepClone(artifactIdList);\r\n  static populateDatebaseFromLocalStorage = () => {\r\n    if (artifactIdList.length > 0) return;\r\n    artifactIdList = ArtifactDatabase.getIdListFromStorage();\r\n    if (artifactIdList === null) artifactIdList = []\r\n    for (const id of artifactIdList)\r\n      if (!artifactDatabase[id])\r\n        artifactDatabase[id] = loadFromLocalStorage(id);\r\n    artIdIndex = parseInt(localStorage.getItem(\"artifact_highest_id\"));\r\n    if (isNaN(artIdIndex)) artIdIndex = 0;\r\n  }\r\n  static getArtifact = (id) => artifactDatabase[id]\r\n  static removeArtifact = (art) => {\r\n    this.removeArtifactById(art.id);\r\n  }\r\n  static addArtifact = (art) => {\r\n    //generate id using artIdIndex\r\n    let id = `artifact_${artIdIndex++}`\r\n    localStorage.setItem(\"artifact_highest_id\", artIdIndex)\r\n    art.id = id;\r\n    saveToLocalStorage(id, art);\r\n    artifactDatabase[id] = art;\r\n    this.updateCacheData();\r\n    return id;\r\n  }\r\n  static updateArtifact = (art) => {\r\n    let id = art.id;\r\n    saveToLocalStorage(id, art);\r\n    artifactDatabase[id] = art;\r\n    this.updateCacheData();\r\n  }\r\n  static removeArtifactById = (artId) => {\r\n    delete artifactDatabase[artId];\r\n    localStorage.removeItem(artId);\r\n    this.updateCacheData();\r\n  }\r\n\r\n  static updateCacheData() {\r\n    this.updateIdList();\r\n  }\r\n  static updateIdList() {\r\n    artifactIdList = Object.keys(artifactDatabase)\r\n    this.saveIdListToStorage();\r\n  }\r\n}\r\n","import { deepClone, loadFromLocalStorage, saveToLocalStorage } from \"../Util\";\r\n\r\nvar characterDatabase = {};\r\nvar characterIdList = [];\r\nvar charIdIndex = 1;\r\n\r\nexport default class CharacterDatabase {\r\n  //do not instantiate.\r\n  constructor() {\r\n    if (this instanceof CharacterDatabase) {\r\n      throw Error('A static class cannot be instantiated.');\r\n    }\r\n  }\r\n  static getIdList = () => loadFromLocalStorage(\"character_id_list\");\r\n  static saveIdList = () => saveToLocalStorage(\"character_id_list\", characterIdList);\r\n  static getCharacterDatabase = () => deepClone(characterDatabase);\r\n  static getCharacterIdList = () => deepClone(characterIdList);\r\n  static populateDatebaseFromLocalStorage = () => {\r\n    if (characterIdList.length > 0) return;\r\n    characterIdList = CharacterDatabase.getIdList();\r\n    if (characterIdList === null) characterIdList = []\r\n    for (const id of characterIdList)\r\n      if (!characterDatabase[id])\r\n        characterDatabase[id] = loadFromLocalStorage(id);\r\n    charIdIndex = parseInt(localStorage.getItem(\"character_highest_id\"));\r\n    if (isNaN(charIdIndex)) charIdIndex = 0;\r\n  }\r\n  static addCharacter = (char) => {\r\n    //generate id using charIdIndex\r\n    let id = `character_${charIdIndex++}`\r\n    localStorage.setItem(\"character_highest_id\", charIdIndex)\r\n    char.id = id;\r\n    saveToLocalStorage(id, char);\r\n    characterDatabase[id] = char;\r\n    characterIdList.push(id)\r\n    CharacterDatabase.saveIdList()\r\n    return id;\r\n  }\r\n  static updateCharacter = (char) => {\r\n    let id = char.id;\r\n    saveToLocalStorage(id, char);\r\n    characterDatabase[id] = char;\r\n  }\r\n  static getCharacter = (id) => characterDatabase[id]\r\n  static removeCharacter = (char) => {\r\n    CharacterDatabase.removeCharacterById(char.id);\r\n  }\r\n  static removeCharacterById = (id) => {\r\n    delete characterDatabase[id];\r\n    localStorage.removeItem(id);\r\n    let index = characterIdList.indexOf(id)\r\n    if (index !== -1) {\r\n      characterIdList.splice(index, 1);\r\n      CharacterDatabase.saveIdList();\r\n    }\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Artifact from './Artifact'\r\nimport Button from 'react-bootstrap/Button'\r\nimport PercentBadge from './PercentBadge';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrashAlt, faEdit, faLock, faLockOpen } from '@fortawesome/free-solid-svg-icons'\r\nimport SlotIcon from '../Components/SlotIcon';\r\nimport ArtifactDatabase from './ArtifactDatabase';\r\nimport CharacterDatabase from '../Character/CharacterDatabase';\r\nexport default class ArtifactCard extends React.Component {\r\n  render() {\r\n    if (!this.props.artifactData) return null;\r\n    let art = this.props.artifactData;\r\n    let artifactValidation = Artifact.artifactValidation(art)\r\n    let location = (art.location && CharacterDatabase.getCharacter(art.location)) ? CharacterDatabase.getCharacter(art.location).name : \"Inventory\"\r\n    return (<Card className=\"h-100\" border={`${art.numStars}star`} bg=\"darkcontent\" text=\"lightfont\">\r\n      <Card.Header className=\"pr-3\">\r\n        <Row className=\"no-gutters\">\r\n          <Col >\r\n            <h6><b>{`${Artifact.getArtifactPieceName(art)}`}</b></h6>\r\n            <div><FontAwesomeIcon icon={SlotIcon[art.slotKey]} className=\"fa-fw\" />{` ${Artifact.getArtifactSlotName(art.slotKey)} +${art.level}`}</div>\r\n          </Col>\r\n          <Col xs={\"auto\"}>\r\n            <span className=\"float-right align-top ml-1\">\r\n              <Button variant=\"primary\" size=\"sm\" className=\"mr-1\"\r\n                onClick={() => this.props.onEdit && this.props.onEdit()}>\r\n                <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\r\n              </Button>\r\n              <Button variant=\"danger\" size=\"sm\"\r\n                onClick={() => this.props.onDelete && this.props.onDelete()}>\r\n                <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\r\n              </Button>\r\n            </span>\r\n          </Col>\r\n        </Row>\r\n      </Card.Header>\r\n      <Card.Body className=\"d-flex flex-column\">\r\n        <Card.Title>\r\n          <h6>{art.mainStatKey ? `${Artifact.getStatName(art.mainStatKey).split(\"%\")[0]} ${Artifact.getMainStatValue(art.mainStatKey, art.numStars, art.level)}${Artifact.getStatUnit(art.mainStatKey)}` : null}</h6>\r\n        </Card.Title>\r\n        <Card.Subtitle>\r\n          <div>{Artifact.getArtifactSetName(art.setKey, \"Artifact Set\")}</div>\r\n          <div>{\"\".repeat(art.numStars ? art.numStars : 0)}</div>\r\n\r\n        </Card.Subtitle>\r\n        <ul className=\"mb-0\">\r\n          {art.substats ? art.substats.map((stat, i) =>\r\n            (stat && stat.value) ? (<li key={i}>{`${Artifact.getStatName(stat.key).split(\"%\")[0]}+${Artifact.getStatUnit(stat.key) ? stat.value.toFixed(1) : stat.value}${Artifact.getStatUnit(stat.key)}`}</li>) : null\r\n          ) : null}\r\n        </ul>\r\n        <div className=\"mt-auto mb-n2\">\r\n          <span className=\"mb-0 mr-1\">Substat Eff.:</span>\r\n          <PercentBadge tooltip={artifactValidation.msg} valid={artifactValidation.valid} percent={artifactValidation.currentEfficiency}>\r\n            {(artifactValidation.currentEfficiency ? artifactValidation.currentEfficiency : 0).toFixed(2) + \"%\"}\r\n          </PercentBadge>\r\n          <span>{\"<\"}</span>\r\n          <PercentBadge tooltip={artifactValidation.msg} valid={artifactValidation.valid} percent={artifactValidation.maximumEfficiency}>\r\n            {(artifactValidation.maximumEfficiency ? artifactValidation.maximumEfficiency : 0).toFixed(2) + \"%\"}\r\n          </PercentBadge>\r\n        </div>\r\n      </Card.Body>\r\n      <Card.Footer className=\"pr-3\">\r\n        <Row>\r\n          <Col>\r\n            <span>Location: {location}</span>\r\n          </Col>\r\n          <Col xs=\"auto\">\r\n            <Button size=\"sm\"\r\n              disabled={art.location}\r\n              onClick={() => {\r\n                art.lock = !art.lock\r\n                ArtifactDatabase.updateArtifact(art);\r\n                this.forceUpdate();\r\n              }}>\r\n              <FontAwesomeIcon icon={(art.lock || art.location) ? faLock : faLockOpen} className=\"fa-fw\" />\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Card.Footer>\r\n    </Card>)\r\n  }\r\n}","import { faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Alert, Button, Card, Col, Dropdown, DropdownButton, FormControl, InputGroup, OverlayTrigger, Popover, Row } from 'react-bootstrap';\r\nimport { FloatFormControl, IntFormControl } from '../Components/CustomFormControl';\r\nimport SlotIcon from '../Components/SlotIcon';\r\nimport { getRandomArbitrary, getRandomElementFromArray, getRandomIntInclusive } from '../Util';\r\nimport Artifact from './Artifact';\r\nimport { ArtifactSetsData, ArtifactSlotSData, ArtifactStarsData, ArtifactStatsData } from './ArtifactData';\r\nimport PercentBadge from './PercentBadge';\r\n\r\nexport default class ArtifactEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = ArtifactEditor.getInitialState()\r\n  }\r\n  static initialState = {\r\n    setKey: \"\",\r\n    numStars: 0,\r\n    level: 0,\r\n    slotKey: \"\",//one of flower, plume, sands, globlet, circlet\r\n    mainStatKey: \"\",\r\n    substats: [{}, {}, {}, {}],//{key:\"\",value:_}\r\n  }\r\n  static getInitialState = () => JSON.parse(JSON.stringify(ArtifactEditor.initialState))\r\n  setLevel(newlevel) {\r\n    newlevel = parseInt(newlevel)\r\n    if (isNaN(newlevel)) newlevel = 0\r\n    if (newlevel < 0) newlevel = 0;\r\n    if (newlevel > this.state.numStars * 4) newlevel = this.state.numStars * 4;\r\n    this.setState({ level: newlevel })\r\n  }\r\n\r\n  ArtifactDropDown = (props) => {\r\n    let dropdownitemsForStar = (star) =>\r\n      Artifact.getArtifactSetsByMaxStarEntries(star).map(([key, setobj]) =>\r\n        (<Dropdown.Item key={key}\r\n          onClick={() => this.setState(state => {\r\n            let ret = { setKey: key, numStars: setobj.rarity[setobj.rarity.length - 1] }\r\n            if (state.level > ret.numStars * 4) ret.level = ret.numStars * 4\r\n            return ret\r\n          })}\r\n        >\r\n          {setobj.name}\r\n        </Dropdown.Item >))\r\n\r\n    return (<DropdownButton as={InputGroup.Prepend} title={Artifact.getArtifactSetName(this.state.setKey, \"Artifact Set\")}>\r\n      <Dropdown.ItemText>Max Rarity </Dropdown.ItemText>\r\n      {dropdownitemsForStar(5)}\r\n      <Dropdown.Divider />\r\n      <Dropdown.ItemText>Max Rarity </Dropdown.ItemText>\r\n      {dropdownitemsForStar(4)}\r\n      <Dropdown.Divider />\r\n      <Dropdown.ItemText>Max Rarity </Dropdown.ItemText>\r\n      {dropdownitemsForStar(3)}\r\n    </DropdownButton>)\r\n  }\r\n  Test = () => <div>WTFFFFFF</div>\r\n  MainSelection = (props) => {\r\n\r\n    return (<InputGroup>\r\n      {/* Don't know why I can't do <this.ArtifactDropDown />, it has error in production: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. */}\r\n      {this.ArtifactDropDown()}\r\n      <DropdownButton as={InputGroup.Prepend} title={this.state.numStars > 0 ? \"\".repeat(this.state.numStars) : \"Rarity\"} disabled={!this.state.setKey}>\r\n        {Object.keys(ArtifactStarsData).map((star, index) => {\r\n          star = parseInt(star);\r\n          return <Dropdown.Item key={index} disabled={!this.state.setKey || !ArtifactSetsData[this.state.setKey].rarity.includes(star)} onClick={() => {\r\n            this.setState({ numStars: star, level: 0 });\r\n          }}>\r\n            {\"\".repeat(star)}\r\n          </Dropdown.Item>\r\n        })}\r\n      </DropdownButton>\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>Level</InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <FormControl\r\n        value={this.state.level}\r\n        disabled={!this.state.setKey}\r\n        placeholder={`0~${this.state.numStars * 4}`}\r\n        onChange={(e => this.setLevel(e.target.value))}\r\n      />\r\n      <InputGroup.Append>\r\n        <Button onClick={() => this.setLevel(0)} disabled={!this.state.setKey || this.state.level === 0}>0</Button>\r\n        <Button onClick={() => this.setLevel(this.state.level - 1)} disabled={!this.state.setKey || this.state.level === 0}>-</Button>\r\n        <Button onClick={() => this.setLevel(this.state.level + 1)} disabled={!this.state.setKey || this.state.level === (this.state.numStars * 4)}>+</Button>\r\n        <Button onClick={() => this.setLevel(this.state.numStars * 4)} disabled={!this.state.setKey || this.state.level === (this.state.numStars * 4)}>{this.state.numStars * 4}</Button>\r\n      </InputGroup.Append>\r\n    </InputGroup>)\r\n  }\r\n  MainStatInputRow = () =>\r\n    <InputGroup>\r\n      <DropdownButton\r\n        title={this.state.slotKey ? (<span><FontAwesomeIcon icon={SlotIcon[this.state.slotKey]} className=\"fa-fw mr-1\" />{ArtifactSlotSData[this.state.slotKey].name}</span>) : \"Slot\"}\r\n        disabled={!this.state.setKey}\r\n        as={InputGroup.Prepend}\r\n      >\r\n        {this.state.setKey && Object.keys(ArtifactSetsData[this.state.setKey].pieces).map(key =>\r\n          <Dropdown.Item key={key} onClick={() =>\r\n            this.setState({ slotKey: key, mainStatKey: ArtifactSlotSData[key].stats[0], substats: ArtifactEditor.getInitialState().substats })\r\n          } >\r\n            <FontAwesomeIcon icon={SlotIcon[key]} className=\"fa-fw mr-1\" />\r\n            {ArtifactSlotSData[key].name}\r\n          </Dropdown.Item>)}\r\n      </DropdownButton>\r\n      <FormControl\r\n        value={Artifact.getArtifactPieceName(this.state)}\r\n        disabled\r\n        readOnly\r\n      />\r\n      <DropdownButton\r\n        title={Artifact.getStatName(this.state.mainStatKey, \"Main Stat\")}\r\n        disabled={!this.state.setKey || !this.state.slotKey}\r\n        as={InputGroup.Prepend}\r\n      >\r\n        <Dropdown.ItemText>Select a Main Artifact Stat </Dropdown.ItemText>\r\n        {this.state.slotKey ? ArtifactSlotSData[this.state.slotKey].stats.map((stat) =>\r\n          <Dropdown.Item key={stat} onClick={() => {\r\n            this.setState({ mainStatKey: stat, substats: ArtifactEditor.getInitialState().substats })\r\n          }} >\r\n            {Artifact.getStatName(stat)}\r\n          </Dropdown.Item>) : <Dropdown.Item />}\r\n      </DropdownButton>\r\n      <FormControl\r\n        value={this.state.mainStatKey ? `${Artifact.getMainStatValue(this.state.mainStatKey, this.state.numStars, this.state.level)}${Artifact.getStatUnit(this.state.mainStatKey)}` : \"Main Stat\"}\r\n        disabled\r\n        readOnly\r\n      />\r\n    </InputGroup>\r\n  SubStatInput = (props) => {\r\n    let percentStat = props.subStatKey && Artifact.getStatUnit(props.subStatKey) === \"%\";\r\n    let substatprops = {\r\n      placeholder: \"Select a Substat.\",\r\n      value: props.substatevalue ? props.substatevalue : \"\",\r\n      onValueChange: (val) => this.onSubstatValueChange(val, props.index),\r\n      disabled: !props.subStatKey\r\n    }\r\n    let subStatFormControl = percentStat ?\r\n      <FloatFormControl {...substatprops} />\r\n      : <IntFormControl {...substatprops} />\r\n    return <InputGroup>\r\n      <DropdownButton\r\n        title={props.subStatKey ? ArtifactStatsData[props.subStatKey].name : `Substat ${props.index + 1}`}\r\n        disabled={!props.remainingSubstats || props.remainingSubstats.length === 0}\r\n        as={InputGroup.Prepend}\r\n      >\r\n        {props.remainingSubstats ? props.remainingSubstats.map((key) =>\r\n          <Dropdown.Item key={key} onClick={() => this.onSubStatSelected(key, props.index)} >\r\n            {Artifact.getStatName(key)}\r\n          </Dropdown.Item>\r\n        ) : <Dropdown.Item />}\r\n      </DropdownButton>\r\n      {subStatFormControl}\r\n      <InputGroup.Append>\r\n        {percentStat && <InputGroup.Text>%</InputGroup.Text>}\r\n        <InputGroup.Text>\r\n          <PercentBadge\r\n            tooltip={props.subStatValidation.msg}\r\n            valid={props.subStatValidation.valid || !props.subStatKey}\r\n            percent={props.subStatValidation.efficiency}>\r\n            {props.subStatKey ? (props.subStatValidation.valid ? `${(props.subStatValidation.efficiency ? props.subStatValidation.efficiency : 0).toFixed(2)}%` : \"ERR\") : \"No Stat\"}\r\n          </PercentBadge>\r\n        </InputGroup.Text>\r\n      </InputGroup.Append>\r\n    </InputGroup>\r\n  }\r\n\r\n  onSubStatSelected = (key, index) => {\r\n    this.setState((state) => {\r\n      let substats = JSON.parse(JSON.stringify(state.substats));\r\n      substats[index] = { key: key, value: null }\r\n      return { substats }\r\n    });\r\n  }\r\n  onSubstatValueChange = (newStatValue, index) => {\r\n    this.setState((state) => {\r\n      let substats = JSON.parse(JSON.stringify(state.substats));\r\n      substats[index].value = newStatValue\r\n      return { substats }\r\n    });\r\n  }\r\n  randomizeArtifact = () => {\r\n    let state = ArtifactEditor.getInitialState();\r\n    //randomly choose artifact set\r\n    state.setKey = getRandomElementFromArray(Object.keys(ArtifactSetsData));\r\n    //choose star\r\n    state.numStars = getRandomElementFromArray(ArtifactSetsData[state.setKey].rarity);\r\n    //choose piece\r\n    state.slotKey = getRandomElementFromArray(Object.keys(ArtifactSetsData[state.setKey].pieces));\r\n    //choose mainstat\r\n    state.mainStatKey = getRandomElementFromArray(ArtifactSlotSData[state.slotKey].stats);\r\n\r\n    //choose initial substats from star\r\n    let numOfInitialSubStats = getRandomIntInclusive(ArtifactStarsData[state.numStars].subsBaselow, ArtifactStarsData[state.numStars].subBaseHigh);\r\n\r\n    //choose level\r\n    state.level = getRandomIntInclusive(0, state.numStars * 4)\r\n    let numUpgradesOrUnlocks = Math.floor(state.level / 4);\r\n    let totRolls = numOfInitialSubStats + numUpgradesOrUnlocks\r\n    if (totRolls >= 4) {\r\n      numOfInitialSubStats = 4;\r\n      numUpgradesOrUnlocks = totRolls - 4;\r\n    } else {\r\n      numOfInitialSubStats = totRolls;\r\n      numUpgradesOrUnlocks = 0;\r\n    }\r\n    let RollStat = (subStatKey) => {\r\n      let lowRoll = Artifact.getStatLowRollVal(subStatKey, state.numStars);\r\n      let highRoll = Artifact.getStatHighRollVal(subStatKey, state.numStars);\r\n      let unit = Artifact.getStatUnit(subStatKey)\r\n\r\n      if (unit === \"%\")\r\n        return parseFloat(getRandomArbitrary(lowRoll, highRoll).toFixed(1));\r\n      else\r\n        return getRandomIntInclusive(lowRoll, highRoll);\r\n    }\r\n    //set initial substat & value\r\n    for (let i = 0; i < numOfInitialSubStats; i++) {\r\n      let substat = state.substats[i]\r\n      substat.key = getRandomElementFromArray(Artifact.getRemainingSubstats(state))\r\n      substat.value = RollStat(substat.key)\r\n    }\r\n\r\n    //numUpgradesOrUnlocks should only have upgrades right now. that means all 4 substats have value.\r\n    for (let i = 0; i < numUpgradesOrUnlocks; i++) {\r\n      let substat = getRandomElementFromArray(state.substats)\r\n      substat.value += RollStat(substat.key)\r\n    }\r\n    this.setState(state)\r\n  }\r\n  componentDidUpdate = () => {\r\n    if (this.props.artifactToEdit && this.state.id !== this.props.artifactToEdit.id)\r\n      this.setState(this.props.artifactToEdit)\r\n  }\r\n  render() {\r\n    let remainingSubstats = Artifact.getRemainingSubstats(this.state);\r\n    let substatValidations = this.state.substats.map(substat => Artifact.validateSubStat(this.state, substat));\r\n    let artifactValidation = Artifact.artifactValidation(this.state, substatValidations)\r\n    return (\r\n      <Card bg=\"darkcontent\" text=\"lightfont\">\r\n        <Card.Header>\r\n          Artifact Editor\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <Row className=\"mb-2\">\r\n            <Col xs={12} className=\"mb-2\"><this.MainSelection /></Col>\r\n            <Col xs={12}><this.MainStatInputRow /></Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <h5 className=\"mr-auto\">Substats</h5>\r\n              <span>\r\n                <span className=\"mr-3\">\r\n                  <span>Current Substat Efficiency </span>\r\n                  <PercentBadge tooltip={artifactValidation.msg} valid={artifactValidation.valid} percent={artifactValidation.currentEfficiency}>\r\n                    {(artifactValidation.currentEfficiency ? artifactValidation.currentEfficiency : 0).toFixed(2) + \"%\"}\r\n                  </PercentBadge>\r\n                </span>\r\n\r\n                <span >\r\n                  <span >Maximum Substat Efficiency </span>\r\n                  <PercentBadge tooltip={artifactValidation.msg} valid={artifactValidation.valid} percent={artifactValidation.maximumEfficiency}>\r\n                    {(artifactValidation.maximumEfficiency ? artifactValidation.maximumEfficiency : 0).toFixed(2) + \"%\"}\r\n                  </PercentBadge>\r\n                </span>\r\n                <OverlayTrigger\r\n                  placement=\"left\"\r\n                  overlay={\r\n                    <Popover >\r\n                      <Popover.Title as=\"h5\">Substat Efficiency</Popover.Title>\r\n                      <Popover.Content>\r\n                        <span>Every time 4 artifact upgrades, you get a substat roll. The <strong>substat efficiency</strong> calculates as a percentage how high the substat rolled. The <strong>Maximum Substat Efficiency</strong> of an artifact calculates the efficiency if the remaining upgrades rolled maximum.</span>\r\n                      </Popover.Content>\r\n                    </Popover>\r\n                  }\r\n                >\r\n                  <FontAwesomeIcon icon={faQuestionCircle} className=\"ml-2\" style={{ cursor: \"help\" }} />\r\n                </OverlayTrigger>\r\n              </span>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            {this.state.substats.map((substat, index) =>\r\n              <Col key={\"substat\" + index} className=\"mt-1 mb-1\" xs={12} lg={6}>\r\n                <this.SubStatInput\r\n                  numStars={this.state.numStars}\r\n                  remainingSubstats={remainingSubstats}\r\n                  subStatKey={substat ? substat.key : null}\r\n                  substatevalue={substat ? substat.value : null}\r\n                  index={index}\r\n                  subStatValidation={substatValidations[index]}\r\n                />\r\n              </Col>\r\n            )}\r\n          </Row>\r\n          {artifactValidation.msg ? <Alert variant=\"danger\">{artifactValidation.msg}</Alert> : null}\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <Button className=\"mr-3\" onClick={() => {\r\n            let saveArtifact = { ...this.state }\r\n            if (saveArtifact.artifactToEdit)\r\n              delete saveArtifact.artifactToEdit;\r\n            this.props.addArtifact && this.props.addArtifact(saveArtifact)\r\n            this.setState(ArtifactEditor.getInitialState());\r\n          }}>\r\n            {this.props.artifactToEdit ? \"Save Artifact\" : \"Add Artifact\"}\r\n          </Button>\r\n          <Button className=\"mr-3\" variant=\"success\"\r\n            onClick={() => {\r\n              this.props.cancelEdit && this.props.cancelEdit();\r\n              this.setState(ArtifactEditor.getInitialState());\r\n            }}\r\n          >\r\n            Clear\r\n          </Button>\r\n          <Button variant=\"warning\"\r\n            onClick={this.randomizeArtifact}\r\n          >\r\n            Randomize\r\n          </Button>\r\n        </Card.Footer>\r\n      </Card>)\r\n  }\r\n}\r\n","import { faCheckSquare, faSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Card, Dropdown, InputGroup, ToggleButton, ToggleButtonGroup } from 'react-bootstrap';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport { IntFormControl } from '../Components/CustomFormControl';\r\nimport SlotIcon from '../Components/SlotIcon';\r\nimport { deepClone } from '../Util';\r\nimport Artifact from './Artifact';\r\nimport ArtifactCard from './ArtifactCard';\r\nimport { ArtifactSlotSData, ArtifactStarsData, ArtifactStatsData, ArtifactSubStatsData, ElementalData } from './ArtifactData';\r\nimport ArtifactDatabase from './ArtifactDatabase';\r\nimport ArtifactEditor from './ArtifactEditor';\r\n\r\nexport default class ArtifactDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    ArtifactDatabase.populateDatebaseFromLocalStorage();\r\n    this.state = {\r\n      artIdList: [...ArtifactDatabase.getArtifactIdList()],\r\n      artToEdit: null,\r\n    }\r\n    this.state = { ...this.state, ...ArtifactDisplay.initialFilter }\r\n  }\r\n  static initialFilter = {\r\n    filterArtSetKey: \"\",\r\n    filterStars: [3, 4, 5],\r\n    filterLevelLow: 0,\r\n    filterLevelHigh: 20,\r\n    filterSlotKey: \"\",\r\n    filterMainStatKey: \"\",\r\n    filterSubstates: [\"\", \"\", \"\", \"\"]\r\n  }\r\n  addArtifact = (art) => {\r\n    if (this.state.artToEdit && this.state.artToEdit.id === art.id) {\r\n      ArtifactDatabase.updateArtifact(art);\r\n      this.setState({ artToEdit: null }, this.forceUpdate)\r\n    } else {\r\n      let id = ArtifactDatabase.addArtifact(art)\r\n      //add the new artifact at the beginning\r\n      this.setState((state) => ({ artIdList: [id, ...state.artIdList,] }), this.forceUpdate)\r\n    }\r\n  }\r\n\r\n  deleteArtifact = (id) => {\r\n    ArtifactDatabase.removeArtifactById(id)\r\n    this.setState((state) => {\r\n      let artIdList = [...state.artIdList]\r\n      artIdList.splice(artIdList.indexOf(id), 1)\r\n      return { artIdList }\r\n    });\r\n  }\r\n  editArtifact = (id) =>\r\n    this.setState({ artToEdit: ArtifactDatabase.getArtifact(id) })\r\n\r\n  cancelEditArtifact = () =>\r\n    this.setState({ artToEdit: null })\r\n\r\n  render() {\r\n    let artifacts = this.state.artIdList.map(artid => ArtifactDatabase.getArtifact(artid)).filter((art) => {\r\n      if (this.state.filterArtSetKey && this.state.filterArtSetKey !== art.setKey) return false;\r\n      if (!this.state.filterStars.includes(art.numStars)) return false;\r\n      if (art.level < this.state.filterLevelLow || art.level > this.state.filterLevelHigh) return false;\r\n      if (this.state.filterSlotKey && this.state.filterSlotKey !== art.slotKey) return false\r\n      if (this.state.filterMainStatKey && this.state.filterMainStatKey !== art.mainStatKey) return false\r\n      for (const filterKey of this.state.filterSubstates)\r\n        if (filterKey && !art.substats.some(substat => substat.key === filterKey)) return false;\r\n\r\n      return true\r\n    })\r\n    let MainStatDropDownItem = (props) =>\r\n      (<Dropdown.Item key={props.statKey} onClick={() => this.setState({ filterMainStatKey: props.statKey })} >\r\n        {Artifact.getStatName(props.statKey)}\r\n      </Dropdown.Item>)\r\n    let dropdownitemsForStar = (star) =>\r\n      Artifact.getArtifactSetsByMaxStarEntries(star).map(([key, setobj]) =>\r\n        <Dropdown.Item key={key} onClick={() => this.setState({ filterArtSetKey: key })}>\r\n          {setobj.name}\r\n        </Dropdown.Item >)\r\n    return (<Container className=\"mt-3\">\r\n      <Row className=\"mb-2 no-gutters\"><Col>\r\n        <ArtifactEditor\r\n          artifactToEdit={this.state.artToEdit}\r\n          addArtifact={this.addArtifact}\r\n          cancelEdit={this.cancelEditArtifact}\r\n        />\r\n      </Col></Row>\r\n      <Row className=\"mb-2\"><Col>\r\n        <Card bg=\"darkcontent\" text=\"lightfont\">\r\n          <Card.Header>Artifact Filter</Card.Header>\r\n          <Card.Body>\r\n            <Row>\r\n              {/* Artifact set filter */}\r\n              <Col xs={12} lg={6} className=\"mb-2\">\r\n                <Dropdown as={InputGroup.Prepend} className=\"flex-grow-1\">\r\n                  <Dropdown.Toggle className=\"w-100\">\r\n                    {Artifact.getArtifactSetName(this.state.filterArtSetKey, \"Artifact Set\")}\r\n                  </Dropdown.Toggle>\r\n                  <Dropdown.Menu>\r\n                    <Dropdown.Item onClick={() => this.setState({ filterArtSetKey: \"\" })}>Unselect</Dropdown.Item>\r\n                    <Dropdown.Divider />\r\n                    <Dropdown.ItemText>Max Rarity </Dropdown.ItemText>\r\n                    {dropdownitemsForStar(5)}\r\n                    <Dropdown.Divider />\r\n                    <Dropdown.ItemText>Max Rarity </Dropdown.ItemText>\r\n                    {dropdownitemsForStar(4)}\r\n                    <Dropdown.Divider />\r\n                    <Dropdown.ItemText>Max Rarity </Dropdown.ItemText>\r\n                    {dropdownitemsForStar(3)}\r\n                  </Dropdown.Menu>\r\n                </Dropdown>\r\n              </Col>\r\n              {/* Artifact stars filter */}\r\n              <Col xs={12} lg={6} className=\"mb-2\">\r\n                <ToggleButtonGroup className=\"w-100 d-flex\" type=\"checkbox\" as={InputGroup.Append} onChange={(e) => this.setState({ filterStars: e })} defaultValue={this.state.filterStars}>\r\n                  {Object.keys(ArtifactStarsData).map(star => {\r\n                    star = parseInt(star)\r\n                    let selected = this.state.filterStars.includes(star)\r\n                    return <ToggleButton key={star} value={star}><FontAwesomeIcon icon={selected ? faCheckSquare : faSquare} /> {\"\".repeat(star)}</ToggleButton>\r\n                  })}\r\n                </ToggleButtonGroup>\r\n              </Col>\r\n              {/* Artiface level filter */}\r\n              <Col xs={12} lg={6} className=\"mb-2\">\r\n                <InputGroup>\r\n                  <InputGroup.Prepend>\r\n                    <InputGroup.Text>Level Low/High (Inclusive)</InputGroup.Text>\r\n                  </InputGroup.Prepend>\r\n                  <IntFormControl\r\n                    value={this.state.filterLevelLow}\r\n                    placeholder={`Lowest Level to Filter`}\r\n                    onValueChange={(val) => val >= 0 && val <= this.state.filterLevelHigh && this.setState({ filterLevelLow: val })}\r\n                  />\r\n                  <IntFormControl\r\n                    value={this.state.filterLevelHigh}\r\n                    placeholder={`Highest Level to Filter`}\r\n                    onValueChange={(val) => val >= 0 && val >= this.state.filterLevelLow && this.setState({ filterLevelHigh: val })}\r\n                  />\r\n                </InputGroup>\r\n              </Col>\r\n              {/* Artifact Slot & Main Stat filter */}\r\n              <Col xs={12} lg={6} className=\"mb-2\">\r\n                <Row>\r\n                  <Col>\r\n                    <Dropdown className=\"flex-grow-1\">\r\n                      <Dropdown.Toggle className=\"w-100\">\r\n                        {this.state.filterSlotKey ? (<span><FontAwesomeIcon icon={SlotIcon[this.state.filterSlotKey]} className=\"fa-fw mr-1\" />{ArtifactSlotSData[this.state.filterSlotKey].name}</span>) : \"Slot\"}\r\n                      </Dropdown.Toggle>\r\n                      <Dropdown.Menu>\r\n                        <Dropdown.Item onClick={() => this.setState({ filterSlotKey: \"\" })} >\r\n                          Unselect\r\n                        </Dropdown.Item>\r\n                        {Object.keys(ArtifactSlotSData).map(key =>\r\n                          <Dropdown.Item key={key} onClick={() => this.setState({ filterSlotKey: key })} >\r\n                            <FontAwesomeIcon icon={SlotIcon[key]} className=\"fa-fw mr-1\" />\r\n                            {ArtifactSlotSData[key].name}\r\n                          </Dropdown.Item>)}\r\n                      </Dropdown.Menu>\r\n                    </Dropdown>\r\n                  </Col>\r\n                  <Col>\r\n                    <Dropdown className=\"flex-grow-1\">\r\n                      <Dropdown.Toggle className=\"w-100\">\r\n                        {Artifact.getStatName(this.state.filterMainStatKey, \"Main Stat\")}\r\n                      </Dropdown.Toggle>\r\n                      <Dropdown.Menu>\r\n                        <Dropdown.Item onClick={() => this.setState({ filterMainStatKey: \"\" })}>Unselect</Dropdown.Item>\r\n                        {Object.keys(ArtifactStatsData).filter(key => key !== \"ele_dmg\").map((statKey) => <MainStatDropDownItem key={statKey} statKey={statKey} />)}\r\n                        {Object.keys(ElementalData).map((ele) => <MainStatDropDownItem key={ele} statKey={`${ele}_ele_dmg`} />)}\r\n                      </Dropdown.Menu>\r\n                    </Dropdown>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              {/* substat filter */}\r\n              {this.state.filterSubstates.map((substatKey, index) =>\r\n                <Col key={index} xs={6} lg={3} className=\"mb-2\">\r\n                  <Dropdown >\r\n                    <Dropdown.Toggle id=\"dropdown-basic\" className=\"w-100\">\r\n                      {Artifact.getStatName(substatKey, `Substat ${index + 1}`)}\r\n                    </Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                      <Dropdown.Item\r\n                        onClick={() => {\r\n                          let filterSubstates = deepClone(this.state.filterSubstates)\r\n                          filterSubstates[index] = \"\"\r\n                          this.setState({ filterSubstates })\r\n                        }}\r\n                      >No Substat</Dropdown.Item>\r\n                      {Object.keys(ArtifactSubStatsData).filter(key => !this.state.filterSubstates.includes(key)).map(key =>\r\n                        <Dropdown.Item key={key}\r\n                          onClick={() => {\r\n                            let filterSubstates = deepClone(this.state.filterSubstates)\r\n                            filterSubstates[index] = key\r\n                            this.setState({ filterSubstates })\r\n                          }}\r\n                        >{Artifact.getStatName(key)}</Dropdown.Item>\r\n                      )}\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </Col>\r\n              )}\r\n            </Row>\r\n          </Card.Body>\r\n        </Card>\r\n      </Col></Row>\r\n      <Row className=\"mb-2 no-gutters\">\r\n        {artifacts.map((art, index) =>\r\n          <Col key={art.id} lg={4} md={6} className=\"mb-2 pl-1 pr-1\">\r\n            <ArtifactCard\r\n              artifactData={art}\r\n              onDelete={() => this.deleteArtifact(art.id)}\r\n              onEdit={() => this.editArtifact(art.id)}\r\n            />\r\n          </Col>\r\n        )}\r\n      </Row>\r\n    </Container >)\r\n  }\r\n}\r\n\r\n","import { ArtifactSetsData, ArtifactSlotSData } from \"../Artifact/ArtifactData\";\r\n\r\nexport default class Build {\r\n  static test = (input) =>\r\n    input * 2\r\n\r\n  //works with id indexed object for database.\r\n  static splitArtifactsBySlot(databaseObj) {\r\n    let ret = {}\r\n    for (let slot in ArtifactSlotSData)\r\n      ret[slot] = Object.values(databaseObj).filter(art => art.slotKey === slot)\r\n    return ret;\r\n\r\n  }\r\n  /**\r\n   * Calculate all the possible set configuration based on the filters.\r\n   * [{Key:X,num:2},{key:Y,num:2},{key:\"\",num:0}]\r\n   * generates XXYYO,XYXYO,XXOYY..... combinations, where O means other. \r\n   * @param {Object} setFilters From BuildDisplay\r\n   */\r\n  static generateAllPossibleArtifactSetPerm(setFilters) {\r\n    let sets = setFilters.filter(filter => filter.key).map(filter => filter.key);\r\n    let useOther = setFilters.reduce((accu, filter) => filter.key ? accu + filter.num : accu, 0) < 5;\r\n    if (useOther) sets.push(\"Other\");\r\n\r\n    let perm = [];\r\n    let slotKeys = Object.keys(ArtifactSlotSData);\r\n    //recursion function to loop through everything.\r\n    let slotPerm = (index, accu) => {\r\n      if (index >= slotKeys.length) {\r\n        //todo validate accu against filter\r\n        let numArtsPerSet = {}\r\n        Object.values(accu).forEach(setKey => {\r\n          if (numArtsPerSet[setKey]) numArtsPerSet[setKey] += 1\r\n          else numArtsPerSet[setKey] = 1\r\n        })\r\n        let valid = true\r\n        for (const setFilter of setFilters) {\r\n          if (setFilter.key && (!numArtsPerSet[setFilter.key] || numArtsPerSet[setFilter.key] < setFilter.num)) {\r\n            valid = false;\r\n            break;\r\n          }\r\n        }\r\n        if (valid) perm.push(accu)\r\n        return;\r\n      }\r\n      let slotKey = slotKeys[index];\r\n      sets.forEach(setKey => {\r\n        //see if this set is valid at this piece slot. some artifacts dont have artifacts at specific slots.\r\n        if (setKey === \"Other\" || (ArtifactSetsData[setKey] && (ArtifactSetsData[setKey].pieces) && Object.keys(ArtifactSetsData[setKey].pieces).includes(slotKey))) {\r\n          accu[slotKey] = setKey;\r\n          slotPerm(index + 1, { ...accu })\r\n        }\r\n      });\r\n    }\r\n    slotPerm(0, {});\r\n    return perm\r\n  }\r\n  static calculateTotalBuildNumber(splitArtifacts, setPerms, setFilters) {\r\n    let setsInFilter = setFilters.filter(filter => filter.key).map(filter => filter.key)\r\n    let splitNumArtsPerSet = {}\r\n    //count the number of arts in setfilter for each slot\r\n    Object.entries(splitArtifacts).forEach(([key, artArr]) => {\r\n      let numArtsPerSet = {}\r\n      artArr.forEach(art => {\r\n        if (setsInFilter.includes(art.setKey)) {\r\n          if (numArtsPerSet[art.setKey]) numArtsPerSet[art.setKey] += 1\r\n          else numArtsPerSet[art.setKey] = 1\r\n        } else {\r\n          let setKey = \"Other\"\r\n          if (numArtsPerSet[setKey]) numArtsPerSet[setKey] += 1\r\n          else numArtsPerSet[setKey] = 1\r\n        }\r\n      })\r\n      splitNumArtsPerSet[key] = numArtsPerSet\r\n    })\r\n    //calculate!\r\n    return setPerms.reduce((accu, setPerm) =>\r\n      accu + Object.entries(setPerm).reduce((permaccu, [key, setKey]) =>\r\n        (splitNumArtsPerSet[key] && splitNumArtsPerSet[key][setKey]) ? permaccu * splitNumArtsPerSet[key][setKey] : 0\r\n        , 1)\r\n      , 0)\r\n  }\r\n}","const artifactDisplaySortKey = {\r\n  hp: { name: \"HP\", explaination: (<span><b>HP</b> is calculated as <strong>HP Final = (Character HP Base )*(1 + HP% total) + HP Flat</strong>, where the <b>HP%</b> and <b>HP Flat</b> are the sum of total stats from Artifacts and weapon.</span>) },\r\n  atk: { name: \"ATK\", explaination: (<span><b>ATK</b> is calculated as <strong>ATK Final = (Character ATK Base + Weapon ATK Flat ) * (1 + ATK % total) + ATK Flat</strong>, where the <b>ATK%</b> and <b>ATK Flat</b> are the sum of total stats from Artifacts and weapon.</span >) },\r\n  def: { name: \"DEF\", explaination: (<span><b>DEF</b> is calculated as <strong>DEF Final = (Character DEF Base )*(1 + DEF% total) + DEF Flat</strong>, where the <b>DEF%</b> and <b>DEF Flat</b> are the sum of total stats from Artifacts and weapon.</span >) },\r\n  ele_mas: { name: \"Elemental Mastery\", explaination: (<span><b>Elemental Mastery</b> is calculated as <strong>Elemental Mastery Final = (Character Elemental Mastery Base ) + Elemental Mastery Bonus</strong>, where the <b>Elemental Mastery Bonus</b> is the sum of total stats from Artifacts and weapon.</span >) },\r\n  crit_rate: { name: \"Crit Rate\", unit: \"%\", explaination: (<span><b>Crit Rate</b> is calculated as <strong>Crit Rate = Character Crit Rate Base + Crit Rate Bonus</strong> where <b>Crit Rate Bonus</b> is the sum of all values from weapons and artifacts. Every character has 5% base Crit rate.</span>) },\r\n  crit_dmg: { name: \"Crit DMG\", unit: \"%\", explaination: (<span><b>Crit DMG</b> is calculated as <strong>Crit DMG = Character DMG Rate Base + Crit DMG Bonus</strong> where <b>Crit DMG Bonus</b> is the sum of all values from weapons and artifacts. Every character has 50% base Crit DMG.</span>) },\r\n  heal_bonu: { name: \"Healing Bonux\", unit: \"%\", explaination: (<span><b>Healing Bonus</b> is calculated as <strong>Healing Bonus = Character Healing Bonus Base + Healing Bonus Bonus</strong> where <b>Healing Bonus Bonus</b> is the sum of all values from weapons and artifacts.</span>) },\r\n  ener_rech: { name: \"Energy Recharge\", unit: \"%\", explaination: (<span><b>Energy Recharge</b> is calculated as <strong>Energy Recharge = Character Energy Recharge Base + Energy Recharge Bonus</strong> where <b>Energy Recharge Bonus</b> is the sum of all values from weapons and artifacts. Every character has 100% base Energy Recharge.</span>) },\r\n  phy_dmg: { name: \"Physical DMG Bonus\", unit: \"%\", explaination: (<span><b>Physical Damage Bonus</b> is the sum of all values from weapons and artifacts.</span>) },\r\n  ele_dmg: { name: \" DMG Bonus\", unit: \"%\", explaination: (<span><b>Elemental Damage Bonus</b> is calculated as the sum of all values from weapons and artifacts. Note: only the corresponding Elemental damage Bonus to the character's element is applicable.</span>) },\r\n  phy_atk: {name: \"Physical ATK Total\", explaination: (<span><strong>Physical ATK Total = ATK * (1 + Physical Damage Bonus %) * (1 + Crit Rate * (1 + Crit Dmg))</strong></span>)},\r\n  ele_atk: {name: \" ATK Total\", explaination: (<span><strong>Elemental ATK Total = ATK * (1 + Elemental Damage Bonus %) * (1 + Crit Rate * (1 + Crit Dmg))</strong></span>)},\r\n\r\n}\r\n\r\nexport default artifactDisplaySortKey","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"static/js/BuildWorker.ef571e52.worker.js\");\n}\n","import React from 'react';\r\nimport { Alert, Badge, Button, ButtonGroup, Card, Col, Container, Dropdown, DropdownButton, ListGroup, Modal, OverlayTrigger, Popover, Row } from 'react-bootstrap';\r\nimport ArtifactDatabase from '../Artifact/ArtifactDatabase';\r\nimport CharacterDatabase from '../Character/CharacterDatabase';\r\nimport Build from './Build';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSortAmountDownAlt, faSortAmountUp, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport SlotIcon from '../Components/SlotIcon';\r\nimport { ArtifactSetsData, ArtifactSlotSData, ArtifactStatsData, ArtifactMainStatsData, ElementalData } from '../Artifact/ArtifactData';\r\nimport { deepClone, loadFromLocalStorage, saveToLocalStorage } from '../Util';\r\nimport artifactDisplaySortKey from './BuildStatData';\r\nimport Artifact from '../Artifact/Artifact';\r\nimport PercentBadge from '../Artifact/PercentBadge';\r\n// eslint-disable-next-line\r\nimport Worker from \"worker-loader!./BuildWorker.js\";\r\n\r\nexport default class BuildDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    CharacterDatabase.populateDatebaseFromLocalStorage();\r\n    ArtifactDatabase.populateDatebaseFromLocalStorage();\r\n    this.state = BuildDisplay.getInitialState();\r\n    if (props.location.selectedCharacterKey) {\r\n      this.state = BuildDisplay.getInitialState();\r\n      props.location.selectedCharacterKey && (this.state.selectedCharacterKey = props.location.selectedCharacterKey)\r\n    } else {\r\n      let savedState = loadFromLocalStorage(\"BuildsDisplay.state\")\r\n      if (savedState) {\r\n        let character = CharacterDatabase.getCharacter(savedState.selectedCharacterKey)\r\n        if (savedState && character) this.state = savedState\r\n      }\r\n    }\r\n  }\r\n  static initialState = {\r\n    builds: [],\r\n    generatingBuilds: false,\r\n    selectedCharacterKey: \"\",\r\n    sandsMainKey: \"\",\r\n    gobletMainKey: \"\",\r\n    circletMainkey: \"\",\r\n    setFilters: [{ key: \"\", num: 0 }, { key: \"\", num: 0 }, { key: \"\", num: 0 }],\r\n    mainStat: [\"\", \"\", \"\"],\r\n    buildFilterKey: \"atk\",\r\n    asending: false,\r\n    modalBuild: null,\r\n    maxBuildsToShow: 100,\r\n    maxBuildsToGenerate: 500000\r\n  }\r\n  static maxBuildsToShowList = [100, 50, 25, 5]\r\n  static maxBuildsToGenerateList = [50000, 10000, 5000, 1000, 500, 100]\r\n  static getInitialState = () => JSON.parse(JSON.stringify(BuildDisplay.initialState))\r\n  static artifactsSlotsToSelectMainStats = [\"sands\", \"goblet\", \"circlet\"]\r\n  splitArtifacts = () => {\r\n    if (!this.state.selectedCharacterKey) return {};\r\n    let artifactDatabase = ArtifactDatabase.getArtifactDatabase();\r\n    //do not use artifacts that are locked.\r\n    Object.entries(artifactDatabase).forEach(([key, val]) => {\r\n      if (val.lock) delete artifactDatabase[key]\r\n      if (this.state.selectedCharacterKey && val.location && val.location !== this.state.selectedCharacterKey)\r\n        delete artifactDatabase[key]\r\n    })\r\n    if (this.state.setFilters.every(filter => filter.key)) {\r\n      let filterKeys = this.state.setFilters.map(filter => filter.key)\r\n      //filter database to only filtered artifacts, if all 3 sets are specified\r\n      Object.entries(artifactDatabase).forEach(([key, val]) => {\r\n        if (filterKeys.includes(val.setKey))\r\n          delete artifactDatabase[key]\r\n      })\r\n    }\r\n    let split = Build.splitArtifactsBySlot(artifactDatabase);\r\n    //filter the split slots on the mainstats selected.\r\n    BuildDisplay.artifactsSlotsToSelectMainStats.forEach((slotKey, index) =>\r\n      this.state.mainStat[index] && (split[slotKey] = split[slotKey].filter((art) => art.mainStatKey === this.state.mainStat[index])))\r\n    return split\r\n  }\r\n  changeMainStat = (index, mainStatKey) => {\r\n    this.setState(state => {\r\n      let mainStat = deepClone(state.mainStat);\r\n      mainStat[index] = mainStatKey;\r\n      return { mainStat }\r\n    })\r\n  }\r\n  changeSetFilterKey = (index, newkey, setsNumArr) => {\r\n    if (this.state.setFilters[index].key === newkey) return\r\n    this.setState((state) => {\r\n      let setFilters = deepClone(state.setFilters);\r\n      let num = 0\r\n      if (setsNumArr && setsNumArr[0])\r\n        num = parseInt(setsNumArr[0])\r\n      setFilters[index] = { key: newkey, num }\r\n      return { setFilters }\r\n    })\r\n  }\r\n  dropdownitemsForStar = (star, index) =>\r\n    Artifact.getArtifactSetsByMaxStarEntries(star).map(([key, setobj]) => {\r\n      if (this.state.setFilters.some(filter => filter.key === key)) return false;\r\n      let setsNumArr = Object.keys(ArtifactSetsData[key].sets)\r\n      let artsAccountedOther = this.state.setFilters.reduce((accu, cur, ind) => (cur.key && ind !== index) ? accu + cur.num : accu, 0)\r\n      if (setsNumArr.every(num => parseInt(num) + artsAccountedOther > 5)) return false;\r\n      return (<Dropdown.Item key={key}\r\n        onClick={() => this.changeSetFilterKey(index, key, setsNumArr)}\r\n      >\r\n        {setobj.name}\r\n      </Dropdown.Item>)\r\n    })\r\n\r\n  generateBuilds = (split, artifactSetPerms) => {\r\n    this.setState({ generatingBuilds: true, builds: [] })\r\n    let character = CharacterDatabase.getCharacter(this.state.selectedCharacterKey)\r\n    let data = {\r\n      split, artifactSetPerms, setFilters: this.state.setFilters, character, ArtifactStatsData,\r\n      ArtifactSlotSData, ArtifactMainStatsData, ArtifactSetsData, maxBuildsToShow: this.state.maxBuildsToShow,\r\n      buildFilterKey: this.state.buildFilterKey, asending: this.state.asending\r\n    }\r\n\r\n    // let worker = new Worker('BuildWorker.js');\r\nlet worker = new Worker();\r\n    worker.onmessage = (e) =>\r\n      this.setState({ builds: e.data, generatingBuilds: false })\r\n    worker.postMessage(data)\r\n  }\r\n\r\n  BuildGeneratorEditorCard = (props) => {\r\n    let charlist = CharacterDatabase.getCharacterDatabase();\r\n    let selectedCharacter = CharacterDatabase.getCharacter(this.state.selectedCharacterKey)\r\n    let characterName = selectedCharacter ? selectedCharacter.name : \"Character Name\"\r\n    let artsAccounted = this.state.setFilters.reduce((accu, cur) => cur.key ? accu + cur.num : accu, 0)\r\n    let split = this.splitArtifacts();\r\n    let artifactSetPerms = Build.generateAllPossibleArtifactSetPerm(this.state.setFilters)\r\n    let totBuildNumber = Build.calculateTotalBuildNumber(split, artifactSetPerms, this.state.setFilters)\r\n    let buildAlert = totBuildNumber === 0 ?\r\n      <Alert variant=\"warning\" className=\"mb-0\"><span>Current configuration will not generate any builds for <b>{characterName}</b>. Please change your Artifact configurations, or add/unlock more Artifacts.</span></Alert>\r\n      : (totBuildNumber > this.state.maxBuildsToGenerate ?\r\n        <Alert variant=\"danger\" className=\"mb-0\"><span>Current configuration will generate <b>{totBuildNumber}</b> builds for <b>{characterName}</b>. Please restrict artifact configuration to reduce builds to less than {this.state.maxBuildsToGenerate}, or your browser might crash.</span></Alert> :\r\n        <Alert variant=\"success\" className=\"mb-0\"><span>Current configuration will generate <b>{totBuildNumber}</b> builds for <b>{characterName}</b>.</span></Alert>)\r\n    let sortName = artifactDisplaySortKey[this.state.buildFilterKey] ? artifactDisplaySortKey[this.state.buildFilterKey].name : \"\"\r\n    if (this.state.buildFilterKey === \"ele_atk\" && selectedCharacter)\r\n      sortName = `${ElementalData[selectedCharacter.element].name} ${artifactDisplaySortKey.ele_atk.name}`\r\n    if (!sortName && selectedCharacter && this.state.buildFilterKey.includes(\"ele_dmg\"))\r\n      sortName = `${ElementalData[selectedCharacter.element].name} ${artifactDisplaySortKey.ele_dmg.name}`\r\n\r\n    return <Card bg=\"darkcontent\" text=\"lightfont\">\r\n      <Card.Header>Build Generator</Card.Header>\r\n      <Card.Body>\r\n        <Row>\r\n          <Col>\r\n            {/* Character picker */}\r\n            <div className=\"mb-2\">\r\n              <DropdownButton title={this.state.selectedCharacterKey ? characterName : \"Select Character\"}>\r\n                <Dropdown.Item onClick={() => this.setState({ selectedCharacterKey: \"\" })}>\r\n                  No Character\r\n              </Dropdown.Item>\r\n                {Object.values(charlist).map((char, i) =>\r\n                  <Dropdown.Item key={char.name + i}\r\n                    onClick={() => this.setState({ selectedCharacterKey: char.id })}\r\n                  >\r\n                    {char.name}\r\n                  </Dropdown.Item>)}\r\n              </DropdownButton>\r\n            </div>\r\n            {/* Artifact set picker */}\r\n            {this.state.setFilters.map((setFilter, index) =>\r\n              <div className=\"mb-2\" key={index}>\r\n                <ButtonGroup>\r\n                  {/* Artifact set */}\r\n                  <DropdownButton as={ButtonGroup} title={setFilter.key ? ArtifactSetsData[setFilter.key].name : \"Set (Optional)\"} >\r\n                    <Dropdown.Item onClick={() => this.changeSetFilterKey(index, \"\")}>\r\n                      No Artifact\r\n                  </Dropdown.Item>\r\n                    <Dropdown.ItemText>Max Rarity </Dropdown.ItemText>\r\n                    {this.dropdownitemsForStar(5, index)}\r\n                    <Dropdown.Divider />\r\n                    <Dropdown.ItemText>Max Rarity </Dropdown.ItemText>\r\n                    {this.dropdownitemsForStar(4, index)}\r\n                    <Dropdown.Divider />\r\n                    <Dropdown.ItemText>Max Rarity </Dropdown.ItemText>\r\n                    {this.dropdownitemsForStar(3, index)}\r\n                  </DropdownButton>\r\n                  {/* set number */}\r\n                  <DropdownButton as={ButtonGroup} title={`${setFilter.num}-set`}\r\n                    disabled={!setFilter.key || artsAccounted >= 5}\r\n                  >\r\n                    {setFilter.key && Object.keys(ArtifactSetsData[setFilter.key].sets).map(num => {\r\n                      let artsAccountedOther = this.state.setFilters.reduce((accu, cur) => (cur.key && cur.key !== setFilter.key) ? accu + cur.num : accu, 0)\r\n                      return (parseInt(num) + artsAccountedOther <= 5) &&\r\n                        (<Dropdown.Item key={num}\r\n                          onClick={() => this.setState((state) => {\r\n                            let setFilters = deepClone(state.setFilters);\r\n                            setFilters[index].num = parseInt(num)\r\n                            return { setFilters }\r\n                          })}\r\n                        >\r\n                          {`${num}-set`}\r\n                        </Dropdown.Item>)\r\n                    })}\r\n                  </DropdownButton>\r\n                </ButtonGroup>\r\n              </div>\r\n            )}\r\n          </Col>\r\n          <Col>\r\n            <h5>Artifact Main Stat (Optional)</h5>\r\n            {BuildDisplay.artifactsSlotsToSelectMainStats.map((slotKey, index) =>\r\n              (<div className=\"text-inline mb-1 d-flex justify-content-between\" key={slotKey}>\r\n                <h6 className=\"d-inline mr-2\">\r\n                  <FontAwesomeIcon icon={SlotIcon[slotKey]} className=\"mr-2 fa-fw\" />\r\n                  {ArtifactSlotSData[slotKey].name}\r\n                </h6>\r\n                <DropdownButton\r\n                  title={this.state.mainStat[index] ? Artifact.getStatName(this.state.mainStat[index]) : \"Select a mainstat\"}\r\n                  className=\"d-inline\">\r\n                  <Dropdown.Item onClick={() => this.changeMainStat(index, \"\")} >No MainStat</Dropdown.Item>\r\n                  {ArtifactSlotSData[slotKey].stats.map(mainStatKey =>\r\n                    <Dropdown.Item onClick={() => this.changeMainStat(index, mainStatKey)} key={mainStatKey}>\r\n                      {Artifact.getStatName(mainStatKey)}\r\n                    </Dropdown.Item>\r\n                  )}\r\n                </DropdownButton>\r\n              </div>))}\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"d-flex justify-content-between mb-2\">\r\n          <Col xs=\"auto\" >\r\n            <Button\r\n              className=\"h-100\"\r\n              disabled={!this.state.selectedCharacterKey || totBuildNumber > this.state.maxBuildsToGenerate || this.state.generatingBuilds}\r\n              variant={(this.state.selectedCharacterKey && totBuildNumber <= this.state.maxBuildsToGenerate) ? \"success\" : \"danger\"}\r\n              onClick={() => setTimeout(() => {\r\n                this.generateBuilds(split, artifactSetPerms)\r\n              }, 0)}\r\n            ><span>Generate Builds</span></Button>\r\n          </Col>\r\n          <Col xs=\"auto\">\r\n            {/* Dropdown to select sorting value */}\r\n            <ButtonGroup>\r\n              <DropdownButton disabled={!this.state.selectedCharacterKey} title={`Sort by ${sortName}`} as={ButtonGroup}>\r\n                {this.state.selectedCharacterKey && Object.entries(artifactDisplaySortKey).map(([key, val]) => {\r\n                  let name = val.name\r\n                  let character = CharacterDatabase.getCharacter(this.state.selectedCharacterKey)\r\n                  if (key === \"ele_dmg\" || key === \"ele_atk\") {\r\n                    let eleName = ElementalData[character.element].name\r\n                    name = eleName + name\r\n                    key === \"ele_dmg\" && (key = `${character.element}_${key}`)\r\n                  }\r\n                  return <Dropdown.Item key={key} onClick={() => this.setState({ buildFilterKey: key })}>\r\n                    {name}\r\n                  </Dropdown.Item>\r\n                })}\r\n              </DropdownButton>\r\n              <Button onClick={() => this.setState(state => ({ asending: !state.asending }))}>\r\n                <FontAwesomeIcon icon={this.state.asending ? faSortAmountDownAlt : faSortAmountUp} className=\"fa-fw\" />\r\n              </Button>\r\n            </ButtonGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>{this.state.selectedCharacterKey && buildAlert}</Col>\r\n        </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  }\r\n  ArtifactDisplayItem = (props) => {\r\n    let build = props.build\r\n    return (<div>\r\n      {/* <this.BuildModal build={build} />  */}\r\n      <ListGroup.Item\r\n        variant={props.index % 2 ? \"customdark\" : \"customdarker\"} className=\"text-white\" action\r\n        onClick={() => this.setState({ modalBuild: build })}\r\n      >\r\n        <Row>\r\n          <Col>{this.ArtifactDisplay(build.setToSlots)}</Col>\r\n        </Row>\r\n        <Row>\r\n          {Object.entries(artifactDisplaySortKey).map(([key, val]) => {\r\n            let name = val.name\r\n            let unit = val.unit ? val.unit : \"\"\r\n            if (key === \"ele_dmg\" || key === \"ele_atk\") {\r\n              let eleName = ElementalData[build.character.element].name\r\n              name = eleName + name\r\n              key === \"ele_dmg\" && (key = `${build.character.element}_${key}`)\r\n            }\r\n            return <Col className=\"text-nowrap\" key={key} xs={12} sm={6} md={4} lg={3}>\r\n              <span>{name}: <span className=\"text-warning\">{build.finalStats[key]}{unit}</span></span>\r\n            </Col>\r\n          })}\r\n        </Row>\r\n      </ListGroup.Item>\r\n    </div>)\r\n  }\r\n  BuildModal = (props) => {\r\n    let build = props.build\r\n    return build ? (<Modal show={this.state.modalBuild !== null} onHide={() => this.setState({ modalBuild: null })} size=\"xl\" variant=\"success\" dialogAs={Container} className=\"pt-3 pb-3\">\r\n      <Card bg=\"darkcontent\" text=\"lightfont\" >\r\n        <Card.Header>\r\n          <Row>\r\n            <Col><Card.Title><span>{build.character.name} Build</span></Card.Title></Col>\r\n            <Col xs=\"auto\">\r\n              <Button variant=\"danger\" onClick={() => this.setState({ modalBuild: null })}>\r\n                <FontAwesomeIcon icon={faTimes} /></Button>\r\n            </Col>\r\n          </Row>\r\n\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <Row>\r\n            <Col className=\"mb-3\">\r\n              <BuildModalCharacterCard build={build} />\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <Row>\r\n                <Col sm={6} className=\"mb-3\">\r\n                  <Row className=\"h-100\">\r\n                    <Col xs={12} className=\"d-flex flex-column\">\r\n                      <Card className=\"flex-grow-1 mb-2\" border=\"light\" bg=\"darkcontent\" text=\"lightfont\">\r\n                        <Card.Header>Weapon</Card.Header>\r\n                        <Card.Body>\r\n                          <Row>\r\n                            <Col>\r\n                              <h6>Base ATK {build.character.weapon_atk}</h6>\r\n                            </Col>\r\n                            <Col>\r\n                              {build.character.weaponStatKey && <h6>{Artifact.getStatName(build.character.weaponStatKey).split(\"%\")[0]} {build.character.weaponStatVal}{Artifact.getStatUnit(build.character.weaponStatKey)}</h6>}\r\n                            </Col>\r\n                          </Row>\r\n                        </Card.Body>\r\n                      </Card>\r\n                      <Card className=\"flex-grow-1\" border=\"light\" bg=\"darkcontent\" text=\"lightfont\">\r\n                        <Card.Header>Artifact Set Effects</Card.Header>\r\n                        <Card.Body>\r\n                          <Row>\r\n                            {Object.entries(build.artifactSetEffect).map(([setKey, effects]) =>\r\n                              <Col key={setKey} xs={12} className=\"mb-3\">\r\n                                <h6>{Artifact.getArtifactSetName(setKey)}</h6>\r\n                                <Row>\r\n                                  {Object.entries(effects).map(([num, effect]) => {\r\n                                    return <Col key=\"num\" xs={12}><Badge variant=\"success\">{num}-Set</Badge> <span>{effect.text}</span></Col>\r\n                                  })}\r\n                                </Row>\r\n                              </Col>\r\n                            )}\r\n                          </Row>\r\n                        </Card.Body>\r\n                      </Card>\r\n                    </Col >\r\n                  </Row>\r\n                </Col>\r\n                {Object.values(build.artifacts).map(art =>\r\n                  <Col sm={6} key={art.id} className=\"mb-3\"> <ModalArtifactCard artifact={art} /></Col>)}\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <Row className=\"d-flex justify-content-between\">\r\n            <Col xs=\"auto\">\r\n              <Button variant=\"primary\" onClick={() => this.equipArtifacts(build)}>\r\n                <span>Equip Artifacts on Character</span>\r\n              </Button>\r\n            </Col>\r\n            <Col xs=\"auto\">\r\n              <Button variant=\"danger\" onClick={() => this.setState({ modalBuild: null })}>\r\n                <span>Close</span>\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Card.Footer>\r\n      </Card>\r\n    </Modal>) : null\r\n  }\r\n  ArtifactDisplay = (setToSlots) =>\r\n    Object.entries(setToSlots).sort(([key1, slotarr1], [key2, slotarr2]) => slotarr2.length - slotarr1.length).map(([key, slotarr]) =>\r\n      <Badge key={key} variant=\"primary\" className=\"mr-2\">\r\n        {slotarr.map(slotKey => <FontAwesomeIcon icon={SlotIcon[slotKey]} key={slotKey} className=\"fa-fw\" />)}{ArtifactSetsData[key].name}\r\n      </Badge>\r\n    )\r\n\r\n  equipArtifacts = (build) => {\r\n    let character = build.character;\r\n    let artifacts = build.artifacts;\r\n    //move all the equipped artifacts to the inventory.\r\n    if (character.equippedArtifacts) {\r\n      Object.values(character.equippedArtifacts).forEach(artid => {\r\n        let art = ArtifactDatabase.getArtifact(artid);\r\n        if (!art || art.location === \"\") return;\r\n        art.location = \"\";\r\n        ArtifactDatabase.updateArtifact(art);\r\n      })\r\n    }\r\n\r\n    let equippedArtifacts = {}\r\n    Object.entries(artifacts).forEach(([key, art]) =>\r\n      equippedArtifacts[key] = art.id)\r\n    character.equippedArtifacts = equippedArtifacts;\r\n    CharacterDatabase.updateCharacter(character);\r\n\r\n    //move all the current build artifacts to the character.\r\n    Object.values(artifacts).forEach(art => {\r\n      if (art.location === character.id) return;\r\n      art.location = character.id;\r\n      ArtifactDatabase.updateArtifact(art);\r\n    })\r\n    this.forceUpdate();\r\n  }\r\n  componentDidUpdate() {\r\n    let state = deepClone(this.state)\r\n    state.builds = [];\r\n    delete state.generatingBuilds\r\n    delete state.modalBuild\r\n    saveToLocalStorage(\"BuildsDisplay.state\", state)\r\n  }\r\n  render() {\r\n    let selectedCharacter = CharacterDatabase.getCharacter(this.state.selectedCharacterKey)\r\n    let characterName = selectedCharacter ? selectedCharacter.name : \"Character Name\"\r\n    return (<Container>\r\n      <this.BuildModal build={this.state.modalBuild} />\r\n      <Row className=\"mt-2 mb-2\">\r\n        <Col>\r\n          {/* Build Generator Editor */}\r\n          <this.BuildGeneratorEditorCard />\r\n        </Col>\r\n      </Row>\r\n      <Row className=\"mb-2\">\r\n        <Col>\r\n          <Card bg=\"darkcontent\" text=\"lightfont\">\r\n            <Card.Header>{this.state.selectedCharacterKey ? `Showing first ${this.state.builds.length} Builds generated for ${characterName}` : \"Select a character to generate builds.\"}</Card.Header>\r\n            {/* Build List */}\r\n            <ListGroup>\r\n              {this.state.builds.map((build, index) =>\r\n                (index < this.state.maxBuildsToShow) && <this.ArtifactDisplayItem build={build} index={index} key={Object.values(build.artifacts).reduce((accu, art) => accu += art.id, \"\")} />\r\n              )}\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>)\r\n  }\r\n}\r\nconst ModalArtifactCard = (props) => {\r\n  if (!props.artifact) return null;\r\n  let art = props.artifact;\r\n  let artifactValidation = Artifact.artifactValidation(art)\r\n  let location = (art.location && CharacterDatabase.getCharacter(art.location)) ? CharacterDatabase.getCharacter(art.location).name : \"Inventory\"\r\n  return (<Card className=\"h-100\" border={`${art.numStars}star`} bg=\"darkcontent\" text=\"lightfont\">\r\n    <Card.Header className=\"pr-3\">\r\n      <Row className=\"no-gutters\">\r\n        <Col >\r\n          <h6><b>{`${Artifact.getArtifactPieceName(art)}`}</b></h6>\r\n          <div><FontAwesomeIcon icon={SlotIcon[art.slotKey]} className=\"fa-fw\" />{` ${Artifact.getArtifactSlotName(art.slotKey)} +${art.level}`}</div>\r\n        </Col>\r\n      </Row>\r\n    </Card.Header>\r\n    <Card.Body className=\"d-flex flex-column\">\r\n      <Card.Title>\r\n        <h6>{art.mainStatKey ? `${Artifact.getStatName(art.mainStatKey).split(\"%\")[0]} ${Artifact.getMainStatValue(art.mainStatKey, art.numStars, art.level)}${Artifact.getStatUnit(art.mainStatKey)}` : null}</h6>\r\n      </Card.Title>\r\n      <Card.Subtitle>\r\n        <div>{Artifact.getArtifactSetName(art.setKey, \"Artifact Set\")}</div>\r\n        <div>{\"\".repeat(art.numStars ? art.numStars : 0)}</div>\r\n\r\n      </Card.Subtitle>\r\n      <ul className=\"mb-0\">\r\n        {art.substats ? art.substats.map((stat, i) =>\r\n          (stat && stat.value) ? (<li key={i}>{`${Artifact.getStatName(stat.key).split(\"%\")[0]}+${stat.value}${Artifact.getStatUnit(stat.key)}`}</li>) : null\r\n        ) : null}\r\n      </ul>\r\n      <div className=\"mt-auto mb-n2\">\r\n        <span className=\"mb-0 mr-1\">Substat Eff.:</span>\r\n        <PercentBadge tooltip={artifactValidation.msg} valid={artifactValidation.valid} percent={artifactValidation.currentEfficiency}>\r\n          {(artifactValidation.currentEfficiency ? artifactValidation.currentEfficiency : 0).toFixed(2) + \"%\"}\r\n        </PercentBadge>\r\n        <span>{\"<\"}</span>\r\n        <PercentBadge tooltip={artifactValidation.msg} valid={artifactValidation.valid} percent={artifactValidation.maximumEfficiency}>\r\n          {(artifactValidation.maximumEfficiency ? artifactValidation.maximumEfficiency : 0).toFixed(2) + \"%\"}\r\n        </PercentBadge>\r\n      </div>\r\n    </Card.Body>\r\n    <Card.Footer className=\"pr-3\">\r\n      <Row>\r\n        <Col>\r\n          <span>Location: {location}</span>\r\n        </Col>\r\n      </Row>\r\n    </Card.Footer>\r\n  </Card>)\r\n}\r\nconst BuildModalCharacterCard = (props) => {\r\n  let build = props.build;\r\n  return (<Card className=\"h-100\" border=\"success\" bg=\"darkcontent\" text=\"lightfont\">\r\n    <Card.Header>Character Stats</Card.Header>\r\n    <Card.Body>\r\n      <Row>\r\n        {Object.entries(artifactDisplaySortKey).map(([key, val]) => {\r\n          let name = val.name\r\n          let unit = val.unit ? val.unit : \"\"\r\n          if (key === \"ele_dmg\" || key === \"ele_atk\") {\r\n            let eleName = ElementalData[build.character.element].name\r\n            name = eleName + name\r\n            key === \"ele_dmg\" && (key = `${build.character.element}_${key}`)\r\n          }\r\n          let statsDisplay = (key in build.character) ?\r\n            <span>{name}: <span className=\"text-warning\">{build.character[key]}{unit}</span> <span className=\"text-success\">+ {(build.finalStats[key] - build.character[key]).toFixed(1)}{unit}</span></span> :\r\n            <span>{name}: <span className=\"text-warning\">{build.finalStats[key]}{unit}</span></span>\r\n          return <Col className=\"text-nowrap\" key={key} xs={12} sm={6} lg={4}>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              overlay={\r\n                <Popover>\r\n                  <Popover.Title as=\"h3\">\r\n                    {(key in build.character) ?\r\n                      <span>{name}: {build.character[key]}{unit} <span className=\"text-success\">+ {(build.finalStats[key] - build.character[key]).toFixed(1)}{unit}</span></span> :\r\n                      <span>{name}: {build.finalStats[key]}{unit}</span>\r\n                    }\r\n                  </Popover.Title>\r\n                  <Popover.Content>\r\n                    {key.includes(\"ele_dmg\") ? artifactDisplaySortKey[\"ele_dmg\"].explaination : artifactDisplaySortKey[key].explaination}\r\n                  </Popover.Content>\r\n                </Popover>\r\n              }\r\n            >\r\n              {statsDisplay}\r\n            </OverlayTrigger>\r\n          </Col>\r\n        })}\r\n      </Row>\r\n    </Card.Body>\r\n  </Card>)\r\n}","import { faBolt, faFire, faGem, faIcicles, faSeedling, faWater, faWind } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst ElementalIcon = {\r\n  anemo: faWind,\r\n  geo: faGem,\r\n  electro: faBolt,\r\n  hydro: faWater,\r\n  pyro: faFire,\r\n  cryo: faIcicles,\r\n  dendro: faSeedling\r\n}\r\nexport default ElementalIcon","import React from 'react';\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrashAlt, faEdit } from '@fortawesome/free-solid-svg-icons'\r\nimport Artifact from '../Artifact/Artifact';\r\nimport { Link } from 'react-router-dom';\r\nimport { ElementalData } from '../Artifact/ArtifactData';\r\nimport ElementalIcon from '../Components/ElementalIcon';\r\nexport default class CharacterCard extends React.Component {\r\n  render() {\r\n    if (!this.props.characterData) return null;\r\n    let char = this.props.characterData;\r\n\r\n    const liElement = (key) =>\r\n      (<li key={key}>\r\n        <span>{Artifact.getStatName(key).split(\"%\")[0]}</span>\r\n        <span className=\"float-right\">{char[key] + Artifact.getStatUnit(key)}</span>\r\n      </li>)\r\n    let mainArr = [\"hp\", \"atk\", \"def\", \"ele_mas\"]\r\n    let mainEles = mainArr.map(liElement);\r\n    let advArr = [\"crit_rate\", \"crit_dmg\", \"heal_bonu\", \"ener_rech\"]\r\n    let advEles = advArr.map(liElement);\r\n    let weaponAtk = (<li>\r\n      <span>Weapon ATK</span>\r\n      <span className=\"float-right\">{char.weapon_atk}</span>\r\n    </li>)\r\n    let weaponSub = (<li>\r\n      <span>{char.weaponStatKey ? (Artifact.getStatName(char.weaponStatKey).split(\"%\")[0]) : \"\"}</span>\r\n      <span className=\"float-right\">{char.weaponStatVal + Artifact.getStatUnit(char.weaponStatKey)}</span>\r\n    </li>)\r\n    let specialized = (<li>\r\n      <span>{(Artifact.getStatName(char.specialStatKey, \"\").split(\"%\")[0])}</span>\r\n      <span className=\"float-right\">{char.specialStatVal + Artifact.getStatUnit(char.specialStatKey)}</span>\r\n    </li>)\r\n    return (<Card className=\"h-100\" border={`${char.numStars}star`} bg=\"darkcontent\" text=\"lightfont\">\r\n      <Card.Header className=\"pr-2\">\r\n        <Row className=\"no-gutters\">\r\n          <Col >\r\n            <h6><b>{char.name}</b></h6>\r\n          </Col>\r\n          <Col xs={\"auto\"}>\r\n            <span className=\"float-right align-top ml-1\">\r\n              <Button variant=\"primary\" size=\"sm\" className=\"mr-1\"\r\n                onClick={() => this.props.onEdit && this.props.onEdit()}>\r\n                <FontAwesomeIcon icon={faEdit} />\r\n              </Button>\r\n              <Button variant=\"danger\" size=\"sm\"\r\n                onClick={() => this.props.onDelete && this.props.onDelete()}>\r\n                <FontAwesomeIcon icon={faTrashAlt} />\r\n              </Button>\r\n            </span>\r\n          </Col>\r\n        </Row>\r\n      </Card.Header>\r\n      <Card.Body>\r\n        <h6><FontAwesomeIcon icon={ElementalIcon[char.element]} className=\"fa-fw\" /> {ElementalData[char.element].name}</h6>\r\n        <h5>Weapon</h5>\r\n        <ul>{weaponAtk}{weaponSub}</ul>\r\n        <h5>Main Stats</h5>\r\n        <ul>{mainEles} </ul>\r\n        <h5>Specialized Stat</h5>\r\n        <ul>{specialized}</ul>\r\n        <h5>Advanced Stats</h5>\r\n        <ul>{advEles}</ul>\r\n      </Card.Body>\r\n      <Card.Footer>\r\n        <Button as={Link} to={{\r\n          pathname: \"/build\",\r\n          selectedCharacterKey: this.props.characterData.id\r\n        }}>\r\n          Generate Builds\r\n        </Button>\r\n      </Card.Footer>\r\n    </Card>)\r\n  }\r\n}","import React from 'react';\r\nimport { Button, Card, Col, Dropdown, DropdownButton, FormControl, InputGroup, Row } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSignature, faTint, faFistRaised, faShieldAlt, faMagic, faDice, faDiceD20, faFirstAid, faSync, faGavel } from '@fortawesome/free-solid-svg-icons'\r\nimport { ArtifactStatsData, CharacterSpecializedStatKey, ElementalData } from '../Artifact/ArtifactData';\r\nimport Artifact from '../Artifact/Artifact';\r\nimport { FloatFormControl, IntFormControl } from '../Components/CustomFormControl';\r\nimport ElementalIcon from '../Components/ElementalIcon';\r\nexport default class CharacterEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = CharacterEditor.getInitialState();\r\n  }\r\n  static initialState = {\r\n    name: \"\",\r\n    element: Object.keys(ElementalData)[0],\r\n    hp: 0,\r\n    atk: 0,\r\n    def: 0,\r\n    ele_mas: 0,\r\n    crit_rate: 5,\r\n    crit_dmg: 50,\r\n    heal_bonu: 0,\r\n    ener_rech: 100,\r\n    weapon_atk: 0,\r\n    weaponStatKey: \"\",\r\n    weaponStatVal: 0,\r\n    specialStatKey: \"\",\r\n    specialStatVal: 0,\r\n  }\r\n  static getInitialState = () => JSON.parse(JSON.stringify(CharacterEditor.initialState))\r\n\r\n  StatInput = (props) => {\r\n    const onValueChange = (v) =>\r\n      props.onValueChange && props.onValueChange(v)\r\n    return (<InputGroup className=\"mb-3\">\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>{props.name}</InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      {props.percent ? (\r\n        <FloatFormControl\r\n          placeholder={props.placeholder}\r\n          value={props.value ? props.value : \"\"}\r\n          onValueChange={onValueChange}\r\n        />\r\n      ) : (\r\n          <IntFormControl\r\n            placeholder={props.placeholder}\r\n            value={props.value ? props.value : \"\"}\r\n            onValueChange={onValueChange}\r\n          />\r\n        )}\r\n      {props.percent && (<InputGroup.Append>\r\n        <InputGroup.Text>%</InputGroup.Text>\r\n      </InputGroup.Append>)}\r\n    </InputGroup>)\r\n\r\n  }\r\n  componentDidUpdate = () => {\r\n    if (this.props.characterToEdit && this.state.id !== this.props.characterToEdit.id)\r\n      this.setState(this.props.characterToEdit)\r\n  }\r\n  render() {\r\n    let percentWeaponStatSelect = Artifact.getStatUnit(this.state.weaponStatKey) === \"%\";\r\n    let percentSpecialStatSlect = Artifact.getStatUnit(this.state.specialStatKey) === \"%\"\r\n    let weaponprops = {\r\n      placeholder: \"Weapon 2nd Stat\",\r\n      value: this.state.weaponStatVal ? this.state.weaponStatVal : \"\",\r\n      onValueChange: (val) => this.setState({ weaponStatVal: val }),\r\n      disabled: !this.state.weaponStatKey\r\n    }\r\n    let weaponSubStatInput = percentWeaponStatSelect ?\r\n      <FloatFormControl {...weaponprops} />\r\n      : <IntFormControl {...weaponprops} />\r\n\r\n    let specialStatProps = {\r\n      placeholder: \"Character Special Stat\",\r\n      value: this.state.specialStatVal ? this.state.specialStatVal : \"\",\r\n      onValueChange: (val) => this.setState({ specialStatVal: val }),\r\n      disabled: !this.state.specialStatKey\r\n    }\r\n    let specialStatInput = percentSpecialStatSlect ?\r\n      <FloatFormControl {...specialStatProps} />\r\n      : <IntFormControl {...specialStatProps} />\r\n\r\n    return (<Card bg=\"darkcontent\" text=\"lightfont\">\r\n      <Card.Header>Character Editor</Card.Header>\r\n      <Card.Body>\r\n        <InputGroup className=\"mb-3\">\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text><FontAwesomeIcon icon={faSignature} className=\"mr-2\" /> Character Name</InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl placeholder=\"Name\"\r\n            value={this.state.name}\r\n            onChange={(e) => this.setState({ name: e.target.value })}\r\n          />\r\n          <InputGroup.Append>\r\n            <InputGroup.Text>Character Element</InputGroup.Text>\r\n          </InputGroup.Append>\r\n          <DropdownButton\r\n            title={this.state.element ?\r\n              (<span>\r\n                <FontAwesomeIcon icon={ElementalIcon[this.state.element]} className=\"fa-fw\" />\r\n                <span> {ElementalData[this.state.element].name}</span>\r\n              </span>) : \"Element\"}\r\n            as={InputGroup.Append}\r\n          >\r\n            <Dropdown.ItemText>Select Element </Dropdown.ItemText>\r\n            {Object.entries(ElementalData).map(([key, val]) =>\r\n              (<Dropdown.Item key={key} onClick={() =>\r\n                (key !== this.state.element) && this.setState({ element: key })\r\n              } >\r\n                <span>\r\n                  <FontAwesomeIcon icon={ElementalIcon[key]} className=\"fa-fw\" />\r\n                  <span> {val.name}</span>\r\n                </span>\r\n              </Dropdown.Item>)\r\n            )}\r\n          </DropdownButton>\r\n        </InputGroup>\r\n        <h5>Base Stats</h5>\r\n        <Row className=\"mb-2\">\r\n          <Col lg={6} xs={12}>\r\n            <this.StatInput\r\n              name={<span><FontAwesomeIcon icon={faTint} className=\"mr-2\" /> Base HP</span>}\r\n              placeholder=\"Base Health\"\r\n              value={this.state.hp}\r\n              percent={false}\r\n              onValueChange={(value) => this.setState({ hp: value })}\r\n            />\r\n          </Col>\r\n          <Col lg={6} xs={12}>\r\n            <this.StatInput\r\n              name={<span><FontAwesomeIcon icon={faFistRaised} className=\"mr-2\" /> Base ATK</span>}\r\n              placeholder=\"Base Attack\"\r\n              value={this.state.atk}\r\n              percent={false}\r\n              onValueChange={(value) => this.setState({ atk: value })}\r\n            />\r\n          </Col>\r\n          <Col lg={6} xs={12}>\r\n            <this.StatInput\r\n              name={<span><FontAwesomeIcon icon={faShieldAlt} className=\"mr-2\" /> Base DEF</span>}\r\n              placeholder=\"Base Defence\"\r\n              value={this.state.def}\r\n              percent={false}\r\n              onValueChange={(value) => this.setState({ def: value })}\r\n            />\r\n          </Col>\r\n          <Col lg={6} xs={12}>\r\n            <this.StatInput\r\n              name={<span><FontAwesomeIcon icon={faMagic} className=\"mr-2\" /> Base Elemental Mastery</span>}\r\n              placeholder=\"Elemental Mastery\"\r\n              value={this.state.ele_mas}\r\n              percent={false}\r\n              onValueChange={(value) => this.setState({ ele_mas: value })}\r\n            />\r\n          </Col>\r\n          <Col lg={6} xs={12}>\r\n            <InputGroup>\r\n              <DropdownButton\r\n                title={Artifact.getStatName(this.state.specialStatKey, \"Specialized Stat\")}\r\n                as={InputGroup.Prepend}\r\n              >\r\n                <Dropdown.ItemText>Select Specialized Stat </Dropdown.ItemText>\r\n                {CharacterSpecializedStatKey.map(key =>\r\n                  <Dropdown.Item key={key} onClick={() => {\r\n                    this.setState({ specialStatKey: key, specialStatVal: 0 })\r\n                  }} >\r\n                    {Artifact.getStatName(key)}\r\n                  </Dropdown.Item>)}\r\n              </DropdownButton>\r\n              {specialStatInput}\r\n              {percentSpecialStatSlect && (<InputGroup.Append>\r\n                <InputGroup.Text>%</InputGroup.Text>\r\n              </InputGroup.Append>)}\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <h5>Advanced Stats</h5>\r\n        <Row>\r\n          <Col lg={6} xs={12}>\r\n            <this.StatInput\r\n              name={<span><FontAwesomeIcon icon={faDice} className=\"mr-2\" /> Base Crit Rate</span>}\r\n              placeholder=\"Crit Rate\"\r\n              value={this.state.crit_rate}\r\n              percent={true}\r\n              onValueChange={(value) => this.setState({ crit_rate: value })}\r\n            />\r\n          </Col>\r\n          <Col lg={6} xs={12}>\r\n            <this.StatInput\r\n              name={<span><FontAwesomeIcon icon={faDiceD20} className=\"mr-2\" /> Base Crit Damage</span>}\r\n              placeholder=\"Crit Damage\"\r\n              value={this.state.crit_dmg}\r\n              percent={true}\r\n              onValueChange={(value) => this.setState({ crit_dmg: value })}\r\n            />\r\n          </Col>\r\n          <Col lg={6} xs={12}>\r\n            <this.StatInput\r\n              name={<span><FontAwesomeIcon icon={faFirstAid} className=\"mr-2\" /> Base Healing Bonus</span>}\r\n              placeholder=\"Healing Bonus\"\r\n              value={this.state.heal_bonu}\r\n              percent={true}\r\n              onValueChange={(value) => this.setState({ heal_bonu: value })}\r\n            />\r\n          </Col>\r\n          <Col lg={6} xs={12}>\r\n            <this.StatInput\r\n              name={<span><FontAwesomeIcon icon={faSync} className=\"mr-2\" /> Base Energy Recharge</span>}\r\n              placeholder=\"Energy Recharge\"\r\n              value={this.state.ener_rech}\r\n              percent={true}\r\n              onValueChange={(value) => this.setState({ ener_rech: value })}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <h5>Weapon Stats</h5>\r\n        <Row>\r\n          <Col lg={6} xs={12}>\r\n            <this.StatInput\r\n              name={<span><FontAwesomeIcon icon={faGavel} className=\"mr-2\" /> Weapon ATK</span>}\r\n              placeholder=\"Weapon Attack\"\r\n              value={this.state.weapon_atk}\r\n              percent={false}\r\n              onValueChange={(value) => this.setState({ weapon_atk: value })}\r\n            />\r\n          </Col>\r\n          <Col lg={6} xs={12}>\r\n            <InputGroup>\r\n              <DropdownButton\r\n                title={Artifact.getStatName(this.state.weaponStatKey, \"Weapon Stat\")}\r\n                as={InputGroup.Prepend}\r\n              >\r\n                <Dropdown.ItemText>Select a weapon secondary stat </Dropdown.ItemText>\r\n                {Object.entries(ArtifactStatsData).map(([key, value]) =>\r\n                  <Dropdown.Item key={key} onClick={() => {\r\n                    this.setState({ weaponStatKey: key, weaponStatVal: null })\r\n                  }} >\r\n                    {value.name}\r\n                  </Dropdown.Item>)}\r\n              </DropdownButton>\r\n              {weaponSubStatInput}\r\n              {percentWeaponStatSelect && (<InputGroup.Append>\r\n                <InputGroup.Text>%</InputGroup.Text>\r\n              </InputGroup.Append>)}\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n      </Card.Body>\r\n      <Card.Footer>\r\n        <Button className=\"mr-3\" onClick={() => {\r\n          this.props.addCharacter && this.props.addCharacter(this.state)\r\n          this.setState(CharacterEditor.getInitialState());\r\n        }}>\r\n          {this.props.characterToEdit ? \"Save Character\" : \"Add Character\"}\r\n        </Button>\r\n        <Button className=\"mr-3\" variant=\"success\"\r\n          onClick={() => {\r\n            this.props.cancelEdit && this.props.cancelEdit();\r\n            this.setState(CharacterEditor.getInitialState());\r\n          }}\r\n        >\r\n          Clear\r\n          </Button>\r\n      </Card.Footer>\r\n    </Card>)\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport CharacterCard from './CharacterCard';\r\nimport CharacterDatabase from './CharacterDatabase';\r\nimport CharacterEditor from './CharacterEditor';\r\nexport default class CharacterDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    CharacterDatabase.populateDatebaseFromLocalStorage();\r\n    this.state = {\r\n      charIdList: [...CharacterDatabase.getCharacterIdList()],\r\n      charToEdit: null\r\n    }\r\n  }\r\n  addCharacter = (art) => {\r\n    if (this.state.charToEdit && this.state.charToEdit.id === art.id) {\r\n      CharacterDatabase.updateCharacter(art);\r\n      this.setState({ charToEdit: null }, this.forceUpdate)\r\n    } else {\r\n      let id = CharacterDatabase.addCharacter(art)\r\n      //add the new Character at the beginning\r\n      this.setState((state) => ({ charIdList: [...state.charIdList, id] }))\r\n    }\r\n  }\r\n\r\n  deleteCharacter = (index) => {\r\n    CharacterDatabase.removeCharacterById(this.state.charIdList[index])\r\n    this.setState((state) => {\r\n      let charIdList = [...state.charIdList]\r\n      charIdList.splice(index, 1)\r\n      return { charIdList }\r\n    });\r\n  }\r\n  editCharacter = (index) =>\r\n    this.setState({ charToEdit: CharacterDatabase.getCharacter(this.state.charIdList[index]) })\r\n\r\n  cancelEditCharacter = () =>\r\n    this.setState({ charToEdit: null })\r\n\r\n  render() {\r\n    return (<Container>\r\n      <Row className=\"mb-2 no-gutters\"><Col>\r\n        <CharacterEditor\r\n          characterToEdit={this.state.charToEdit}\r\n          addCharacter={this.addCharacter}\r\n          cancelEdit={this.cancelEditCharacter}\r\n        />\r\n      </Col></Row>\r\n\r\n      <Row className=\"mb-2\">\r\n        {this.state.charIdList.map((id, index) =>\r\n          <Col key={id} lg={4} md={6} className=\"mb-2\">\r\n            <CharacterCard\r\n              characterData={CharacterDatabase.getCharacter(id)}\r\n              onDelete={() => this.deleteCharacter(index)}\r\n              onEdit={() => this.editCharacter(index)}\r\n            />\r\n          </Col>\r\n        )}\r\n      </Row>\r\n    </Container>)\r\n\r\n  }\r\n}","import { faDiscord, faPatreon } from '@fortawesome/free-brands-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Col, Row } from 'react-bootstrap';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport {\r\n  Link, Route, Switch\r\n} from \"react-router-dom\";\r\nimport './App.scss';\r\nimport ArtifactDisplay from './Artifact/ArtifactDisplay';\r\nimport BuildDisplay from './Build/BuildDisplay';\r\nimport CharacterDisplay from './Character/CharacterDisplay';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"h-100 d-flex flex-column\">\r\n      <div id=\"content\" className=\"flex-grow-1\">\r\n        <Navbar bg=\"dark\" variant=\"dark\" expand=\"md\">\r\n          <Navbar.Brand as={Link} to=\"/\">Genshin Optimizer</Navbar.Brand>\r\n          <Nav className=\"mr-auto\">\r\n            <Nav.Link as={Link} to=\"/artifact\">\r\n              Artifacts</Nav.Link>\r\n            <Nav.Link as={Link} to=\"/character\">Characters</Nav.Link>\r\n            <Nav.Link as={Link} to=\"/build\">Builds</Nav.Link>\r\n          </Nav>\r\n          <Nav>\r\n            {process.env.NODE_ENV === \"development\" && <Nav.Link href={process.env.REACT_APP_PATREON_LINK} target=\"_blank\" ><FontAwesomeIcon icon={faPatreon} className=\"fa-fw\" /> Patreon</Nav.Link>}\r\n            <Nav.Link href={process.env.REACT_APP_DISCORD_LINK} target=\"_blank\" ><FontAwesomeIcon icon={faDiscord} className=\"fa-fw\" /> Discord</Nav.Link>\r\n          </Nav>\r\n        </Navbar>\r\n\r\n        <Switch>\r\n          <Route path=\"/artifact\" component={ArtifactDisplay} />\r\n          <Route path=\"/character\" component={CharacterDisplay} />\r\n          <Route path=\"/build\" component={BuildDisplay} />\r\n          <Route path=\"/\" component={ArtifactDisplay} />\r\n          {/* <Route exact path=\"/\" component={Home} /> */}\r\n        </Switch>\r\n\r\n      </div>\r\n      <Nav id=\"footer\" className=\"bg-dark\">\r\n        <Row className=\"w-100 ml-0 mr-0 mb-2\">\r\n          <Col>\r\n            <span className=\"text-light\"> <small>Genshin Optimizer is not affiliated with or endorsed by miHoYo. </small></span>\r\n            <Nav.Link className=\"d-inline-block p-0 float-right\" href={process.env.REACT_APP_PAYPAL_LINK} target=\"_blank\" ><span className=\"text-light\"><small > Want to help the developer? </small></span></Nav.Link>\r\n          </Col>\r\n        </Row>\r\n      </Nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { HashRouter } from 'react-router-dom';\r\nconsole.log(process.env.PUBLIC_URL)\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}