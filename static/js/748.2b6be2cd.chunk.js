"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[748],{52991:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(68870),a=t(20890),i=t(10658),o=t(98620),s=t(31148),c=t(42320),l=t(24351),u=t(3992),d=t(25617),f=t(75545),x=t(64929),h=t(80184);function v(e){var n=e.artifactObj,t=e.slotKey,v=(0,c.Z)((function(){return(null===n||void 0===n?void 0:n.setKey)&&s.y.get(n.setKey)}),[null===n||void 0===n?void 0:n.setKey]);if(!n||!v)return(0,h.jsx)(u.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:(0,h.jsx)(r.Z,{sx:{width:"100%",pb:"100%",position:"relative"},children:(0,h.jsx)(r.Z,{sx:{position:"absolute",width:"70%",height:"70%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",opacity:.7},component:"img",src:i.Z.slot[t]})})});var p=n.mainStatKey,Z=n.rarity,m=n.level,g=l.Kj.find((function(e){return n.mainStatKey.includes(e)})),j=null!==g&&void 0!==g?g:"secondary";return(0,h.jsx)(x.Z,{art:n,children:(0,h.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",position:"relative"},children:[(0,h.jsx)(r.Z,{component:"img",className:"grad-".concat(Z,"star"),src:v.slotIcons[t],maxWidth:"100%",maxHeight:"100%"}),(0,h.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none"},children:(0,h.jsx)("strong",{children:(0,h.jsx)(d.Z,{sx:{p:.5},color:o.ZP.levelVariant(m),children:(0,h.jsxs)("strong",{children:["+",m]})})})}),(0,h.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,h.jsx)(d.Z,{color:j,sx:{p:.5},children:g?f.hJ[g]:f.ZP[p]})})]})})}},64929:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(68870),a=t(47047),i=t(20890),o=t(72791),s=t(98620),c=t(31148),l=t(79406),u=t(42320),d=t(60393),f=t(96106),x=t(25617),h=t(10157),v=t(75545),p=t(95614),Z=t(80184);function m(e){var n=e.art,t=e.children,i=(0,Z.jsx)(r.Z,{children:(0,Z.jsx)(a.Z,{variant:"rectangular",width:100,height:100})}),s=(0,Z.jsx)(o.Suspense,{fallback:i,children:(0,Z.jsx)(g,{art:n})});return(0,Z.jsx)(f.Z,{placement:"top",title:s,disableInteractive:!0,children:t})}function g(e){var n,t=e.art,a=(0,u.Z)((function(){return c.y.get(t.setKey)}),[t.setKey]),o=t.slotKey,f=t.level,m=t.rarity,g=t.mainStatKey,j=t.substats,y=null===a||void 0===a?void 0:a.getSlotName(o),b=l.ZP.unit(g),k=v.ZP[g],w=l.ZP.getVariant(g);return(0,Z.jsxs)(r.Z,{p:1,children:[(0,Z.jsxs)(i.Z,{variant:"h6",children:[(0,p.Ir)(o)," ",y]}),(0,Z.jsxs)(i.Z,{variant:"subtitle1",color:"".concat(w,".main"),children:[k," ",l.ZP.get(g)," ",(0,l.qs)(null!==(n=s.ZP.mainStatValue(g,m,f))&&void 0!==n?n:0,l.ZP.unit(g)),b]}),(0,Z.jsxs)(i.Z,{variant:"subtitle2",sx:{display:"flex",justifyContent:"space-between"},children:[(0,Z.jsx)(h.q,{stars:m}),(0,Z.jsxs)(x.Z,{color:s.ZP.levelVariant(f),children:["+",f]})," "]}),(0,Z.jsx)(r.Z,{py:1,children:j.map((function(e){return!!e.value&&(0,Z.jsxs)(i.Z,{color:"roll".concat((0,d.uZ)(e.rolls.length,1,6),".main"),children:[v.ZP[e.key]," ",l.ZP.getStr(e.key)," ",(0,Z.jsx)("strong",{children:"+".concat((0,l.qs)(e.value,l.ZP.unit(e.key))).concat(l.ZP.unit(e.key))})]},e.key)}))}),(0,Z.jsx)(i.Z,{color:"success.main",children:null===a||void 0===a?void 0:a.name})]})}},96106:function(e,n,t){var r=t(4942),a=t(1413),i=t(45987),o=t(66934),s=t(40165),c=t(69293),l=t(80184),u=["className"],d=(0,o.ZP)((function(e){var n=e.className,t=(0,i.Z)(e,u);return(0,l.jsx)(s.Z,(0,a.Z)((0,a.Z)({},t),{},{arrow:!0,classes:{popper:n}}))}))((function(e){var n,t=e.theme;return n={},(0,r.Z)(n,"& .".concat(c.Z.arrow),{color:t.palette.common.black}),(0,r.Z)(n,"& .".concat(c.Z.tooltip),{backgroundColor:t.palette.common.black,maxWidth:500}),n}));n.Z=d},30865:function(e,n,t){t.d(n,{Z:function(){return Q}});var r=t(29439),a=t(14361),i=t(90690),o=t(66647),s=t(47047),c=t(68870),l=t(13400),u=t(39504),d=t(61889),f=t(81918),x=t(20890),h=t(72791),v=t(2139),p=t(7618),Z=t(13746),m=t(26138),g=t(79406),j=t(84684),y=t(50920),b=t(47639),k=t(24351),w=t(60393),C=t(52991),S=t(71310),P=t(20005),K=t(88034),D=t(25617),I=t(10157),M=t(75545),E=t(77208),W=t(66218),_=t(73036),B=t(42320),T=t(74480),z=t(3992),R=t(80184);function N(e){var n=e.weaponId,t=(0,T.Z)(n),r=(0,B.Z)((function(){return(null===t||void 0===t?void 0:t.key)&&W.Z.get(t.key)}),[null===t||void 0===t?void 0:t.key]),a=(0,h.useMemo)((function(){return r&&t&&(0,_.mP)([r.data,(0,_.v0)(t)])}),[r,t]);return t&&r&&a?(0,R.jsx)(z.Z,{children:(0,R.jsxs)(c.Z,{display:"flex",children:[(0,R.jsx)(c.Z,{flexShrink:1,maxWidth:"35%",display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(r.rarity,"star"),children:(0,R.jsx)(c.Z,{component:"img",src:r.getImg(t.ascension),width:"100%",height:"auto",sx:{mt:"auto"}})}),(0,R.jsxs)(c.Z,{flexGrow:1,sx:{p:1},children:[(0,R.jsx)(x.Z,{variant:"body2",gutterBottom:!0,children:(0,R.jsx)("strong",{children:null===r||void 0===r?void 0:r.name})}),(0,R.jsxs)(x.Z,{variant:"subtitle1",sx:{display:"flex",gap:1},gutterBottom:!0,children:[(0,R.jsxs)(D.Z,{color:"primary",children:["Lv. ",W.Z.getLevelString(t)]}),r.hasRefinement&&(0,R.jsxs)(D.Z,{color:"info",children:["R",t.refinement]})]}),(0,R.jsxs)(x.Z,{variant:"subtitle1",sx:{display:"flex",gap:1},children:[(0,R.jsx)(V,{node:a.get(m.ri.weapon.main)}),(0,R.jsx)(V,{node:a.get(m.ri.weapon.sub)})]})]})]})}):null}function V(e){var n=e.node;if(!n.info.key)return null;var t=(0,g.EC)(n.value,n.unit,n.unit?void 0:0);return(0,R.jsxs)(D.Z,{color:"secondary",children:[M.ZP[n.info.key]," ",t]})}var O=t(97714),A=t(947),H=t(13434),F=t(17278),q=t(12759);function Q(e){var n,t,f=e.characterKey,x=e.artifactChildren,v=e.weaponChildren,p=e.characterChildren,m=e.onClick,g=e.onClickHeader,k=e.onClickTeammate,C=e.footer,K=e.isTeammateCard,D=(0,h.useContext)(Z.R).teamData,I=null!==(n=(0,b.Z)(D?"":f))&&void 0!==n?n:D,M=(0,H.Z)(f),W=(0,B.Z)((function(){return A.Z.get(f)}),[f]),_=(0,y.Z)(f),T=null===I||void 0===I||null===(t=I[f])||void 0===t?void 0:t.target,z=(0,h.useCallback)((function(){return f&&(null===m||void 0===m?void 0:m(f))}),[f,m]),V=(0,h.useCallback)((function(e){return(0,R.jsx)(o.Z,{onClick:z,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[z]),Q=(0,h.useMemo)((function(){return M&&W&&{character:M,characterSheet:W,characterDispatch:_}}),[M,W,_]),U=(0,h.useMemo)((function(){return T&&I&&{data:T,teamData:I}}),[T,I]),Y=(0,F.Z)("charMeta_".concat(f),q.B),X=(0,r.Z)(Y,2),$=X[0].favorite,ee=X[1];return M&&U&&Q?(0,R.jsx)(h.Suspense,{fallback:(0,R.jsx)(s.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:(0,R.jsx)(O.K.Provider,{value:Q,children:(0,R.jsx)(Z.R.Provider,{value:U,children:(0,R.jsxs)(S.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,R.jsx)(c.Z,{sx:{display:"flex",position:"absolute",zIndex:2,opacity:.7},children:(0,R.jsx)(l.Z,{sx:{p:.5},onClick:function(e){return ee({favorite:!$})},children:$?(0,R.jsx)(a.Z,{}):(0,R.jsx)(i.Z,{})})}),(0,R.jsxs)(P.Z,{condition:!!m,wrapper:V,children:[(0,R.jsx)(L,{onClick:m?void 0:g}),(0,R.jsxs)(u.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1},children:[(0,R.jsx)(G,{}),!K&&(0,R.jsxs)(d.ZP,{container:!0,columns:4,spacing:.75,children:[(0,R.jsx)(d.ZP,{item:!0,xs:1,height:"100%",children:(0,R.jsx)(E.Z,{weaponId:M.equippedWeapon})}),(0,w.w6)(0,2).map((function(e){return(0,R.jsx)(d.ZP,{item:!0,xs:1,height:"100%",children:(0,R.jsx)(j.Z,{characterKey:M.team[e],onClick:m?void 0:k,index:e})},e)}))]}),K&&(0,R.jsx)(N,{weaponId:M.equippedWeapon}),!K&&(0,R.jsx)(J,{}),v,x,p]})]}),C]})})})}):null}function L(e){var n=e.onClick,t=(0,h.useContext)(O.K).characterSheet,r=(0,h.useContext)(Z.R).data,a=r.get(m.ri.charKey).value,i=r.get(m.ri.charEle).value,s=r.get(m.ri.lvl).value,l=r.get(m.ri.constellation).value,u=r.get(m.ri.asc).value,p=r.get(m.ri.bonus.auto).value,g=r.get(m.ri.bonus.skill).value,j=r.get(m.ri.bonus.burst).value,y=r.get(m.ri.total.auto).value,b=r.get(m.ri.total.skill).value,k=r.get(m.ri.total.burst).value,w=(0,h.useCallback)((function(e){return(0,R.jsx)(o.Z,{onClick:function(){return a&&(null===n||void 0===n?void 0:n(a))},sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[n,a]);return(0,R.jsx)(P.Z,{condition:!!n,wrapper:w,children:(0,R.jsxs)(c.Z,{display:"flex",position:"relative",className:"grad-".concat(t.rarity,"star"),sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:"url(".concat(t.bannerImg,")"),backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,R.jsx)(c.Z,{flexShrink:1,sx:{maxWidth:{xs:"40%",lg:"40%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,R.jsx)(c.Z,{component:"img",src:t.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,R.jsxs)(c.Z,{flexGrow:1,sx:{py:1,pr:1},display:"flex",flexDirection:"column",zIndex:1,children:[(0,R.jsx)(f.Z,{label:(0,R.jsx)(x.Z,{variant:"subtitle1",children:t.name}),size:"small",color:i,sx:{opacity:.85}}),(0,R.jsxs)(d.ZP,{container:!0,spacing:1,flexWrap:"nowrap",children:[(0,R.jsxs)(d.ZP,{item:!0,sx:{textShadow:"0 0 5px gray"},children:[(0,R.jsxs)(x.Z,{component:"span",variant:"h6",whiteSpace:"nowrap",children:["Lv. ",s]}),(0,R.jsxs)(x.Z,{component:"span",variant:"h6",color:"text.secondary",children:["/",v.SJ[u]]})]}),(0,R.jsx)(d.ZP,{item:!0,children:(0,R.jsx)(x.Z,{variant:"h6",children:(0,R.jsxs)(D.Z,{children:["C",l]})})})]}),(0,R.jsxs)(d.ZP,{container:!0,spacing:1,flexWrap:"nowrap",children:[(0,R.jsx)(d.ZP,{item:!0,children:(0,R.jsx)(f.Z,{color:p?"info":"secondary",label:(0,R.jsx)("strong",{children:y})})}),(0,R.jsx)(d.ZP,{item:!0,children:(0,R.jsx)(f.Z,{color:g?"info":"secondary",label:(0,R.jsx)("strong",{children:b})})}),(0,R.jsx)(d.ZP,{item:!0,children:(0,R.jsx)(f.Z,{color:j?"info":"secondary",label:(0,R.jsx)("strong",{children:k})})})]}),(0,R.jsx)(x.Z,{mt:1,children:(0,R.jsx)(I.q,{stars:t.rarity,colored:!0})})]})]})})}function G(){var e=(0,h.useContext)(p.t).database,n=(0,h.useContext)(Z.R).data,t=(0,h.useMemo)((function(){return k.eV.map((function(t){var r;return[t,e.arts.get(null!==(r=n.get(m.ri.art[t].id).value)&&void 0!==r?r:"")]}))}),[n,e]);return(0,R.jsx)(d.ZP,{direction:"row",container:!0,spacing:.75,columns:5,children:t.map((function(e){var n=(0,r.Z)(e,2),t=n[0],a=n[1];return(0,R.jsx)(d.ZP,{item:!0,xs:1,children:(0,R.jsx)(C.Z,{artifactObj:a,slotKey:t})},t)}))})}function J(){var e=(0,h.useContext)(Z.R).data;return(0,R.jsxs)(c.Z,{sx:{width:"100%"},children:[Object.values(e.getDisplay().basic).map((function(e){return(0,R.jsx)(K.JW,{node:e},e.info.key)})),e.get(m.ri.special).info.key&&(0,R.jsxs)(c.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,R.jsx)(x.Z,{flexGrow:1,children:(0,R.jsx)("strong",{children:"Specialized:"})}),M.ZP[e.get(m.ri.special).info.key],(0,R.jsx)(x.Z,{children:g.ZP.get(e.get(m.ri.special).info.key)})]})]})}},84684:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(66647),a=t(47047),i=t(20890),o=t(68870),s=t(72791),c=t(10658),l=t(947),u=t(2139),d=t(13434),f=t(42320),x=t(96106),h=t(3992),v=t(20005),p=t(25617),Z=t(75545),m=t(80184);function g(e){var n=e.characterKey,t=void 0===n?"":n,g=e.index,j=void 0===g?-1:g,y=e.onClick,b=(0,f.Z)((function(){return l.Z.get(t)}),[t]),k=(0,d.Z)(t),w=(0,s.useCallback)((function(){return t&&(null===y||void 0===y?void 0:y(t))}),[t,y]),C=(0,s.useCallback)((function(e){return(0,m.jsx)(r.Z,{onClick:w,children:e})}),[w]);if(b&&k){var S=(0,m.jsx)(s.Suspense,{fallback:(0,m.jsx)(a.Z,{variant:"text",width:100}),children:(0,m.jsxs)(i.Z,{children:[b.elementKey&&Z.ZP[b.elementKey]," ",b.name]})});return(0,m.jsx)(h.Z,{sx:{maxWidth:128,position:"relative",display:"flex",flexDirection:"column"},children:(0,m.jsxs)(v.Z,{condition:!!y,wrapper:C,children:[(0,m.jsx)(x.Z,{placement:"top",title:S,children:(0,m.jsx)(o.Z,{display:"flex",className:"grad-".concat(b.rarity,"star"),children:(0,m.jsx)(o.Z,{component:"img",src:b.thumbImgSide,maxWidth:"100%",maxHeight:"100%",sx:{transform:"scale(1.4)",transformOrigin:"bottom"}})})}),(0,m.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",top:0},children:(0,m.jsx)("strong",{children:(0,m.jsxs)(p.Z,{color:"primary",children:[k.level,"/",u.SJ[k.ascension]]})})}),(0,m.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,m.jsx)("strong",{children:(0,m.jsxs)(p.Z,{color:"secondary",children:["C",k.constellation]})})})]})})}return(0,m.jsx)(h.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:"12.5%"},children:(0,m.jsx)(o.Z,{component:"img",src:c.Z.team["team".concat(j+2)],sx:{width:"75%",height:"auto",opacity:.7}})})}},3082:function(e,n,t){t.d(n,{w:function(){return F}});var r=t(93433),a=t(29439),i=t(14361),o=t(90690),s=t(39504),c=t(61889),l=t(58165),u=t(94721),d=t(47047),f=t(68870),x=t(13400),h=t(66647),v=t(20890),p=t(72791),Z=t(22020),m=t(10658),g=t(947),j=t(2139),y=t(7618),b=t(26138),k=t(17278),w=t(68544),C=t(42320),S=t(47639),P=t(12759),K=t(24351),D=t(50921),I=t(46956),M=t(3992),E=t(71310),W=t(68198),_=t(55942),B=t(9321),T=t(59215),z=t(25617),R=t(10157),N=t(75545),V=t(48510),O=t(73578),A=t(80184),H=["level","rarity","name"];function F(e){var n=e.show,t=e.onHide,i=e.onSelect,o=e.filter,d=void 0===o?function(){return!0}:o,f=e.newFirst,x=void 0!==f&&f,h=(0,p.useMemo)((function(){return x?["new"].concat(H):H}),[x]),v=(0,p.useContext)(y.t).database,m=(0,Z.$)(["page_character","charNames_gen"]).t,j=(0,p.useState)(h[0]),b=(0,a.Z)(j,2),k=b[0],S=b[1],P=(0,p.useState)(!1),E=(0,a.Z)(P,2),_=E[0],z=E[1],R=(0,p.useState)((0,r.Z)(K.N)),N=(0,a.Z)(R,2),F=N[0],Q=N[1],L=(0,p.useState)((0,r.Z)(K.yd)),G=(0,a.Z)(L,2),J=G[0],U=G[1],Y=(0,C.Z)((function(){return g.Z.getAll}),[]),X=(0,w.Z)(),$=(0,a.Z)(X,2),ee=$[0],ne=$[1];(0,p.useEffect)((function(){return v.states.followAny((function(e){return"string"===typeof e&&e.includes("charMeta_")&&ne()}))}),[ne,v]);var te=(0,p.useState)(""),re=(0,a.Z)(te,2),ae=re[0],ie=re[1],oe=(0,p.useDeferredValue)(ae),se=(0,p.useMemo)((function(){return Y&&(0,D._L)(v,Y)}),[v,Y]),ce=(0,p.useMemo)((function(){return Y&&ee&&(0,D.zU)(v,Y)}),[ee,v,Y]),le=(0,p.useMemo)((function(){return Y?K.IV.filter((function(e){return d(v.chars.get(e),Y[e])})):[]}),[v,Y,d]),ue=(0,p.useMemo)((function(){return Y&&se&&ce?le.filter((0,I.C)({element:F,weaponType:J,favorite:"yes",name:oe},ce)).sort((0,I.e)(k,_,se)).concat(le.filter((0,I.C)({element:F,weaponType:J,favorite:"no",name:oe},ce)).sort((0,I.e)(k,_,se))):[]}),[Y,F,J,k,_,se,ce,le,oe]);return Y?(0,A.jsx)(B.Z,{open:n,onClose:t,sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:(0,A.jsxs)(M.Z,{children:[(0,A.jsx)(s.Z,{sx:{py:1},children:(0,A.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,A.jsx)(c.ZP,{item:!0,children:(0,A.jsx)(O.Z,{sx:{height:"100%"},onChange:U,value:J,size:"small"})}),(0,A.jsx)(c.ZP,{item:!0,children:(0,A.jsx)(V.Z,{sx:{height:"100%"},onChange:Q,value:F,size:"small"})}),(0,A.jsx)(c.ZP,{item:!0,children:(0,A.jsx)(l.Z,{autoFocus:!0,value:ae,onChange:function(e){return ie(e.target.value)},label:m("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,A.jsx)(c.ZP,{item:!0,flexGrow:1}),(0,A.jsx)(c.ZP,{item:!0,children:(0,A.jsx)(T.Z,{sx:{height:"100%"},sortKeys:h,value:k,onChange:S,ascending:_,onChangeAsc:z})}),(0,A.jsx)(c.ZP,{item:!0,children:(0,A.jsx)(W.Z,{onClick:t})})]})}),(0,A.jsx)(u.Z,{}),(0,A.jsx)(s.Z,{children:(0,A.jsx)(c.ZP,{container:!0,spacing:1,children:ue.map((function(e){return(0,A.jsx)(c.ZP,{item:!0,xs:6,md:4,lg:3,children:(0,A.jsx)(q,{characterKey:e,characterSheet:Y[e],onClick:function(){t(),null===i||void 0===i||i(e)}},e)},e)}))})})]})}):null}function q(e){var n,t,r=e.onClick,s=e.characterKey,c=e.characterSheet,l=(0,S.Z)(s),u=(null!==(n=null===l||void 0===l?void 0:l[s])&&void 0!==n?n:{}).target,Z=c.rarity,g=u?u.get(b.ri.charEle).value:void 0,y=(0,k.Z)("charMeta_".concat(s),P.B),w=(0,a.Z)(y,2),C=w[0].favorite,K=w[1];return(0,A.jsx)(p.Suspense,{fallback:(0,A.jsx)(d.Z,{variant:"rectangular",height:130}),children:(0,A.jsxs)(f.Z,{children:[void 0!==C&&(0,A.jsx)(f.Z,{display:"flex",position:"absolute",alignSelf:"start",zIndex:1,children:(0,A.jsx)(x.Z,{sx:{p:.5},onClick:function(){return K({favorite:!C})},children:C?(0,A.jsx)(i.Z,{}):(0,A.jsx)(o.Z,{})})}),(0,A.jsx)(h.Z,{onClick:r,children:(0,A.jsxs)(E.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,A.jsx)(f.Z,{component:"img",src:c.thumbImg,sx:{width:130,height:"auto"},className:"grad-".concat(Z,"star")}),(0,A.jsxs)(f.Z,{sx:{pl:1},children:[(0,A.jsx)(v.Z,{children:(0,A.jsx)("strong",{children:c.name})}),u?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(v.Z,{variant:"h6",sx:{display:"flex",gap:.5,alignItems:"center"},children:[" ",g&&N.ZP[g]," ",(0,A.jsx)(_.Z,{src:null===(t=m.Z.weaponTypes)||void 0===t?void 0:t[c.weaponTypeKey]})," ",(0,j.wQ)(u.get(b.ri.lvl).value,u.get(b.ri.asc).value)]}),(0,A.jsxs)(v.Z,{variant:"subtitle2",children:[(0,A.jsx)(z.Z,{color:"success",children:"C".concat(u.get(b.ri.constellation).value)})," ",(0,A.jsx)(z.Z,{color:u.get(b.ri.bonus.auto).value?"info":"secondary",children:(0,A.jsx)("strong",{children:u.get(b.ri.total.auto).value})})," ",(0,A.jsx)(z.Z,{color:u.get(b.ri.bonus.skill).value?"info":"secondary",children:(0,A.jsx)("strong",{children:u.get(b.ri.total.skill).value})})," ",(0,A.jsx)(z.Z,{color:u.get(b.ri.bonus.burst).value?"info":"secondary",children:(0,A.jsx)("strong",{children:u.get(b.ri.total.burst).value})})]})]}):(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(v.Z,{variant:"h6",children:(0,A.jsx)(z.Z,{color:"primary",children:"NEW"})})}),(0,A.jsx)("small",{children:(0,A.jsx)(R.q,{stars:Z,colored:!0})})]})]})})]})})}},20005:function(e,n,t){function r(e){var n=e.condition,t=e.wrapper,r=e.falseWrapper,a=e.children;return n?t(a):r?r(a):a}t.d(n,{Z:function(){return r}})},88034:function(e,n,t){t.d(n,{ms:function(){return I},lD:function(){return E},JW:function(){return M},ZP:function(){return K}});var r=t(35893),a=t(15021),i=t(68870),o=t(20890),s=t(47047),c=t(94721),l=t(66934),u=t(90493),d=t(72791),f=t(13746),x=t(60705),h=t(79406),v=t(24351),p=t(60393),Z=t(63210),m=t(91702),g=t(1413),j=t(45987),y=t(53174),b=t(54483),k=t(96106),w=t(80184),C=["className"],S=function(e){var n=e.className,t=(0,j.Z)(e,C);return(0,w.jsx)(k.Z,(0,g.Z)((0,g.Z)({placement:"top"},t),{},{className:n,children:(0,w.jsx)(i.Z,{component:"span",sx:{cursor:"help"},children:(0,w.jsx)(b.G,{icon:y.Fuz})})}))},P=t(75545);function K(e){var n=e.fields;return(0,w.jsx)(E,{sx:{m:0},children:n.map((function(e,n){return(0,w.jsx)(D,{field:e,component:a.ZP},n)}))})}function D(e){var n=e.field,t=e.component,r=(0,d.useContext)(f.R),a=r.data,i=r.oldData;if(!(0,d.useMemo)((function(){var e,t;return null===(e=null===n||void 0===n||null===(t=n.canShow)||void 0===t?void 0:t.call(n,a))||void 0===e||e}),[n,a]))return null;if("node"in n){var o=a.get(n.node);if(o.isEmpty)return null;if(i){var s=i.get(n.node),c=s.isEmpty?0:s.value;return(0,w.jsx)(M,{node:o,oldValue:c,suffix:n.textSuffix,component:t})}return(0,w.jsx)(M,{node:o,suffix:n.textSuffix,component:t})}return(0,w.jsx)(I,{field:n,component:t})}function I(e){var n,t=e.field,r=e.component,a=(0,d.useContext)(f.R).data,s=(0,p.mY)(t.value,a),c=(0,p.mY)(t.variant,a),l=t.text&&(0,w.jsx)("span",{children:t.text}),u=t.textSuffix&&(0,w.jsx)("span",{children:t.textSuffix});return(0,w.jsxs)(i.Z,{width:"100%",sx:{display:"flex",justifyContent:"space-between",gap:1},component:r,children:[(0,w.jsxs)(o.Z,{color:"".concat(c,".main"),sx:{display:"flex",gap:1,alignItems:"center"},children:[l,u]}),(0,w.jsxs)(o.Z,{children:["number"===typeof s?null===(n=s.toFixed)||void 0===n?void 0:n.call(s,t.fixed):s,t.unit]})]})}function M(e){var n=e.node,t=e.oldValue,a=e.suffix,l=e.component,u=e.emphasize,p=(0,d.useContext)(f.R).data,g=(0,d.useContext)(x.M).setFormulaData,j=(0,d.useCallback)((function(){return g(p,n)}),[g,p,n]);if(n.isEmpty)return null;a=a&&(0,w.jsx)("span",{children:a});var y=n.info.key&&P.ZP[n.info.key],b=n.info.key?h.ZP.get(n.info.key):"",k=n.info.isTeamBuff,C=n.formula,K="";if(void 0!==t){var D=n.value-t;K=(0,w.jsxs)("span",{children:[(0,h.EC)(t,n.unit),D>1e-4||D<-1e-4?(0,w.jsxs)(m.Z,{color:D>0?"success":"error",children:[" ",D>0?"+":"",(0,h.EC)(D,n.unit)]}):""]})}else K=(0,h.EC)(n.value,n.unit);var I=!!n.formula&&(0,w.jsx)(S,{onClick:j,title:(0,w.jsx)(o.Z,{children:(0,w.jsxs)(d.Suspense,{fallback:(0,w.jsx)(s.Z,{variant:"rectangular",width:300,height:30}),children:[v.jU.includes(n.info.variant)&&(0,w.jsxs)(i.Z,{sx:{display:"inline-flex",gap:1,mr:1},children:[(0,w.jsx)(i.Z,{children:(0,w.jsx)(Z.Z,{reaction:n.info.variant,trigger:n.info.subVariant})}),(0,w.jsx)(c.Z,{orientation:"vertical",flexItem:!0})]}),(0,w.jsx)("span",{children:C})]})})});return(0,w.jsxs)(i.Z,{width:"100%",sx:{display:"flex",justifyContent:"space-between",gap:1,boxShadow:u?"0px 0px 0px 2px red inset":void 0},component:l,children:[(0,w.jsxs)(o.Z,{color:"".concat(n.info.variant,".main"),sx:{display:"flex",gap:1,alignItems:"center"},children:[!!k&&(0,w.jsx)(r.Z,{}),y,b,a]}),(0,w.jsxs)(i.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,w.jsx)(o.Z,{noWrap:!0,children:K}),I]})]})}var E=(0,l.ZP)(u.Z)((function(e){var n=e.theme,t=e.light,r=void 0===t?"contentDark":t,a=e.dark,i=void 0===a?"contentDarker":a,o=e.palletOption,s=void 0===o?"main":o;return{borderRadius:n.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:n.palette[r][s]},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:n.palette[i][s]}}}))},59215:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),a=t(45987),i=t(53174),o=t(54483),s=t(2199),c=t(23786),l=t(24518),u=t(52791),d=t(22020),f=t(76899),x=t(33890),h=t(80184),v=["sortKeys","value","onChange","ascending","onChangeAsc"];function p(e){var n=e.sortKeys,t=e.value,p=e.onChange,Z=e.ascending,m=e.onChangeAsc,g=(0,a.Z)(e,v),j=(0,d.$)("ui").t;return(0,h.jsxs)(u.Z,{display:"flex",alignItems:"center",gap:1,children:[(0,h.jsx)(f.c,{t:j,i18nKey:j("sortBy"),children:"Sort by: "}),(0,h.jsxs)(s.Z,(0,r.Z)((0,r.Z)({},g),{},{children:[(0,h.jsx)(x.Z,{title:(0,h.jsx)(f.c,{t:j,i18nKey:j("sortMap.".concat(t)),children:{value:j("sortMap.".concat(t))}}),children:n.map((function(e){return(0,h.jsx)(c.Z,{selected:t===e,disabled:t===e,onClick:function(){return p(e)},children:j("sortMap.".concat(e))},e)}))}),(0,h.jsx)(l.Z,{onClick:function(){return m(!Z)},startIcon:(0,h.jsx)(o.G,{icon:Z?i.Pa6:i.xrW,className:"fa-fw"}),children:Z?(0,h.jsx)(f.c,{t:j,i18nKey:"ascending",children:"Ascending"}):(0,h.jsx)(f.c,{t:j,i18nKey:"descending",children:"Descending"})})]}))]})}},10157:function(e,n,t){t.d(n,{q:function(){return l}});var r=t(93433),a=t(53174),i=t(54483),o=t(20890),s=t(80184),c=function(){return(0,s.jsx)(i.G,{icon:a.Tab})},l=function(e){var n=e.stars,t=e.colored,a=void 0!==t&&t;return(0,s.jsx)(o.Z,{color:a?"warning.main":void 0,component:"span",children:n?(0,r.Z)(Array(n).keys()).map((function(e,n){return(0,s.jsx)(c,{},n)})):null})}},48510:function(e,n,t){t.d(n,{Z:function(){return Z}});var r=t(1413),a=t(45987),i=t(93433),o=t(72466),s=t(68870),c=t(24351),l=t(75308),u=t(66934),d=t(90388),f=(0,u.ZP)(d.Z,{shouldForwardProp:function(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var n=e.theme,t=e.baseColor,r=void 0===t?"secondary":t,a=e.selectedColor,i=void 0===a?"success":a;return{"&":{backgroundColor:n.palette[r].main,color:n.palette[r].contrastText},"&:hover":{backgroundColor:n.palette[r].dark},"&.Mui-selected":{backgroundColor:n.palette[i].main,color:n.palette[i].contrastText},"&.Mui-selected:hover":{backgroundColor:n.palette[i].dark},"&.Mui-disabled":{backgroundColor:n.palette[r].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:n.palette[i].dark}}})),x=t(75545),h=t(80184),v=["value","onChange"],p=(0,l.X)((0,i.Z)(c.N));function Z(e){var n=e.value,t=e.onChange,i=(0,a.Z)(e,v);return(0,h.jsx)(o.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:n},i),{},{children:c.N.map((function(e){return(0,h.jsx)(f,{value:e,selectedColor:e,onClick:function(){return t(p(n,e))},children:(0,h.jsx)(s.Z,{sx:{fontSize:"2em",lineHeight:1},children:x.hJ[e]})},e)}))}))}},73578:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(1413),a=t(45987),i=t(93433),o=t(90388),s=t(10658),c=t(24351),l=t(75308),u=t(55942),d=t(91839),f=t(80184),x=["value","onChange"],h=(0,l.X)((0,i.Z)(c.yd));function v(e){var n=e.value,t=e.onChange,i=(0,a.Z)(e,x);return(0,f.jsx)(d.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:n},i),{},{children:c.yd.map((function(e){var r;return(0,f.jsx)(o.Z,{value:e,onClick:function(){return t(h(n,e))},children:(0,f.jsx)(u.Z,{src:null===(r=s.Z.weaponTypes)||void 0===r?void 0:r[e],size:2})},e)}))}))}},77208:function(e,n,t){t.d(n,{Z:function(){return Z}});var r=t(68870),a=t(20890),i=t(72791),o=t(66218),s=t(26138),c=t(73036),l=t(79406),u=t(42320),d=t(74480),f=t(3992),x=t(25617),h=t(75545),v=t(41717),p=t(80184);function Z(e){var n=e.weaponId,t=(0,d.Z)(n),l=(0,u.Z)((function(){return(null===t||void 0===t?void 0:t.key)&&o.Z.get(t.key)}),[null===t||void 0===t?void 0:t.key]),h=(0,i.useMemo)((function(){return l&&t&&(0,c.mP)([l.data,(0,c.v0)(t)])}),[l,t]);if(!t||!l||!h)return null;var Z=(0,p.jsxs)(r.Z,{children:[(0,p.jsx)(m,{node:h.get(s.ri.weapon.main)}),(0,p.jsx)(m,{node:h.get(s.ri.weapon.sub)})]});return(0,p.jsxs)(f.Z,{sx:{height:"100%",maxWidth:128,position:"relative",display:"flex",flexDirection:"column"},children:[(0,p.jsx)(r.Z,{display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(l.rarity,"star"),children:(0,p.jsx)(v.Z,{sheet:l,addlText:Z,children:(0,p.jsx)(r.Z,{component:"img",src:l.getImg(t.ascension),maxWidth:"100%",maxHeight:"100%",sx:{mt:"auto"}})})}),(0,p.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none"},children:(0,p.jsx)("strong",{children:(0,p.jsx)(x.Z,{color:"primary",children:o.Z.getLevelString(t)})})}),l.hasRefinement&&(0,p.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,p.jsx)("strong",{children:(0,p.jsxs)(x.Z,{color:"secondary",children:["R",t.refinement]})})})]})}function m(e){var n=e.node;if(!n.info.key)return null;var t=(0,l.EC)(n.value,n.unit,n.unit?void 0:0);return(0,p.jsxs)(a.Z,{children:[h.ZP[n.info.key]," ",t]})}},41717:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(47047),a=t(20890),i=t(72791),o=t(10658),s=t(96106),c=t(55942),l=t(80184);function u(e){var n=e.sheet,t=e.addlText,u=e.children,d=(0,l.jsxs)(i.Suspense,{fallback:(0,l.jsx)(r.Z,{variant:"text",width:100}),children:[(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(c.Z,{src:o.Z.weaponTypes[n.weaponType]})," ",n.name]}),t]});return(0,l.jsx)(s.Z,{placement:"top",title:d,disableInteractive:!0,children:u})}},60705:function(e,n,t){t.d(n,{B:function(){return c},M:function(){return s}});var r=t(29439),a=t(72791),i=t(24711),o=t(80184),s=(0,a.createContext)({setFormulaData:function(){},onModalOpen:function(){},onModalClose:function(){}});function c(e){var n=e.children,t=(0,i.Z)(),c=(0,r.Z)(t,3),l=c[0],u=c[1],d=c[2],f=(0,a.useState)([void 0,void 0]),x=(0,r.Z)(f,2),h=(0,r.Z)(x[0],2),v=h[0],p=h[1],Z=x[1],m=(0,a.useCallback)((function(e,n){e&&n?u():d(),Z([e,n])}),[u,d]);return(0,o.jsx)(s.Provider,{value:{setFormulaData:m,data:v,node:p,modalOpen:l,onModalOpen:u,onModalClose:d},children:n})}},11741:function(e,n,t){t.d(n,{J:function(){return z},Y:function(){return R}});var r,a=t(1413),i=t(93433),o=t(75545),s=t(66624),c=t(26138),l=t(73036),u=t(78661),d=t(24351),f=t(60393),x=t(53343),h=t(80184),v=function(e){return(0,h.jsx)(s.v,{ns:"elementalResonance_gen",key18:e})},p=u.Sm.apply(void 0,(0,i.Z)(d.N.map((function(e){return c.uK[e]})))),Z=(0,f.Uq)(d.Kj,(function(e){return["".concat(e,"_res_"),(0,u.ew)(c.uK.ele,4,(0,u.aQ)(.15))]})),m={name:v("ProtectiveCanopy.name"),desc:v("ProtectiveCanopy.desc"),icon:(0,h.jsxs)("span",{children:[o.ZP.anemo," ",o.ZP.geo," ",o.ZP.pyro," ",o.ZP.hydro," ",o.ZP.cryo," ",o.ZP.electro," x4"]}),canShow:function(e){return 4===d.N.filter((function(n){return e.get(c.uK[n]).value>=1})).length},sections:[{teamBuff:!0,fields:Object.values(Z).map((function(e){return{node:e}}))}]},g=(0,u.ew)(p,4,(0,u.ew)(c.uK.pyro,2,(0,u.aQ)(.25))),j={name:v("FerventFlames.name"),desc:v("FerventFlames.desc"),icon:(0,h.jsxs)("span",{children:[o.ZP.pyro," ",o.ZP.pyro]}),canShow:function(e){return e.get(c.uK.pyro).value>=2&&e.get(p).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,x.st)("effectDuration.cryo"),value:-40,unit:"%"},{node:g}]}]},y=(0,u.ew)(p,4,(0,u.ew)(c.uK.hydro,2,(0,u.aQ)(.3))),b={name:v("SoothingWater.name"),desc:v("SoothingWater.desc"),icon:(0,h.jsxs)("span",{children:[o.ZP.hydro," ",o.ZP.hydro]}),canShow:function(e){return e.get(c.uK.hydro).value>=2&&e.get(p).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,x.st)("effectDuration.pyro"),value:-40,unit:"%"},{node:y}]}]},k=["resonance","ShatteringIce"],w=(0,x.v9)(k),C=(0,u.ew)(p,4,(0,u.ew)(c.uK.cryo,2,(0,u.Dg)(w,"on",(0,u.aQ)(.15)))),S={name:v("ShatteringIce.name"),desc:v("ShatteringIce.desc"),icon:(0,h.jsxs)("span",{children:[o.ZP.cryo," ",o.ZP.cryo]}),canShow:function(e){return e.get(c.uK.cryo).value>=2&&e.get(p).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,x.st)("effectDuration.electro"),value:-40,unit:"%"}]},{teamBuff:!0,path:k,value:w,name:(r="ShatteringIce.cond",(0,h.jsx)(s.v,{ns:"elementalResonance",key18:r})),header:{title:v("ShatteringIce.name"),icon:o.ZP.cryo},states:{on:{fields:[{node:C}]}}}]},P={name:v("HighVoltage.name"),desc:v("HighVoltage.desc"),icon:(0,h.jsxs)("span",{children:[o.ZP.electro," ",o.ZP.electro]}),canShow:function(e){return e.get(c.uK.electro).value>=2&&e.get(p).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,x.st)("effectDuration.hydro"),value:-40,unit:"%"}]}]},K=(0,u.ew)(p,4,(0,u.ew)(c.uK.anemo,2,(0,u.aQ)(-.15))),D=(0,u.ew)(p,4,(0,u.ew)(c.uK.anemo,2,(0,u.aQ)(.1))),I=(0,u.ew)(p,4,(0,u.ew)(c.uK.anemo,2,(0,u.aQ)(-.05))),M={name:v("ImpetuousWinds.name"),desc:v("ImpetuousWinds.desc"),icon:(0,h.jsxs)("span",{children:[o.ZP.anemo," ",o.ZP.anemo]}),canShow:function(e){return e.get(c.uK.anemo).value>=2&&e.get(p).value>=4},sections:[{teamBuff:!0,fields:[{node:K},{node:D},{node:I}]}]},E=["resonance","EnduringRock"],W=(0,x.v9)(E),_=(0,u.ew)(p,4,(0,u.ew)(c.uK.geo,2,(0,u.aQ)(.15))),B=(0,u.ew)(p,4,(0,u.ew)(c.uK.geo,2,(0,u.Dg)(W,"on",(0,u.aQ)(.15)))),T=(0,u.ew)(p,4,(0,u.ew)(c.uK.geo,2,(0,u.Dg)(W,"on",(0,u.aQ)(-.2)))),z=[m,j,b,S,P,M,{name:v("EnduringRock.name"),desc:v("EnduringRock.desc"),icon:(0,h.jsxs)("span",{children:[o.ZP.geo," ",o.ZP.geo]}),canShow:function(e){return e.get(c.uK.geo).value>=2&&e.get(p).value>=4},sections:[{teamBuff:!0,text:v("EnduringRock.desc"),fields:[{node:_}]},{teamBuff:!0,path:E,value:W,header:{title:v("EnduringRock.name"),icon:o.ZP.geo},name:(0,x.st)("protectedByShield"),states:{on:{fields:[{node:B},{node:T},{text:(0,x.Oy)("duration"),value:15,unit:"s"}]}}}]}],R=(0,l.d1)({premod:(0,a.Z)((0,a.Z)({},Z),{},{atk_:g,incHeal_:y,staminaDec_:K,moveSPD_:D,cdRed_:I,shield_:_,all_dmg_:B,geo_enemyRes_:T}),total:{critRate_:C}})},566:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(74165),a=t(15861),i=t(72791),o=t(16871),s=t(947),c=t(7618),l=t(24351),u=t(11400),d=t(60393);function f(){var e,n=(0,i.useContext)(c.t).database,t=(0,o.s0)(),f=(null!==(e=(0,o.bS)({path:"/characters/:charKey/:tab",end:!1}))&&void 0!==e?e:{params:{tab:""}}).params.tab,x=void 0===f?"":f,h=(0,i.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a){var i,o,c,f,h,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.chars.get(a),o=x,i){e.next=14;break}return c={key:a,level:1,ascension:0,hitMode:"avgHit",equippedArtifacts:(0,d.O)(l.eV,(function(){return""})),equippedWeapon:"",conditional:{},bonusStats:{},enemyOverride:{},talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0,team:["","",""],teamConditional:{},compareData:!1,customMultiTarget:[]},n.chars.set(a,c),e.next=7,s.Z.get(a);case 7:if(f=e.sent){e.next=10;break}return e.abrupt("return");case 10:h=(0,u.Q)(f.weaponTypeKey),v=n.weapons.new(h),n.weapons.set(v,{location:a}),o="";case 14:t("/characters/".concat(a,"/").concat(o));case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,n,x]);return h}},13434:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(72791),i=t(7618);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,a.useContext)(i.t),t=n.database,o=(0,a.useState)(t.chars.get(e)),s=(0,r.Z)(o,2),c=s[0],l=s[1];return(0,a.useEffect)((function(){return l(t.chars.get(e))}),[t,e]),(0,a.useEffect)((function(){return e?t.chars.follow(e,l):void 0}),[e,l,t]),c}},50920:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(93433),a=t(4942),i=t(1413),o=t(72791),s=t(7618),c=t(60393);function l(e){var n=(0,o.useContext)(s.t).database;return(0,o.useCallback)((function(t){if(e){var o=n.chars.get(e);if(o)if("type"in t)switch(t.type){case"enemyOverride":var s=o.enemyOverride,l=t.statKey,u=t.value;if(s[l]===u)break;n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{enemyOverride:(0,i.Z)((0,i.Z)({},s),{},(0,a.Z)({},l,u))}));break;case"editStats":var d=t.statKey,f=t.value,x=(0,c.I8)(o.bonusStats);if(x[d]===f)break;f?x[d]=f:delete x[d],n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{bonusStats:x}));break;case"resetStats":var h=t.statKey,v=o.bonusStats;delete v[h],n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{bonusStats:v}));break;case"teamConditional":var p=t.teamMateKey,Z=t.conditional,m=(0,c.I8)(o.teamConditional);m[p]=Z,n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{teamConditional:m}));break;case"team":var g=o.team,j=(0,r.Z)(g),y=t.index,b=t.charKey;j[y]=b,n.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{team:j}))}else n.chars.set(e,(0,i.Z)((0,i.Z)({},o),t))}}),[e,n])}},68544:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(29439),a=t(72791);function i(){var e=(0,a.useState)({}),n=(0,r.Z)(e,2),t=n[0],i=n[1];return[t,(0,a.useCallback)((function(){return i({})}),[])]}},70645:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(13967),a=t(95193);function i(){var e=(0,r.Z)(),n=(0,a.Z)(e.breakpoints.up("sm")),t=(0,a.Z)(e.breakpoints.up("md")),i=(0,a.Z)(e.breakpoints.up("lg"));return(0,a.Z)(e.breakpoints.up("xl"))?"xl":i?"lg":t?"md":n?"sm":"xs"}},47639:function(e,n,t){t.d(n,{V:function(){return S},Z:function(){return k}});var r=t(93433),a=t(4942),i=t(74165),o=t(1413),s=t(45987),c=t(15861),l=t(29439),u=t(72791),d=t(31148),f=t(947),x=t(11741),h=t(66218),v=t(7618),p=t(26138),Z=t(73036),m=t(60393),g=t(68544),j=t(42320),y=["data"],b=["display"];function k(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=(0,u.useContext)(v.t),i=a.database,o=(0,g.Z)(),s=(0,l.Z)(o,2),c=s[0],d=s[1],f=(0,u.useDeferredValue)(c),x=(0,j.Z)((function(){return w(i,e,n,t,r)}),[f,e,i,n,t,r]);(0,u.useEffect)((function(){return e?i.chars.follow(e,d):void 0}),[e,d,i]),(0,u.useEffect)((function(){return e?i.arts.followAny(d):void 0}),[e,d,i]);var h=Object.keys(null!==x&&void 0!==x?x:{}),p=(0,l.Z)(h,4),Z=p[0],m=p[1],y=p[2],b=p[3],k=(0,u.useCallback)((function(){h.map((function(e){return i.invalidateTeamData(e)})),d()}),[i,h,d]);return(0,u.useEffect)((function(){return Z?i.chars.follow(Z,k):void 0}),[Z,k,i]),(0,u.useEffect)((function(){return m?i.chars.follow(m,k):void 0}),[m,k,i]),(0,u.useEffect)((function(){return y?i.chars.follow(y,k):void 0}),[y,k,i]),(0,u.useEffect)((function(){return b?i.chars.follow(b,k):void 0}),[b,k,i]),x}function w(e,n){return C.apply(this,arguments)}function C(){return C=(0,c.Z)((0,i.Z)().mark((function e(n,t){var r,a,c,l,u,d,f,x,h,v,p=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.length>2&&void 0!==p[2]?p[2]:0,c=p.length>3?p[3]:void 0,l=p.length>4?p[4]:void 0,t){e.next=5;break}return e.abrupt("return");case 5:if(a||c||l){e.next=9;break}if(!(u=n._getTeamData(t))){e.next=9;break}return e.abrupt("return",u);case 9:return e.next=11,S(n,t,a,c,l);case 11:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=15;break}e.t0=void 0!==r;case 15:if(!e.t0){e.next=19;break}e.t2=r,e.next=20;break;case 19:e.t2={};case 20:if(d=e.t2,f=d.teamData,x=d.teamBundle,f&&x){e.next=25;break}return e.abrupt("return");case 25:return h=(0,Z.Qo)(f,t),v=(0,m.xh)(h,(function(e,n){var t=x[n],r=(t.data,(0,s.Z)(t,y));return(0,o.Z)((0,o.Z)({},e),r)})),a||c||l||n.cacheTeamData(t,v),e.abrupt("return",v);case 29:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function S(e,n){return P.apply(this,arguments)}function P(){return P=(0,c.Z)((0,i.Z)().mark((function e(n,t){var r,o,s,l,u,d,f,x=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=x.length>2&&void 0!==x[2]?x[2]:0,o=x.length>3?x[3]:void 0,s=x.length>4?x[4]:void 0,t){e.next=5;break}return e.abrupt("return");case 5:if(l=n.chars.get(t)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,K(n,t,!0,{mainStatAssumptionLevel:r,overrideArt:o,overrideWeapon:s});case 10:if(u=e.sent){e.next=13;break}return e.abrupt("return");case 13:return d=(0,a.Z)({},t,u),f=(0,a.Z)({},t,u.data),e.next=17,Promise.all(u.character.team.map(function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,K(n,t,!1,{overrideConditional:null!==(r=l.teamConditional[t])&&void 0!==r?r:{}});case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return");case 7:d[t]=a,f[t]=a.data;case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 17:return e.abrupt("return",{teamData:f,teamBundle:d});case 18:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function K(e,n){return D.apply(this,arguments)}function D(){return D=(0,c.Z)((0,i.Z)().mark((function e(n,t){var a,c,l,u,v,m,g,j,y,k,w,C,S,P,K,D,I,M,E=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E.length>2&&void 0!==E[2]&&E[2],c=E.length>3?E[3]:void 0,t){e.next=4;break}return e.abrupt("return");case 4:if(l=n.chars.get(t)){e.next=7;break}return e.abrupt("return");case 7:if(u=c.mainStatAssumptionLevel,v=void 0===u?0:u,m=c.overrideArt,g=c.overrideWeapon,j=c.overrideConditional,y=j?(0,o.Z)((0,o.Z)({},l),{},{conditional:j}):l,k=null!==g&&void 0!==g?g:n.weapons.get(y.equippedWeapon)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,f.Z.get(t);case 14:if(w=e.sent){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,h.Z.get(k.key);case 19:if(C=e.sent){e.next=22;break}return e.abrupt("return");case 22:return e.next=24,h.Z.getAllDataOfType(w.weaponTypeKey);case 24:return S=e.sent,P=a?function(){var e=C.data,n=(e.display,(0,s.Z)(e,b));return(0,Z.b3)([n,S])}():C.data,e.next=28,d.y.getAllData;case 28:return K=e.sent,D=(null!==m&&void 0!==m?m:Object.values(y.equippedArtifacts).map((function(e){return n.arts.get(e)}))).filter((function(e){return e})),I=(0,Z.b3)([w.getData(y.elementKey),P,K]),M=[].concat((0,r.Z)(D.map((function(e){return(0,Z.n3)(e,v)}))),[(0,Z.vn)(y,a?I:void 0),(0,Z.v0)(k),I,p.y0,x.Y]),e.abrupt("return",{character:y,weapon:k,characterSheet:w,weaponSheet:C,data:M});case 33:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}},74480:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(72791),i=t(7618);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,a.useContext)(i.t),t=n.database,o=(0,a.useState)(t.weapons.get(e)),s=(0,r.Z)(o,2),c=s[0],l=s[1];return(0,a.useEffect)((function(){return l(t.weapons.get(e))}),[t,e]),(0,a.useEffect)((function(){return e?t.weapons.follow(e,l):void 0}),[e,l,t]),c}},50921:function(e,n,t){t.d(n,{_L:function(){return o},vV:function(){return i},zU:function(){return s}});var r=t(72828),a=t(12759),i=["level","rarity","name"];function o(e,n){return{new:{getValue:function(n){return e.chars.get(n)?0:1},tieBreaker:"name"},name:{getValue:function(e){return r.Z.t('charNames_gen"'.concat(e)).toString()}},level:{getValue:function(n){var t=e.chars.get(n);return t?t.level*t.ascension:0},tieBreaker:"rarity"},rarity:{getValue:function(e){var t;return null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.rarity},tieBreaker:"level"}}}function s(e,n){return{element:function(t,r){var a,i;return r.includes(null===n||void 0===n||null===(a=n[t])||void 0===a?void 0:a.elementKey)||"Traveler"===t&&!e.chars.get(t)&&r.some((function(e){return n.Traveler.elementKeys.includes(e)}))||"Traveler"===t&&r.includes(null===(i=e.chars.get(t))||void 0===i?void 0:i.elementKey)},weaponType:function(e,t){var r;return t.includes(null===n||void 0===n||null===(r=n[e])||void 0===r?void 0:r.weaponTypeKey)},favorite:function(n,t){return!t||t===(e.states.getWithInit("charMeta_".concat(n),a.B).favorite?"yes":"no")},name:function(e,n){return!n||r.Z.t("charNames_gen:".concat(e)).toLowerCase().includes(n.toLowerCase())}}}},75308:function(e,n,t){t.d(n,{X:function(){return i}});var r=t(93433),a=t(60393);function i(e){return function(n,t){var i=n.length;return i===e.length?[t]:1===i&&n[0]===t?(0,r.Z)(e):(0,r.Z)(new Set((0,a.nh)(n,t)))}}},46956:function(e,n,t){t.d(n,{C:function(){return i},e:function(){return a}});var r=t(29439);function a(e,n,t){function r(e,n,t,r){var a=r.getValue(e),i=r.getValue(n);return(t?-1:1)*("string"===typeof a&&"string"===typeof i?a.localeCompare(i):i-a)}return function(a,i){if(!t[e])return 0;var o=t[e],s=r(a,i,n,o);return!s&&o.tieBreaker&&t[o.tieBreaker]&&(s=r(a,i,n,t[o.tieBreaker])),s}}function i(e,n){return function(t){return Object.entries(e).every((function(e){var a=(0,r.Z)(e,2),i=a[0],o=a[1];return n[i]&&n[i](t,o)}))}}},12759:function(e,n,t){t.d(n,{B:function(){return o},c:function(){return i}});var r=t(93433),a=t(50765);function i(){return{tcMode:!1}}function o(){return{rvFilter:(0,r.Z)(a._),favorite:!1}}}}]);
//# sourceMappingURL=748.2b6be2cd.chunk.js.map