"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[377],{9662:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var r=t(74165),s=t(15861),c=t(29439),i=t(93433),a=t(53174),l=t(54483),o=t(45781),u=t(35893),h=t(10284),x=t(59496),d=t(68870),f=t(39504),Z=t(61889),m=t(58165),j=t(57246),p=t(47047),g=t(20890),v=t(24518),y=t(94721),w=t(13400),C=t(72791),P=t(10757),b=t(22020),k=t(76899),z=t(16871),T=t(96106),L=t(3992),S=t(30865),N=t(3082),K=t(59215),M=t(48510),V=t(73578),D=t(947),H=t(7618),I=t(566),_=t(17278),A=t(68544),F=t(70645),G=t(42320),R=t(24351),E=t(50921),U=t(46956),B=t(60393),$=t(80184),q={xs:1,sm:2,md:3,lg:4,xl:4},J={xs:5,sm:7,md:11,lg:15,xl:15},O=function(){return{sortType:E.vV[0],ascending:!1,weaponType:(0,i.Z)(R.yd),element:(0,i.Z)(R.N)}};function Q(){var e=(0,b.$)(["page_character","charNames_gen"]).t,n=(0,C.useContext)(H.t).database,t=(0,_.Z)("CharacterDisplay",O),i=(0,c.Z)(t,2),R=i[0],Q=i[1],X=(0,C.useState)(""),Y=(0,c.Z)(X,2),ee=Y[0],ne=Y[1],te=(0,C.useDeferredValue)(ee),re=(0,C.useState)(0),se=(0,c.Z)(re,2),ce=se[0],ie=se[1],ae=(0,C.useRef)(null),le=(0,C.useCallback)((function(e,n){var t;null===(t=ae.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}),ie(n-1)}),[ie,ae]),oe=(0,F.Z)(),ue=J[oe],he=(0,C.useState)(!1),xe=(0,c.Z)(he,2),de=xe[0],fe=xe[1],Ze=(0,A.Z)(),me=(0,c.Z)(Ze,2),je=me[0],pe=me[1];(0,C.useEffect)((function(){return P.ZP.send({hitType:"pageview",page:"/characters"}),n.chars.followAny(pe)}),[pe,n]),(0,C.useEffect)((function(){return n.states.followAny((function(e){return"string"===typeof e&&e.includes("charMeta_")&&pe()}))}),[pe,n]);var ge=(0,G.Z)((function(){return D.Z.getAll}),[]),ve=(0,C.useCallback)(function(){var t=(0,s.Z)((0,r.Z)().mark((function t(s){var c,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Z.get(s);case 2:if(c=t.sent,"object"===typeof(i=null===c||void 0===c?void 0:c.name)&&(i=e("charNames_gen:".concat(s))),window.confirm(e("removeCharacter",{value:i}))){t.next=7;break}return t.abrupt("return");case 7:n.chars.remove(s);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,e]),ye=(0,I.Z)(),we=(0,z.s0)(),Ce=(0,C.useMemo)((function(){return ge&&(0,E._L)(n,ge)}),[n,ge]),Pe=(0,C.useMemo)((function(){return ge&&(0,E.zU)(n,ge)}),[n,ge]),be=(0,C.useDeferredValue)(R),ke=(0,C.useDeferredValue)(je),ze=(0,C.useMemo)((function(){var e=n.chars.keys.length;if(!Ce||!Pe)return{charKeyList:[],totalCharNum:e};var t=be.element,r=be.weaponType,s=be.sortType,c=be.ascending,i=n.chars.keys.filter((0,U.C)({element:t,weaponType:r,favorite:"yes",name:te},Pe)).sort((0,U.e)(s,c,Ce)).concat(n.chars.keys.filter((0,U.C)({element:t,weaponType:r,favorite:"no",name:te},Pe)).sort((0,U.e)(s,c,Ce)));return ke&&{charKeyList:i,totalCharNum:e}}),[ke,n,Ce,Pe,be,te]),Te=ze.charKeyList,Le=ze.totalCharNum,Se=R.weaponType,Ne=R.element,Ke=R.sortType,Me=R.ascending,Ve=(0,C.useMemo)((function(){var e=Math.ceil(Te.length/ue),n=(0,B.uZ)(ce,0,e-1);return{charKeyListToShow:Te.slice(n*ue,(n+1)*ue),numPages:e,currentPageIndex:n}}),[Te,ce,ue]),De=Ve.charKeyListToShow,He=Ve.numPages,Ie=Ve.currentPageIndex,_e=Te.length!==Le?"".concat(Te.length,"/").concat(Le):"".concat(Le);return(0,$.jsxs)(d.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,$.jsx)(L.Z,{ref:ae,children:(0,$.jsxs)(f.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,$.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,$.jsx)(Z.ZP,{item:!0,children:(0,$.jsx)(V.Z,{sx:{height:"100%"},onChange:function(e){return Q({weaponType:e})},value:Se,size:"small"})}),(0,$.jsx)(Z.ZP,{item:!0,children:(0,$.jsx)(M.Z,{sx:{height:"100%"},onChange:function(e){return Q({element:e})},value:Ne,size:"small"})}),(0,$.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,$.jsx)(m.Z,{autoFocus:!0,value:ee,onChange:function(e){return ne(e.target.value)},label:e("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,$.jsx)(Z.ZP,{item:!0,children:(0,$.jsx)(K.Z,{sx:{height:"100%"},sortKeys:E.vV,value:Ke,onChange:function(e){return Q({sortType:e})},ascending:Me,onChangeAsc:function(e){return Q({ascending:e})}})})]}),(0,$.jsxs)(Z.ZP,{container:!0,alignItems:"flex-end",children:[(0,$.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,$.jsx)(j.Z,{count:He,page:Ie+1,onChange:le})}),(0,$.jsx)(Z.ZP,{item:!0,children:(0,$.jsx)(W,{numShowing:De.length,total:_e,t:e})})]})]})}),(0,$.jsx)(C.Suspense,{fallback:(0,$.jsx)(p.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,$.jsxs)(Z.ZP,{container:!0,spacing:1,columns:q,children:[(0,$.jsx)(Z.ZP,{item:!0,xs:1,children:(0,$.jsxs)(L.Z,{sx:{height:"100%",minHeight:400,width:"100%",display:"flex",flexDirection:"column"},children:[(0,$.jsx)(f.Z,{children:(0,$.jsx)(g.Z,{sx:{textAlign:"center"},children:(0,$.jsx)(k.c,{t:e,i18nKey:"addNew"})})}),(0,$.jsx)(N.w,{newFirst:!0,show:de,onHide:function(){return fe(!1)},onSelect:ye}),(0,$.jsx)(d.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,$.jsx)(v.Z,{onClick:function(){return fe(!0)},color:"info",sx:{borderRadius:"1em"},children:(0,$.jsx)(g.Z,{variant:"h1",children:(0,$.jsx)(l.G,{icon:a.r8p,className:"fa-fw"})})})})]})}),De.map((function(n){return(0,$.jsx)(Z.ZP,{item:!0,xs:1,children:(0,$.jsx)(S.Z,{characterKey:n,onClick:function(){return we("".concat(n))},footer:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(y.Z,{}),(0,$.jsxs)(d.Z,{sx:{py:1,px:2,display:"flex",gap:1,justifyContent:"space-between"},children:[(0,$.jsx)(T.Z,{placement:"top",title:(0,$.jsx)(g.Z,{children:e("tabs.talent")}),children:(0,$.jsx)(w.Z,{onClick:function(){return we("".concat(n,"/talent"))},children:(0,$.jsx)(o.Z,{})})}),(0,$.jsx)(T.Z,{placement:"top",title:(0,$.jsx)(g.Z,{children:e("tabs.teambuffs")}),children:(0,$.jsx)(w.Z,{onClick:function(){return we("".concat(n,"/teambuffs"))},children:(0,$.jsx)(u.Z,{})})}),(0,$.jsx)(T.Z,{placement:"top",title:(0,$.jsx)(g.Z,{children:e("tabs.optimize")}),children:(0,$.jsx)(w.Z,{onClick:function(){return we("".concat(n,"/optimize"))},children:(0,$.jsx)(h.Z,{})})}),(0,$.jsx)(y.Z,{orientation:"vertical"}),(0,$.jsx)(T.Z,{placement:"top",title:(0,$.jsx)(g.Z,{children:e("delete")}),children:(0,$.jsx)(w.Z,{color:"error",onClick:function(){return ve(n)},children:(0,$.jsx)(x.Z,{})})})]})]})})},n)}))]})}),He>1&&(0,$.jsx)(L.Z,{children:(0,$.jsx)(f.Z,{children:(0,$.jsxs)(Z.ZP,{container:!0,alignItems:"flex-end",children:[(0,$.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,$.jsx)(j.Z,{count:He,page:Ie+1,onChange:le})}),(0,$.jsx)(Z.ZP,{item:!0,children:(0,$.jsx)(W,{numShowing:De.length,total:_e,t:e})})]})})})]})}function W(e){var n=e.numShowing,t=e.total,r=e.t;return(0,$.jsx)(g.Z,{color:"text.secondary",children:(0,$.jsxs)(k.c,{t:r,i18nKey:"showingNum",count:n,value:t,children:["Showing ",(0,$.jsx)("b",{children:{count:n}})," out of ",{value:t}," Characters"]})})}},45781:function(e,n,t){var r=t(74223),s=t(80184);n.Z=(0,r.Z)((0,s.jsx)("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck")},90690:function(e,n,t){var r=t(74223),s=t(80184);n.Z=(0,r.Z)((0,s.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder")},10284:function(e,n,t){var r=t(74223),s=t(80184);n.Z=(0,r.Z)((0,s.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")}}]);
//# sourceMappingURL=377.c299c859.chunk.js.map