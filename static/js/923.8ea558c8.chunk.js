"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[923],{44361:function(e,n,i){i.d(n,{Z:function(){return P}});var t=i(93433),s=i(29439),r=i(39504),o=i(61889),l=i(58165),a=i(94721),c=i(66647),u=i(68870),d=i(20890),x=i(72791),p=i(22020),h=i(10658),Z=i(66218),f=i(42320),j=i(24351),v=i(3992),m=i(71310),g=i(68198),w=i(55942),y=i(9321),C=i(10157),k=i(73578),b=i(80184);function P(e){var n=e.show,i=e.ascension,P=void 0===i?0:i,S=e.onHide,L=e.onSelect,T=e.filter,I=void 0===T?function(){return!0}:T,N=e.weaponFilter,W=(0,p.$)(["page_weapon","weaponNames_gen"]).t,D=(0,f.Z)((function(){return Z.Z.getAll}),[]),J=(0,x.useState)(N?[N]:(0,t.Z)(j.yd)),R=(0,s.Z)(J,2),z=R[0],G=R[1];(0,x.useEffect)((function(){return N&&G([N])}),[N]);var _=(0,x.useState)(""),A=(0,s.Z)(_,2),E=A[0],F=A[1],K=(0,x.useDeferredValue)(E),q=D?j.fG.filter((function(e){return I(D[e])})).filter((function(e){var n;return z.includes(null===D||void 0===D||null===(n=D[e])||void 0===n?void 0:n.weaponType)})).filter((function(e){return!K||W("weaponNames_gen:".concat(e)).toLowerCase().includes(K.toLowerCase())})).sort((function(e,n){var i,t,s,r;return(null!==(i=null===D||void 0===D||null===(t=D[n])||void 0===t?void 0:t.rarity)&&void 0!==i?i:0)-(null!==(s=null===D||void 0===D||null===(r=D[e])||void 0===r?void 0:r.rarity)&&void 0!==s?s:0)})):[];return D?(0,b.jsx)(y.Z,{open:n,onClose:S,children:(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,b.jsx)(o.ZP,{item:!0,children:(0,b.jsx)(k.Z,{value:z,onChange:G,disabled:!!N,size:"small"})}),(0,b.jsx)(o.ZP,{item:!0,flexGrow:1,children:(0,b.jsx)(l.Z,{autoFocus:!0,size:"small",value:E,onChange:function(e){return F(e.target.value)},label:W("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,b.jsx)(o.ZP,{item:!0,children:(0,b.jsx)(g.Z,{onClick:S})})]})}),(0,b.jsx)(a.Z,{}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(o.ZP,{container:!0,spacing:1,children:q.map((function(e){var n,i=D[e];return(0,b.jsx)(o.ZP,{item:!0,lg:3,md:4,children:(0,b.jsx)(m.Z,{sx:{height:"100%"},children:(0,b.jsxs)(c.Z,{onClick:function(){S(),L(e)},sx:{display:"flex"},children:[(0,b.jsx)(u.Z,{component:"img",src:i.getImg(P),sx:{width:100,height:"auto"},className:" grad-".concat(i.rarity,"star")}),(0,b.jsxs)(u.Z,{sx:{flexGrow:1,px:1},children:[(0,b.jsx)(d.Z,{variant:"subtitle1",children:i.name}),(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(w.Z,{src:null===(n=h.Z.weaponTypes)||void 0===n?void 0:n[i.weaponType]})," ",(0,b.jsx)(C.q,{stars:i.rarity,colored:!0})]})]})]})})},e)}))})}),(0,b.jsx)(a.Z,{}),(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsx)(g.Z,{large:!0,onClick:S})})]})}):null}},74476:function(e,n,i){i.r(n),i.d(n,{default:function(){return K}});var t=i(93433),s=i(29439),r=i(40117),o=i(62002),l=i(63204),a=i(39504),c=i(61889),u=i(68870),d=i(20890),x=i(2199),p=i(24518),h=i(23786),Z=i(94721),f=i(9585),j=i(15021),v=i(72791),m=i(22020),g=i(3992),w=i(71310),y=i(31038),C=i(68198),k=i(10600),b=i(37503),P=i(33890),S=i(88034),L=i(9321),T=i(10157),I=i(44361),N=i(947),W=i(2139),D=i(66218),J=i(7618),R=i(13746),z=i(26138),G=i(73036),_=i(42320),A=i(74480),E=i(60393),F=i(80184);function K(e){var n,i=e.weaponId,K=e.footer,q=void 0!==K&&K,B=e.onClose,H=e.extraButtons,M=(0,m.$)("ui").t,$=(0,v.useContext)(R.R).data,U=(0,v.useContext)(J.t).database,V=(0,A.Z)(i),X=null!==V&&void 0!==V?V:{},O=X.key,Q=void 0===O?"":O,Y=X.level,ee=void 0===Y?0:Y,ne=X.refinement,ie=void 0===ne?0:ne,te=X.ascension,se=void 0===te?0:te,re=X.lock,oe=X.location,le=void 0===oe?"":oe,ae=X.id,ce=(0,_.Z)((function(){return D.Z.get(Q)}),[Q]),ue=(0,v.useCallback)((function(e){U.weapons.set(i,e)}),[i,U]),de=(0,v.useCallback)((function(e){e=(0,E.uZ)(e,1,90);var n=W.SJ.findIndex((function(n){return e<=n}));ue({level:e,ascension:n})}),[ue]),xe=(0,v.useCallback)((function(){var e=W.SJ.findIndex((function(e){return 90!==ee&&ee===e}));ue(se===e?{ascension:se+1}:{ascension:e})}),[ue,se,ee]),pe=(0,_.Z)((function(){return le?N.Z.get(le):void 0}),[le]),he=pe?function(e){return e.weaponType===pe.weaponTypeKey}:void 0,Ze=pe&&pe.weaponTypeKey,fe=(0,v.useCallback)((function(e){return ae&&U.weapons.set(ae,{location:e})}),[U,ae]),je=(0,v.useCallback)((function(e){return e.weaponTypeKey===(null===ce||void 0===ce?void 0:ce.weaponType)}),[ce]),ve=(0,v.useState)(!1),me=(0,s.Z)(ve,2),ge=me[0],we=me[1],ye=null===ce||void 0===ce?void 0:ce.getImg(se);(0,v.useEffect)((function(){if(ce&&ue&&ce.key===(null===V||void 0===V?void 0:V.key)&&ce.rarity<=2&&(ee>70||se>4)){var e=(0,s.Z)(W.Xu[0],2),n=e[0],i=e[1];ue({level:n,ascension:i})}}),[ce,V,ue,ee,se]);var Ce=(0,v.useMemo)((function(){return ce&&V&&(0,G.mP)([ce.data,(0,G.v0)(V)])}),[ce,V]);return(0,F.jsx)(L.Z,{open:!!i,onClose:B,containerProps:{maxWidth:"md"},children:(0,F.jsxs)(w.Z,{children:[(0,F.jsx)(I.Z,{ascension:se,show:ge,onHide:function(){return we(!1)},onSelect:function(e){return ue({key:e})},filter:he,weaponFilter:Ze}),(0,F.jsx)(a.Z,{children:ce&&Ce&&(0,F.jsxs)(c.ZP,{container:!0,spacing:1.5,children:[(0,F.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,F.jsxs)(c.ZP,{container:!0,spacing:1.5,children:[(0,F.jsx)(c.ZP,{item:!0,xs:6,sm:12,children:(0,F.jsx)(u.Z,{component:"img",src:ye,className:"grad-".concat(ce.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,F.jsx)(c.ZP,{item:!0,xs:6,sm:12,children:(0,F.jsx)(d.Z,{children:(0,F.jsx)("small",{children:ce.description})})})]})}),(0,F.jsxs)(c.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,F.jsx)(u.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(p.Z,{onClick:function(){return we(!0)},children:null!==(n=null===ce||void 0===ce?void 0:ce.name)&&void 0!==n?n:"Select a Weapon"}),(null===ce||void 0===ce?void 0:ce.hasRefinement)&&(0,F.jsxs)(P.Z,{title:"Refinement ".concat(ie),children:[(0,F.jsx)(h.Z,{children:"Select Weapon Refinement"}),(0,F.jsx)(Z.Z,{}),(0,t.Z)(Array(5).keys()).map((function(e){return(0,F.jsx)(h.Z,{onClick:function(){return ue({refinement:e+1})},selected:ie===e+1,disabled:ie===e+1,children:"Refinement ".concat(e+1)},e)}))]}),H]})}),(0,F.jsxs)(u.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[(0,F.jsxs)(x.Z,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[(0,F.jsx)(k.CC,{children:(0,F.jsx)(k.ZP,{onChange:de,value:ee,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),ce&&(0,F.jsx)(p.Z,{sx:{pl:1},disabled:!ce.ambiguousLevel(ee),onClick:xe,children:(0,F.jsxs)("strong",{children:["/ ",W.SJ[se]]})}),ce&&(0,F.jsx)(P.Z,{title:"Select Level",children:ce.milestoneLevels.map((function(e){var n=(0,s.Z)(e,2),i=n[0],t=n[1],r=i===W.SJ[t]?"Lv. ".concat(i):"Lv. ".concat(i,"/").concat(W.SJ[t]),o=i===ee&&t===se;return(0,F.jsx)(h.Z,{selected:o,disabled:o,onClick:function(){return ue({level:i,ascension:t})},children:r},"".concat(i,"/").concat(t))}))})]}),(0,F.jsx)(p.Z,{color:"error",onClick:function(){return ae&&U.weapons.set(ae,{lock:!re})},startIcon:re?(0,F.jsx)(r.Z,{}):(0,F.jsx)(o.Z,{}),children:re?"Locked":"Unlocked"})]}),(0,F.jsx)(d.Z,{children:(0,F.jsx)(T.q,{stars:ce.rarity})}),(0,F.jsx)(d.Z,{variant:"subtitle1",children:(0,F.jsx)("strong",{children:ce.passiveName})}),(0,F.jsx)(d.Z,{gutterBottom:!0,children:ce.passiveName&&ce.passiveDescription(Ce.get(z.ri.weapon.refineIndex).value)}),(0,F.jsxs)(u.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,F.jsxs)(g.Z,{children:[(0,F.jsx)(f.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,F.jsx)(Z.Z,{}),(0,F.jsx)(S.lD,{children:[z.ri.weapon.main,z.ri.weapon.sub,z.ri.weapon.sub2].map((function(e,n){var i=Ce.get(e);return i.isEmpty||!i.value?null:(0,F.jsx)(S.JW,{node:i,component:j.ZP},i.info.key)}))})]}),$&&ce.document&&(0,F.jsx)(b.Z,{sections:ce.document})]})]})]})}),q&&ae&&(0,F.jsx)(a.Z,{sx:{py:1},children:(0,F.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(c.ZP,{item:!0,flexGrow:1,children:(0,F.jsx)(y.Z,{showDefault:!0,size:"small",defaultIcon:(0,F.jsx)(l.Z,{}),defaultText:M("inventory"),value:le,onChange:fe,filter:je,disable:function(e){return""===e},disableClearable:!0})}),(0,F.jsx)(c.ZP,{item:!0,flexGrow:2}),!!B&&(0,F.jsx)(c.ZP,{item:!0,children:(0,F.jsx)(C.Z,{sx:{height:"100%"},large:!0,onClick:B})})]})})]})})}}}]);
//# sourceMappingURL=923.8ea558c8.chunk.js.map