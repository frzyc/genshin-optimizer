"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[377],{9662:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var r=t(74165),c=t(15861),s=t(29439),i=t(53174),a=t(54483),l=t(45781),o=t(35893),u=t(10284),h=t(31289),x=t(59496),d=t(68870),f=t(39504),Z=t(61889),j=t(58165),m=t(57246),p=t(47047),g=t(20890),v=t(24518),y=t(94721),C=t(13400),w=t(72791),b=t(10757),P=t(22020),k=t(76899),z=t(16871),L=t(96106),S=t(3992),T=t(30865),V=t(59215),I=t(48510),K=t(73578),N=t(947),H=t(38147),M=t(566),D=t(12761),_=t(68544),A=t(70645),F=t(42320),G=t(24351),E=t(50921),R=t(46956),U=t(60393),B=t(4332),O=t(80184),$={xs:1,sm:2,md:3,lg:4,xl:4},q={xs:5,sm:7,md:11,lg:15,xl:15},J=Object.keys(E.V3);function Q(){var e=(0,P.$)(["page_character","charNames_gen"]).t,n=(0,w.useContext)(H.t).database,t=(0,w.useState)((function(){return n.displayCharacter.get()})),Q=(0,s.Z)(t,2),X=Q[0],Y=Q[1];(0,w.useEffect)((function(){return n.displayCharacter.follow((function(e,n){return Y(n)}))}),[n,Y]);var ee=(0,w.useState)(""),ne=(0,s.Z)(ee,2),te=ne[0],re=ne[1],ce=(0,w.useDeferredValue)(te),se=(0,w.useRef)(null),ie=(0,w.useCallback)((function(e,t){var r;null===(r=se.current)||void 0===r||r.scrollIntoView({behavior:"smooth"}),n.displayCharacter.set({pageIndex:t-1})}),[n,se]),ae=(0,A.Z)(),le=q[ae],oe=(0,w.useState)(!1),ue=(0,s.Z)(oe,2),he=ue[0],xe=ue[1],de=(0,_.Z)(),fe=(0,s.Z)(de,2),Ze=fe[0],je=fe[1];(0,w.useEffect)((function(){return b.ZP.send({hitType:"pageview",page:"/characters"}),n.chars.followAny((function(e,n){return("new"===n||"remove"===n)&&je()}))}),[je,n]),(0,w.useEffect)((function(){return n.charMeta.followAny((function(e){return je()}))}),[je,n]);var me=(0,F.Z)((function(){return N.Z.getAll}),[]),pe=(0,D.Z)().gender,ge=(0,w.useCallback)(function(){var t=(0,c.Z)((0,r.Z)().mark((function t(c){var s,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.Z.get(c,pe);case 2:if(s=t.sent,"object"===typeof(i=null===s||void 0===s?void 0:s.name)&&(i=e("charNames_gen:".concat((0,G.LP)(c,pe)))),window.confirm(e("removeCharacter",{value:i}))){t.next=7;break}return t.abrupt("return");case 7:n.chars.remove(c);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,pe,e]),ve=(0,M.Z)(),ye=(0,z.s0)(),Ce=(0,w.useDeferredValue)(X),we=(0,w.useDeferredValue)(Ze),be=(0,w.useMemo)((function(){var e,t=n.chars.keys.length;if(!me)return{charKeyList:[],totalCharNum:t};var r=Ce.element,c=Ce.weaponType,s=Ce.sortType,i=Ce.ascending,a=n.chars.keys.filter((0,R.C)({element:r,weaponType:c,name:ce},(0,E.zU)(n,me))).sort((0,R.e)(null!==(e=E.V3[s])&&void 0!==e?e:[],i,(0,E._L)(n,me),["new","favorite"]));return we&&{charKeyList:a,totalCharNum:t}}),[we,n,me,Ce,ce]),Pe=be.charKeyList,ke=be.totalCharNum,ze=X.weaponType,Le=X.element,Se=X.sortType,Te=X.ascending,Ve=X.pageIndex,Ie=void 0===Ve?0:Ve,Ke=(0,w.useMemo)((function(){var e=Math.ceil(Pe.length/le),n=(0,U.uZ)(Ie,0,e-1);return{charKeyListToShow:Pe.slice(n*le,(n+1)*le),numPages:e,currentPageIndex:n}}),[Pe,Ie,le]),Ne=Ke.charKeyListToShow,He=Ke.numPages,Me=Ke.currentPageIndex,De=Pe.length!==ke?"".concat(Pe.length,"/").concat(ke):"".concat(ke);return(0,O.jsxs)(d.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,O.jsx)(S.Z,{ref:se,children:(0,O.jsxs)(f.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,O.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,O.jsx)(Z.ZP,{item:!0,children:(0,O.jsx)(K.Z,{sx:{height:"100%"},onChange:function(e){return n.displayCharacter.set({weaponType:e})},value:ze,size:"small"})}),(0,O.jsx)(Z.ZP,{item:!0,children:(0,O.jsx)(I.Z,{sx:{height:"100%"},onChange:function(e){return n.displayCharacter.set({element:e})},value:Le,size:"small"})}),(0,O.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,O.jsx)(j.Z,{autoFocus:!0,value:te,onChange:function(e){return re(e.target.value)},label:e("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,O.jsx)(Z.ZP,{item:!0,children:(0,O.jsx)(V.Z,{sx:{height:"100%"},sortKeys:J,value:Se,onChange:function(e){return n.displayCharacter.set({sortType:e})},ascending:Te,onChangeAsc:function(e){return n.displayCharacter.set({ascending:e})}})})]}),(0,O.jsxs)(Z.ZP,{container:!0,alignItems:"flex-end",children:[(0,O.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,O.jsx)(m.Z,{count:He,page:Me+1,onChange:ie})}),(0,O.jsx)(Z.ZP,{item:!0,children:(0,O.jsx)(W,{numShowing:Ne.length,total:De,t:e})})]})]})}),(0,O.jsx)(w.Suspense,{fallback:(0,O.jsx)(p.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,O.jsxs)(Z.ZP,{container:!0,spacing:1,columns:$,children:[(0,O.jsx)(Z.ZP,{item:!0,xs:1,children:(0,O.jsxs)(S.Z,{sx:{height:"100%",minHeight:400,width:"100%",display:"flex",flexDirection:"column"},children:[(0,O.jsx)(f.Z,{children:(0,O.jsx)(g.Z,{sx:{textAlign:"center"},children:(0,O.jsx)(k.c,{t:e,i18nKey:"addNew"})})}),(0,O.jsx)(B.w,{newFirst:!0,show:he,onHide:function(){return xe(!1)},onSelect:ve}),(0,O.jsx)(d.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,O.jsx)(v.Z,{onClick:function(){return xe(!0)},color:"info",sx:{borderRadius:"1em"},children:(0,O.jsx)(g.Z,{variant:"h1",children:(0,O.jsx)(a.G,{icon:i.r8p,className:"fa-fw"})})})})]})}),Ne.map((function(n){return(0,O.jsx)(Z.ZP,{item:!0,xs:1,children:(0,O.jsx)(T.Z,{characterKey:n,onClick:function(){return ye("".concat(n))},footer:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(y.Z,{}),(0,O.jsxs)(d.Z,{sx:{py:1,px:2,display:"flex",gap:1,justifyContent:"space-between"},children:[(0,O.jsx)(L.Z,{placement:"top",title:(0,O.jsx)(g.Z,{children:e("tabs.talent")}),children:(0,O.jsx)(C.Z,{onClick:function(){return ye("".concat(n,"/talent"))},children:(0,O.jsx)(l.Z,{})})}),(0,O.jsx)(L.Z,{placement:"top",title:(0,O.jsx)(g.Z,{children:e("tabs.teambuffs")}),children:(0,O.jsx)(C.Z,{onClick:function(){return ye("".concat(n,"/teambuffs"))},children:(0,O.jsx)(o.Z,{})})}),(0,O.jsx)(L.Z,{placement:"top",title:(0,O.jsx)(g.Z,{children:e("tabs.optimize")}),children:(0,O.jsx)(C.Z,{onClick:function(){return ye("".concat(n,"/optimize"))},children:(0,O.jsx)(u.Z,{})})}),(0,O.jsx)(L.Z,{placement:"top",title:(0,O.jsx)(g.Z,{children:e("tabs.theorycraft")}),children:(0,O.jsx)(C.Z,{onClick:function(){return ye("".concat(n,"/theorycraft"))},children:(0,O.jsx)(h.Z,{})})}),(0,O.jsx)(y.Z,{orientation:"vertical"}),(0,O.jsx)(L.Z,{placement:"top",title:(0,O.jsx)(g.Z,{children:e("delete")}),children:(0,O.jsx)(C.Z,{color:"error",onClick:function(){return ge(n)},children:(0,O.jsx)(x.Z,{})})})]})]})})},n)}))]})}),He>1&&(0,O.jsx)(S.Z,{children:(0,O.jsx)(f.Z,{children:(0,O.jsxs)(Z.ZP,{container:!0,alignItems:"flex-end",children:[(0,O.jsx)(Z.ZP,{item:!0,flexGrow:1,children:(0,O.jsx)(m.Z,{count:He,page:Me+1,onChange:ie})}),(0,O.jsx)(Z.ZP,{item:!0,children:(0,O.jsx)(W,{numShowing:Ne.length,total:De,t:e})})]})})})]})}function W(e){var n=e.numShowing,t=e.total,r=e.t;return(0,O.jsx)(g.Z,{color:"text.secondary",children:(0,O.jsxs)(k.c,{t:r,i18nKey:"showingNum",count:n,value:t,children:["Showing ",(0,O.jsx)("b",{children:{count:n}})," out of ",{value:t}," Characters"]})})}},45781:function(e,n,t){var r=t(74223),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck")},90690:function(e,n,t){var r=t(74223),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder")},31289:function(e,n,t){var r=t(74223),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6z"}),"Science")},10284:function(e,n,t){var r=t(74223),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")}}]);
//# sourceMappingURL=377.31dbef15.chunk.js.map