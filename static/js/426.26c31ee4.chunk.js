"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[426],{52991:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(68870),i=t(20890),a=t(10658),o=t(31148),s=t(42320),c=t(24351),u=t(3992),l=t(25617),d=t(75545),f=t(64929),h=t(80184);function x(e){var n=e.artifactObj,t=e.slotKey,x=(0,s.Z)((function(){return(null===n||void 0===n?void 0:n.setKey)&&o.y.get(n.setKey)}),[null===n||void 0===n?void 0:n.setKey]);if(!n||!x)return(0,h.jsx)(u.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:(0,h.jsx)(r.Z,{sx:{width:"100%",pb:"100%",position:"relative"},children:(0,h.jsx)(r.Z,{sx:{position:"absolute",width:"70%",height:"70%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",opacity:.7},component:"img",src:a.Z.slot[t]})})});var p=n.mainStatKey,v=n.rarity,Z=n.level,m="roll".concat(Math.floor(Math.max(Z,0)/4)+1),g=c.Kj.find((function(e){return n.mainStatKey.includes(e)})),y=null!==g&&void 0!==g?g:"secondary";return(0,h.jsx)(f.Z,{art:n,children:(0,h.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",position:"relative"},children:[(0,h.jsx)(r.Z,{component:"img",className:"grad-".concat(v,"star"),src:x.slotIcons[t],maxWidth:"100%",maxHeight:"100%"}),(0,h.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none"},children:(0,h.jsx)("strong",{children:(0,h.jsx)(l.Z,{sx:{p:.5},color:m,children:(0,h.jsxs)("strong",{children:["+",Z]})})})}),(0,h.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,h.jsx)(l.Z,{color:y,sx:{p:.5},children:g?d.hJ[g]:d.ZP[p]})})]})})}},64929:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(68870),i=t(47047),a=t(20890),o=t(72791),s=t(98620),c=t(31148),u=t(79406),l=t(42320),d=t(60393),f=t(96106),h=t(25617),x=t(10157),p=t(75545),v=t(95614),Z=t(80184);function m(e){var n=e.art,t=e.children,a=(0,Z.jsx)(r.Z,{children:(0,Z.jsx)(i.Z,{variant:"rectangular",width:100,height:100})}),s=(0,Z.jsx)(o.Suspense,{fallback:a,children:(0,Z.jsx)(g,{art:n})});return(0,Z.jsx)(f.Z,{placement:"top",title:s,disableInteractive:!0,children:t})}function g(e){var n,t=e.art,i=(0,l.Z)((function(){return c.y.get(t.setKey)}),[t.setKey]),o=t.slotKey,f=t.level,m=t.rarity,g=t.mainStatKey,y=t.substats,j="roll"+(Math.floor(Math.max(f,0)/4)+1),k=null===i||void 0===i?void 0:i.getSlotName(o),b=u.ZP.unit(g),w=p.ZP[g],C=u.ZP.getVariant(g);return(0,Z.jsxs)(r.Z,{p:1,children:[(0,Z.jsxs)(a.Z,{variant:"h6",children:[(0,v.Ir)(o)," ",k]}),(0,Z.jsxs)(a.Z,{variant:"subtitle1",color:"".concat(C,".main"),children:[w," ",u.ZP.get(g)," ",(0,u.qs)(null!==(n=s.Z.mainStatValue(g,m,f))&&void 0!==n?n:0,u.ZP.unit(g)),b]}),(0,Z.jsxs)(a.Z,{variant:"subtitle2",sx:{display:"flex",justifyContent:"space-between"},children:[(0,Z.jsx)(x.q,{stars:m}),(0,Z.jsxs)(h.Z,{color:j,children:["+",f]})," "]}),(0,Z.jsx)(r.Z,{py:1,children:y.map((function(e){return!!e.value&&(0,Z.jsxs)(a.Z,{color:"roll".concat((0,d.uZ)(e.rolls.length,1,6),".main"),children:[p.ZP[e.key]," ",u.ZP.getStr(e.key)," ",(0,Z.jsx)("strong",{children:"+".concat((0,u.qs)(e.value,u.ZP.unit(e.key))).concat(u.ZP.unit(e.key))})]})}))}),(0,Z.jsx)(a.Z,{color:"success.main",children:null===i||void 0===i?void 0:i.name})]})}},96106:function(e,n,t){var r=t(4942),i=t(1413),a=t(45987),o=t(66934),s=t(40165),c=t(69293),u=t(80184),l=["className"],d=(0,o.ZP)((function(e){var n=e.className,t=(0,a.Z)(e,l);return(0,u.jsx)(s.Z,(0,i.Z)((0,i.Z)({},t),{},{arrow:!0,classes:{popper:n}}))}))((function(e){var n,t=e.theme;return n={},(0,r.Z)(n,"& .".concat(c.Z.arrow),{color:t.palette.common.black}),(0,r.Z)(n,"& .".concat(c.Z.tooltip),{backgroundColor:t.palette.common.black,maxWidth:500}),n}));n.Z=d},30865:function(e,n,t){t.d(n,{Z:function(){return Q}});var r=t(29439),i=t(14361),a=t(90690),o=t(66647),s=t(47047),c=t(68870),u=t(13400),l=t(39504),d=t(61889),f=t(81918),h=t(20890),x=t(72791),p=t(2139),v=t(7618),Z=t(13746),m=t(26138),g=t(79406),y=t(84684),j=t(50920),k=t(47639),b=t(24351),w=t(60393),C=t(52991),S=t(71310),P=t(20005),K=t(88034),I=t(25617),D=t(10157),E=t(75545),R=t(77208),_=t(66218),M=t(73036),z=t(42320),N=t(74480),W=t(3992),T=t(80184);function O(e){var n=e.weaponId,t=(0,N.Z)(n),r=(0,z.Z)((function(){return(null===t||void 0===t?void 0:t.key)&&_.Z.get(t.key)}),[null===t||void 0===t?void 0:t.key]),i=(0,x.useMemo)((function(){return r&&t&&(0,M.mP)([r.data,(0,M.v0)(t)])}),[r,t]);return t&&r&&i?(0,T.jsx)(W.Z,{children:(0,T.jsxs)(c.Z,{display:"flex",children:[(0,T.jsx)(c.Z,{flexShrink:1,maxWidth:"35%",display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(r.rarity,"star"),children:(0,T.jsx)(c.Z,{component:"img",src:r.getImg(t.ascension),width:"100%",height:"auto",sx:{mt:"auto"}})}),(0,T.jsxs)(c.Z,{flexGrow:1,sx:{p:1},children:[(0,T.jsx)(h.Z,{variant:"body2",gutterBottom:!0,children:(0,T.jsx)("strong",{children:null===r||void 0===r?void 0:r.name})}),(0,T.jsxs)(h.Z,{variant:"subtitle1",sx:{display:"flex",gap:1},gutterBottom:!0,children:[(0,T.jsxs)(I.Z,{color:"primary",children:["Lv. ",_.Z.getLevelString(t)]}),r.hasRefinement&&(0,T.jsxs)(I.Z,{color:"info",children:["R",t.refinement]})]}),(0,T.jsxs)(h.Z,{variant:"subtitle1",sx:{display:"flex",gap:1},children:[(0,T.jsx)(H,{node:i.get(m.ri.weapon.main)}),(0,T.jsx)(H,{node:i.get(m.ri.weapon.sub)})]})]})]})}):null}function H(e){var n=e.node;if(!n.info.key)return null;var t=(0,g.EC)(n.value,n.unit,n.unit?void 0:0);return(0,T.jsxs)(I.Z,{color:"secondary",children:[E.ZP[n.info.key]," ",t]})}var B=t(97714),q=t(947),F=t(13434),V=t(17278),A=t(12759);function Q(e){var n,t,f=e.characterKey,h=e.artifactChildren,p=e.weaponChildren,v=e.characterChildren,m=e.onClick,g=e.onClickHeader,b=e.onClickTeammate,C=e.footer,K=e.isTeammateCard,I=(0,x.useContext)(Z.R).teamData,D=null!==(n=(0,k.Z)(I?"":f))&&void 0!==n?n:I,E=(0,F.Z)(f),_=(0,z.Z)((function(){return q.Z.get(f)}),[f]),M=(0,j.Z)(f),N=null===D||void 0===D||null===(t=D[f])||void 0===t?void 0:t.target,W=(0,x.useCallback)((function(){return f&&(null===m||void 0===m?void 0:m(f))}),[f,m]),H=(0,x.useCallback)((function(e){return(0,T.jsx)(o.Z,{onClick:W,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[W]),Q=(0,x.useMemo)((function(){return E&&_&&{character:E,characterSheet:_,characterDispatch:M}}),[E,_,M]),X=(0,x.useMemo)((function(){return N&&D&&{data:N,teamData:D}}),[N,D]),Y=(0,V.Z)("charMeta_".concat(f),A.B),U=(0,r.Z)(Y,2),$=U[0].favorite,ee=U[1];return E&&X&&Q?(0,T.jsx)(x.Suspense,{fallback:(0,T.jsx)(s.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:(0,T.jsx)(B.K.Provider,{value:Q,children:(0,T.jsx)(Z.R.Provider,{value:X,children:(0,T.jsxs)(S.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,T.jsx)(c.Z,{sx:{display:"flex",position:"absolute",zIndex:2,opacity:.7},children:(0,T.jsx)(u.Z,{sx:{p:.5},onClick:function(e){return ee({favorite:!$})},children:$?(0,T.jsx)(i.Z,{}):(0,T.jsx)(a.Z,{})})}),(0,T.jsxs)(P.Z,{condition:!!m,wrapper:H,children:[(0,T.jsx)(L,{onClick:m?void 0:g}),(0,T.jsxs)(l.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1},children:[(0,T.jsx)(G,{}),!K&&(0,T.jsxs)(d.ZP,{container:!0,columns:4,spacing:.75,children:[(0,T.jsx)(d.ZP,{item:!0,xs:1,height:"100%",children:(0,T.jsx)(R.Z,{weaponId:E.equippedWeapon})}),(0,w.w6)(0,2).map((function(e){return(0,T.jsx)(d.ZP,{item:!0,xs:1,height:"100%",children:(0,T.jsx)(y.Z,{characterKey:E.team[e],onClick:m?void 0:b,index:e})},e)}))]}),K&&(0,T.jsx)(O,{weaponId:E.equippedWeapon}),!K&&(0,T.jsx)(J,{}),p,h,v]})]}),C]})})})}):null}function L(e){var n=e.onClick,t=(0,x.useContext)(B.K).characterSheet,r=(0,x.useContext)(Z.R).data,i=r.get(m.ri.charKey).value,a=r.get(m.ri.charEle).value,s=r.get(m.ri.lvl).value,u=r.get(m.ri.constellation).value,l=r.get(m.ri.asc).value,v=r.get(m.ri.bonus.auto).value,g=r.get(m.ri.bonus.skill).value,y=r.get(m.ri.bonus.burst).value,j=r.get(m.ri.total.auto).value,k=r.get(m.ri.total.skill).value,b=r.get(m.ri.total.burst).value,w=(0,x.useCallback)((function(e){return(0,T.jsx)(o.Z,{onClick:function(){return i&&(null===n||void 0===n?void 0:n(i))},sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[n,i]);return(0,T.jsx)(P.Z,{condition:!!n,wrapper:w,children:(0,T.jsxs)(c.Z,{display:"flex",position:"relative",className:"grad-".concat(t.rarity,"star"),sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:"url(".concat(t.bannerImg,")"),backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,T.jsx)(c.Z,{flexShrink:1,sx:{maxWidth:{xs:"40%",lg:"40%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,T.jsx)(c.Z,{component:"img",src:t.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,T.jsxs)(c.Z,{flexGrow:1,sx:{py:1,pr:1},display:"flex",flexDirection:"column",zIndex:1,children:[(0,T.jsx)(f.Z,{label:(0,T.jsx)(h.Z,{variant:"subtitle1",children:t.name}),size:"small",color:a,sx:{opacity:.85}}),(0,T.jsxs)(d.ZP,{container:!0,spacing:1,flexWrap:"nowrap",children:[(0,T.jsxs)(d.ZP,{item:!0,sx:{textShadow:"0 0 5px gray"},children:[(0,T.jsxs)(h.Z,{component:"span",variant:"h6",whiteSpace:"nowrap",children:["Lv. ",s]}),(0,T.jsxs)(h.Z,{component:"span",variant:"h6",color:"text.secondary",children:["/",p.SJ[l]]})]}),(0,T.jsx)(d.ZP,{item:!0,children:(0,T.jsx)(h.Z,{variant:"h6",children:(0,T.jsxs)(I.Z,{children:["C",u]})})})]}),(0,T.jsxs)(d.ZP,{container:!0,spacing:1,flexWrap:"nowrap",children:[(0,T.jsx)(d.ZP,{item:!0,children:(0,T.jsx)(f.Z,{color:v?"info":"secondary",label:(0,T.jsx)("strong",{children:j})})}),(0,T.jsx)(d.ZP,{item:!0,children:(0,T.jsx)(f.Z,{color:g?"info":"secondary",label:(0,T.jsx)("strong",{children:k})})}),(0,T.jsx)(d.ZP,{item:!0,children:(0,T.jsx)(f.Z,{color:y?"info":"secondary",label:(0,T.jsx)("strong",{children:b})})})]}),(0,T.jsx)(h.Z,{mt:1,children:(0,T.jsx)(D.q,{stars:t.rarity,colored:!0})})]})]})})}function G(){var e=(0,x.useContext)(v.t).database,n=(0,x.useContext)(Z.R).data,t=(0,x.useMemo)((function(){return b.eV.map((function(t){var r;return[t,e.arts.get(null!==(r=n.get(m.ri.art[t].id).value)&&void 0!==r?r:"")]}))}),[n,e]);return(0,T.jsx)(d.ZP,{direction:"row",container:!0,spacing:.75,columns:5,children:t.map((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];return(0,T.jsx)(d.ZP,{item:!0,xs:1,children:(0,T.jsx)(C.Z,{artifactObj:i,slotKey:t})},t)}))})}function J(){var e=(0,x.useContext)(Z.R).data;return(0,T.jsxs)(c.Z,{sx:{width:"100%"},children:[Object.values(e.getDisplay().basic).map((function(e){return(0,T.jsx)(K.JW,{node:e},e.info.key)})),e.get(m.ri.special).info.key&&(0,T.jsxs)(c.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,T.jsx)(h.Z,{flexGrow:1,children:(0,T.jsx)("strong",{children:"Specialized:"})}),E.ZP[e.get(m.ri.special).info.key],(0,T.jsx)(h.Z,{children:g.ZP.get(e.get(m.ri.special).info.key)})]})]})}},84684:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(66647),i=t(47047),a=t(20890),o=t(68870),s=t(72791),c=t(10658),u=t(947),l=t(2139),d=t(13434),f=t(42320),h=t(96106),x=t(3992),p=t(20005),v=t(25617),Z=t(75545),m=t(80184);function g(e){var n=e.characterKey,t=void 0===n?"":n,g=e.index,y=void 0===g?-1:g,j=e.onClick,k=(0,f.Z)((function(){return u.Z.get(t)}),[t]),b=(0,d.Z)(t),w=(0,s.useCallback)((function(){return t&&(null===j||void 0===j?void 0:j(t))}),[t,j]),C=(0,s.useCallback)((function(e){return(0,m.jsx)(r.Z,{onClick:w,children:e})}),[w]);if(k&&b){var S=(0,m.jsx)(s.Suspense,{fallback:(0,m.jsx)(i.Z,{variant:"text",width:100}),children:(0,m.jsxs)(a.Z,{children:[k.elementKey&&Z.ZP[k.elementKey]," ",k.name]})});return(0,m.jsx)(x.Z,{sx:{maxWidth:128,position:"relative",display:"flex",flexDirection:"column"},children:(0,m.jsxs)(p.Z,{condition:!!j,wrapper:C,children:[(0,m.jsx)(h.Z,{placement:"top",title:S,children:(0,m.jsx)(o.Z,{display:"flex",className:"grad-".concat(k.rarity,"star"),children:(0,m.jsx)(o.Z,{component:"img",src:k.thumbImgSide,maxWidth:"100%",maxHeight:"100%",sx:{transform:"scale(1.4)",transformOrigin:"bottom"}})})}),(0,m.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",top:0},children:(0,m.jsx)("strong",{children:(0,m.jsxs)(v.Z,{color:"primary",children:[b.level,"/",l.SJ[b.ascension]]})})}),(0,m.jsx)(a.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,m.jsx)("strong",{children:(0,m.jsxs)(v.Z,{color:"secondary",children:["C",b.constellation]})})})]})})}return(0,m.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:"12.5%"},children:(0,m.jsx)(o.Z,{component:"img",src:c.Z.team["team".concat(y+2)],sx:{width:"75%",height:"auto",opacity:.7}})})}},3082:function(e,n,t){t.d(n,{w:function(){return F}});var r=t(93433),i=t(29439),a=t(14361),o=t(90690),s=t(39504),c=t(61889),u=t(58165),l=t(94721),d=t(47047),f=t(68870),h=t(13400),x=t(66647),p=t(20890),v=t(72791),Z=t(22020),m=t(10658),g=t(947),y=t(7618),j=t(26138),k=t(17278),b=t(68544),w=t(42320),C=t(47639),S=t(12759),P=t(24351),K=t(50921),I=t(46956),D=t(3992),E=t(71310),R=t(68198),_=t(55942),M=t(9321),z=t(59215),N=t(25617),W=t(10157),T=t(75545),O=t(48510),H=t(73578),B=t(80184),q=["level","rarity","name"];function F(e){var n=e.show,t=e.onHide,a=e.onSelect,o=e.filter,d=void 0===o?function(){return!0}:o,f=e.newFirst,h=void 0!==f&&f,x=(0,v.useMemo)((function(){return h?["new"].concat(q):q}),[h]),p=(0,v.useContext)(y.t).database,m=(0,Z.$)(["page_character","charNames_gen"]).t,j=(0,v.useState)(x[0]),k=(0,i.Z)(j,2),C=k[0],S=k[1],E=(0,v.useState)(!1),_=(0,i.Z)(E,2),N=_[0],W=_[1],T=(0,v.useState)((0,r.Z)(P.N)),F=(0,i.Z)(T,2),A=F[0],Q=F[1],L=(0,v.useState)((0,r.Z)(P.yd)),G=(0,i.Z)(L,2),J=G[0],X=G[1],Y=(0,w.Z)((function(){return g.Z.getAll}),[]),U=(0,b.Z)(),$=(0,i.Z)(U,2),ee=$[0],ne=$[1];(0,v.useEffect)((function(){return p.states.followAny((function(e){return"string"===typeof e&&e.includes("charMeta_")&&ne()}))}),[ne,p]);var te=(0,v.useState)(""),re=(0,i.Z)(te,2),ie=re[0],ae=re[1],oe=(0,v.useDeferredValue)(ie),se=(0,v.useMemo)((function(){return Y&&(0,K._L)(p,Y)}),[p,Y]),ce=(0,v.useMemo)((function(){return Y&&ee&&(0,K.zU)(p,Y)}),[ee,p,Y]),ue=(0,v.useMemo)((function(){return Y?P.IV.filter((function(e){return d(p.chars.get(e),Y[e])})):[]}),[p,Y,d]),le=(0,v.useMemo)((function(){return Y&&se&&ce?ue.filter((0,I.C)({element:A,weaponType:J,favorite:"yes",name:oe},ce)).sort((0,I.e)(C,N,se)).concat(ue.filter((0,I.C)({element:A,weaponType:J,favorite:"no",name:oe},ce)).sort((0,I.e)(C,N,se))):[]}),[Y,A,J,C,N,se,ce,ue,oe]);return Y?(0,B.jsx)(M.Z,{open:n,onClose:t,sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:(0,B.jsxs)(D.Z,{children:[(0,B.jsx)(s.Z,{sx:{py:1},children:(0,B.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(H.Z,{sx:{height:"100%"},onChange:X,value:J,size:"small"})}),(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(O.Z,{sx:{height:"100%"},onChange:Q,value:A,size:"small"})}),(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(u.Z,{autoFocus:!0,value:ie,onChange:function(e){return ae(e.target.value)},label:m("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,B.jsx)(c.ZP,{item:!0,flexGrow:1}),(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(z.Z,{sx:{height:"100%"},sortKeys:x,value:C,onChange:S,ascending:N,onChangeAsc:W})}),(0,B.jsx)(c.ZP,{item:!0,children:(0,B.jsx)(R.Z,{onClick:t})})]})}),(0,B.jsx)(l.Z,{}),(0,B.jsx)(s.Z,{children:(0,B.jsx)(c.ZP,{container:!0,spacing:1,children:le.map((function(e){return(0,B.jsx)(c.ZP,{item:!0,xs:6,md:4,lg:3,children:(0,B.jsx)(V,{characterKey:e,characterSheet:Y[e],onClick:function(){t(),null===a||void 0===a||a(e)}},e)},e)}))})})]})}):null}function V(e){var n,t,r=e.onClick,s=e.characterKey,c=e.characterSheet,u=(0,C.Z)(s),l=(null!==(n=null===u||void 0===u?void 0:u[s])&&void 0!==n?n:{}).target,Z=c.rarity,y=(0,k.Z)("charMeta_".concat(s),S.B),b=(0,i.Z)(y,2),w=b[0].favorite,P=b[1];return(0,B.jsx)(v.Suspense,{fallback:(0,B.jsx)(d.Z,{variant:"rectangular",height:130}),children:(0,B.jsxs)(f.Z,{children:[void 0!==w&&(0,B.jsx)(f.Z,{display:"flex",position:"absolute",alignSelf:"start",zIndex:1,children:(0,B.jsx)(h.Z,{sx:{p:.5},onClick:function(){return P({favorite:!w})},children:w?(0,B.jsx)(a.Z,{}):(0,B.jsx)(o.Z,{})})}),(0,B.jsx)(x.Z,{onClick:r,children:(0,B.jsxs)(E.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(f.Z,{component:"img",src:c.thumbImg,sx:{width:130,height:"auto"},className:"grad-".concat(Z,"star")}),(0,B.jsxs)(f.Z,{sx:{pl:1},children:[(0,B.jsx)(p.Z,{children:(0,B.jsx)("strong",{children:c.name})}),l?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(p.Z,{variant:"h6",sx:{display:"flex",gap:.5,alignItems:"center"},children:[" ",c.elementKey&&T.ZP[c.elementKey]," ",(0,B.jsx)(_.Z,{src:null===(t=m.Z.weaponTypes)||void 0===t?void 0:t[c.weaponTypeKey]})," ",g.Z.getLevelString(l.get(j.ri.lvl).value,l.get(j.ri.asc).value)]}),(0,B.jsxs)(p.Z,{variant:"subtitle2",children:[(0,B.jsx)(N.Z,{color:"success",children:"C".concat(l.get(j.ri.constellation).value)})," ",(0,B.jsx)(N.Z,{color:l.get(j.ri.bonus.auto).value?"info":"secondary",children:(0,B.jsx)("strong",{children:l.get(j.ri.total.auto).value})})," ",(0,B.jsx)(N.Z,{color:l.get(j.ri.bonus.skill).value?"info":"secondary",children:(0,B.jsx)("strong",{children:l.get(j.ri.total.skill).value})})," ",(0,B.jsx)(N.Z,{color:l.get(j.ri.bonus.burst).value?"info":"secondary",children:(0,B.jsx)("strong",{children:l.get(j.ri.total.burst).value})})]})]}):(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(p.Z,{variant:"h6",children:(0,B.jsx)(N.Z,{color:"primary",children:"NEW"})})}),(0,B.jsx)("small",{children:(0,B.jsx)(W.q,{stars:Z,colored:!0})})]})]})})]})})}},88034:function(e,n,t){t.d(n,{ms:function(){return S},lD:function(){return K},JW:function(){return P},ZP:function(){return w}});var r=t(35893),i=t(15021),a=t(68870),o=t(20890),s=t(47047),c=t(66934),u=t(90493),l=t(72791),d=t(13746),f=t(79406),h=t(60393),x=t(91702),p=t(1413),v=t(45987),Z=t(53174),m=t(54483),g=t(96106),y=t(80184),j=["className"],k=function(e){var n=e.className,t=(0,v.Z)(e,j);return(0,y.jsx)(g.Z,(0,p.Z)((0,p.Z)({placement:"top"},t),{},{className:n,children:(0,y.jsx)(a.Z,{component:"span",sx:{cursor:"help"},children:(0,y.jsx)(m.G,{icon:Z.Fuz})})}))},b=t(75545);function w(e){var n=e.fields;return(0,y.jsx)(K,{sx:{m:0},children:n.map((function(e,n){return(0,y.jsx)(C,{field:e,component:i.ZP},n)}))})}function C(e){var n=e.field,t=e.component,r=(0,l.useContext)(d.R),i=r.data,a=r.oldData;if(!(0,l.useMemo)((function(){var e,t;return null===(e=null===n||void 0===n||null===(t=n.canShow)||void 0===t?void 0:t.call(n,i))||void 0===e||e}),[n,i]))return null;if("node"in n){var o=i.get(n.node);if(o.isEmpty)return null;if(a){var s=a.get(n.node),c=s.isEmpty?0:s.value;return(0,y.jsx)(P,{node:o,oldValue:c,suffix:n.textSuffix,component:t})}return(0,y.jsx)(P,{node:o,suffix:n.textSuffix,component:t})}return(0,y.jsx)(S,{field:n,component:t})}function S(e){var n,t=e.field,r=e.component,i=(0,l.useContext)(d.R).data,s=(0,h.mY)(t.value,i),c=(0,h.mY)(t.variant,i),u=t.text&&(0,y.jsx)("span",{children:t.text}),f=t.textSuffix&&(0,y.jsx)("span",{children:t.textSuffix});return(0,y.jsxs)(a.Z,{width:"100%",sx:{display:"flex",justifyContent:"space-between",gap:1},component:r,children:[(0,y.jsxs)(o.Z,{color:"".concat(c,".main"),sx:{display:"flex",gap:1,alignItems:"center"},children:[u,f]}),(0,y.jsxs)(o.Z,{children:["number"===typeof s?null===(n=s.toFixed)||void 0===n?void 0:n.call(s,t.fixed):s,t.unit]})]})}function P(e){var n=e.node,t=e.oldValue,i=e.suffix,c=e.component,u=e.emphasize;if(n.isEmpty)return null;i=i&&(0,y.jsx)("span",{children:i});var d=n.info.key&&b.ZP[n.info.key],h=n.info.key?f.ZP.get(n.info.key):"",p=n.info.isTeamBuff,v=n.formula,Z="";if(t){var m=n.value-t;Z=(0,y.jsxs)("span",{children:[(0,f.EC)(t,n.unit),m>1e-4||m<-1e-4?(0,y.jsxs)(x.Z,{color:m>0?"success":"error",children:[" ",m>0?"+":"",(0,f.EC)(m,n.unit)]}):""]})}else Z=(0,f.EC)(n.value,n.unit);var g=!!n.formula&&(0,y.jsx)(k,{title:(0,y.jsx)(o.Z,{children:(0,y.jsx)(l.Suspense,{fallback:(0,y.jsx)(s.Z,{variant:"rectangular",width:300,height:30}),children:v})})});return(0,y.jsxs)(a.Z,{width:"100%",sx:{display:"flex",justifyContent:"space-between",gap:1,boxShadow:u?"0px 0px 0px 2px red inset":void 0},component:c,children:[(0,y.jsxs)(o.Z,{color:"".concat(n.info.variant,".main"),sx:{display:"flex",gap:1,alignItems:"center"},children:[!!p&&(0,y.jsx)(r.Z,{}),d,h,i]}),(0,y.jsxs)(a.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,y.jsx)(o.Z,{noWrap:!0,children:Z}),g]})]})}var K=(0,c.ZP)(u.Z)((function(e){var n=e.theme,t=e.light,r=void 0===t?"contentDark":t,i=e.dark,a=void 0===i?"contentDarker":i,o=e.palletOption,s=void 0===o?"main":o;return{borderRadius:n.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:n.palette[r][s]},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:n.palette[a][s]}}}))},48510:function(e,n,t){t.d(n,{Z:function(){return Z}});var r=t(1413),i=t(45987),a=t(93433),o=t(72466),s=t(68870),c=t(24351),u=t(75308),l=t(66934),d=t(90388),f=(0,l.ZP)(d.Z,{shouldForwardProp:function(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var n=e.theme,t=e.baseColor,r=void 0===t?"secondary":t,i=e.selectedColor,a=void 0===i?"success":i;return{"&":{backgroundColor:n.palette[r].main,color:n.palette[r].contrastText},"&:hover":{backgroundColor:n.palette[r].dark},"&.Mui-selected":{backgroundColor:n.palette[a].main,color:n.palette[a].contrastText},"&.Mui-selected:hover":{backgroundColor:n.palette[a].dark},"&.Mui-disabled":{backgroundColor:n.palette[r].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:n.palette[a].dark}}})),h=t(75545),x=t(80184),p=["value","onChange"],v=(0,u.X)((0,a.Z)(c.N));function Z(e){var n=e.value,t=e.onChange,a=(0,i.Z)(e,p);return(0,x.jsx)(o.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:n},a),{},{children:c.N.map((function(e){return(0,x.jsx)(f,{value:e,selectedColor:e,onClick:function(){return t(v(n,e))},children:(0,x.jsx)(s.Z,{sx:{fontSize:"2em",lineHeight:1},children:h.hJ[e]})},e)}))}))}},73578:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),i=t(45987),a=t(93433),o=t(90388),s=t(10658),c=t(24351),u=t(75308),l=t(55942),d=t(91839),f=t(80184),h=["value","onChange"],x=(0,u.X)((0,a.Z)(c.yd));function p(e){var n=e.value,t=e.onChange,a=(0,i.Z)(e,h);return(0,f.jsx)(d.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:n},a),{},{children:c.yd.map((function(e){var r;return(0,f.jsx)(o.Z,{value:e,onClick:function(){return t(x(n,e))},children:(0,f.jsx)(l.Z,{src:null===(r=s.Z.weaponTypes)||void 0===r?void 0:r[e],size:2})},e)}))}))}},77208:function(e,n,t){t.d(n,{Z:function(){return Z}});var r=t(68870),i=t(20890),a=t(72791),o=t(66218),s=t(26138),c=t(73036),u=t(79406),l=t(42320),d=t(74480),f=t(3992),h=t(25617),x=t(75545),p=t(41717),v=t(80184);function Z(e){var n=e.weaponId,t=(0,d.Z)(n),u=(0,l.Z)((function(){return(null===t||void 0===t?void 0:t.key)&&o.Z.get(t.key)}),[null===t||void 0===t?void 0:t.key]),x=(0,a.useMemo)((function(){return u&&t&&(0,c.mP)([u.data,(0,c.v0)(t)])}),[u,t]);if(!t||!u||!x)return null;var Z=(0,v.jsxs)(r.Z,{children:[(0,v.jsx)(m,{node:x.get(s.ri.weapon.main)}),(0,v.jsx)(m,{node:x.get(s.ri.weapon.sub)})]});return(0,v.jsxs)(f.Z,{sx:{height:"100%",maxWidth:128,position:"relative",display:"flex",flexDirection:"column"},children:[(0,v.jsx)(r.Z,{display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(u.rarity,"star"),children:(0,v.jsx)(p.Z,{sheet:u,addlText:Z,children:(0,v.jsx)(r.Z,{component:"img",src:u.getImg(t.ascension),maxWidth:"100%",maxHeight:"100%",sx:{mt:"auto"}})})}),(0,v.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none"},children:(0,v.jsx)("strong",{children:(0,v.jsx)(h.Z,{color:"primary",children:o.Z.getLevelString(t)})})}),u.hasRefinement&&(0,v.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,v.jsx)("strong",{children:(0,v.jsxs)(h.Z,{color:"secondary",children:["R",t.refinement]})})})]})}function m(e){var n=e.node;if(!n.info.key)return null;var t=(0,u.EC)(n.value,n.unit,n.unit?void 0:0);return(0,v.jsxs)(i.Z,{children:[x.ZP[n.info.key]," ",t]})}},41717:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(47047),i=t(20890),a=t(72791),o=t(10658),s=t(96106),c=t(55942),u=t(80184);function l(e){var n=e.sheet,t=e.addlText,l=e.children,d=(0,u.jsxs)(a.Suspense,{fallback:(0,u.jsx)(r.Z,{variant:"text",width:100}),children:[(0,u.jsxs)(i.Z,{children:[(0,u.jsx)(c.Z,{src:o.Z.weaponTypes[n.weaponType]})," ",n.name]}),t]});return(0,u.jsx)(s.Z,{placement:"top",title:d,disableInteractive:!0,children:l})}},97714:function(e,n,t){t.d(n,{K:function(){return r}});var r=(0,t(72791).createContext)({})},13746:function(e,n,t){t.d(n,{R:function(){return r}});var r=(0,t(72791).createContext)({})},31148:function(e,n,t){t.d(n,{i:function(){return g},y:function(){return m}});var r=t(29439),i=t(93433),a=t(15671),o=t(43144),s=t(55942),c=t(25617),u=t(66624),l=t(26138),d=t(73036),f=t(24351),h=t(53343),x=t(80184),p=t.e(94).then(t.bind(t,39896)).then((function(e){return e.default})),v=function(e,n){return(0,x.jsx)(u.v,{ns:"artifact_".concat(e,"_gen"),key18:n})},Z=p.then((function(e){return(0,d.b3)(Object.values(e).map((function(e){return e.data})))})),m=function(){function e(n,t,r){var i=this;(0,a.Z)(this,e),this.sheet=void 0,this.key=void 0,this.data=void 0,this.getSlotName=function(e){return v(i.key,"pieces.".concat(e,".name"))},this.getSlotDesc=function(e){return v(i.key,"pieces.".concat(e,".desc"))},this.setEffectDesc=function(e){return v(i.key,"setEffects.".concat(e))},this.setEffectDocument=function(e){var n;return null===(n=i.sheet.setEffects[e])||void 0===n?void 0:n.document},this.hasEnough=function(e,n){var t;return(null!==(t=n.get(l.qH.artSet[i.key]).value)&&void 0!==t?t:0)>=e},this.sheet=t,this.key=n,this.data=r}return(0,o.Z)(e,[{key:"name",get:function(){return v(this.key,"setName")}},{key:"defIconSrc",get:function(){var e=this.slots[0];if(this.slotIcons[e])return this.slotIcons[e]}},{key:"defIcon",get:function(){return(0,x.jsx)(s.Z,{src:this.defIconSrc,sx:{fontSize:"1.5em"}})}},{key:"nameWithIcon",get:function(){var e=this.slots[0];return(0,x.jsxs)("span",{children:[(0,x.jsx)(s.Z,{src:this.slotIcons[e]})," ",v(this.key,"setName")]})}},{key:"nameRaw",get:function(){return this.sheet.name}},{key:"rarity",get:function(){return this.sheet.rarity}},{key:"slots",get:function(){switch(this.key){case"PrayersForDestiny":case"PrayersForIllumination":case"PrayersForWisdom":case"PrayersToSpringtime":return["circlet"];default:return(0,i.Z)(f.eV)}}},{key:"slotIcons",get:function(){return this.sheet.icons}},{key:"setEffects",get:function(){return this.sheet.setEffects}}],[{key:"get",value:function(e){return e?p.then((function(n){return n[e]})):void 0}},{key:"getAll",get:function(){return p}},{key:"getAllData",get:function(){return Z}},{key:"setKeysByRarities",value:function(e){var n={};return Object.entries(e).forEach((function(e){var t=(0,r.Z)(e,2),a=t[0],o=t[1],s=Math.max.apply(Math,(0,i.Z)(o.rarity));n[s]?n[s].push(a):n[s]=[a]})),n}},{key:"setEffects",value:function(e,n){var t={};return Object.entries(e).forEach((function(e){var i=(0,r.Z)(e,2),a=i[0],o=i[1],s=Object.keys(o.setEffects).map((function(e){return parseInt(e)})).filter((function(e){return o.hasEnough(e,n)}));s.length&&(t[a]=s)})),t}}]),e}(),g=function(e,n){var t=function(n){return(0,x.jsx)(u.v,{ns:"artifact_".concat(e,"_gen"),key18:n})};return function(e){var r,i;return{title:t("setName"),icon:(0,x.jsx)(s.Z,{size:2,sx:{m:-1},src:null!==(r=null!==(i=n.flower)&&void 0!==i?i:n.circlet)&&void 0!==r?r:""}),action:(0,x.jsx)(c.Z,{color:"success",children:(0,h.st)("".concat(e,"set"))}),description:t("setEffects.".concat(e))}}}},11741:function(e,n,t){t.d(n,{J:function(){return z},Y:function(){return N}});var r,i=t(1413),a=t(75545),o=t(66624),s=t(26138),c=t(73036),u=t(78661),l=t(24351),d=t(60393),f=t(53343),h=t(80184),x=function(e){return(0,h.jsx)(o.v,{ns:"elementalResonance_gen",key18:e})},p=(0,d.Uq)(l.Kj,(function(e){return["".concat(e,"_res_"),(0,u.ew)(s.uK.ele,4,(0,u.aQ)(.15))]})),v={name:x("ProtectiveCanopy.name"),desc:x("ProtectiveCanopy.desc"),icon:(0,h.jsxs)("span",{children:[a.ZP.anemo," ",a.ZP.geo," ",a.ZP.pyro," ",a.ZP.hydro," ",a.ZP.cryo," ",a.ZP.electro," x4"]}),canShow:function(e){return 4===l.N.filter((function(n){return e.get(s.uK[n]).value>=1})).length},sections:[{teamBuff:!0,fields:Object.values(p).map((function(e){return{node:e}}))}]},Z=(0,u.ew)(s.uK.pyro,2,(0,u.aQ)(.25)),m={name:x("FerventFlames.name"),desc:x("FerventFlames.desc"),icon:(0,h.jsxs)("span",{children:[a.ZP.pyro," ",a.ZP.pyro]}),canShow:function(e){return e.get(s.uK.pyro).value>=2},sections:[{teamBuff:!0,fields:[{text:(0,f.st)("effectDuration.cryo"),value:-40,unit:"%"},{node:Z}]}]},g=(0,u.ew)(s.uK.hydro,2,(0,u.aQ)(.3)),y={name:x("SoothingWater.name"),desc:x("SoothingWater.desc"),icon:(0,h.jsxs)("span",{children:[a.ZP.hydro," ",a.ZP.hydro]}),canShow:function(e){return e.get(s.uK.hydro).value>=2},sections:[{teamBuff:!0,fields:[{text:(0,f.st)("effectDuration.pyro"),value:-40,unit:"%"},{node:g}]}]},j=["resonance","ShatteringIce"],k=(0,f.v9)(j),b=(0,u.ew)(s.uK.cryo,2,(0,u.Dg)(k,"on",(0,u.aQ)(.15))),w={name:x("ShatteringIce.name"),desc:x("ShatteringIce.desc"),icon:(0,h.jsxs)("span",{children:[a.ZP.cryo," ",a.ZP.cryo]}),canShow:function(e){return e.get(s.uK.cryo).value>=2},sections:[{teamBuff:!0,fields:[{text:(0,f.st)("effectDuration.electro"),value:-40,unit:"%"}]},{teamBuff:!0,path:j,value:k,name:(r="ShatteringIce.cond",(0,h.jsx)(o.v,{ns:"elementalResonance",key18:r})),header:{title:x("ShatteringIce.name"),icon:a.ZP.cryo},states:{on:{fields:[{node:b}]}}}]},C={name:x("HighVoltage.name"),desc:x("HighVoltage.desc"),icon:(0,h.jsxs)("span",{children:[a.ZP.electro," ",a.ZP.electro]}),canShow:function(e){return e.get(s.uK.electro).value>=2},sections:[{teamBuff:!0,fields:[{text:(0,f.st)("effectDuration.hydro"),value:-40,unit:"%"}]}]},S=(0,u.ew)(s.uK.anemo,2,(0,u.aQ)(-.15)),P=(0,u.ew)(s.uK.anemo,2,(0,u.aQ)(.1)),K=(0,u.ew)(s.uK.anemo,2,(0,u.aQ)(-.05)),I={name:x("ImpetuousWinds.name"),desc:x("ImpetuousWinds.desc"),icon:(0,h.jsxs)("span",{children:[a.ZP.anemo," ",a.ZP.anemo]}),canShow:function(e){return e.get(s.uK.anemo).value>=2},sections:[{teamBuff:!0,fields:[{node:S},{node:P},{node:K}]}]},D=["resonance","EnduringRock"],E=(0,f.v9)(D),R=(0,u.ew)(s.uK.geo,2,(0,u.aQ)(.15)),_=(0,u.ew)(s.uK.geo,2,(0,u.Dg)(E,"on",(0,u.aQ)(.15))),M=(0,u.ew)(s.uK.geo,2,(0,u.Dg)(E,"on",(0,u.aQ)(-.2))),z=[v,m,y,w,C,I,{name:x("EnduringRock.name"),desc:x("EnduringRock.desc"),icon:(0,h.jsxs)("span",{children:[a.ZP.geo," ",a.ZP.geo]}),canShow:function(e){return e.get(s.uK.geo).value>=2},sections:[{teamBuff:!0,text:x("EnduringRock.desc"),fields:[{node:R}]},{teamBuff:!0,path:D,value:E,header:{title:x("EnduringRock.name"),icon:a.ZP.geo},name:(0,f.st)("protectedByShield"),states:{on:{fields:[{node:_},{node:M},{text:(0,f.Oy)("duration"),value:15,unit:"s"}]}}}]}],N=(0,c.d1)({premod:(0,i.Z)((0,i.Z)({},p),{},{atk_:Z,incHeal_:g,staminaDec_:S,moveSPD_:P,cdRed_:K,shield_:R,all_dmg_:_,geo_enemyRes_:M}),total:{critRate_:b}})},66218:function(e,n,t){t.d(n,{X:function(){return x},Z:function(){return h}});var r=t(29439),i=t(15671),a=t(43144),o=t(55942),s=t(25617),c=t(66624),u=t(26138),l=t(2139),d=t(80184),f=Promise.all([t.e(36),t.e(335)]).then(t.bind(t,55017)).then((function(e){return e.default})),h=function(){function e(n,t,r,a){var o=this;(0,i.Z)(this,e),this.key=void 0,this.sheet=void 0,this.data=void 0,this.rarity=void 0,this.weaponType=void 0,this.tr=function(e){return(0,d.jsx)(c.v,{ns:"weapon_".concat(o.key,"_gen"),key18:e})},this.passiveDescription=function(e){return o.hasRefinement?o.tr("passiveDescription.".concat(e)):""},this.rarity=r.rarity,this.weaponType=r.weaponType,this.key=n,this.sheet=t,this.data=a}return(0,a.Z)(e,[{key:"name",get:function(){return this.tr("name")}},{key:"hasRefinement",get:function(){return this.rarity>2}},{key:"passiveName",get:function(){return this.hasRefinement?this.tr("passiveName"):""}},{key:"description",get:function(){return this.tr("description")}},{key:"document",get:function(){return this.sheet.document}},{key:"milestoneLevels",get:function(){return this.hasRefinement?l.D4:l.Xu}},{key:"ambiguousLevel",value:function(e){return this.hasRefinement?(0,l.ek)(e):(0,l.nB)(e)}},{key:"getImg",value:function(e){return e<2?this.sheet.icon:this.sheet.iconAwaken}}],[{key:"getAll",get:function(){return f}}]),e}();h.get=function(e){return e?f.then((function(n){return n[e]})):void 0},h.getWeaponsOfType=function(e,n){return Object.fromEntries(Object.entries(e).filter((function(e){var t=(0,r.Z)(e,2);t[0];return t[1].weaponType===n})))},h.getLevelString=function(e){return"".concat(e.level,"/").concat(l.SJ[e.ascension])};var x=function(e,n,t,r){var i=function(n){return(0,d.jsx)(c.v,{ns:"weapon_".concat(e,"_gen"),key18:n})};return{title:i("passiveName"),icon:function(e){return(0,d.jsx)(o.Z,{size:2,sx:{m:-1},src:e.get(u.qH.weapon.asc).value<2?n:t})},action:r&&(0,d.jsx)(s.Z,{color:"success",children:r}),description:function(e){return i("passiveDescription.".concat(e.get(u.qH.weapon.refineIndex).value))}}}},566:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(74165),i=t(15861),a=t(72791),o=t(16871),s=t(947),c=t(7618),u=t(24351),l=t(11400),d=t(60393);function f(){var e,n=(0,a.useContext)(c.t).database,t=(0,o.s0)(),f=(null!==(e=(0,o.bS)({path:"/characters/:charKey/:tab",end:!1}))&&void 0!==e?e:{params:{tab:""}}).params.tab,h=void 0===f?"":f,x=(0,a.useCallback)(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i){var a,o,c,f,x,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.chars.get(i),o=h,a){e.next=14;break}return c={key:i,level:1,ascension:0,hitMode:"avgHit",reactionMode:"",equippedArtifacts:(0,d.O)(u.eV,(function(){return""})),equippedWeapon:"",conditional:{},bonusStats:{},enemyOverride:{},talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0,team:["","",""],compareData:!1},n.chars.set(i,c),e.next=7,s.Z.get(i);case 7:if(f=e.sent){e.next=10;break}return e.abrupt("return");case 10:x=(0,l.Q)(f.weaponTypeKey),p=n.weapons.new(x),n.weapons.set(p,{location:i}),o="";case 14:t("/characters/".concat(i,"/").concat(o));case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,n,h]);return x}},13434:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),i=t(72791),a=t(7618);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,i.useContext)(a.t),t=n.database,o=(0,i.useState)(t.chars.get(e)),s=(0,r.Z)(o,2),c=s[0],u=s[1];return(0,i.useEffect)((function(){return u(t.chars.get(e))}),[t,e]),(0,i.useEffect)((function(){return e?t.chars.follow(e,u):void 0}),[e,u,t]),c}},50920:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(93433),i=t(4942),a=t(1413),o=t(72791),s=t(7618),c=t(60393);function u(e){var n=(0,o.useContext)(s.t).database;return(0,o.useCallback)((function(t){if(e)if("type"in t)switch(t.type){case"enemyOverride":var o=n.chars.get(e),s=o.enemyOverride,u=t.statKey,l=t.value;if(s[u]===l)break;n.chars.set(e,(0,a.Z)((0,a.Z)({},o),{},{enemyOverride:(0,a.Z)((0,a.Z)({},s),{},(0,i.Z)({},u,l))}));break;case"editStats":var d=n.chars.get(e),f=t.statKey,h=t.value,x=(0,c.I8)(d.bonusStats);if(x[f]===h)break;h?x[f]=h:delete x[f],n.chars.set(e,(0,a.Z)((0,a.Z)({},d),{},{bonusStats:x}));break;case"resetStats":var p=n.chars.get(e),v=t.statKey,Z=p.bonusStats;delete Z[v],n.chars.set(e,(0,a.Z)((0,a.Z)({},p),{},{bonusStats:Z}));break;case"team":var m=n.chars.get(e),g=m.team,y=(0,r.Z)(g),j=t.index,k=t.charKey,b=y[j];if(y[j]=k,b){var w=n.chars.get(b);w&&n.chars.set(b,(0,a.Z)((0,a.Z)({},w),{},{team:["","",""]}))}if(k){var C=n.chars.get(k);C&&C.team.forEach((function(e){if(e){var t=n.chars.get(e);t&&n.chars.set(e,(0,a.Z)((0,a.Z)({},t),{},{team:t.team.map((function(e){return e===k?"":e}))}))}}))}y.forEach((function(t,i){if(t){var o=n.chars.get(t);o&&n.chars.set(t,(0,a.Z)((0,a.Z)({},o),{},{team:[e].concat((0,r.Z)(y)).filter((function(e,n){return n!==i+1}))}))}})),n.chars.set(e,(0,a.Z)((0,a.Z)({},m),{},{team:y}))}else n.chars.set(e,(0,a.Z)((0,a.Z)({},n.chars.get(e)),t))}),[e,n])}},47639:function(e,n,t){t.d(n,{V:function(){return C},Z:function(){return k}});var r=t(93433),i=t(4942),a=t(74165),o=t(1413),s=t(45987),c=t(15861),u=t(29439),l=t(72791),d=t(31148),f=t(947),h=t(11741),x=t(66218),p=t(7618),v=t(26138),Z=t(73036),m=t(60393),g=t(68544),y=t(42320),j=["data"];function k(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=(0,l.useContext)(p.t),a=i.database,o=(0,g.Z)(),s=(0,u.Z)(o,2),c=s[0],d=s[1],f=(0,l.useDeferredValue)(c),h=(0,y.Z)((function(){return b(a,e,n,t,r)}),[f,e,a,n,t,r]);(0,l.useEffect)((function(){return e?a.chars.follow(e,d):void 0}),[e,d,a]),(0,l.useEffect)((function(){return e?a.arts.followAny(d):void 0}),[e,d,a]);var x=Object.keys(null!==h&&void 0!==h?h:{}),v=(0,u.Z)(x,4),Z=v[0],m=v[1],j=v[2],k=v[3],w=(0,l.useCallback)((function(){x.map((function(e){return a.invalidateTeamData(e)})),d()}),[a,x,d]);return(0,l.useEffect)((function(){return Z?a.chars.follow(Z,w):void 0}),[Z,w,a]),(0,l.useEffect)((function(){return m?a.chars.follow(m,w):void 0}),[m,w,a]),(0,l.useEffect)((function(){return j?a.chars.follow(j,w):void 0}),[j,w,a]),(0,l.useEffect)((function(){return k?a.chars.follow(k,w):void 0}),[k,w,a]),h}function b(e,n){return w.apply(this,arguments)}function w(){return w=(0,c.Z)((0,a.Z)().mark((function e(n,t){var r,i,c,u,l,d,f,h,x,p,v=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:0,c=v.length>3?v[3]:void 0,u=v.length>4?v[4]:void 0,t){e.next=5;break}return e.abrupt("return");case 5:if(i||c||u){e.next=9;break}if(!(l=n._getTeamData(t))){e.next=9;break}return e.abrupt("return",l);case 9:return e.next=11,C(n,t,i,c,u);case 11:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=15;break}e.t0=void 0!==r;case 15:if(!e.t0){e.next=19;break}e.t2=r,e.next=20;break;case 19:e.t2={};case 20:if(d=e.t2,f=d.teamData,h=d.teamBundle,f&&h){e.next=25;break}return e.abrupt("return");case 25:return x=(0,Z.Qo)(f,t),p=(0,m.xh)(x,(function(e,n){var t=h[n],r=(t.data,(0,s.Z)(t,j));return(0,o.Z)((0,o.Z)({},e),r)})),i||c||u||n.cacheTeamData(t,p),e.abrupt("return",p);case 29:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function C(e,n){return S.apply(this,arguments)}function S(){return S=(0,c.Z)((0,a.Z)().mark((function e(n,t){var r,o,s,u,l,d,f=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:0,o=f.length>3?f[3]:void 0,s=f.length>4?f[4]:void 0,t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,P(n,t,r,o,s);case 7:if(u=e.sent){e.next=10;break}return e.abrupt("return");case 10:return l=(0,i.Z)({},t,u),d=(0,i.Z)({},t,u.data),e.next=14,Promise.all(u.character.team.map(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,P(n,t);case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return");case 7:l[t]=r,d[t]=r.data;case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 14:return e.abrupt("return",{teamData:d,teamBundle:l});case 15:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function P(e,n){return K.apply(this,arguments)}function K(){return K=(0,c.Z)((0,a.Z)().mark((function e(n,t){var i,o,s,c,l,p,m,g,y,j,k,b,w=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=w.length>2&&void 0!==w[2]?w[2]:0,o=w.length>3?w[3]:void 0,s=w.length>4?w[4]:void 0,t){e.next=5;break}return e.abrupt("return");case 5:if(c=n.chars.get(t)){e.next=8;break}return e.abrupt("return");case 8:if(l=null!==s&&void 0!==s?s:n.weapons.get(c.equippedWeapon)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Promise.all([f.Z.get(t),x.Z.get(l.key),d.y.getAllData]);case 13:if(p=e.sent,m=(0,u.Z)(p,3),g=m[0],y=m[1],j=m[2],g&&y&&j){e.next=20;break}return e.abrupt("return");case 20:return k=(null!==o&&void 0!==o?o:Object.values(c.equippedArtifacts).map((function(e){return n.arts.get(e)}))).filter((function(e){return e})),b=[].concat((0,r.Z)(k.map((function(e){return(0,Z.n3)(e,i)}))),[(0,Z.vn)(c),g.getData(c.elementKey),(0,Z.v0)(l),y.data,j,v.y0,h.Y]),e.abrupt("return",{character:c,weapon:l,characterSheet:g,weaponSheet:y,data:b});case 23:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}},74480:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),i=t(72791),a=t(7618);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,i.useContext)(a.t),t=n.database,o=(0,i.useState)(t.weapons.get(e)),s=(0,r.Z)(o,2),c=s[0],u=s[1];return(0,i.useEffect)((function(){return u(t.weapons.get(e))}),[t,e]),(0,i.useEffect)((function(){return e?t.weapons.follow(e,u):void 0}),[e,u,t]),c}},75308:function(e,n,t){t.d(n,{X:function(){return a}});var r=t(93433),i=t(60393);function a(e){return function(n,t){var a=n.length;return a===e.length?[t]:1===a&&n[0]===t?(0,r.Z)(e):(0,r.Z)(new Set((0,i.nh)(n,t)))}}}}]);
//# sourceMappingURL=426.26c31ee4.chunk.js.map