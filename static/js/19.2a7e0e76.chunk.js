(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[19,33],{234:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a(138),r=a(64),i=a(114),l=a(16),s=a(0),o=function(e){return Object(s.jsx)(r.b,{ns:"resonance_gen",key18:e})},j=[{header:{title:o("ProtectiveCanopy.name"),action:Object(s.jsxs)("span",{children:[c.a.anemo," ",c.a.geo," ",c.a.pyro," ",c.a.hydro," ",c.a.cryo," ",c.a.electro," x4"]})},description:o("ProtectiveCanopy.desc"),canShow:function(e){return 4===new Set([].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return e}))).size},conditionals:[{key:"pc",partyBuff:"partyAll",canShow:function(e){return 4===new Set([].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle])).size},maxStack:0,stats:Object.fromEntries([].concat(Object(n.a)(l.d),["physical"]).map((function(e){return["".concat(e,"_res_"),15]})))}]},{header:{title:o("FerventFlames.name"),action:Object(s.jsxs)("span",{children:[c.a.pyro," ",c.a.pyro]})},description:o("FerventFlames.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"pyro"===e})).length>=2},conditionals:[{key:"ff",partyBuff:"partyAll",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"pyro"===e})).length>=2},maxStack:0,stats:{atk_:25},fields:[{text:"Cryo affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("SoothingWater.name"),action:Object(s.jsxs)("span",{children:[c.a.hydro," ",c.a.hydro]})},canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"hydro"===e})).length>=2},description:o("SoothingWater.desc"),conditionals:[{key:"sw",maxStack:0,canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"hydro"===e})).length>=2},partyBuff:"partyAll",stats:{incHeal_:30},fields:[{text:"Pyro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("ShatteringIce.name"),action:Object(s.jsxs)("span",{children:[c.a.cryo," ",c.a.cryo]})},canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"cryo"===e})).length>=2},description:o("ShatteringIce.desc"),conditionals:[{key:"si",name:"Against enemies that are Frozen or affected by Cryo",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"cryo"===e})).length>=2},partyBuff:"partyAll",stats:{critRate_:15},fields:[{text:"Electro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("HighVoltage.name"),action:Object(s.jsxs)("span",{children:[c.a.electro," ",c.a.electro]})},description:o("HighVoltage.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"electro"===e})).length>=2},conditionals:[{key:"hv",partyBuff:"partyAll",maxStack:0,canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"electro"===e})).length>=2},fields:[{text:"Hydro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("ImpetuousWinds.name"),action:Object(s.jsxs)("span",{children:[c.a.anemo," ",c.a.anemo]})},description:o("ImpetuousWinds.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"anemo"===e})).length>=2},conditionals:[{key:"iw",partyBuff:"partyAll",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"anemo"===e})).length>=2},maxStack:0,stats:{staminaDec_:15,moveSPD_:10,skillCDRed_:5},fields:[{text:"Pyro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("EnduringRock.name"),action:Object(s.jsxs)("span",{children:[c.a.geo," ",c.a.geo]})},description:o("EnduringRock.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},conditionals:[{key:"er",name:"Increases shield strength",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},partyBuff:"partyAll",stats:{shield_:15}},{key:"ers",name:"characters protected by a shield",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},partyBuff:"partyAll",stats:{dmg_:15}},{key:"erd",name:"characters protected by a shield: dealing DMG to enemies",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},partyBuff:"partyAll",stats:{geo_enemyRes_:-20},fields:[{text:Object(i.i)("duration"),value:15,unit:"s"}]}]}];t.default=j},311:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,c=a(41),r=a(370),i=a(80),l=a(135),s=a(139),o=a(136),j=a(0);function u(e){var t=e.location,a=Object(l.a)("ui").t,u=Object(o.a)(s.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(j.jsx)(i.a,{component:"span",children:(null===u||void 0===u?void 0:u.name)?u.nameWIthIcon:Object(j.jsxs)("span",{children:[Object(j.jsx)(r.a,{sx:{verticalAlign:"text-bottom"}})," ",a(n||(n=Object(c.a)(["inventory"])))]})})}},314:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(4),c=a(65),r=a(1043),i=a(1),l=a(141),s=a(16),o=a(71),j=a(301),u=a(0);function d(e){var t=e.value,a=e.onChange,d=Object(c.a)(e,["value","onChange"]),b=Object(i.useCallback)((function(e,t){return a(t||"")}),[a]);return Object(u.jsx)(j.a,Object(n.a)(Object(n.a)({exclusive:!0,onChange:b,value:t||s.k},d),{},{children:s.k.map((function(e){var t;return Object(u.jsx)(r.a,{value:e,children:Object(u.jsx)(o.a,{src:null===(t=l.a.weaponTypes)||void 0===t?void 0:t[e],size:2})},e)}))}))}},317:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(3),c=a(1),r=a(179);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(c.useContext)(r.b),a=Object(c.useState)(t._getWeapon(e)),i=Object(n.a)(a,2),l=i[0],s=i[1];return Object(c.useEffect)((function(){return s(t._getWeapon(e))}),[t,e]),Object(c.useEffect)((function(){return e?t.followWeapon(e,s):void 0}),[e,s,t]),l}},322:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n=a(3);function c(e,t,a){function n(e,t,a,n){var c=n.getValue(e),r=n.getValue(t);return(a?-1:1)*("string"===typeof c&&"string"===typeof r?c.localeCompare(r):r-c)}return function(c,r){if(!a[e])return 0;var i=a[e],l=n(c,r,t,i);return!l&&i.tieBreaker&&a[i.tieBreaker]&&(l=n(c,r,t,a[i.tieBreaker])),l}}function r(e,t){return function(a){return Object.entries(e).every((function(e){var c=Object(n.a)(e,2),r=c[0],i=c[1];return t[r](a,i)}))}}},323:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(4),c=a(65),r=a(51),i=a(17),l=a(992),s=a(1042),o=a(281),j=a(135),u=a(98),d=a(288),b=a(0);function h(e){var t=e.sortKeys,a=e.value,h=e.onChange,x=e.ascending,O=e.onChangeAsc,f=Object(c.a)(e,["sortKeys","value","onChange","ascending","onChangeAsc"]),v=Object(j.a)("ui").t;return Object(b.jsxs)(l.a,Object(n.a)(Object(n.a)({},f),{},{children:[Object(b.jsx)(d.a,{title:Object(b.jsxs)(u.a,{t:v,i18nKey:"sortByFormat",value:v("sortMap.".concat(a)),children:["Sort By: ",{value:v("sortMap.".concat(a))}]}),children:t.map((function(e){return Object(b.jsx)(s.a,{selected:a===e,disabled:a===e,onClick:function(){return h(e)},children:v("sortMap.".concat(e))},e)}))}),Object(b.jsx)(o.a,{onClick:function(){return O(!x)},startIcon:Object(b.jsx)(i.a,{icon:x?r.x:r.y,className:"fa-fw"}),children:x?Object(b.jsx)(u.a,{t:v,i18nKey:"ascending",children:"Ascending"}):Object(b.jsx)(u.a,{t:v,i18nKey:"descending",children:"Descending"})})]}))}},327:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(3),c=a(20),r=a(6),i=a(4),l=a(11),s=a(12),o=a(82),j=a(118),u=[3,4,6],d={hp:6,atk:6,def:6,hp_:4,atk_:4,def_:4,eleMas:4,enerRech_:4,critRate_:3,critDMG_:3},b={};function h(e,t,a,n){if(5!==e.length)for(var c=0,o=u;c<o.length;c++){var j=o[c];t[j]>0&&h([].concat(Object(l.a)(e),[j]),Object(i.a)(Object(i.a)({},t),{},Object(r.a)({},j,t[j]-j)),a-j,n*t[j]/a)}else Object(s.k)(b,e,n)}h([0],{3:6,4:20,6:18},44,1),h([3],{3:3,4:20,6:18},41,1),h([4],{3:6,4:16,6:18},40,1),h([6],{3:6,4:20,6:12},38,1);for(var x=Array(6).fill(0).map((function(e,t){for(var a=[1],n=0,c=1;++n<=t;)c*=t-n+1,c/=n,a.push(c);return a})),O=[[1]],f=function(){var e=O[O.length-1],t=Array(e.length+3).fill(0);e.forEach((function(e,a){for(var n=0,c=[0,1,2,3];n<c.length;n++){t[a+c[n]]+=e}})),O.push(t.map((function(e){return e/4})))};O.length<6;)f();for(var v=function(){var e=m[p],t=e.reduce((function(e,t){return e+t}));e.forEach((function(e,a,n){n[a]=t,t-=e}))},p=0,m=O;p<m.length;p++)v();function g(e,t){if(e.rarity<=2)return NaN;var a=e.rarity,l=e.level,h=e.substats,f=Object(i.a)({},t),v=new Set(Object.keys(f)),p=0,m=e.mainStatKey;if(m in f){var g=4*a;if(j[a][m][g]<f[m])return 0;delete f[m],v.delete(m)}var y,S=Object(c.a)(h);try{for(S.s();!(y=S.n()).done;){var w=y.value,k=w.key,C=w.value;k?v.has(k)&&(v.delete(k),f[k]>C?f[k]-=C:delete f[k]):p+=1}}catch(q){S.e(q)}finally{S.f()}if(p+=4-h.length,v.size>p||Object.keys(f).length>4)return 0;for(var _=o.a.rollsRemaining(l,a)-p,B=0,E=Object.entries(f);B<E.length;B++){var K=Object(n.a)(E[B],2),A=K[0],T=K[1];f[A]=Math.max(Math.ceil(10*T/o.a.maxSubstatValues(A,a)),1)}var N=0,D=Object.entries(f).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],r=v.has(a)?1:0,i=Math.ceil(c/10)-r;return N+=i,{target:c,filler:r,minUpgrade:i}})).reverse();if(N>_)return 0;var F=Object(r.a)({},_,1),M=_-N;return D.forEach((function(e,t){for(var a,c,r,i=e.target,l=e.filler,s=e.minUpgrade,o={},j=s;j<=s+M;j++)for(var u=i-7*(j+l),d=u>0?O[j+l][u]:1,b=0,h=Object.entries(F);b<h.length;b++){var f,v=Object(n.a)(h[b],2),p=v[0],m=v[1],g=parseInt(p);if(!(g<j)){var y=(c=j,r=4-t,x[a=g][c]*Math.pow(r-1,a-c)/Math.pow(r,a)),S=g-j;o[S]=(null!==(f=o[S])&&void 0!==f?f:0)+m*d*y}}F=o})),function(e,t,a){var n,r,i=null!==(n=d[e])&&void 0!==n?n:0,l=0,o={3:2,4:5,6:3},j=b[i],h=Object(c.a)(t);try{for(h.s();!(r=h.n()).done;){var O=r.value.key;if(O){var f=d[O];j=j[f],o[f]-=1}}}catch(q){h.e(q)}finally{h.f()}i&&(o[i]-=1);var v,p={3:0,4:0,6:0},m=Object(c.a)(a);try{for(m.s();!(v=m.n()).done;){var g=v.value;p[d[g]]+=1}}catch(q){m.e(q)}finally{m.f()}var y=0;Object(s.c)(j,[],(function(e){return"number"===typeof e}),(function(e,t){y+=e;var a,n={3:0,4:0,6:0},r=Object(c.a)(t);try{for(r.s();!(a=r.n()).done;){n[a.value]+=1}}catch(q){r.e(q)}finally{r.f()}var i,s=e,o=Object(c.a)(u);try{for(o.s();!(i=o.n()).done;){var j=i.value,d=n[j],b=p[j];if(d<b)return;s*=x[d][b]}}catch(q){o.e(q)}finally{o.f()}l+=s}));var S,w=Object(c.a)(u);try{for(w.s();!(S=w.n()).done;){var k=S.value;l/=x[o[k]][p[k]]}}catch(q){w.e(q)}finally{w.f()}return l/y}(e.mainStatKey,h,v)*Object.values(F).reduce((function(e,t){return e+t}))}},328:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),c=a(137),r=a(12),i=a(0);function l(e){var t=e.value,a=e.valid,l="number"===typeof t?["roll".concat(Object(r.a)(Math.floor(.05*t)+1,1,6)),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(l,2),o=s[0],j=s[1];return a||(o="error"),Object(i.jsx)(c.a,{color:o,children:j})}},333:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(11),c=a(3),r=a(488),i=a(275),l=a(263),s=a(412),o=a(223),j=a(80),u=a(1),d=a(141),b=a(136),h=a(16),x=a(142),O=a(287),f=a(285),v=a(292),p=a(71),m=a(293),g=a(290),y=a(314),S=a(0);function w(e){var t=e.show,a=e.onHide,w=e.onSelect,k=e.filter,C=void 0===k?function(){return!0}:k,_=e.weaponFilter,B=Object(b.a)(x.a.getAll(),[]),E=Object(u.useState)(null!==_&&void 0!==_?_:""),K=Object(c.a)(E,2),A=K[0],T=K[1];Object(u.useEffect)((function(){return _&&T(_)}),[_]);var N=B?Object(n.a)(new Set(h.j)).filter((function(e){return C(B[e])})).filter((function(e){var t;return!A||A===(null===B||void 0===B||null===(t=B[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var a,n,c,r;return(null!==(a=null===B||void 0===B||null===(n=B[t])||void 0===n?void 0:n.rarity)&&void 0!==a?a:0)-(null!==(c=null===B||void 0===B||null===(r=B[e])||void 0===r?void 0:r.rarity)&&void 0!==c?c:0)})):[];return B?Object(S.jsx)(m.a,{open:t,onClose:a,children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(r.a,{sx:{py:1},children:Object(S.jsxs)(i.a,{container:!0,children:[Object(S.jsx)(i.a,{item:!0,flexGrow:1,children:Object(S.jsx)(y.a,{value:A,onChange:T,disabled:!!_,size:"small"})}),Object(S.jsx)(i.a,{item:!0,children:Object(S.jsx)(v.a,{onClick:a})})]})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(r.a,{children:Object(S.jsx)(i.a,{container:!0,spacing:1,children:N.map((function(e){var t,n=B[e];return Object(S.jsx)(i.a,{item:!0,lg:3,md:4,children:Object(S.jsx)(f.a,{sx:{height:"100%"},children:Object(S.jsxs)(s.a,{onClick:function(){a(),w(e)},sx:{display:"flex"},children:[Object(S.jsx)(o.a,{component:"img",src:n.img,sx:{width:100,height:"auto"},className:" grad-".concat(n.rarity,"star")}),Object(S.jsxs)(o.a,{sx:{flexGrow:1,px:1},children:[Object(S.jsx)(j.a,{variant:"subtitle1",children:n.name}),Object(S.jsxs)(j.a,{children:[Object(S.jsx)(p.a,{src:null===(t=d.a.weaponTypes)||void 0===t?void 0:t[n.weaponType]})," ",Object(S.jsx)(g.a,{stars:n.rarity,colored:!0})]})]})]})})},e)}))})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(r.a,{sx:{py:1},children:Object(S.jsx)(v.a,{large:!0,onClick:a})})]})}):null}},334:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var n=a(3),c=a(51),r=a(17),i=a(388),l=a(389),s=a(412),o=a(177),j=a(362),u=a(282),d=a(275),b=a(80),h=a(223),x=a(488),O=a(992),f=a(281),v=a(1),p=a(141),m=a(285),g=a(294),y=a(311),S=a(306),w=a(71),k=a(290),C=a(138),_=a(46),B=a(179),E=a(136),K=a(317),A=a(22),T=a(142),N=a(0);function D(e){var t,a=e.weaponId,D=e.onClick,F=e.onEdit,M=e.onDelete,q=e.canEquip,W=void 0!==q&&q,z=Object(v.useContext)(B.b),I=Object(K.a)(a),L=Object(E.a)((null===I||void 0===I?void 0:I.key)&&T.a.get(I.key),[null===I||void 0===I?void 0:I.key]),V=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===L||void 0===L?void 0:L.weaponType)}),[L]),G=Object(v.useCallback)((function(e){return Object(N.jsx)(s.a,{onClick:function(){return null===D||void 0===D?void 0:D(a)},sx:{height:"100%"},children:e})}),[D,a]),P=Object(v.useCallback)((function(e){return z.setWeaponLocation(a,e)}),[z,a]);if(!I||!L)return null;var R=I.level,U=I.ascension,H=I.refinement,J=I.id,X=I.location,Q=void 0===X?"":X,Y=I.lock,Z=L.weaponType,$=L.getMainStatValue(R,U).toFixed(A.b.fixedUnit("atk")),ee=L.getSubStatKey(),te=L.getSubStatValue(R,U).toFixed(A.b.fixedUnit(ee)),ae=[["weaponATK",$]];(null===L||void 0===L?void 0:L.passiveName)&&ae.push([ee,te]);var ne=U<2?null===L||void 0===L?void 0:L.img:null===L||void 0===L?void 0:L.imgAwaken;return Object(N.jsx)(v.Suspense,{fallback:Object(N.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(N.jsx)(S.a,{condition:!!D,wrapper:G,children:Object(N.jsxs)(m.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(N.jsxs)("div",{className:"grad-".concat(L.rarity,"star"),children:[Object(N.jsx)(j.a,{title:L.name,avatar:Object(N.jsx)(w.a,{sx:{fontSize:"2em"},src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[Z]}),titleTypographyProps:{variant:"h6"},action:!D&&Object(N.jsx)(u.a,{color:"primary",onClick:function(){return z.updateWeapon({lock:!Y},J)},children:Y?Object(N.jsx)(i.a,{}):Object(N.jsx)(l.a,{})})}),Object(N.jsxs)(d.a,{container:!0,sx:{flexWrap:"nowrap",pl:2},children:[Object(N.jsxs)(d.a,{item:!0,flexGrow:1,children:[Object(N.jsxs)(b.a,{component:"span",variant:"h4",children:["Lv. ",R]}),Object(N.jsxs)(b.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",_.b[U]]}),Object(N.jsxs)(b.a,{variant:"h6",children:["Refinement ",Object(N.jsx)("strong",{children:H})]}),Object(N.jsx)(b.a,{children:Object(N.jsx)(k.a,{stars:L.rarity,colored:!0})})]}),Object(N.jsx)(d.a,{item:!0,container:!0,maxWidth:"40%",alignContent:"flex-end",sx:{mt:-3},children:Object(N.jsx)(h.a,{component:"img",src:ne,width:"100%",height:"auto"})})]})]}),Object(N.jsx)(x.a,{children:ae.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],r=A.b.getStatUnit(a);return Object(N.jsxs)(h.a,{sx:{display:"flex"},children:[Object(N.jsxs)(b.a,{flexGrow:1,children:[C.a[a]," ",A.b.getStatName(a)]}),Object(N.jsx)(b.a,{children:c+r})]},a)}))}),Object(N.jsx)(h.a,{flexGrow:1}),Object(N.jsx)(x.a,{sx:{py:1},children:Object(N.jsxs)(d.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(N.jsx)(d.a,{item:!0,xs:"auto",flexShrink:1,children:W?Object(N.jsx)(g.b,{size:"small",noUnselect:!0,inventory:!0,value:Q,onChange:P,filter:V}):Object(N.jsx)(y.a,{location:Q})}),Object(N.jsx)(d.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(N.jsx)(d.a,{item:!0,xs:"auto",children:Object(N.jsxs)(O.a,{sx:{height:"100%"},children:[!!F&&Object(N.jsx)(f.a,{color:"info",size:"small",onClick:function(){return F(J)},children:Object(N.jsx)(r.a,{icon:c.m,className:"fa-fw"})}),!!M&&Object(N.jsx)(f.a,{color:"error",size:"small",onClick:function(){return M(J)},disabled:!!Q||Y,children:Object(N.jsx)(r.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})})}},335:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var n=a(41),c=a(51),r=a(17),i=a(388),l=a(389),s=a(80),o=a(177),j=a(488),u=a(223),d=a(409),b=a(282),h=a(275),x=a(410),O=a(489),f=a(992),v=a(281),p=a(1025),m=a(1),g=a(135),y=a(302),S=a(285),w=a(294),k=a(311),C=a(31),_=a(137),B=a(290),E=a(179),K=a(3);var A,T,N,D=a(136),F=a(22),M=a(73),q=a(146),W=a(12),z=a(82),I=a(140),L=a(147),V=a(328),G=a(327),P=a(0),R=new Set(M.b);function U(e){var t,a,M,U,H=e.artifactId,J=e.artifactObj,X=e.onEdit,Q=e.onDelete,Y=e.mainStatAssumptionLevel,Z=void 0===Y?0:Y,$=e.effFilter,ee=void 0===$?R:$,te=e.probabilityFilter,ae=Object(g.a)(["artifact"]).t,ne=Object(m.useContext)(E.b),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(m.useContext)(E.b),a=Object(m.useState)(t._getArt(e)),n=Object(K.a)(a,2),c=n[0],r=n[1];return Object(m.useEffect)((function(){return r(t._getArt(e))}),[t,e]),Object(m.useEffect)((function(){return e?t.followArt(e,r):void 0}),[e,r,t]),c}(H),re=Object(D.a)(I.a.get(null===(t=null!==J&&void 0!==J?J:ce)||void 0===t?void 0:t.setKey),[J,ce]),ie=!J&&ne===E.c,le=null!==J&&void 0!==J?J:ce;if(!le)return null;var se=le.id,oe=le.lock,je=le.slotKey,ue=le.rarity,de=le.level,be=le.mainStatKey,he=le.substats,xe=le.exclude,Oe=le.location,fe=void 0===Oe?"":Oe,ve=Math.max(Math.min(Z,4*ue),de),pe="roll"+(Math.floor(Math.max(de,0)/4)+1),me=Object(P.jsx)(C.a,{color:ve!==de?"warning":void 0,children:Object(q.b)(null!==(a=z.a.mainStatValue(be,ue,ve))&&void 0!==a?a:0,F.b.getStatUnit(be))}),ge=z.a.getArtifactEfficiency(le,ee),ye=ge.currentEfficiency,Se=ge.maxEfficiency,we=0!==Se,ke=(null===re||void 0===re?void 0:re.getSlotName(je))||"Unknown Piece Name",Ce=null===re||void 0===re?void 0:re.getSlotDesc(je),_e=Ce&&Object(P.jsx)(y.a,{placement:"top",title:Object(P.jsx)(s.a,{children:Ce}),children:Object(P.jsx)("span",{children:Object(P.jsx)(r.a,{icon:c.s})})}),Be=null===re||void 0===re?void 0:re.setEffects,Ee=re&&Be&&Object(P.jsx)(y.a,{placement:"top",title:Object(P.jsx)("span",{children:Object.keys(Be).map((function(e){return Object(P.jsxs)("span",{children:[Object(P.jsx)(s.a,{variant:"h6",children:Object(P.jsx)(_.a,{color:"success",children:ae("setEffectNum",{setNum:e})})}),Object(P.jsx)(s.a,{children:re.setEffectDesc(e)})]},e)}))}),children:Object(P.jsx)("span",{children:Object(P.jsx)(r.a,{icon:c.s})})});return Object(P.jsx)(m.Suspense,{fallback:Object(P.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(P.jsxs)(S.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(P.jsxs)(j.a,{className:"grad-".concat(ue,"star"),sx:{pt:1,pb:0,pr:0},children:[Object(P.jsxs)(u.a,{component:"div",sx:{display:"flex",alignItems:"center",pr:1},children:[Object(P.jsx)(d.a,{size:"small",label:Object(P.jsx)("strong",{children:" +".concat(de)}),color:pe}),Object(P.jsxs)(s.a,{sx:{pl:1,flexGrow:1},children:[ke," ",_e]}),Object(P.jsx)(b.a,{color:"primary",disabled:!ie,onClick:function(){return ne.updateArt({lock:!oe},se)},children:oe?Object(P.jsx)(i.a,{}):Object(P.jsx)(l.a,{})})]}),Object(P.jsxs)(h.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(P.jsxs)(h.a,{item:!0,flexGrow:1,children:[Object(P.jsx)(s.a,{color:"text.secondary",variant:"body2",children:Object(P.jsx)(L.c,{slotKey:je})}),Object(P.jsx)(s.a,{variant:"h6",children:F.b.getStatName(be)}),Object(P.jsx)(s.a,{variant:"h5",children:Object(P.jsx)("strong",{children:me})}),Object(P.jsx)(B.a,{stars:ue,colored:!0})]}),Object(P.jsx)(h.a,{item:!0,maxWidth:"40%",sx:{mt:-3,mb:-1,pl:-2},alignSelf:"flex-end",children:Object(P.jsx)(x.a,{component:"img",image:null!==(M=null===re||void 0===re?void 0:re.slotIcons[je])&&void 0!==M?M:"",width:"100%",height:"auto"})})]})]}),Object(P.jsxs)(j.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0},children:[he.map((function(e,t){var a,n,c;if(!e.value)return null;var r=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,i="roll".concat(Object(W.a)(r,1,6)),l=null!==(c=e.efficiency)&&void 0!==c?c:0,o=.3+l/100*.7,j=F.b.getStatName(e.key);return Object(P.jsxs)(u.a,{sx:{display:"flex"},children:[Object(P.jsxs)(u.a,{sx:{flexGrow:1},children:[Object(P.jsx)(_.a,{color:r?i:"error",sx:{mr:1},children:Object(P.jsx)("strong",{children:r||"?"})}),Object(P.jsxs)(s.a,{color:r?"".concat(i,".main"):"error.main",component:"span",children:[j,"+".concat(Object(q.b)(e.value,F.b.getStatUnit(e.key)))]})]}),Object(P.jsx)(s.a,{sx:{opacity:o},children:e.key&&ee.has(e.key)?Object(q.b)(l,"eff"):"-"})]},t)})),Object(P.jsxs)(u.a,{sx:{display:"flex",my:1},children:[Object(P.jsx)(s.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ae(A||(A=Object(n.a)(["editor.curSubEff"])))}),Object(P.jsx)(V.a,{value:ye,valid:we})]}),ye!==Se&&Object(P.jsxs)(u.a,{sx:{display:"flex",mb:1},children:[Object(P.jsx)(s.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ae(T||(T=Object(n.a)(["editor.maxSubEff"])))}),Object(P.jsx)(V.a,{value:Se,valid:we})]}),Object(P.jsx)(u.a,{flexGrow:1}),te&&Object(P.jsxs)("strong",{children:["Probability: ",(100*Object(G.a)(le,te)).toFixed(2),"%"]}),Object(P.jsxs)(s.a,{color:"success.main",children:[null!==(U=null===re||void 0===re?void 0:re.name)&&void 0!==U?U:"Artifact Set"," ",Ee]})]}),Object(P.jsx)(O.a,{children:Object(P.jsxs)(h.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(P.jsx)(h.a,{item:!0,xs:"auto",flexShrink:1,children:ie?Object(P.jsx)(w.b,{size:"small",inventory:!0,value:fe,onChange:function(e){return ne.setArtLocation(H,e)}}):Object(P.jsx)(k.a,{location:fe})}),Object(P.jsx)(h.a,{item:!0,flexGrow:1,sx:{mr:1}}),ie&&Object(P.jsx)(h.a,{item:!0,xs:"auto",children:Object(P.jsxs)(f.a,{sx:{height:"100%"},children:[!!X&&Object(P.jsx)(v.a,{color:"info",onClick:function(){return X(se)},size:"small",children:Object(P.jsx)(r.a,{icon:c.m,className:"fa-fw"})}),Object(P.jsx)(p.a,{title:Object(P.jsx)(s.a,{children:ae(N||(N=Object(n.a)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:Object(P.jsx)(v.a,{onClick:function(){return ne.updateArt({exclude:!xe},se)},color:xe?"error":"success",size:"small",children:Object(P.jsx)(r.a,{icon:xe?c.b:c.e,className:"fa-fw"})})}),!!Q&&Object(P.jsx)(v.a,{color:"error",size:"small",onClick:function(){return Q(se)},disabled:oe,children:Object(P.jsx)(r.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})}},345:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var n=a(11),c=a(3),r=a(488),i=a(275),l=a(263),s=a(412),o=a(223),j=a(80),u=a(1),d=a(141),b=a(289),h=a(139),x=a(179),O=a(136),f=a(303),v=a(16),p=a(346),m=a(322),g=a(287),y=a(285),S=a(292),w=a(71),k=a(293),C=a(323),_=a(137),B=a(290),E=a(138),K=a(356),A=a(314),T=a(0),N=["level","rarity","name"];function D(e){var t=e.show,a=e.onHide,s=e.onSelect,o=e.filter,j=void 0===o?function(){return!0}:o,d=e.newFirst,b=void 0!==d&&d,f=Object(u.useMemo)((function(){return b?["new"].concat(N):N}),[b]),y=Object(u.useContext)(x.b),w=Object(u.useState)(f[0]),_=Object(c.a)(w,2),B=_[0],E=_[1],D=Object(u.useState)(!1),M=Object(c.a)(D,2),q=M[0],W=M[1],z=Object(u.useState)(""),I=Object(c.a)(z,2),L=I[0],V=I[1],G=Object(u.useState)(""),P=Object(c.a)(G,2),R=P[0],U=P[1],H=Object(O.a)(h.b.getAll(),[]),J=Object(u.useMemo)((function(){return H&&Object(p.b)(y,H)}),[y,H]),X=Object(u.useMemo)((function(){return H&&Object(p.a)(H)}),[H]),Q=Object(u.useMemo)((function(){return H&&J&&X?Object(n.a)(new Set(v.c)).filter((function(e){return j(y._getChar(e),H[e])})).filter(Object(m.a)({element:L,weaponType:R},X)).sort(Object(m.b)(B,q,J)):[]}),[y,H,j,L,R,B,q,J,X]);return H?Object(T.jsx)(k.a,{open:t,onClose:a,children:Object(T.jsxs)(g.a,{children:[Object(T.jsx)(r.a,{sx:{py:1},children:Object(T.jsxs)(i.a,{container:!0,spacing:1,children:[Object(T.jsx)(i.a,{item:!0,children:Object(T.jsx)(A.a,{sx:{height:"100%"},onChange:U,value:R,size:"small"})}),Object(T.jsx)(i.a,{item:!0,flexGrow:1,children:Object(T.jsx)(K.a,{sx:{height:"100%"},onChange:V,value:L,size:"small"})}),Object(T.jsx)(i.a,{item:!0,flexGrow:1}),Object(T.jsx)(i.a,{item:!0,children:Object(T.jsx)(C.a,{sx:{height:"100%"},sortKeys:f,value:B,onChange:E,ascending:q,onChangeAsc:W})}),Object(T.jsx)(i.a,{item:!0,children:Object(T.jsx)(S.a,{onClick:a})})]})}),Object(T.jsx)(l.a,{}),Object(T.jsx)(r.a,{children:Object(T.jsx)(i.a,{container:!0,spacing:1,children:Q.map((function(e){return Object(T.jsx)(i.a,{item:!0,xs:6,md:4,lg:3,children:Object(T.jsx)(F,{characterKey:e,onClick:function(){a(),null===s||void 0===s||s(e)}},e)},e)}))})})]})}):null}function F(e){var t,a=e.onClick,n=e.characterKey,c=Object(f.a)(),r=Object(u.useContext)(x.b),i=r._getChar(n),l=null===c||void 0===c?void 0:c.characterSheets[n],h=Object(u.useMemo)((function(){return i&&c&&b.a.calculateBuild(i,r,c)}),[i,c,r]);if(!l)return null;var O=l.rarity;return Object(T.jsx)(s.a,{onClick:a,children:Object(T.jsxs)(y.a,{sx:{display:"flex",alignItems:"center"},children:[Object(T.jsx)(o.a,{component:"img",src:l.thumbImg,sx:{width:130,height:"auto"},className:"grad-".concat(O,"star")}),Object(T.jsxs)(o.a,{sx:{pl:1},children:[Object(T.jsx)(j.a,{children:Object(T.jsx)("strong",{children:l.name})}),h&&i?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(j.a,{variant:"h6",children:[" ",l.elementKey&&E.a[l.elementKey]," ",Object(T.jsx)(w.a,{src:null===(t=d.a.weaponTypes)||void 0===t?void 0:t[l.weaponTypeKey]})," ",b.a.getLevelString(i)]}),Object(T.jsxs)(j.a,{children:[Object(T.jsx)(_.a,{color:"success",children:"C".concat(i.constellation)})," ",Object(T.jsx)(_.a,{color:"secondary",children:Object(T.jsx)("strong",{children:h.tlvl.auto+1})})," ",Object(T.jsx)(_.a,{color:h.skillBoost?"info":"secondary",children:Object(T.jsx)("strong",{children:h.tlvl.skill+1})})," ",Object(T.jsx)(_.a,{color:h.burstBoost?"info":"secondary",children:Object(T.jsx)("strong",{children:h.tlvl.burst+1})})]})]}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(j.a,{variant:"h6",children:Object(T.jsx)(_.a,{color:"primary",children:"NEW"})})}),Object(T.jsx)("small",{children:Object(T.jsx)(B.a,{stars:O,colored:!0})})]})]})})}},346:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n=["level","rarity","name"];function c(e,t){return{new:{getValue:function(t){return e._getChar(t)?0:1},tieBreaker:"name"},name:{getValue:function(e){return e}},level:{getValue:function(t){var a,n;return null!==(a=null===(n=e._getChar(t))||void 0===n?void 0:n.level)&&void 0!==a?a:0},tieBreaker:"rarity"},rarity:{getValue:function(e){var a;return null===t||void 0===t||null===(a=t[e])||void 0===a?void 0:a.rarity},tieBreaker:"level"}}}function r(e){return{element:function(t,a){var n;return!a||a===(null===e||void 0===e||null===(n=e[t])||void 0===n?void 0:n.elementKey)},weaponType:function(t,a){var n;return!a||a===(null===e||void 0===e||null===(n=e[t])||void 0===n?void 0:n.weaponTypeKey)}}}},355:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));var n=a(6),c=a(11),r=a(3),i=a(4),l=a(388),s=a(389),o=a(445),j=a(488),u=a(275),d=a(992),b=a(281),h=a(1042),x=a(263),O=a(223),f=a(80),v=a(1),p=a(141),m=a(21),g=a(139),y=a(287),S=a(285),w=a(294),k=a(292),C=(a(31),a(295)),_=a(307),B=a(288),E=a(71),K=a(293),A=a(137),T=a(290),N=a(333),D=a(46),F=a(179),M=a(136),q=a(317),W=a(12),z=a(334),I=a(142),L=a(298),V=a(116),G=a(0);function P(e){var t=e.title,a=e.statsVals,n=void 0===a?{}:a,c=e.stats;if(0===Object.keys(n).filter((function(e){return"modifiers"!==e})).length)return null;var r=Object(V.a)(n,c);return Object(G.jsxs)(y.a,{children:[Object(G.jsx)(j.a,{children:Object(G.jsx)(f.a,{children:t})}),Object(G.jsx)(L.a,{children:r.map((function(e,t){return Object(G.jsx)(L.b,{field:e},t)}))})]})}function R(e){var t,a,o=e.weaponId,p=e.charData,y=e.footer,E=void 0!==y&&y,K=e.onClose,z=Object(v.useContext)(F.b),L=Object(v.useContext)(m.a),V=Object(q.a)(o),R=null!==V&&void 0!==V?V:{},H=R.key,J=void 0===H?"":H,X=R.level,Q=R.refinement,Y=void 0===Q?0:Q,Z=R.ascension,$=void 0===Z?0:Z,ee=R.lock,te=R.location,ae=void 0===te?"":te,ne=R.id,ce=Object(M.a)(I.a.get(J),[J]),re=null===ce||void 0===ce?void 0:ce.weaponType,ie=Object(v.useCallback)((function(e){z.updateWeapon(e,o)}),[o,z]),le=Object(v.useCallback)((function(e){e=Object(W.a)(e,1,90);var t=D.b.findIndex((function(t){return e<=t}));ie({level:e,ascension:t})}),[ie]),se=Object(v.useCallback)((function(){var e=D.b.findIndex((function(e){return 90!==X&&X===e}));ie($===e?{ascension:$+1}:{ascension:e})}),[ie,$,X]),oe=Object(i.a)({},p?null!==(t=p.newBuild)&&void 0!==t?t:p.equippedBuild:{weapon:{refineIndex:Y-1,level:X,ascension:$}}),je=Object(M.a)(ae?g.b.get(ae):void 0,[ae]),ue=je?function(e){return e.weaponType===je.weaponTypeKey}:void 0,de=je&&je.weaponTypeKey,be=Object(v.useCallback)((function(e){return ne&&z.setWeaponLocation(ne,e)}),[z,ne]),he=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===ce||void 0===ce?void 0:ce.weaponType)}),[ce]),xe=Object(v.useState)(!1),Oe=Object(r.a)(xe,2),fe=Oe[0],ve=Oe[1],pe=$<2?null===ce||void 0===ce?void 0:ce.img:null===ce||void 0===ce?void 0:ce.imgAwaken;return Object(G.jsxs)(S.a,{children:[Object(G.jsx)(j.a,{sx:{py:1},children:Object(G.jsxs)(u.a,{container:!0,spacing:1,children:[Object(G.jsx)(u.a,{item:!0,flexGrow:1,children:Object(G.jsxs)(u.a,{container:!0,spacing:1,children:[Object(G.jsxs)(u.a,{item:!0,children:[Object(G.jsx)(N.a,{show:fe,onHide:function(){return ve(!1)},onSelect:function(e){return ie({key:e})},filter:ue,weaponFilter:de}),Object(G.jsxs)(d.a,{children:[Object(G.jsx)(b.a,{onClick:function(){return ve(!0)},children:null!==(a=null===ce||void 0===ce?void 0:ce.name)&&void 0!==a?a:"Select a Weapon"}),Object(G.jsxs)(B.a,{title:"Refinement ".concat(Y),children:[Object(G.jsx)(h.a,{children:"Select Weapon Refinement"}),Object(G.jsx)(x.a,{}),Object(c.a)(Array(5).keys()).map((function(e){return Object(G.jsx)(h.a,{onClick:function(){return ie({refinement:e+1})},selected:Y===e+1,disabled:Y===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(G.jsx)(u.a,{item:!0,children:Object(G.jsxs)(d.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(G.jsx)(C.a,{children:Object(G.jsx)(C.c,{onChange:le,value:X,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(G.jsx)(b.a,{sx:{pl:1},disabled:!Object(D.a)(X),onClick:se,children:Object(G.jsxs)("strong",{children:["/ ",D.b[$]]})}),Object(G.jsx)(B.a,{title:"Select Level",children:D.c.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1],c=a===D.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(D.b[n]),i=a===X&&n===$;return Object(G.jsx)(h.a,{selected:i,disabled:i,onClick:function(){return ie({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})}),Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(b.a,{color:"error",onClick:function(){return ne&&z.updateWeapon({lock:!ee},ne)},startIcon:ee?Object(G.jsx)(l.a,{}):Object(G.jsx)(s.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!K&&Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(k.a,{onClick:K})}),!!p&&z===F.c&&Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(U,{weaponTypeKey:re,onChangeId:function(e){return z.setWeaponLocation(e,p.character.key)}})})]})}),Object(G.jsx)(x.a,{}),Object(G.jsx)(j.a,{children:function(){if(!ce)return null;var e=ce.getSubStatKey(),t=ce.getMainStatValue(X,$),a=ce.getSubStatValue(X,$),c=ce.passiveName,r=ce.stats(oe),i=ce.document;return Object(G.jsxs)(O.a,{display:"flex",gap:{xs:1,md:1.5,lg:2},children:[Object(G.jsxs)(O.a,{sx:{maxWidth:256},flexShrink:1,minWidth:"25%",children:[Object(G.jsx)(O.a,{component:"img",src:pe,className:"grad-".concat(ce.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}}),Object(G.jsx)(f.a,{children:Object(G.jsx)("small",{children:ce.description})})]}),Object(G.jsxs)(O.a,{sx:{mb:-1},flexGrow:1,children:[Object(G.jsxs)(f.a,{variant:"h6",children:[!1,ce.name," Lv. ",V&&I.a.getLevelString(V)," ",c&&Object(G.jsxs)(A.a,{color:"info",children:["Refinement ",Y]})]}),Object(G.jsx)(f.a,{children:Object(G.jsx)(T.a,{stars:ce.rarity})}),Object(G.jsx)(f.a,{variant:"subtitle1",children:c}),Object(G.jsx)(f.a,{gutterBottom:!0,children:c&&ce.passiveDescription(oe)}),oe&&Object(G.jsx)(m.a.Provider,{value:p?L:{equippedBuild:oe,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:Object(G.jsxs)(O.a,{display:"flex",flexDirection:"column",gap:1,children:[Object(G.jsx)(P,{title:"Main Stats",statsVals:Object(n.a)({atk:t},e,e?a:void 0),stats:oe}),Object(G.jsx)(P,{title:"Bonus Stats",statsVals:r,stats:oe})]})}),p&&i?function(){var e,t=p.equippedBuild,a=p.newBuild,n=null===(e=a||t)||void 0===e?void 0:e.characterKey;return!!n&&Object(G.jsx)(_.a,{sections:i,characterKey:n})}():null]})]})}()}),E&&ne&&Object(G.jsx)(j.a,{sx:{py:1},children:Object(G.jsxs)(u.a,{container:!0,children:[Object(G.jsx)(u.a,{item:!0,flexGrow:1,children:Object(G.jsx)(w.b,{noUnselect:!0,inventory:!0,value:ae,onChange:be,filter:he})}),!!K&&Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(k.a,{large:!0,onClick:K})})]})})]})}function U(e){var t=e.onChangeId,a=e.weaponTypeKey,n=Object(v.useContext)(F.b),c=Object(v.useState)(!1),i=Object(r.a)(c,2),l=i[0],s=i[1],d=function(){return s(!1)},h=function(e){t(e),d()},O=Object(M.a)(I.a.getAll(),[]),m=n.weapons.keys.filter((function(e){var t,c=n._getWeapon(e);return!!c&&(!a||a===(null===O||void 0===O||null===(t=O[c.key])||void 0===t?void 0:t.weaponType))}));return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(b.a,{color:"info",onClick:function(){return s(!0)},startIcon:Object(G.jsx)(o.a,{}),children:"SWAP WEAPON"}),Object(G.jsx)(K.a,{open:l,onClose:d,children:Object(G.jsxs)(y.a,{children:[Object(G.jsx)(j.a,{sx:{py:1},children:Object(G.jsxs)(u.a,{container:!0,children:[Object(G.jsx)(u.a,{item:!0,flexGrow:1,children:Object(G.jsxs)(f.a,{variant:"h6",children:[a?Object(G.jsx)(E.a,{src:p.a.weaponTypes[a]}):null," Swap Weapon"]})}),Object(G.jsx)(u.a,{item:!0,children:Object(G.jsx)(k.a,{onClick:d})})]})}),Object(G.jsx)(x.a,{}),Object(G.jsx)(j.a,{children:Object(G.jsx)(u.a,{container:!0,spacing:1,children:m.map((function(e){return Object(G.jsx)(u.a,{item:!0,xs:6,sm:6,md:4,lg:3,children:Object(G.jsx)(z.a,{weaponId:e,onClick:h})},e)}))})})]})})]})}},356:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(4),c=a(65),r=a(1038),i=a(223),l=a(1),s=a(16),o=a(10),j=a(1043),u=Object(o.a)(j.a,{shouldForwardProp:function(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var t=e.theme,a=e.baseColor,n=void 0===a?"primary":a,c=e.selectedColor,r=void 0===c?"success":c;return{"&":{backgroundColor:t.palette[n].main,color:t.palette[n].contrastText},"&:hover":{backgroundColor:t.palette[n].dark},"&.Mui-selected":{backgroundColor:t.palette[r].main,color:t.palette[r].contrastText},"&.Mui-selected:hover":{backgroundColor:t.palette[r].dark},"&.Mui-disabled":{backgroundColor:t.palette[n].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:t.palette[r].dark}}})),d=a(138),b=a(0);function h(e){var t=e.value,a=e.onChange,o=Object(c.a)(e,["value","onChange"]),j=Object(l.useCallback)((function(e,t){return a(t||"")}),[a]);return Object(b.jsx)(r.a,Object(n.a)(Object(n.a)({exclusive:!0,onChange:j,value:t||s.d},o),{},{children:s.d.map((function(e){return Object(b.jsx)(u,{value:e,selectedColor:e,children:Object(b.jsx)(i.a,{sx:{fontSize:"2em",lineHeight:1},children:d.b[e]})},e)}))}))}},384:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return xt}));var n=a(52),c=a.n(n),r=a(100),i=a(3),l=a(4),s=a(65),o=a(177),j=a(488),u=a(275),d=a(487),b=a(80),h=a(272),x=a(278),O=a(263),f=a(281),v=a(992),p=a(1042),m=a(1),g=a(21),y=a(287),S=a(285),w=a(345),k=a(310),C=a(292),_=a(31),B=a(295),E=a(288),K=a(352),A=a(365),T=a(385),N=a(362),D=a(599),F=a(600),M=a(601),q=a(223),W=a(289),z=a(309),I=a(143),L=a(136),V=a(22),G=a(313),P=a(308),R=a(71),U=a(0);function H(e){var t=e.sheets,a=Object(m.useState)(!1),n=Object(i.a)(a,2),c=n[0],r=n[1],l=Object(m.useCallback)((function(){return r(!c)}),[r,c]);return Object(U.jsxs)(S.a,{children:[Object(U.jsx)(j.a,{children:Object(U.jsxs)(u.a,{container:!0,children:[Object(U.jsxs)(u.a,{item:!0,flexGrow:1,children:[Object(U.jsxs)(b.a,{children:["Formulas ","&"," Calculations"]}),Object(U.jsx)(b.a,{variant:"caption",color:"text.secondary",children:"Expand to see every formula and all their calculations."})]}),Object(U.jsx)(u.a,{item:!0,children:Object(U.jsx)(P.a,{expand:c,onClick:l,"aria-expanded":c,"aria-label":"show more",children:Object(U.jsx)(A.a,{})})})]})}),Object(U.jsx)(T.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(U.jsx)(j.a,{sx:{pt:0},children:Object(U.jsx)(J,{sheets:t})})})]})}function J(e){var t=e.sheets,a=Object(m.useContext)(g.a),n=a.newBuild,c=a.equippedBuild,r=n||c,l=Object(m.useMemo)((function(){return W.a.getDisplayStatKeys(r,t)}),[r,t]);return r&&l?Object(U.jsx)(m.Suspense,{fallback:Object(U.jsx)(o.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object.entries(l).map((function(e){var a=Object(i.a)(e,2),n=a[0],c=a[1],l=Object(z.a)(n,t,r);return Object(U.jsxs)(y.a,{sx:{mb:1},children:[Object(U.jsx)(N.a,{avatar:l.icon&&Object(U.jsx)(R.a,{size:2,sx:{m:-1},src:l.icon}),title:l.title,titleTypographyProps:{variant:"subtitle1"}}),Object(U.jsx)(O.a,{}),Object(U.jsx)(j.a,{children:c.map((function(e,t){if(Array.isArray(e))return Object(U.jsx)(X,{fieldKeys:e,build:r},t);if("string"===typeof e){var a=V.b.getPrintableFormulaStatKeyList(Object(G.a)(r,null===r||void 0===r?void 0:r.modifiers,[e]),null===r||void 0===r?void 0:r.modifiers).reverse();return Boolean(a.length)&&Object(U.jsxs)(D.a,{sx:{bgcolor:"contentLight.main"},children:[Object(U.jsx)(F.a,{expandIcon:Object(U.jsx)(A.a,{}),children:Object(U.jsx)(b.a,{children:V.b.printStat(e,r)})}),Object(U.jsx)(M.a,{children:a.map((function(e){return Object(U.jsxs)(b.a,{children:[V.b.printStat(e,r)," = ",Object(U.jsx)("small",{children:Object(U.jsx)(V.a,{statKey:e,stats:r,modifiers:r.modifiers,expand:!1})})]},e)}))})]},t)}return null}))})]},n)}))}):null}function X(e){var t,a,n,c,r=e.fieldKeys,l=e.build,s=Object(L.a)(I.a.get(r),[r]);if(!s)return null;var o=s.field,j=W.a.getTalentFieldValue(o,"text",l),u=W.a.getTalentFieldValue(o,"variant",l),d=W.a.getTalentFieldValue(o,"formulaText",l),h=null!==(t=W.a.getTalentFieldValue(o,"fixed",l))&&void 0!==t?t:0,x=null!==(a=W.a.getTalentFieldValue(o,"unit",l))&&void 0!==a?a:"",O=W.a.getTalentFieldValue(o,"formula",l,[]),f=Object(i.a)(O,2),v=f[0],p=f[1];if(!v||!p)return null;var m=null===v||void 0===v||null===(n=v(l))||void 0===n||null===(c=n.toFixed)||void 0===c?void 0:c.call(n,h),g=V.b.getPrintableFormulaStatKeyList(Object(G.a)(l,null===l||void 0===l?void 0:l.modifiers,p),null===l||void 0===l?void 0:l.modifiers).reverse();return Object(U.jsxs)(D.a,{sx:{bgcolor:"contentLight.main"},children:[Object(U.jsx)(F.a,{expandIcon:Object(U.jsx)(A.a,{}),children:Object(U.jsxs)(b.a,{children:[Object(U.jsx)(q.a,{color:"".concat(u,".main"),component:"strong",children:j})," ",Object(U.jsxs)(_.a,{color:"info",children:[m,x]})]})}),Object(U.jsxs)(M.a,{children:[Object(U.jsxs)(b.a,{children:[Object(U.jsx)(q.a,{color:"".concat(u,".main"),component:"strong",children:j})," ",Object(U.jsx)(_.a,{color:"info",children:m})," = ",Object(U.jsx)("small",{children:d})]}),g.map((function(e){return Object(U.jsxs)(b.a,{children:[V.b.printStat(e,l)," = ",Object(U.jsx)("small",{children:Object(U.jsx)(V.a,{statKey:e,stats:l,modifiers:l.modifiers,expand:!1})})]},e)}))]})]})}var Q=a(353),Y=a(114),Z=a(46),$=a(179),ee=a(324),te=a(291),ae=a(318),ne=a(304),ce=a(303),re=a(57),ie=a(12),le=a(145),se=a(1043),oe=a(24),je=a(335),ue=a(140),de=a(341),be=a(301),he=a(16),xe=a(351);var Oe=function(e){var t,a=e.sheets,n=e.character,c=e.character.key,r=Object(m.useContext)(g.a),l=r.newBuild,s=r.equippedBuild,o=r.compareBuild,h=r.setCompareBuild,x=Object(m.useContext)($.b),v=Object(oe.g)(),p=l||s,y=null!==(t=null===p||void 0===p?void 0:p.mainStatAssumptionLevel)&&void 0!==t?t:0,w=Object(m.useMemo)((function(){return p&&a&&W.a.getDisplayStatKeys(p,a)}),[p,a]),k=Object(m.useCallback)((function(e){return v.push({pathname:"/artifact",artToEditId:e})}),[v]),C=Object(L.a)(ue.a.getAll(),[]),_=Object(ne.a)(),B=Object(i.a)(_,2)[1];Object(m.useEffect)((function(){return x.followAnyArt(B)}));var E=Object(m.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&l&&l.equippedArtifacts&&x.equipArtifacts(c,l.equippedArtifacts)}),[c,l,x]),K=Object(m.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&x.equipArtifacts(c,Object(ie.o)(he.i,(function(){return""})))}),[c,x]);return p?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(S.a,{sx:{mb:1},children:[Object(U.jsx)(j.a,{children:Object(U.jsx)(xe.a,{sheets:a,character:n,equippedBuild:l&&!o?void 0:s,newBuild:l,statsDisplayKeys:w})}),Object(U.jsx)(O.a,{}),Object(U.jsx)(j.a,{sx:{py:1},children:Object(U.jsxs)(u.a,{container:!0,spacing:1,children:[Object(U.jsx)(u.a,{item:!0,children:l?Object(U.jsx)(f.a,{onClick:E,className:"mr-2",children:"Equip artifacts"}):x===$.c&&Object(U.jsx)(f.a,{color:"error",onClick:K,children:"Unequip all artifacts"})}),Object(U.jsx)(u.a,{item:!0,children:!!l&&Object(U.jsxs)(be.a,{exclusive:!0,value:o,onChange:function(e,t){return null===h||void 0===h?void 0:h(t)},size:"small",children:[Object(U.jsx)(se.a,{value:!1,disabled:!o,children:Object(U.jsx)("small",{children:"Show New artifact Stats"})}),Object(U.jsx)(se.a,{value:!0,disabled:o,children:Object(U.jsx)("small",{children:"Compare against equipped artifacts"})})]})}),Object(U.jsx)(u.a,{item:!0,flexGrow:1}),Object(U.jsx)(u.a,{item:!0,children:!!y&&Object(U.jsx)(d.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(U.jsx)(b.a,{children:Object(U.jsxs)("strong",{children:["Assume Main Stats are Level ",y]})})})})]})})]}),Object(U.jsxs)(u.a,{container:!0,spacing:1,children:[Object(U.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(U.jsx)(S.a,{sx:{height:"100%"},children:Object(U.jsx)(j.a,{sx:{height:"100%"},children:Object(U.jsx)(u.a,{container:!0,spacing:1,flexDirection:"column",height:"100%",children:C&&Object.entries(ue.a.setEffects(C,p.setToSlots)).map((function(e){var t,a=Object(i.a)(e,2),n=a[0],c=a[1];return Object(U.jsxs)(u.a,{item:!0,display:"flex",flexDirection:"column",gap:1,children:[Object(U.jsx)(b.a,{variant:"subtitle1",children:null!==(t=null===C||void 0===C?void 0:C[n].name)&&void 0!==t?t:""}),c.map((function(e){return Object(U.jsx)(de.a,{setKey:n,setNumKey:e,equippedBuild:s,newBuild:l},n+e)}))]},n)}))})})})}),he.i.map((function(e){var t,a,n;return!!(null===p||void 0===p||null===(t=p.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(U.jsx)(u.a,{item:!0,xs:6,md:4,children:Object(U.jsx)(je.a,{artifactId:null===p||void 0===p||null===(n=p.equippedArtifacts)||void 0===n?void 0:n[e],mainStatAssumptionLevel:y,onEdit:function(){var t;return k(null===p||void 0===p||null===(t=p.equippedArtifacts)||void 0===t?void 0:t[e])}})},null===p||void 0===p||null===(a=p.equippedArtifacts)||void 0===a?void 0:a[e])}))]})]}):null},fe=a(11),ve=a(51),pe=a(17),me=a(410),ge=a(598),ye=a(141),Se=a(290),we=a(316),ke=a(138),Ce=a(355),_e=a(330);function Be(e){var t,a=e.characterSheet,n=e.character,c=e.character,r=c.constellation,i=c.key,s=Object(m.useContext)(g.a),o=s.newBuild,d=s.equippedBuild,h=Object(te.a)(i),x=o||d;if(!x)return null;var O=x.tlvl,f=x.characterEle,v=a.weaponTypeKey;return Object(U.jsxs)(u.a,{container:!0,spacing:1,children:[Object(U.jsx)(u.a,{item:!0,xs:12,md:3,children:Object(U.jsxs)(S.a,{children:[Object(U.jsx)(me.a,{src:a.cardImg,component:"img",width:"100%",height:"auto"}),Object(U.jsxs)(j.a,{children:[Object(U.jsxs)(b.a,{variant:"h4",children:[a.name," ",Object(U.jsx)(R.a,{src:null===(t=ye.a.weaponTypes)||void 0===t?void 0:t[v]})," ",ke.a[f]," "]}),Object(U.jsx)(b.a,{variant:"h6",children:Object(U.jsx)(Se.a,{stars:a.rarity,colored:!0})}),Object(U.jsxs)(b.a,{variant:"h5",children:["Lvl. ",W.a.getLevelString(n)]}),Object(U.jsx)(u.a,{container:!0,spacing:1,mt:1,children:["auto","skill","burst"].map((function(e){var t;return Object(U.jsx)(u.a,{item:!0,xs:4,children:Object(U.jsx)(ge.a,{badgeContent:O[e]+1,color:"skill"===e&&x.skillBoost||"burst"===e&&x.burstBoost?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{width:"100%",height:"100%","& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:Object(U.jsx)(q.a,{component:"img",src:null===(t=a.getTalentOfKey(e,x.characterEle))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))}),Object(U.jsx)(b.a,{sx:{textAlign:"center",mt:1},variant:"h6",children:a.constellationName}),Object(U.jsx)(u.a,{container:!0,spacing:1,children:Object(fe.a)(Array(6).keys()).map((function(e){var t;return Object(U.jsx)(u.a,{item:!0,xs:4,children:Object(U.jsx)(q.a,{component:"img",src:null===(t=a.getTalentOfKey("constellation".concat(e+1),x.characterEle))||void 0===t?void 0:t.img,sx:Object(l.a)({cursor:"pointer"},r>e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto",onClick:function(){return h({constellation:e+1===r?e:e+1})}})},e)}))})]})]})}),Object(U.jsxs)(u.a,{item:!0,xs:12,md:9,sx:{"> div:not(:last-child)":{mb:1}},children:[Object(U.jsx)(Ce.default,{charData:{character:n,characterSheet:a,equippedBuild:d,newBuild:o,characterDispatch:h},weaponId:n.equippedWeapon}),Object(U.jsx)(Me,{characterSheet:a,character:n,equippedBuild:d,newBuild:o})]})]})}var Ee=["eleMas","critRate_","critDMG_","enerRech_","heal_"],Ke=["characterATK","finalATK","finalHP","finalDEF"];Ke.push.apply(Ke,Ee);var Ae=["hp","hp_","def","def_","atk","atk_"];Ae.push.apply(Ae,Ee);var Te=[];he.e.forEach((function(e){Te.push("".concat(e,"_dmg_")),Te.push("".concat(e,"_res_"))})),Te.push("stamina","incHeal_","shield_","cdRed_");var Ne=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","moveSPD_","atkSPD_","weakspotDMG_"],De={characterATK:"Override Base ATK",characterHP:"Override Base HP",characterDEF:"Override Base DEF"},Fe={xs:12,sm:6,md:6,lg:4};function Me(e){var t=e.characterSheet,a=e.character,n=e.character,c=n.key,r=n.level,i=n.ascension,s=e.equippedBuild,o=e.newBuild,j=Object(te.a)(c),d=t.getSpecializedStat(a.ascension),b=t.getSpecializedStatVal(a.ascension),h=V.b.getStatUnit(d),x={character:a,equippedBuild:s,newBuild:o};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(We,{character:a}),Object(U.jsx)(qe,{title:"Main Stats",content:Object(U.jsxs)(u.a,{container:!0,columnSpacing:{xs:2,lg:3},rowSpacing:1,children:[Ke.map((function(e){return Object(U.jsx)(u.a,Object(l.a)(Object(l.a)({item:!0},Fe),{},{children:Object(U.jsx)(we.a,Object(l.a)({statKey:e},x))}),e)})),Object(U.jsxs)(u.a,Object(l.a)(Object(l.a)({item:!0},Fe),{},{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(U.jsxs)("span",{children:[Object(U.jsx)("b",{children:"Specialized:"})," ",Object(U.jsxs)("span",{children:[d&&ke.a[d]," ",V.b.getStatName(d)]})]}),Object(U.jsx)("span",{children:"".concat(b.toFixed(V.b.fixedUnit(d))).concat(h)})]}))]}),editContent:Object(U.jsxs)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:[re.b.map((function(e){var n,c=Math.round(t.getBase(e,r,i));return Object(U.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(U.jsx)(_e.a,{name:Object(U.jsxs)("span",{children:[ke.a[e]," ",De[e]]}),placeholder:V.b.getStatNameRaw(e),value:null!==(n=a.bonusStats[e])&&void 0!==n?n:c,defaultValue:c,percent:"%"===V.b.getStatUnit(e),onValueChange:function(t){return j({type:"editStats",statKey:e,value:t})},onReset:function(){return j({type:"resetStats",statKey:e})}})},e)})),Ae.map((function(e){var t;return Object(U.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(U.jsx)(_e.a,{name:Object(U.jsxs)("span",{children:[ke.a[e]," ",V.b.getStatNameWithPercent(e)]}),placeholder:V.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===V.b.getStatUnit(e),onValueChange:function(t){return j({type:"editStats",statKey:e,value:t})}})},e)}))]})}),Object(U.jsx)(qe,{title:"Other Stats",content:Object(U.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Te.map((function(e){return Object(m.createElement)(u.a,Object(l.a)(Object(l.a)({item:!0},Fe),{},{key:e}),Object(U.jsx)(we.a,Object(l.a)({statKey:e},x)))}))}),editContent:Object(U.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Te.map((function(e){var t;return Object(U.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(U.jsx)(_e.a,{name:Object(U.jsxs)("span",{children:[ke.a[e]," ",V.b.getStatName(e)]}),placeholder:V.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:"stamina"===e?100:0,percent:"%"===V.b.getStatUnit(e),defaultValue:"stamina"===e?100:void 0,onValueChange:function(t){return j({type:"editStats",statKey:e,value:t})}})},e)}))})}),Object(U.jsx)(qe,{title:"Misc Stats",content:Object(U.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ne.map((function(e){return Object(m.createElement)(u.a,Object(l.a)(Object(l.a)({item:!0},Fe),{},{key:e}),Object(U.jsx)(we.a,Object(l.a)({statKey:e},x)))}))}),editContent:Object(U.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Ne.map((function(e){var t;return Object(U.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(U.jsx)(_e.a,{name:Object(U.jsxs)("span",{children:[ke.a[e]," ",V.b.getStatName(e)]}),placeholder:V.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===V.b.getStatUnit(e),onValueChange:function(t){return j({type:"editStats",statKey:e,value:t})}})},e)}))})})]})}function qe(e){var t=e.title,a=e.content,n=e.editContent,c=Object(m.useState)(!1),r=Object(i.a)(c,2),l=r[0],s=r[1];return Object(U.jsxs)(S.a,{children:[Object(U.jsx)(j.a,{sx:{py:1},children:Object(U.jsxs)(q.a,{display:"flex",justifyContent:"space-between",children:[Object(U.jsx)(b.a,{variant:"subtitle1",children:t}),Object(U.jsx)(f.a,{size:"small",color:l?"error":"info",onClick:function(){return s(!l)},children:Object(U.jsxs)("span",{children:[Object(U.jsx)(pe.a,{icon:l?ve.w:ve.m})," ",l?"EXIT":"Edit Stats"]})})]})}),Object(U.jsx)(O.a,{}),Object(U.jsx)(j.a,{children:l?n:a})]})}function We(e){var t=e.character,a=Object(m.useContext)(g.a),n=a.newBuild,c=a.equippedBuild,r=n||c;return Object.keys(r.partyBuff).length?Object(U.jsxs)(S.a,{children:[Object(U.jsx)(j.a,{children:"Team Buffs"}),Object(U.jsx)(O.a,{}),Object(U.jsx)(j.a,{children:Object(U.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Object.entries(r.partyBuff).map((function(e){var a=Object(i.a)(e,2),r=a[0];a[1];return Object(m.createElement)(u.a,Object(l.a)(Object(l.a)({item:!0},Fe),{},{key:r}),Object(U.jsx)(we.a,{character:t,newBuild:n,equippedBuild:c,statKey:r,partyBuff:!0}))}))})})]}):null}var ze=a(412),Ie=a(302),Le=a(306),Ve=a(307),Ge=a(47);function Pe(e){var t=e.characterSheet,a=e.character,n=e.character,c=n.ascension,r=n.constellation,l=n.key,s=Object(m.useContext)(g.a),o=s.newBuild,j=s.equippedBuild,d=Object(te.a)(l),h=o||j;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Ue,{characterSheet:t}),Object(U.jsxs)(u.a,{container:!0,spacing:1,sx:{mb:1},children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var n=Object(i.a)(e,2),c=n[0],r=n[1];return Object(U.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:c,subtitle:r})},c)})),!!t.getTalentOfKey("sprint",null===h||void 0===h?void 0:h.characterEle)&&Object(U.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:"sprint",subtitle:"Alternative Sprint"})}),!!t.getTalentOfKey("passive",null===h||void 0===h?void 0:h.characterEle)&&Object(U.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:"passive",subtitle:"Passive"})})]}),Object(U.jsx)(u.a,{container:!0,spacing:1,children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var n=Object(i.a)(e,3),r=n[0],l=n[1],s=n[2],o=c>=s;return t.getTalentOfKey(r,null===h||void 0===h?void 0:h.characterEle)?Object(U.jsx)(u.a,{item:!0,style:{opacity:o?1:.5},xs:12,md:4,children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:r,subtitle:l})},r):null}))}),Object(U.jsxs)(b.a,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",r]}),Object(U.jsx)(u.a,{container:!0,spacing:1,children:Object(fe.a)(Array(6).keys()).map((function(e){var n="constellation".concat(e+1);return Object(U.jsx)(u.a,{item:!0,xs:12,md:4,sx:{opacity:r>e?1:.5},children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:n,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return d({constellation:e+1===r?e:e+1})}})},e)}))})]})}var Re={superconduct_hit:function(e){var t,a=e.stats,n="superconduct_hit";return Object(U.jsx)(y.a,{children:Object(U.jsx)(j.a,{sx:{p:1},children:Object(U.jsxs)(b.a,{color:"superconduct.main",children:[V.b.getStatName(n)," ",ke.a.electro,"+",ke.a.cryo," ",Object(U.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(n))})]})})})},electrocharged_hit:function(e){var t,a=e.stats,n="electrocharged_hit";return Object(U.jsx)(y.a,{children:Object(U.jsx)(j.a,{sx:{p:1},children:Object(U.jsxs)(b.a,{color:"electrocharged.main",children:[V.b.getStatName(n)," ",ke.a.electro,"+",ke.a.hydro," ",Object(U.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(n))})]})})})},overloaded_hit:function(e){var t,a=e.stats,n="overloaded_hit";return Object(U.jsx)(y.a,{children:Object(U.jsx)(j.a,{sx:{p:1},children:Object(U.jsxs)(b.a,{color:"overloaded.main",children:[V.b.getStatName(n)," ",ke.a.electro,"+",ke.a.pyro," ",Object(U.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(n))})]})})})},pyro_swirl_hit:Je,cryo_swirl_hit:Je,electro_swirl_hit:Je,hydro_swirl_hit:Je,shattered_hit:function(e){var t,a=e.stats,n="shattered_hit",c=Object(U.jsx)(Ie.a,{placement:"top",title:Object(U.jsxs)(b.a,{children:["Claymores, Plunging Attacks and ",Object(U.jsx)(_.a,{color:"geo",children:"Geo DMG"})]}),children:Object(U.jsx)(q.a,{component:"span",sx:{cursor:"help"},children:Object(U.jsx)(pe.a,{icon:ve.v})})});return Object(U.jsx)(y.a,{children:Object(U.jsx)(j.a,{sx:{p:1},children:Object(U.jsxs)(_.a,{color:"shattered",children:[V.b.getStatName(n)," ",ke.a.hydro,"+",ke.a.cryo,"+ ",Object(U.jsx)(_.a,{color:"physical",children:Object(U.jsxs)("small",{children:["Heavy Attack",c," "]})})," ",Object(U.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(n))})]})})})},crystalize_hit:function(e){var t,a=e.stats,n=Object(m.useState)(Object.keys(Xe)[0]),c=Object(i.a)(n,2),r=c[0],l=c[1],s="default"===r?"crystalize_hit":"".concat(r,"_crystalize_hit");return Object(U.jsxs)(y.a,{sx:{display:"flex"},children:[Object(U.jsx)(E.a,{size:"small",title:Xe[r],color:"success",children:Object.entries(Xe).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(U.jsx)(p.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:n},a)}))}),Object(U.jsx)(q.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(U.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(s))})})]})}};function Ue(e){var t=e.characterSheet,a=Object(m.useContext)(g.a),n=a.newBuild,c=a.equippedBuild,r=n||c;if(!r)return null;var i=r.characterEle,l=Object(fe.a)(Ge.a[i]||[]);return l.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||l.push("shattered_hit"),Object(U.jsx)(S.a,{sx:{mb:1},children:Object(U.jsx)(j.a,{children:Object(U.jsx)(u.a,{container:!0,spacing:1,children:l.map((function(e){var t=Re[e];return t?Object(U.jsx)(u.a,{item:!0,children:Object(U.jsx)(t,{stats:r})},e):null}))})})})}var He={pyro:Object(U.jsxs)("span",{children:[V.b.getStatName("pyro_swirl_hit")," ",ke.a.pyro," + ",ke.a.anemo]}),electro:Object(U.jsxs)("span",{children:[V.b.getStatName("electro_swirl_hit")," ",ke.a.electro,"+",ke.a.anemo]}),cryo:Object(U.jsxs)("span",{children:[V.b.getStatName("cryo_swirl_hit")," ",ke.a.cryo," + ",ke.a.anemo]}),hydro:Object(U.jsxs)("span",{children:[V.b.getStatName("hydro_swirl_hit")," ",ke.a.hydro," + ",ke.a.anemo]})};function Je(e){var t,a=e.stats,n=Object(m.useState)(Object.keys(He)[0]),c=Object(i.a)(n,2),r=c[0],l=c[1],s="".concat(r,"_swirl_hit");return Object(U.jsxs)(y.a,{sx:{display:"flex"},children:[Object(U.jsx)(E.a,{size:"small",title:He[r],color:"success",children:Object.entries(He).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(U.jsx)(p.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:n},a)}))}),Object(U.jsx)(q.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(U.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(V.b.fixedUnit(s))})})]})}var Xe={default:Object(U.jsxs)(_.a,{color:"crystalize",children:[V.b.getStatName("crystalize_hit")," ",ke.a.electro,"/",ke.a.hydro,"/",ke.a.pyro,"/",ke.a.cryo,"+",ke.a.geo]}),pyro:Object(U.jsxs)("span",{children:[V.b.getStatName("pyro_crystalize_hit")," ",ke.a.pyro,"+",ke.a.geo]}),electro:Object(U.jsxs)("span",{children:[V.b.getStatName("electro_crystalize_hit")," ",ke.a.electro,"+",ke.a.geo]}),cryo:Object(U.jsxs)("span",{children:[V.b.getStatName("cryo_crystalize_hit")," ",ke.a.cryo,"+",ke.a.geo]}),hydro:Object(U.jsxs)("span",{children:[V.b.getStatName("hydro_crystalize_hit")," ",ke.a.hydro,"+",ke.a.geo]})};var Qe=[1,1,2,4,6,8,10];function Ye(e){var t=e.characterSheet,a=e.character,n=a.talent,c=a.ascension,r=a.key,i=e.characterDispatch,l=e.talentKey,s=e.subtitle,o=e.onClickTitle,d=Object(m.useContext)(g.a),h=d.newBuild,x=d.equippedBuild,f=h||x,v=Object(m.useCallback)((function(e){return Object(U.jsx)(ze.a,{onClick:o,children:e})}),[o]);if(!f)return null;var y=null;if(l in n){var w,k=null!==(w=f["".concat(l,"Boost")])&&void 0!==w?w:0,C=n[l]+k;y=Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(j.a,{sx:{py:1},children:Object(U.jsx)(E.a,{fullWidth:!0,title:"Talent Lv. ".concat(C),color:k?"info":"primary",children:Object(fe.a)(Array(Qe[c]).keys()).map((function(e){return Object(U.jsxs)(p.a,{selected:n[l]===e+1,disabled:n[l]===e+1,onClick:function(){return t=e+1,n[l]=t,void i({talent:n});var t},children:["Talent Lv. ",e+k+1]},e)}))})}),Object(U.jsx)(O.a,{})]})}var _=t.getTalentOfKey(l,f.characterEle);return Object(U.jsxs)(S.a,{sx:{height:"100%"},children:[y,Object(U.jsxs)(j.a,{children:[Object(U.jsx)(Le.a,{condition:!!o,wrapper:v,children:Object(U.jsxs)(u.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(U.jsx)(u.a,{item:!0,children:Object(U.jsx)(q.a,{component:"img",src:null===_||void 0===_?void 0:_.img,sx:{width:60,height:"auto"}})}),Object(U.jsxs)(u.a,{item:!0,flexGrow:1,sx:{pl:1},children:[Object(U.jsx)(b.a,{variant:"h6",children:null===_||void 0===_?void 0:_.name}),Object(U.jsx)(b.a,{variant:"subtitle1",children:s})]})]})}),(null===_||void 0===_?void 0:_.sections)?Object(U.jsx)(Ve.a,{sections:_.sections,characterKey:r}):null]})]})}var Ze=a(549),$e=a(444),et=a(294),tt=a(321),at=a(115),nt=a(234),ct=a(338);function rt(e){var t=e.character,a=e.character,n=a.key,c=(a.team,Object(m.useContext)(g.a)),r=c.newBuild,i=c.equippedBuild,l=r||i,s=Object(ce.a)();return Object(U.jsxs)($e.a,{display:"flex",flexDirection:"column",gap:1,alignItems:"stretch",children:[Object(U.jsx)(lt,{character:t}),Object(U.jsx)(st,{characterKey:n,build:l}),Object(U.jsx)(u.a,{container:!0,spacing:1,children:s&&l.teamStats.map((function(e,a){return Object(U.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsx)(ot,{character:t,sheets:s,index:a})},a)}))})]})}var it={xs:12,sm:6,md:6,lg:4};function lt(e){var t=e.character,a=Object(m.useContext)(g.a),n=a.newBuild,c=a.equippedBuild,r=n||c;return Object.keys(r.partyBuff).length?Object(U.jsxs)(S.a,{children:[Object(U.jsx)(j.a,{children:"Team Buffs"}),Object(U.jsx)(O.a,{}),Object(U.jsx)(j.a,{children:Object(U.jsx)(u.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Object.entries(r.partyBuff).map((function(e){var a=Object(i.a)(e,2),r=a[0];a[1];return Object(m.createElement)(u.a,Object(l.a)(Object(l.a)({item:!0},it),{},{key:r}),Object(U.jsx)(we.a,{character:t,newBuild:n,equippedBuild:c,statKey:r,partyBuff:!0}))}))})})]}):null}function st(e){var t=e.build,a=e.characterKey,n=Object(te.a)(a);return Object(U.jsxs)(S.a,{children:[Object(U.jsx)(j.a,{children:"Team Resonance"}),Object(U.jsx)(O.a,{}),Object(U.jsx)(j.a,{children:Object(U.jsx)(u.a,{container:!0,spacing:1,children:nt.default.map((function(e,a){var c,r,i;return Object(U.jsx)(u.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsxs)(y.a,{sx:{opacity:e.canShow(t)?1:.5,height:"100%"},children:[Object(U.jsx)(N.a,{avatar:null===e||void 0===e||null===(c=e.header)||void 0===c?void 0:c.icon,title:null===e||void 0===e||null===(r=e.header)||void 0===r?void 0:r.title,action:null===e||void 0===e||null===(i=e.header)||void 0===i?void 0:i.action,titleTypographyProps:{variant:"subtitle2"}}),Object(U.jsx)(O.a,{}),Object(U.jsx)(j.a,{children:e.description}),e.conditionals.map((function(e){return Object(U.jsx)(tt.a,{conditional:e,stats:t,onChange:function(e){return n({conditionalValues:e})}},e.key)}))]})},a)}))})})]})}function ot(e){var t,a,n,c=e.character,r=e.character,i=r.key,l=r.team,s=e.sheets,o=e.index,u=Object(ae.a)(),d=Object(te.a)(i),b=Object(m.useContext)(g.a),h=b.newBuild,x=b.equippedBuild,O=null===x||void 0===x?void 0:x.teamStats[o];return Object(U.jsx)(g.a.Provider,{value:{equippedBuild:null!==(t=null===x||void 0===x?void 0:x.teamStats[o])&&void 0!==t?t:void 0,newBuild:null!==(a=null===h||void 0===h?void 0:h.teamStats[o])&&void 0!==a?a:void 0},children:Object(U.jsxs)(S.a,{children:[Object(U.jsx)(j.a,{children:Object(U.jsx)(et.b,{fullWidth:!0,value:null!==(n=null===O||void 0===O?void 0:O.characterKey)&&void 0!==n?n:"",onChange:function(e){return d({type:"team",index:o,charKey:e})},filter:function(e,t){return t!==i&&!l.includes(t)},unSelectText:"Teammate ".concat(o+1),unSelectIcon:Object(U.jsx)(Ze.a,{})})}),O&&Object(U.jsx)(ct.a,{characterKey:O.characterKey,onClickHeader:u,build:O,artifactChildren:Object(U.jsx)(jt,{condCharStats:O}),weaponChildren:Object(U.jsx)(ut,{condCharStats:O}),footer:s&&c&&Object(U.jsx)(dt,{condCharStats:O,character:c,sheets:s})})]})})}function jt(e){var t=e.condCharStats,a=Object(te.a)(t.characterKey);return Object(U.jsx)($e.a,{children:Object.entries(t.setToSlots).map((function(e){var n,c,r,l=Object(i.a)(e,2),s=l[0],o=l[1];return Object.entries(null!==(n=null===(c=at.a.partyConditionals)||void 0===c||null===(r=c.artifact)||void 0===r?void 0:r[s])&&void 0!==n?n:{}).filter((function(e){var t=Object(i.a)(e,2),a=t[0];t[1];return parseInt(a)<=o.length})).flatMap((function(e){var n=Object(i.a)(e,2),c=(n[0],n[1]);return Object.entries(c).map((function(e){var n=Object(i.a)(e,2),c=(n[0],n[1]);return Object(U.jsx)(tt.a,{conditional:c,stats:t,onChange:function(e){return a({conditionalValues:e})}},c.key)}))}))}))})}function ut(e){var t,a,n,c=e.condCharStats,r=Object(te.a)(c.characterKey);return Object(U.jsx)($e.a,{children:Object.entries(null!==(t=null===(a=at.a.partyConditionals)||void 0===a||null===(n=a.weapon)||void 0===n?void 0:n[c.weapon.key])&&void 0!==t?t:{}).map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return Object(U.jsx)(tt.a,{conditional:a,stats:c,onChange:function(e){return r({conditionalValues:e})}},a.key)}))})}function dt(e){e.character;var t,a,n,c=e.condCharStats,r=(e.sheets,Object(te.a)(c.characterKey)),l=c.characterKey,s="Traveler"===l?"Traveler_".concat(c.characterEle):l,o=Object.entries(null!==(t=null===(a=at.a.partyConditionals)||void 0===a||null===(n=a.character)||void 0===n?void 0:n[s])&&void 0!==t?t:{}).filter((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return at.a.canShow(a,c)}));return Object(U.jsx)(j.a,{sx:{display:"flex",flexDirection:"column",gap:1,pt:0},children:o.map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(U.jsx)(tt.a,{conditional:n,stats:c,onChange:function(e){return r({conditionalValues:e})}},a)}))})}var bt=a(139);function ht(e){var t=e.children,a=e.current,n=e.value,c=Object(s.a)(e,["children","current","value"]);return n!==a?null:Object(U.jsx)(m.Suspense,{fallback:Object(U.jsx)(o.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(U.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),{},{children:t}))})}function xt(e){var t,a,n,l=e.characterKey,s=e.footer,o=e.newBuild,f=e.onClose,v=e.tabName,p=e.isFlex,w=e.compareBuild,k=Object(m.useContext)($.b),_=Object(m.useState)(null!==w&&void 0!==w&&w),B=Object(i.a)(_,2),E=B[0],A=B[1],T=Object(ee.a)(l),N=Object(ne.a)(),D=Object(i.a)(N,2),F=D[0],M=D[1];Object(m.useEffect)((function(){"boolean"===typeof w&&A(w)}),[w,A]);var q=Object(ce.a)(),I=null!==(t=null===T||void 0===T?void 0:T.team)&&void 0!==t?t:[],L=Object(i.a)(I,3),V=L[0],G=L[1],P=L[2];Object(m.useEffect)((function(){return V?k.followChar(V,M):void 0}),[V,M,k]),Object(m.useEffect)((function(){return G?k.followChar(G,M):void 0}),[G,M,k]),Object(m.useEffect)((function(){return P?k.followChar(P,M):void 0}),[P,M,k]),Object(m.useEffect)((function(){l&&(k._getChar(l)||Object(r.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(z.b)(l),k.updateChar(t),e.next=4,bt.b.get(l);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return");case 7:n=Object(le.a)(a.weaponTypeKey),r=k.createWeapon(n),k.setWeaponLocation(r,l);case 10:case"end":return e.stop()}}),e)})))())}),[k,l]);var R=null===q||void 0===q||null===(a=q.characterSheets)||void 0===a?void 0:a[null!==l&&void 0!==l?l:""];Object(m.useEffect)((function(){return T&&k.followWeapon(T.equippedWeapon,M)}),[T,null===T||void 0===T?void 0:T.equippedWeapon,M,k]);var J=Object(m.useMemo)((function(){if(o)return Object(re.c)(o)}),[o]),X=Object(m.useState)(v||(J?"newartifacts":"character")),Y=Object(i.a)(X,2),Z=Y[0],te=Y[1],ae=Object(m.useCallback)((function(e,t){return te(t)}),[te]),ie=null!==(n=null===J||void 0===J?void 0:J.mainStatAssumptionLevel)&&void 0!==n?n:0,se=Object(m.useMemo)((function(){return T&&F&&q&&W.a.calculateBuild(T,k,q,ie)}),[F,T,q,ie,k]);return T?Object(U.jsx)(y.a,{children:Object(U.jsxs)(g.a.Provider,{value:{newBuild:J,equippedBuild:se,compareBuild:E,setCompareBuild:A},children:[Object(U.jsxs)(j.a,{sx:{"> div:not(:last-child)":{mb:1}},children:[Object(U.jsxs)(u.a,{container:!0,spacing:1,children:[Object(U.jsx)(u.a,{item:!0,flexGrow:1,children:Object(U.jsx)(Ot,{characterSheet:R,character:T})}),!!ie&&Object(U.jsx)(u.a,{item:!0,children:Object(U.jsx)(d.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(U.jsx)(b.a,{children:Object(U.jsxs)("strong",{children:["Assume Main Stats are Level ",ie]})})})}),!!f&&Object(U.jsx)(u.a,{item:!0,children:Object(U.jsx)(C.a,{onClick:f})})]}),Object(U.jsx)(S.a,{children:Object(U.jsxs)(h.a,{onChange:ae,value:Z,variant:"fullWidth",children:[Object(U.jsx)(x.a,{value:"character",label:"Character"}),!!J&&Object(U.jsx)(x.a,{value:"newartifacts",label:"New Artifacts"}),Object(U.jsx)(x.a,{value:"artifacts",label:J?"Current Artifacts":"Artifacts"}),!p&&Object(U.jsx)(x.a,{value:"buffs",label:"Team Buffs"}),Object(U.jsx)(x.a,{value:"talent",label:"Talents"})]})}),Object(U.jsx)(Q.a,{character:T}),q&&Object(U.jsx)(H,{sheets:q}),Object(U.jsx)(K.b,{character:T}),R&&Object(U.jsx)(ht,{value:"character",current:Z,children:Object(U.jsx)(Be,{characterSheet:R,character:T})}),q&&Object(U.jsx)(g.a.Provider,{value:{newBuild:void 0,equippedBuild:se,compareBuild:E,setCompareBuild:A},children:Object(U.jsx)(ht,{value:"artifacts",current:Z,children:Object(U.jsx)(Oe,{character:T,sheets:q})})}),J&&q&&Object(U.jsx)(ht,{value:"newartifacts",current:Z,children:Object(U.jsx)(Oe,{character:T,sheets:q})}),R&&Object(U.jsx)(ht,{value:"buffs",current:Z,children:Object(U.jsx)(rt,{characterSheet:R,character:T})}),R&&Object(U.jsx)(ht,{value:"talent",current:Z,children:Object(U.jsx)(Pe,{characterSheet:R,character:T})})]}),!!s&&Object(U.jsx)(O.a,{}),s&&Object(U.jsx)(j.a,{children:s})]})}):Object(U.jsx)(U.Fragment,{})}function Ot(e){var t,a=e.characterSheet,n=e.character,c=e.character,r=c.key,l=c.elementKey,s=void 0===l?"anemo":l,o=c.level,j=void 0===o?1:o,d=c.ascension,h=void 0===d?0:d,x=e.disabled,O=Object(m.useState)(!1),g=Object(i.a)(O,2),y=g[0],S=g[1],C=Object(ae.a)(),K=Object(te.a)(r),A=a?Object(U.jsxs)("span",{children:[Object(U.jsx)(R.a,{src:a.thumbImg,sx:{mr:1}}),a.name]}):Object(U.jsx)("span",{children:"Select a Character"}),T=Object(m.useCallback)((function(e){e=Object(ie.a)(e,1,90);var t=Z.b.findIndex((function(t){return e<=t}));K({level:e,ascension:t})}),[K]),N=Object(m.useCallback)((function(){var e=Z.b.findIndex((function(e){return 90!==j&&j===e}));K(h===e?{ascension:h+1}:{ascension:e})}),[K,h,j]);return Object(U.jsx)(U.Fragment,{children:x?Object(U.jsxs)(b.a,{variant:"h6",children:[A," ",a&&W.a.getLevelString(n)]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(w.a,{show:y,onHide:function(){return S(!1)},onSelect:C}),Object(U.jsxs)(u.a,{container:!0,spacing:1,children:[Object(U.jsx)(u.a,{item:!0,children:Object(U.jsx)(f.a,{onClick:function(){return S(!0)},startIcon:Object(U.jsx)(k.a,{src:null===a||void 0===a?void 0:a.thumbImgSide}),children:null!==(t=null===a||void 0===a?void 0:a.name)&&void 0!==t?t:"Select a Character"})}),Object(U.jsx)(u.a,{item:!0,children:Object(U.jsxs)(v.a,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[(null===a||void 0===a?void 0:a.sheet)&&"talents"in(null===a||void 0===a?void 0:a.sheet)&&Object(U.jsx)(E.a,{title:Object(U.jsx)("strong",{children:Object(U.jsx)(_.a,{color:s,children:Object(Y.i)("element.".concat(s))})}),children:Object.keys(a.sheet.talents).map((function(e){return Object(U.jsx)(p.a,{selected:s===e,disabled:s===e,onClick:function(){return K({elementKey:e})},children:Object(U.jsx)("strong",{children:Object(U.jsx)(_.a,{color:e,children:Object(Y.i)("element.".concat(e))})})},e)}))}),Object(U.jsx)(B.a,{children:Object(U.jsx)(B.c,{onChange:T,value:j,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!a})}),Object(U.jsx)(f.a,{sx:{pl:1},disabled:!Object(Z.a)(j)||!a,onClick:N,children:Object(U.jsxs)("strong",{children:["/ ",Z.b[h]]})}),Object(U.jsx)(E.a,{title:"Select Level",disabled:!a,children:Z.c.map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1],c=a===Z.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(Z.b[n]),r=a===j&&n===h;return Object(U.jsx)(p.a,{selected:r,disabled:r,onClick:function(){return K({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})})]})]})})}}}]);
//# sourceMappingURL=19.2a7e0e76.chunk.js.map