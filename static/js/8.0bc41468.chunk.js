(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[8],{126:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(86),r=a(81),c=a(3),i=a(83),s=a(23),l=(a(0),a(159)),o=a(160),d=a(101),u=a(31),j=a(30),b=a(40),h=a(16),f=a(91),m=a(128),O=a(99),x=a(113),g=a(85),y=a(105),p=a(93),v=a(90);function S(e){var t,a=e.characterId,S=e.onEdit,k=e.onDelete,N=v.a.getCharacter(a);if(!N)return null;var C=p.a.calculateBuild(N),B=C.setToSlots,w=N.characterKey,I=N.name,K=N.weapon,_=N.constellation,A=p.a.getElementalKey(w),E=p.a.getWeaponTypeKey(w),F=y.a.getWeaponName(K.key),T=y.a.getWeaponMainStatValWithOverride(K),M=y.a.getWeaponSubStatKey(K.key),W=y.a.getWeaponSubStatValWithOverride(K),D=y.a.getLevelName(K.levelKey),G=y.a.getWeaponPassiveName(K.key);return Object(c.jsxs)(u.a,{className:e.cardClassName,bg:e.bg?e.bg:"darkcontent",text:"lightfont",children:[Object(c.jsx)(u.a.Header,{className:"pr-2",children:Object(c.jsxs)(b.a,{className:"no-gutters",children:[Object(c.jsx)(j.a,{children:e.header?e.header:Object(c.jsx)("h6",{children:Object(c.jsx)("b",{children:I})})}),Object(c.jsx)(j.a,{xs:"auto",children:Object(c.jsxs)("span",{className:"float-right align-top ml-1",children:[e.onEdit&&Object(c.jsx)(d.a,{variant:"primary",size:"sm",className:"mr-1",onClick:S,children:Object(c.jsx)(s.a,{icon:i.f})}),e.onDelete&&Object(c.jsx)(d.a,{variant:"danger",size:"sm",onClick:k,children:Object(c.jsx)(s.a,{icon:i.B})})]})})]})}),Object(c.jsxs)(u.a.Body,{onClick:S,style:{cursor:S?"pointer":"default"},children:[Object(c.jsxs)(b.a,{children:[Object(c.jsx)(j.a,{xs:"auto",className:"pr-0",children:Object(c.jsx)(l.a,{src:p.a.getThumb(w),className:"h-100 w-auto my-n1",rounded:!0})}),Object(c.jsxs)(j.a,{children:[Object(c.jsxs)("h4",{children:[p.a.getName(w)," ",Object(c.jsx)(l.a,{src:m.a.elements[A],className:"inline-icon"})," ",Object(c.jsx)(l.a,{src:null===(t=m.a.weaponTypes)||void 0===t?void 0:t[E],className:"inline-icon"})]}),Object(c.jsx)("h6",{children:Object(c.jsx)(O.a,{stars:p.a.getStar(w),colored:!0})}),Object(c.jsx)("span",{children:"Lvl. ".concat(p.a.getLevelWithOverride(N)," C").concat(_)})]})]}),Object(c.jsx)(b.a,{className:"mb-2",children:Object(c.jsxs)(j.a,{children:[Object(c.jsxs)("h6",{className:"mb-0",children:[F,G&&"(".concat(K.refineIndex+1,")")," ",D]}),Object(c.jsxs)("span",{children:["ATK: ",T,"  ",G&&Object(c.jsxs)("span",{children:[g.e.getStatName(M),": ",W,g.e.getStatUnit(M)]})]})]})}),Object(c.jsx)(b.a,{children:Object(c.jsx)(j.a,{children:Object.entries(f.a.getArtifactSetEffects(B)).map((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1],s=f.a.getArtifactSetName(a),l=Math.max.apply(Math,Object(n.a)(i));return Object(c.jsx)("h5",{children:Object(c.jsxs)(o.a,{variant:"secondary",children:[s," ",Object(c.jsx)(o.a,{variant:"success",children:l})]})},a)}))})}),Object(c.jsx)(b.a,{children:["hp","atk","def","ele_mas","crit_rate","crit_dmg","ener_rech"].map((function(e){var t=g.e.getStatUnit(e),a=C.finalStats[e];return Object(c.jsxs)(j.a,{xs:12,children:[Object(c.jsxs)("h6",{className:"d-inline",children:[Object(x.a)(e)," ",g.e.getStatName(e)]}),Object(c.jsx)("span",{className:"float-right",children:(null===a||void 0===a?void 0:a.toFixed(g.e.fixedUnit(e)))+t})]},e)}))})]}),e.footer&&Object(c.jsx)(u.a.Footer,{children:Object(c.jsx)(d.a,{as:h.b,to:{pathname:"/build",selectedCharacterId:a},children:"Generate Builds"})})]})}},127:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(86),r=a(85),c={};function i(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=c[e]||[];null===(t=c[e])||void 0===t||t.forEach((function(e){var t;return(t=i).push.apply(t,Object(n.a)(c[e]||[]))})),a.forEach((function(e){var t,a=r.c[e.key]||{},c=a.key,s=a.dependency,l=void 0===s?[]:s;i.includes(c)&&(t=i).push.apply(t,Object(n.a)(l))})),i=Object(n.a)(new Set(i));var s=Object.keys(r.b).filter((function(t){return t===e||i.includes(t)})),l=Object.keys(r.d).filter((function(t){return t===e||i.includes(t)}));return{formulaKeys:s,statkeys:l}}Object.keys(r.b).forEach((function(e){return function(e){var t={},a=[];Object.keys(r.d).filter((function(t){return t!==e})).forEach((function(e){Object.defineProperty(t,e,{get:function(){return a.push(e),Object.defineProperty(t,e,{get:function(){return 0}}),0},configurable:!0})})),Object(r.a)(t),"number"===typeof t[e]&&(c[e]=a)}(e)}))},215:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return L}));var n=a(3),r=a(81),c=a(82),i=a(89),s=a(133),l=a(98),o=a(97),d=a(83),u=a(23),j=a(0),b=a.n(j),h=a(196),f=a(204),m=a(203),O=a(31),x=a(40),g=a(30),y=a(162),p=a(160),v=a(101),S=a(217),k=a(210),N=a(55),C=a(17);function B(){return new Worker(a.p+"static/js/BuildWorker.5b0d3195.worker.js")}var w=a(91),I=a(96),K=a(93),_=a(126),A=a(90),E=a(130),F=a(114),T=a(103),M=a(104),W=a(85),D=a(127),G=a(100),P=a(87),U=a(88),H=a(95),z=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,null,[{key:"splitArtifactsBySlot",value:function(e){var t={},a=function(a){t[a]=Object.values(e).filter((function(e){return e.slotKey===a}))};for(var n in T.d)a(n);return t}},{key:"generateAllPossibleArtifactSetPerm",value:function(e){var t=e.filter((function(e){return e.key})).map((function(e){return e.key}));e.reduce((function(e,t){return t.key?e+t.num:e}),0)<5&&t.push("Other");var a=[],n=w.a.getArtifactSlotKeys();return function r(c,i){if(c>=n.length){var s={};Object.values(i).forEach((function(e){s[e]?s[e]+=1:s[e]=1}));var l,o=!0,d=Object(H.a)(e);try{for(d.s();!(l=d.n()).done;){var u=l.value;if(u.key&&(!s[u.key]||s[u.key]<u.num)){o=!1;break}}}catch(b){d.e(b)}finally{d.f()}o&&a.push(i)}else{var j=n[c];t.forEach((function(e){("Other"===e||T.c[e]&&T.c[e].pieces&&Object.keys(T.c[e].pieces).includes(j))&&(i[j]=e,r(c+1,Object(U.a)({},i)))}))}}(0,{}),a}},{key:"calculateTotalBuildNumber",value:function(e,t,a){var n=a.filter((function(e){return e.key})).map((function(e){return e.key})),c={};return Object.entries(e).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],i=t[1],s={};i.forEach((function(e){n.includes(e.setKey)?s[e.setKey]=(s[e.setKey]||0)+1:s.Other=(s.Other||0)+1})),c[a]=s})),t.reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){var a=Object(r.a)(t,2),n=a[0],i=a[1];return c[n]&&c[n][i]?e*c[n][i]:0}),1)}),0)}}]),e}(),L=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var i;if(Object(c.a)(this,a),(i=t.call(this,e)).forceUpdateBuildDisplay=function(){return i.forceUpdate()},i.statsDisplayKeys=function(e){var t=["hp","atk","def","ele_mas","crit_rate","crit_dmg","heal_bonu","ener_rech","ele_dmg"],a=K.a.getElementalKey(e),n=K.a.isAutoElemental(e),r=K.a.isAutoInfusable(e);return n||t.push("phy_dmg"),n||t.push("norm_atk_avg_dmg","char_atk_avg_dmg"),n||r?t.push("".concat(a,"_norm_atk_avg_dmg"),"".concat(a,"_char_atk_avg_dmg")):"bow"===K.a.getWeaponTypeKey(e)&&t.push("".concat(a,"_char_atk_avg_dmg")),t.push("skill_avg_dmg","burst_avg_dmg"),t.map((function(e){return["ele_dmg","skill_avg_dmg","burst_avg_dmg"].includes(e)?"".concat(a,"_").concat(e):e}))},i.splitArtifacts=function(){if(!i.state.selectedCharacterId)return{};var e=I.a.getArtifactDatabase();if(Object.entries(e).forEach((function(t){var a=Object(r.a)(t,2),n=a[0],c=a[1];c.lock&&delete e[n],i.state.selectedCharacterId&&c.location&&c.location!==i.state.selectedCharacterId&&delete e[n]})),i.state.setFilters.every((function(e){return e.key}))){var t=i.state.setFilters.map((function(e){return e.key}));Object.entries(e).forEach((function(a){var n=Object(r.a)(a,2),c=n[0],i=n[1];t.includes(i.setKey)&&delete e[c]}))}var n=z.splitArtifactsBySlot(e);return a.artifactsSlotsToSelectMainStats.forEach((function(e,t){return i.state.mainStat[t]&&(n[e]=n[e].filter((function(e){return e.mainStatKey===i.state.mainStat[t]})))})),n},i.changeMainStat=function(e,t){i.setState((function(a){var n=a.mainStat;return n[e]=t,{mainStat:n}}),i.autoGenerateBuilds)},i.changeSetFilterKey=function(e,t,a){return i.setState((function(n){var r,c,i=n.setFilters[e].key;if(i!==t){var s=(null===(r=n.artifactConditionals)||void 0===r||null===(c=r.filter)||void 0===c?void 0:c.call(r,(function(e){return e.srcKey!==i})))||[],l=n.setFilters,o=0;return a&&a[0]&&(o=parseInt(a[0])),l[e]={key:t,num:o},{setFilters:l,artifactConditionals:s}}}),i.autoGenerateBuilds)},i.dropdownitemsForStar=function(e,t){return w.a.getArtifactSetsByMaxStarEntries(e).map((function(e){var a=Object(r.a)(e,2),c=a[0],s=a[1];if(i.state.setFilters.some((function(e){return e.key===c})))return!1;var l=Object.keys(w.a.getArtifactSets(c)),o=i.state.setFilters.reduce((function(e,a,n){return a.key&&n!==t?e+a.num:e}),0);return!l.every((function(e){return parseInt(e)+o>5}))&&Object(n.jsx)(h.a.Item,{onClick:function(){return i.changeSetFilterKey(t,c,l)},children:s.name},c)}))},i.autoGenerateBuilds=function(){return"number"===typeof i.totBuildNumber&&i.totBuildNumber<=i.state.maxBuildsToShow&&i.generateBuilds()},i.generateBuilds=function(){var e=Object(s.a)(i),t=e.split,a=e.artifactSetPerms;if(!e.totBuildNumber)return i.setState({builds:[]});i.setState({generatingBuilds:!0});var n=i.state,r=n.setFilters,c=n.asending,l=n.buildFilterKey,o=n.maxBuildsToShow,d=n.artifactConditionals,u=A.a.getCharacter(i.state.selectedCharacterId),j=K.a.calculateCharacterWithWeaponStats(u),b=w.a.getAllArtifactSetEffectsObj(d),h=Object(P.e)(t);Object.values(h).forEach((function(e){e.forEach((function(e){e.mainStatVal=w.a.getMainStatValue(e.mainStatKey,e.numStars,e.level)}))}));var f=Object(D.a)(l,j.formulaOverrides),m={splitArtifacts:h,artifactSetPerms:a,initialStats:j,artifactSetEffects:b,depdendencyStatKeys:f,setFilters:r,maxBuildsToShow:o,buildFilterKey:l,asending:c};i.worker&&i.worker.terminate(),i.worker=new B,i.worker.onmessage=function(e){C.a.timing({category:"Build Generation",variable:"timing",value:e.data.timing,label:z.calculateTotalBuildNumber(t,a,i.state.setFilters)});var n=e.data.builds.map((function(e){return K.a.calculateBuildWithObjs(d,j,e.artifacts)}));i.setState({builds:n,generatingBuilds:!1}),i.worker.terminate(),delete i.worker},i.worker.postMessage(m)},i.BuildGeneratorEditorCard=function(e){var t=i.state,c=t.setFilters,l=t.selectedCharacterId,o=e.statsDisplayKeys,j=A.a.getCharacterDatabase(),b=A.a.getCharacter(l),S=b?b.name:"Character Name",k=c.reduce((function(e,t){return t.key?e+t.num:e}),0);i.split=i.splitArtifacts(),i.artifactSetPerms=z.generateAllPossibleArtifactSetPerm(c),i.totBuildNumber=z.calculateTotalBuildNumber(i.split,i.artifactSetPerms,c);var N=Object(s.a)(i).totBuildNumber,C=0===N?Object(n.jsx)(f.a,{variant:"warning",className:"mb-0",children:Object(n.jsxs)("span",{children:["Current configuration will not generate any builds for ",Object(n.jsx)("b",{children:S}),". Please change your Artifact configurations, or add/unlock more Artifacts."]})}):N>i.state.maxBuildsToGenerate?Object(n.jsx)(f.a,{variant:"danger",className:"mb-0",children:Object(n.jsxs)("span",{children:["Current configuration will generate ",Object(n.jsx)("b",{children:N})," builds for ",Object(n.jsx)("b",{children:S}),". Please restrict artifact configuration to reduce builds to less than ",i.state.maxBuildsToGenerate,", or your browser might crash."]})}):Object(n.jsx)(f.a,{variant:"success",className:"mb-0",children:Object(n.jsxs)("span",{children:["Current configuration ",N<=i.state.maxBuildsToShow?"generated":"will generate"," ",Object(n.jsx)("b",{children:N})," builds for ",Object(n.jsx)("b",{children:S}),"."]})}),B=Object(n.jsxs)(m.a,{title:l?S:"Select Character",children:[Object(n.jsx)(h.a.Item,{onClick:function(){return i.setState({selectedCharacterId:"",builds:[],buildFilterKey:"atk"})},children:"No Character"}),Object.values(j).map((function(e,t){return Object(n.jsx)(h.a.Item,{onClick:function(){return i.setState({selectedCharacterId:e.id,builds:[],buildFilterKey:"atk"})},children:e.name},e.name+t)}))]});return Object(n.jsxs)(O.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(O.a.Header,{children:"Build Generator"}),Object(n.jsxs)(O.a.Body,{children:[Object(n.jsxs)(x.a,{children:[Object(n.jsxs)(g.a,{xs:12,lg:6,className:"mb-2",children:[l?Object(n.jsx)(_.a,{header:B,characterId:l,bg:"lightcontent",footer:!1,cardClassName:"mb-2",onEdit:function(){return i.setState({editCharacter:!0})}}):Object(n.jsx)(O.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(n.jsx)(O.a.Header,{children:B})}),Object(n.jsxs)(O.a,{bg:"lightcontent",text:"lightfont",children:[Object(n.jsx)(O.a.Header,{children:"Artifact Main Stat (Optional)"}),Object(n.jsx)(O.a.Body,{children:a.artifactsSlotsToSelectMainStats.map((function(e,t){return Object(n.jsxs)("div",{className:"text-inline mb-1 d-flex justify-content-between",children:[Object(n.jsx)("h6",{className:"d-inline mr-2",children:w.a.getArtifactSlotNameWithIcon(e)}),Object(n.jsxs)(m.a,{title:i.state.mainStat[t]?W.e.getStatNameWithPercent(i.state.mainStat[t]):"Select a mainstat",className:"d-inline",children:[Object(n.jsx)(h.a.Item,{onClick:function(){return i.changeMainStat(t,"")},children:"No MainStat"}),T.d[e].stats.map((function(e){return Object(n.jsx)(h.a.Item,{onClick:function(){return i.changeMainStat(t,e)},children:W.e.getStatNameWithPercent(e)},e)}))]})]},e)}))})]})]}),Object(n.jsx)(g.a,{xs:12,lg:6,className:"mb-2",children:Object(n.jsx)(x.a,{children:c.map((function(e,t){var a=e.key,s=e.num,l=i.state.artifactConditionals;return Object(n.jsx)(g.a,{className:"mb-2",xs:12,children:Object(n.jsxs)(O.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(n.jsx)(O.a.Header,{children:Object(n.jsxs)(y.a,{children:[Object(n.jsxs)(m.a,{as:y.a,title:w.a.getArtifactSetName(e.key,"Set (Optional)"),children:[Object(n.jsx)(h.a.Item,{onClick:function(){return i.changeSetFilterKey(t,"")},children:"Unselect Artifact"}),Object(n.jsx)(h.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),i.dropdownitemsForStar(5,t),Object(n.jsx)(h.a.Divider,{}),Object(n.jsx)(h.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca\ud83d\udfca"}),i.dropdownitemsForStar(4,t),Object(n.jsx)(h.a.Divider,{}),Object(n.jsx)(h.a.ItemText,{children:"Max Rarity \ud83d\udfca\ud83d\udfca\ud83d\udfca"}),i.dropdownitemsForStar(3,t)]}),Object(n.jsx)(m.a,{as:y.a,title:"".concat(e.num,"-set"),disabled:!e.key||k>=5,children:e.key&&w.a.getArtifactSetEffectsObj(e.key)&&Object.keys(w.a.getArtifactSetEffectsObj(e.key)).map((function(a){var r=c.reduce((function(t,a){return a.key&&a.key!==e.key?t+a.num:t}),0);return parseInt(a)+r<=5&&Object(n.jsx)(h.a.Item,{onClick:function(){return i.setState((function(e){var n=e.setFilters;return n[t].num=parseInt(a),{setFilters:n}}),i.autoGenerateBuilds)},children:"".concat(a,"-set")},a)}))})]})}),a?Object(n.jsx)(O.a.Body,{children:Object(n.jsx)(x.a,{children:Object.keys(w.a.getArtifactSets(a,{})).filter((function(e){return parseInt(e)<=s})).map((function(e){var t=w.a.getArtifactSetNumStats(a,e),c=0,s=w.a.getArtifactSetEffectConditional(a,e);if(s){c=G.a.getConditionalNum(l,{srcKey:a,srcKey2:e});var o=w.a.getArtifactConditionalStats(a,e,c);o&&(t||(t={}),Object.entries(o).forEach((function(e){var a=Object(r.a)(e,2),n=a[0],c=a[1];return t[n]=(t[n]||0)+c})))}var d=Object(n.jsx)(F.a,{conditional:s,conditionalNum:c,setConditional:function(t){return i.setState((function(n){return{artifactConditionals:G.a.setConditional(n.artifactConditionals,{srcKey:a,srcKey2:e},t)}}),i.autoGenerateBuilds)},defEle:Object(n.jsxs)(p.a,{variant:"success",children:[e,"-Set"]})});return Object(n.jsxs)(g.a,{xs:12,className:"mb-2",children:[Object(n.jsxs)("h6",{children:[d," ",w.a.getArtifactSetEffectText(a,e)]}),t?Object(n.jsx)(x.a,{children:Object.entries(t).map((function(e){var t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(n.jsxs)(g.a,{xs:12,children:[W.e.getStatName(a),": ",c,W.e.getStatUnit(a)]},a)}))}):null]},e)}))})}):null]})},t)}))})})]}),Object(n.jsx)(x.a,{className:"mb-2",children:Object(n.jsx)(g.a,{children:l&&C})}),Object(n.jsxs)(x.a,{className:"d-flex justify-content-between",children:[Object(n.jsx)(g.a,{xs:"auto",children:Object(n.jsx)(v.a,{className:"h-100",disabled:!l||N>i.state.maxBuildsToGenerate||i.state.generatingBuilds,variant:l&&N<=i.state.maxBuildsToGenerate?"success":"danger",onClick:i.generateBuilds,children:Object(n.jsx)("span",{children:"Generate Builds"})})}),Object(n.jsx)(g.a,{xs:"auto",children:Object(n.jsxs)(y.a,{children:[Object(n.jsx)(m.a,{disabled:!l,title:"Sort by ".concat(W.e.getStatNameWithPercent(i.state.buildFilterKey)),as:y.a,children:l&&o.map((function(e){return Object(n.jsx)(h.a.Item,{onClick:function(){return i.setState({buildFilterKey:e},i.autoGenerateBuilds)},children:W.e.getStatNameWithPercent(e)},e)}))}),Object(n.jsx)(v.a,{onClick:function(){return i.setState((function(e){return{asending:!e.asending}}),i.autoGenerateBuilds)},children:Object(n.jsx)(u.a,{icon:i.state.asending?d.u:d.v,className:"fa-fw"})})]})})]})]})]})},i.ArtifactDisplayItem=function(e){var t=e.build,a=e.statsDisplayKeys;return Object(n.jsx)("div",{children:Object(n.jsxs)(S.a.Item,{variant:e.index%2?"customdark":"customdarker",className:"text-white",action:!0,onClick:function(){return i.setState({modalBuild:t})},children:[Object(n.jsx)(x.a,{children:Object(n.jsx)(g.a,{children:Object.entries(t.setToSlots).sort((function(e,t){var a=Object(r.a)(e,2),n=(a[0],a[1]),c=Object(r.a)(t,2);c[0];return c[1].length-n.length})).map((function(e){var t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(n.jsxs)(p.a,{variant:"primary",className:"mr-2",children:[c.map((function(e){return w.a.getArtifactSlotIcon(e)}))," ",w.a.getArtifactSetName(a)]},a)}))})}),Object(n.jsx)(x.a,{children:a.map((function(e){var a;return Object(n.jsx)(g.a,{className:"text-nowrap",xs:12,sm:6,md:4,lg:3,children:Object(n.jsxs)("span",{children:[W.e.getStatName(e),": ",Object(n.jsxs)("span",{className:"text-warning",children:[null===(a=t.finalStats[e])||void 0===a?void 0:a.toFixed(W.e.fixedUnit(e)),W.e.getStatUnit(e)]})]})},e)}))})]})})},i.closeModal=function(){return i.setState({modalBuild:null,editCharacter:!1})},i.BuildModal=function(e){var t=e.build,a=e.characterid,r=i.state.editCharacter;return Object(n.jsx)(k.a,{show:Boolean(r||t),onHide:i.closeModal,size:"xl",dialogAs:N.a,className:"pt-3 pb-3",children:Object(n.jsx)(E.a,{characterId:a,newBuild:t,onClose:i.closeModal,forceUpdate:i.forceUpdateBuildDisplay,editable:r,footer:Object(n.jsx)(v.a,{variant:"danger",onClick:i.closeModal,children:"Close"})})})},Object(M.a)(),i.state=a.getInitialState(),e.location.selectedCharacterId)i.state=a.getInitialState(),e.location.selectedCharacterId&&(i.state.selectedCharacterId=e.location.selectedCharacterId);else{var l=Object(P.i)("BuildsDisplay.state");if(l){var o=A.a.getCharacter(l.selectedCharacterId);l&&o&&(i.state=l)}}return C.a.pageview("/build"),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.autoGenerateBuilds()}},{key:"componentDidUpdate",value:function(){var e=Object(P.e)(this.state);e.builds=[],delete e.generatingBuilds,delete e.modalBuild,delete e.editCharacter,Object(P.j)("BuildsDisplay.state",e)}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.worker)||void 0===e||e.terminate(),delete this.worker}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedCharacterId,r=t.modalBuild,c=t.maxBuildsToShow,i=t.builds,s=void 0===i?[]:i,l=A.a.getCharacter(a),o=null===l||void 0===l?void 0:l.characterKey,d=K.a.getName(o,"Character Name"),u=[];return o&&(u=this.statsDisplayKeys(o)),Object(n.jsxs)(N.a,{children:[Object(n.jsx)(this.BuildModal,{build:r,characterid:a}),Object(n.jsx)(x.a,{className:"mt-2 mb-2",children:Object(n.jsx)(g.a,{children:Object(n.jsx)(this.BuildGeneratorEditorCard,{statsDisplayKeys:u})})}),Object(n.jsx)(x.a,{className:"mb-2",children:Object(n.jsx)(g.a,{children:Object(n.jsxs)(O.a,{bg:"darkcontent",text:"lightfont",children:[Object(n.jsx)(O.a.Header,{children:a?"Showing ".concat(s.length," Builds generated for ").concat(d):"Select a character to generate builds."}),Object(n.jsx)(S.a,{children:s.map((function(t,a){return a<c&&Object(n.jsx)(e.ArtifactDisplayItem,{build:t,character:l,index:a,statsDisplayKeys:u},Object.values(t.artifactIds).join("_"))}))})]})})})]})}}]),a}(b.a.Component);L.initialState={builds:[],generatingBuilds:!1,selectedCharacterId:"",setFilters:[{key:"",num:0},{key:"",num:0},{key:"",num:0}],artifactConditionals:[],mainStat:["","",""],buildFilterKey:"atk",asending:!1,modalBuild:null,editCharacter:!1,maxBuildsToShow:100,maxBuildsToGenerate:5e5},L.maxBuildsToShowList=[100,50,25,5],L.maxBuildsToGenerateList=[5e5,1e5,5e4,1e4,5e3,1e3],L.getInitialState=function(){return Object(P.e)(L.initialState)},L.artifactsSlotsToSelectMainStats=["sands","goblet","circlet"]}}]);
//# sourceMappingURL=8.0bc41468.chunk.js.map