(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[11,19],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(85),c=n(3),r=n(83),i=n(23),l=function(){return Object(c.jsx)(i.a,{icon:r.y})},s=function(e){return Object(c.jsx)("span",{className:e.colored?"text-5star":"",children:e.stars?Object(a.a)(Array(e.stars).keys()).map((function(e,t){return Object(c.jsx)(l,{},t)})):null})}},101:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(79),c=n(82),r=n(109),i=n(92),l=function e(){if(Object(c.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};l.getWeaponDataImport=function(){return r.c},l.getLevelName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.a[e]||t},l.getLevelIndex=function(e){return r.d.indexOf(e)},l.getWeaponName=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=r.b[e])||void 0===t?void 0:t.name)||n},l.getWeaponRarity=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===(t=r.b[e])||void 0===t?void 0:t.rarity)||n},l.getWeaponPassiveName=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=r.b[e])||void 0===t?void 0:t.passiveName)||n},l.getWeaponPassiveDescription=function(e,t,n,a){var c,i,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return(null===(c=r.b[e])||void 0===c||null===(i=c.passiveDescription)||void 0===i?void 0:i.call(c,t,n,a))||l},l.getWeaponDescription=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=r.b[e])||void 0===t?void 0:t.description)||n},l.getWeaponConditional=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=r.b[e])||void 0===t?void 0:t.conditional)||n},l.getWeaponImg=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=r.b[e])||void 0===t?void 0:t.img)||n},l.getWeaponMainStatVal=function(e,t){var n,a,c,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(n=r.b[e])||void 0===n||null===(a=n.baseStats)||void 0===a||null===(c=a.main)||void 0===c?void 0:c[l.getLevelIndex(t)])||i},l.getWeaponSubStatVal=function(e,t){var n,a,c,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===(n=r.b[e])||void 0===n||null===(a=n.baseStats)||void 0===a||null===(c=a.sub)||void 0===c?void 0:c[l.getLevelIndex(t)])||i},l.getWeaponSubStatKey=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=r.b[e])||void 0===t||null===(n=t.baseStats)||void 0===n?void 0:n.subStatKey)||a},l.getWeaponBonusStat=function(e,t){var n,a;return null===(n=r.b[e])||void 0===n||null===(a=n.stats)||void 0===a?void 0:a.call(n,t)},l.getWeaponsOfType=function(e){return Object.fromEntries(Object.entries(r.b).filter((function(t){var n=Object(a.a)(t,2);n[0];return n[1].weaponType===e})))},l.getWeaponTypeName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.e[e]||t},l.getWeaponMainStatValWithOverride=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===e||void 0===e?void 0:e.overrideMainVal)||l.getWeaponMainStatVal(null===e||void 0===e?void 0:e.key,null===e||void 0===e?void 0:e.levelKey,t)},l.getWeaponSubStatValWithOverride=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===e||void 0===e?void 0:e.overrideSubVal)||l.getWeaponSubStatVal(null===e||void 0===e?void 0:e.key,null===e||void 0===e?void 0:e.levelKey,t)},l.getWeaponConditionalStat=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=l.getWeaponConditional(e);if(!r||!n)return c;var s=i.a.getConditionalProp(r,"stats",n),o=Object(a.a)(s,2),u=o[0],d=o[1];return d?Object.fromEntries(Object.entries(u(t)).map((function(e){var t=Object(a.a)(e,2);return[t[0],t[1]*d]}))):c}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0);function c(e){var t=function(e){var t=Object(a.useRef)(e);return t.current=e,t}(e);Object(a.useEffect)((function(){return function(){return t.current()}}),[])}},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(3),c=n(79),r=n(0),i=n(125),l=function(e){var t,n=e.placeholder,l=e.value,s=e.onValueChange,o=e.disabled,u=Object(r.useState)(!1),d=Object(c.a)(u,2),j=d[0],b=d[1];return Object(a.jsx)(i.a,{type:"number",className:"hide-appearance",placeholder:n,value:!l&&j?"":(null===l||void 0===l||null===(t=l.toString)||void 0===t?void 0:t.call(l))||l,disabled:o,onChange:function(e){var t=e.target.value;t=parseFloat(t)||0,null===s||void 0===s||s(t)},onFocus:function(){return b(!0)},onBlur:function(){return b(!1)}})},s=function(e){var t,n=e.placeholder,l=e.value,s=e.onValueChange,o=e.disabled,u=Object(r.useState)(!1),d=Object(c.a)(u,2),j=d[0],b=d[1];return Object(a.jsx)(i.a,{type:"number",className:"hide-appearance",placeholder:n,value:!l&&j?"":(null===l||void 0===l||null===(t=l.toString)||void 0===t?void 0:t.call(l))||l,disabled:o,onChange:function(e){var t=e.target.value;t=parseInt(t)||0,null===s||void 0===s||s(t)},onFocus:function(){return b(!0)},onBlur:function(){return b(!1)}})}},105:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(39),c=n(0),r=function(e){var t;return"undefined"===typeof document?null:null==e?Object(a.a)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};function i(e,t){var n=Object(c.useState)((function(){return r(e)})),a=n[0],i=n[1];if(!a){var l=r(e);l&&i(l)}return Object(c.useEffect)((function(){t&&a&&t(a)}),[t,a]),Object(c.useEffect)((function(){var t=r(e);t!==a&&i(t)}),[e,a]),a}},106:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(85),c=n(3),r=n(89),i=n(83),l=n(23),s=n(0),o=n.n(s),u=n(124),d=n(97),j=n(143);function b(e){var t=e.conditional,n=e.conditionalNum,s=e.setConditional,b=e.defEle,m=e.disabled;if(!t)return b;if(Array.isArray(t)){var h,v=n,f=null,O=Object(r.a)(t);try{for(O.s();!(h=O.n()).done;){var p=h.value;if(!(v>p.maxStack)){f=p;break}v-=p.maxStack}}catch(S){O.e(S)}finally{O.f()}f||(v=0,f=t[0]);var x=0===v?"Not Active":Object(c.jsxs)("span",{children:[f.condition," ",f.maxStack>1?": ".concat(v," stack").concat(v>1?"s":""):""]}),g=Object(c.jsx)(u.a,{variant:0===v?"secondary":"success",children:x}),_=0;return Object(c.jsxs)(j.a,{children:[Object(c.jsx)(j.a.Toggle,{size:"sm",disabled:m,children:Object(c.jsxs)("h6",{className:"mb-0 d-inline",children:[b," ",g]})}),Object(c.jsxs)(j.a.Menu,{children:[Object(c.jsx)(j.a.Item,{onClick:function(){return s(0)},children:Object(c.jsx)("span",{children:"Not Active"})}),t.map((function(e,t){return Object(c.jsx)(o.a.Fragment,{children:Object(a.a)(Array(e.maxStack).keys()).map((function(e){return e+1})).map((function(t){var n=++_;return Object(c.jsxs)(j.a.Item,{onClick:function(){return s(n)},children:[e.condition,f.maxStack>1?": ".concat(t," stack").concat(t>1?"s":""):""]},n)}))},t)}))]})]})}if(t.maxStack>1){var y=Object(c.jsx)(u.a,{variant:0===n?"secondary":"success",children:n>0?"".concat(n," stack").concat(n>1?"s":""):"Not Active"});return Object(c.jsxs)(j.a,{children:[Object(c.jsx)(j.a.Toggle,{size:"sm",disabled:m,children:Object(c.jsxs)("h6",{className:"mb-0 d-inline",children:[b," ",y]})}),Object(c.jsxs)(j.a.Menu,{children:[Object(c.jsx)(j.a.Item,{onClick:function(){return s(0)},children:Object(c.jsx)("span",{children:"Not Active"})}),Object(a.a)(Array(t.maxStack).keys()).map((function(e){return e+1})).map((function(e){return Object(c.jsx)(j.a.Item,{onClick:function(){return s(e)},children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})]})}return 1===t.maxStack?Object(c.jsx)(d.a,{size:"sm",onClick:function(){return s(n?0:1)},disabled:m,children:Object(c.jsxs)("h6",{className:"mb-0",children:[Object(c.jsx)(l.a,{icon:n?i.b:i.x})," ",b]})}):void 0}},107:function(e,t,n){"use strict";var a={elements:{anemo:n.p+"static/media/Element_Anemo.f809fde3.png",cryo:n.p+"static/media/Element_Cryo.019d72f9.png",dendro:n.p+"static/media/Element_Dendro.8ee0f26d.png",electro:n.p+"static/media/Element_Electro.342332ac.png",geo:n.p+"static/media/Element_Geo.b7e865c6.png",hydro:n.p+"static/media/Element_Hydro.f2f8bd8a.png",pyro:n.p+"static/media/Element_Pyro.f65c2e38.png"},weaponTypes:{bow:n.p+"static/media/Weapon-class-bow-icon.b8e7b5ca.png",catalyst:n.p+"static/media/Weapon-class-catalyst-icon.2cbef800.png",claymore:n.p+"static/media/Weapon-class-claymore-icon.17418b20.png",polearm:n.p+"static/media/Weapon-class-polearm-icon.a4e7fffc.png",sword:n.p+"static/media/Weapon-class-sword-icon.4470b487.png"},resin:{fragile:n.p+"static/media/Item_Fragile_Resin.f9ec8223.png",condensed:n.p+"static/media/Item_Condensed_Resin.1cecf64a.png"},exp_books:{advice:n.p+"static/media/Item_Wanderer's_Advice.58c62cf7.png",wit:n.p+"static/media/Item_Hero's_Wit.a79e36d0.png",experience:n.p+"static/media/Item_Adventurer's_Experience.92b5d195.png"}};t.a=a},109:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return l}));var a={},c=Promise.all([n.e(0),n.e(18)]).then(n.bind(null,153));c.then((function(e){a=e.default,c=null}));var r=["L1","L5","L10","L15","L20","L20A","L25","L30","L35","L40","L40A","L45","L50","L50A","L55","L60","L60A","L65","L70","L70A","L75","L80","L80A","L85","L90"],i={L1:"Lvl. 1",L5:"Lvl. 5",L10:"Lvl. 10",L15:"Lvl. 15",L20:"Lvl. 20",L20A:"Lvl. 20A",L25:"Lvl. 25",L30:"Lvl. 30",L35:"Lvl. 35",L40:"Lvl. 40",L40A:"Lvl. 40A",L45:"Lvl. 45",L50:"Lvl. 50",L50A:"Lvl. 50A",L55:"Lvl. 55",L60:"Lvl. 60",L60A:"Lvl. 60A",L65:"Lvl. 65",L70:"Lvl. 70",L70A:"Lvl. 70A",L75:"Lvl. 75",L80:"Lvl. 80",L80A:"Lvl. 80A",L85:"Lvl. 85",L90:"Lvl. 90"},l={sword:"Sword",claymore:"Claymore",catalyst:"Catalyst",bow:"Bow",polearm:"Polearm"}},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),c=n(83),r=n(23),i={hp_base:c.B,hp_final:c.B,hp_:c.B,hp:c.B,atk_base:c.j,atk_final:c.j,atk_:c.j,atk:c.j,def_base:c.t,def_final:c.t,def_:c.t,def:c.t,ele_mas:c.o,crit_rate:c.e,crit_dmg:c.f,ener_rech:c.z,heal_bonu:c.i},l=function(e){return i[e]?Object(a.jsx)(r.a,{icon:i[e],className:"fa-fw"}):null}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),c=n(124);function r(e){var t=e.percent,n=e.valid,r=e.children,i=n?isNaN(t)?"secondary":"".concat(Math.floor(.05*t)+1,"roll"):"danger";return Object(a.jsx)(c.a,{variant:i,className:"secondary"===i?"":"text-darkcontent",children:r})}},121:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var a={},c=Promise.all([n.e(0),n.e(17)]).then(n.bind(null,152));c.then((function(e){a=e.default,c=null}));var r={L1:{name:"Lv. 1",level:1,asend:0},L20:{name:"Lv. 20",level:20,asend:0},L20A:{name:"Lv. 20 As.1",level:20,asend:1},L40:{name:"Lv. 40",level:40,asend:1},L40A:{name:"Lv. 40 As.2",level:40,asend:2},L50:{name:"Lv. 50",level:50,asend:2},L50A:{name:"Lv. 50 As.3",level:50,asend:3},L60:{name:"Lv. 60",level:60,asend:3},L60A:{name:"Lv. 60 As.4",level:60,asend:4},L70:{name:"Lv. 70",level:70,asend:4},L70A:{name:"Lv. 70 As.5",level:70,asend:5},L80:{name:"Lv. 80",level:80,asend:5},L80A:{name:"Lv. 80 As.6",level:80,asend:6},L90:{name:"Lv. 90",level:90,asend:6}},i={crit_rate:5,crit_dmg:50,ener_rech:100,stam:100},l=["hp_","atk_","def_","ele_mas","ener_rech","heal_bonu","crit_rate","crit_dmg","phy_dmg_bonus","anemo_ele_dmg_bonus","geo_ele_dmg_bonus","electro_ele_dmg_bonus","hydro_ele_dmg_bonus","pyro_ele_dmg_bonus","cryo_ele_dmg_bonus"]},124:function(e,t,n){"use strict";var a=n(1),c=n(2),r=n(5),i=n.n(r),l=n(0),s=n.n(l),o=n(6),u=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,l=e.pill,u=e.className,d=e.as,j=void 0===d?"span":d,b=Object(c.a)(e,["bsPrefix","variant","pill","className","as"]),m=Object(o.a)(n,"badge");return s.a.createElement(j,Object(a.a)({ref:t},b,{className:i()(u,m,l&&m+"-pill",r&&m+"-"+r)}))}));u.displayName="Badge",u.defaultProps={pill:!1},t.a=u},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(79),c=n(3),r=n(83),i=n(23),l=(n(0),n(169)),s=n(124),o=n(143),u=n(170),d=n(117),j=n(115),b=n(97),m=n(31),h=n(30),v=n(40),f=n(90),O=n(100),p=n(81),x=n(91),g=n(94),_=n(119);function y(e){var t=e.artifactId,n=e.forceUpdate,y=e.onEdit,S=e.onDelete,k=e.assumeFull,N=void 0!==k&&k;if(!t)return null;var C=function(e){x.a.equipArtifactOnChar(t,e),null===n||void 0===n||n()},E=g.a.getArtifact(t),K=x.a.artifactValidation(E),L=f.a.getCharacter(E.location),w=L?L.name:"Inventory",A=N?4*E.numStars:E.level,I=N&&E.level!==4*E.numStars,T=Object(c.jsxs)("span",{className:I?"text-orange":"",children:[x.a.getMainStatValue(E.mainStatKey,E.numStars,A,""),p.b.getStatUnit(E.mainStatKey)]});return Object(c.jsxs)(m.a,{className:"h-100",border:"".concat(E.numStars,"star"),bg:"lightcontent",text:"lightfont",children:[Object(c.jsx)(m.a.Header,{className:"p-0",children:Object(c.jsxs)(v.a,{children:[Object(c.jsx)(h.a,{xs:2,md:3,children:Object(c.jsx)(l.a,{src:x.a.getPieceIcon(E.setKey,E.slotKey),className:"w-100 h-auto grad-".concat(E.numStars,"star m-1"),thumbnail:!0})}),Object(c.jsxs)(h.a,{className:"pt-3",children:[Object(c.jsx)("h6",{children:Object(c.jsx)("b",{children:x.a.getPieceName(E.setKey,E.slotKey,"Unknown Piece Name")})}),Object(c.jsxs)("div",{children:[x.a.getSlotNameWithIcon(E.slotKey)," +".concat(E.level)]})]})]})}),Object(c.jsxs)(m.a.Body,{className:"d-flex flex-column py-2",children:[Object(c.jsxs)(m.a.Title,{children:[Object(c.jsx)("div",{children:x.a.getSetName(E.setKey,"Artifact Set")}),Object(c.jsx)("small",{className:"text-halfsize",children:Object(c.jsx)(O.a,{stars:E.numStars})})]}),Object(c.jsx)("h5",{className:"mb-1",children:Object(c.jsxs)("b",{children:[p.b.getStatName(E.mainStatKey)," ",T]})}),Object(c.jsx)(v.a,{className:"mb-0",children:E.substats?E.substats.map((function(e,t){var n;if(!e||!e.value)return null;var a=K.subStatValidations[t],r=(null===a||void 0===a||null===(n=a.rolls)||void 0===n?void 0:n.length)||0,i=(null===a||void 0===a?void 0:a.efficiency)||0,l=.3+.7*i,o=p.b.getStatName(e.key);return Object(c.jsxs)(h.a,{xs:12,children:[Object(c.jsx)(s.a,{variant:K.valid?"".concat(r,"roll"):"danger",className:"text-darkcontent",children:Object(c.jsx)("b",{children:K.valid?r:"?"})})," ",Object(c.jsxs)("span",{className:"text-".concat(r,"roll"),children:[o,"+".concat(p.b.getStatUnit(e.key)?e.value.toFixed(1):e.value).concat(p.b.getStatUnit(e.key))]}),Object(c.jsxs)("span",{className:"float-right",style:{opacity:l},children:[i.toFixed(1),"%"]})]},t)})):null}),Object(c.jsxs)("div",{className:"mt-auto",children:[Object(c.jsx)("span",{className:"mb-0 mr-1",children:"Substat Eff.:"}),Object(c.jsx)(_.a,{tooltip:K.msg,valid:K.valid,percent:K.currentEfficiency,children:(K.currentEfficiency?K.currentEfficiency:0).toFixed(2)+"%"}),Object(c.jsx)("b",{children:" < "}),Object(c.jsx)(_.a,{tooltip:K.msg,valid:K.valid,percent:K.maximumEfficiency,children:(K.maximumEfficiency?K.maximumEfficiency:0).toFixed(2)+"%"})]})]}),Object(c.jsx)(m.a.Footer,{className:"pr-3",children:Object(c.jsxs)(v.a,{className:"d-flex justify-content-between no-gutters",children:[n?Object(c.jsx)(h.a,{xs:"auto",children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(o.a.Toggle,{size:"sm",children:w}),Object(c.jsxs)(o.a.Menu,{children:[Object(c.jsx)(o.a.Item,{onClick:function(){return C()},children:"Inventory"}),Object.entries(f.a.getCharacterDatabase()).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.jsx)(o.a.Item,{onClick:function(){return C(n)},children:r.name},n)}))]})]})}):Object(c.jsx)(h.a,{xs:"auto",children:Object(c.jsxs)("span",{children:["Location: ",w]})}),Object(c.jsx)(h.a,{xs:"auto",children:Object(c.jsxs)(u.a,{children:[n?Object(c.jsx)(d.a,{placement:"top",overlay:Object(c.jsx)(j.a,{children:"Locking a artifact will prevent the build generator from picking it for builds. Artifacts on characters are locked by default."}),children:Object(c.jsx)("span",{className:"d-inline-block",children:Object(c.jsx)(b.a,{size:"sm",disabled:E.location,style:E.location?{pointerEvents:"none"}:{},onClick:function(){E.lock=!E.lock,g.a.updateArtifact(E),null===n||void 0===n||n()},children:Object(c.jsx)(i.a,{icon:E.lock||E.location?r.m:r.n,className:"fa-fw"})})})}):null,Boolean(y)&&Object(c.jsx)(b.a,{variant:"info",size:"sm",onClick:function(){return y()},children:Object(c.jsx)(i.a,{icon:r.g,className:"fa-fw"})}),Boolean(S)&&Object(c.jsx)(b.a,{variant:"danger",size:"sm",onClick:function(){return S()},children:Object(c.jsx)(i.a,{icon:r.C,className:"fa-fw"})})]})})]})})]})}},142:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Pe}));var a=n(88),c=n(3),r=n(82),i=n(93),l=n(123),s=n(122),o=n(83),u=n(23),d=n(0),j=n.n(d),b=n(169),m=n(170),h=n(143),v=n(207),f=n(141),O=n(125),p=n(8),x=n(24),g=n(43),_=n(13),y=function(e){var t=Object(x.a)(e,{activeKey:"onSelect"}),n=t.id,a=t.generateChildId,c=t.onSelect,r=t.activeKey,i=t.transition,l=t.mountOnEnter,s=t.unmountOnExit,o=t.children,u=Object(d.useMemo)((function(){return a||function(e,t){return n?n+"-"+t+"-"+e:null}}),[n,a]),b=Object(d.useMemo)((function(){return{onSelect:c,activeKey:r,transition:i,mountOnEnter:l||!1,unmountOnExit:s||!1,getControlledId:function(e){return u(e,"tabpane")},getControllerId:function(e){return u(e,"tab")}}}),[c,r,i,l,s,u]);return j.a.createElement(g.a.Provider,{value:b},j.a.createElement(_.a.Provider,{value:c||null},o))},S=n(1),k=n(2),N=n(5),C=n.n(N),E=n(6),K=j.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.as,c=void 0===a?"div":a,r=e.className,i=Object(k.a)(e,["bsPrefix","as","className"]),l=Object(E.a)(n,"tab-content");return j.a.createElement(c,Object(S.a)({ref:t},i,{className:C()(r,l)}))})),L=n(110);var w=j.a.forwardRef((function(e,t){var n=function(e){var t=Object(d.useContext)(g.a);if(!t)return e;var n=t.activeKey,a=t.getControlledId,c=t.getControllerId,r=Object(k.a)(t,["activeKey","getControlledId","getControllerId"]),i=!1!==e.transition&&!1!==r.transition,l=Object(_.b)(e.eventKey);return Object(S.a)({},e,{active:null==e.active&&null!=l?Object(_.b)(n)===l:e.active,id:a(e.eventKey),"aria-labelledby":c(e.eventKey),transition:i&&(e.transition||r.transition||L.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:r.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:r.unmountOnExit})}(e),a=n.bsPrefix,c=n.className,r=n.active,i=n.onEnter,l=n.onEntering,s=n.onEntered,o=n.onExit,u=n.onExiting,b=n.onExited,m=n.mountOnEnter,h=n.unmountOnExit,v=n.transition,f=n.as,O=void 0===f?"div":f,p=(n.eventKey,Object(k.a)(n,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),x=Object(E.a)(a,"tab-pane");if(!r&&!v&&h)return null;var y=j.a.createElement(O,Object(S.a)({},p,{ref:t,role:"tabpanel","aria-hidden":!r,className:C()(c,x,{active:r})}));return v&&(y=j.a.createElement(v,{in:r,onEnter:i,onEntering:l,onEntered:s,onExit:o,onExiting:u,onExited:b,mountOnEnter:m,unmountOnExit:h},y)),j.a.createElement(g.a.Provider,{value:null},j.a.createElement(_.a.Provider,{value:null},y))}));w.displayName="TabPane";var A=w,I=function(e){function t(){return e.apply(this,arguments)||this}return Object(p.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(j.a.Component);I.Container=y,I.Content=K,I.Pane=A;var T=I,W=n(12),B=n(124),V=n(97),P=n(31),z=n(30),D=n(134),U=n(40),M=n(91),F=n(109),q=n(113),R=n(84),H=n(101),G=n(80),X=n(90),J=n(85),Q=n(79),Y=j.a.createContext(null);Y.displayName="AccordionContext";var Z=Y;function $(e,t){var n=Object(d.useContext)(Z),a=Object(d.useContext)(_.a);return function(c){a&&a(e===n?null:e,c),t&&t(c)}}var ee=j.a.forwardRef((function(e,t){var n=e.as,a=void 0===n?"button":n,c=e.children,r=e.eventKey,i=e.onClick,l=Object(k.a)(e,["as","children","eventKey","onClick"]),s=$(r,i);return"button"===a&&(l.type="button"),j.a.createElement(a,Object(S.a)({ref:t,onClick:s},l),c)})),te=n(44),ne=j.a.forwardRef((function(e,t){var n=e.children,a=e.eventKey,c=Object(k.a)(e,["children","eventKey"]),r=Object(d.useContext)(Z);return j.a.createElement(_.a.Provider,{value:null},j.a.createElement(te.a,Object(S.a)({ref:t,in:r===a},c),j.a.createElement("div",null,j.a.Children.only(n))))}));ne.displayName="AccordionCollapse";var ae=ne,ce=j.a.forwardRef((function(e,t){var n=Object(x.a)(e,{activeKey:"onSelect"}),a=n.as,c=void 0===a?"div":a,r=n.activeKey,i=n.bsPrefix,l=n.children,s=n.className,o=n.onSelect,u=Object(k.a)(n,["as","activeKey","bsPrefix","children","className","onSelect"]),d=C()(s,Object(E.a)(i,"accordion"));return j.a.createElement(Z.Provider,{value:r||null},j.a.createElement(_.a.Provider,{value:o||null},j.a.createElement(c,Object(S.a)({ref:t},u,{className:d}),l)))}));ce.displayName="Accordion",ce.Toggle=ee,ce.Collapse=ae;var re=ce,ie=n(208),le=n(126),se=n(106);function oe(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var ue=n(81),de=n(111);function je(e){var t,n,r=e.statKey,i=e.character,l=e.build,s=e.editable,o=oe(e,["statKey","character","build","editable"]),u=(null===l||void 0===l||null===(t=l.finalStats)||void 0===t?void 0:t[r])||0,d=null;if("string"===typeof u)n=Object(c.jsx)("span",{children:u});else{var j,b,m,h=G.a.getStatValueWithOverride(i,r);"hp_final"===r?h=G.a.getStatValueWithOverride(i,"hp_base"):"def_final"===r?h=G.a.getStatValueWithOverride(i,"def_base"):"atk_final"===r&&(h=G.a.getStatValueWithOverride(i,"atk_base")+G.a.getStatValueWithOverride(i,"atk_weapon"));var v=u-h,f=((null===v||void 0===v||null===(j=v.toFixed)||void 0===j?void 0:j.call(v,ue.b.fixedUnit(r)))||v)+ue.b.getStatUnit(r);v<0?d=Object(c.jsx)("span",{className:"text-success",children:f}):v>0&&(d=Object(c.jsxs)("span",{className:"text-success",children:[" +",f]})),!h&&v||(n=Object(c.jsx)("span",{className:s&&G.a.hasOverride(i,r)?"text-warning":"",children:((null===(b=h)||void 0===b||null===(m=b.toFixed)||void 0===m?void 0:m.call(b,ue.b.fixedUnit(r)))||h)+ue.b.getStatUnit(r)}))}return Object(c.jsxs)(z.a,Object(a.a)(Object(a.a)({},o),{},{children:[Object(c.jsxs)("h6",{className:"d-inline",children:[Object(de.a)(r)," ",ue.b.getStatName(r)]}),Object(c.jsxs)("span",{className:"float-right text-right",children:[n,d]})]}))}var be=function(e){var t,n,r,i,l,s=e.statKey,o=e.character,u=e.equippedBuild,d=e.newBuild,j=e.editable,b=oe(e,["statKey","character","equippedBuild","newBuild","editable"]),m=(null===u||void 0===u||null===(t=u.finalStats)||void 0===t?void 0:t[s])||G.a.getStatValueWithOverride(o,s),h=ue.b.getStatUnit(s),v=((null===d||void 0===d||null===(n=d.finalStats)||void 0===n?void 0:n[s])||0)-((null===u||void 0===u||null===(r=u.finalStats)||void 0===r?void 0:r[s])||0);return Object(c.jsxs)(z.a,Object(a.a)(Object(a.a)({},b),{},{children:[Object(c.jsxs)("h6",{className:"d-inline",children:[Object(de.a)(s)," ",ue.b.getStatName(s)]}),Object(c.jsxs)("span",{className:"float-right ".concat(j&&G.a.hasOverride(o,s)?"text-warning":""),children:[m||!v?(null===m||void 0===m||null===(i=m.toFixed)||void 0===i?void 0:i.call(m,ue.b.fixedUnit(s)))+h:null,v?Object(c.jsxs)("span",{className:v>0?"text-success":"text-danger",children:[" (",v>0&&"+",(null===v||void 0===v||null===(l=v.toFixed)||void 0===l?void 0:l.call(v,ue.b.fixedUnit(s)))+h,")"]}):null]})]}))},me=n(112),he=n(92);var ve=function(e){var t,n=e.character,r=e.character,i=r.characterKey,l=r.compareAgainstEquipped,s=r.artifactConditionals,o=e.equippedBuild,u=e.newBuild,j=e.editable,b=e.forceUpdate,m=e.setState,h=Object(d.useState)(!1),v=Object(Q.a)(h,2),f=v[0],O=v[1],p=u||o,x=u?null===(t=u.finalStats)||void 0===t?void 0:t.artifactsAssumeFull:n.artifactsAssumeFull;u&&(s=u.artifactConditionals);var g=G.a.getDisplayStatKeys(i),_={character:n,build:p,editable:j},y={character:n,equippedBuild:o,newBuild:u,editable:j},S=Object(J.a)(new Set(g.map((function(e){var t;return Object(me.b)(e,null===(t=p.finalStats)||void 0===t?void 0:t.formulaOverrides)})).flat())),k=Object.keys(ue.a).filter((function(e){return S.includes(e)}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{className:"mb-2",children:Object(c.jsx)(re,{children:Object(c.jsxs)(P.a,{className:"h-100",bg:"lightcontent",text:"lightfont",children:[Object(c.jsx)(P.a.Header,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsx)("span",{children:"Character Stats"})}),Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(re.Toggle,{as:V.a,variant:"info",eventKey:"showOtherStats",onClick:function(){return O(!f)},size:"sm",children:"".concat(f?"Hide":"Show"," Calculations")})})]})}),Object(c.jsxs)(P.a.Body,{children:[Object(c.jsx)(U.a,{children:u&&l?g.map((function(e){return Object(c.jsx)(be,Object(a.a)({xs:12,md:6,xl:4},Object(a.a)(Object(a.a)({},y),{},{statKey:e})),e)})):g.map((function(e){return Object(c.jsx)(je,Object(a.a)({xs:12,md:6,xl:4},Object(a.a)(Object(a.a)({},_),{},{statKey:e})),e)}))}),Object(c.jsx)(re.Collapse,{eventKey:"showOtherStats",children:Object(c.jsx)(U.a,{children:k.map((function(e){return Object(c.jsx)(z.a,{xs:12,className:"mt-2",children:Object(c.jsxs)(P.a,{bg:"darkcontent",text:"lightfont",children:[Object(c.jsx)(P.a.Header,{className:"p-2",children:ue.b.printStat(e,p.finalStats)}),Object(c.jsx)(P.a.Body,{className:"p-2",children:Object(c.jsx)("small",{children:ue.b.printFormula(e,p.finalStats,p.finalStats.formulaOverrides,!1)})})]})},e)}))})})]}),u?Object(c.jsxs)(P.a.Footer,{children:[Object(c.jsx)(V.a,{onClick:function(){G.a.equipArtifacts(n.id,u.artifactIds),null===b||void 0===b||b()},children:"Equip All artifacts to current character"}),x&&Object(c.jsx)(ie.a,{className:"float-right text-right mb-0 py-2",variant:"orange",children:Object(c.jsx)("b",{children:"Assume Main Stats are Fully Leveled"})})]}):null]})})})}),Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{sm:6,lg:4,className:"mb-2",children:Object(c.jsxs)(P.a,{className:"h-100 d-flex flex-column",bg:"lightcontent",text:"lightfont",children:[Object(c.jsx)(P.a.Header,{children:"Artifact Set Effects"}),Object(c.jsx)(P.a.Body,{className:"flex-grow-1",children:Object(c.jsx)(U.a,{children:Object.entries(M.a.getSetEffects(p.setToSlots)).map((function(e){var t=Object(Q.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)(z.a,{xs:12,className:"mb-2",children:[Object(c.jsx)("h5",{children:M.a.getSetName(n)}),Object(c.jsx)(U.a,{children:a.map((function(e){var t=M.a.getArtifactSetNumStats(n,e),a=0,r=M.a.getSetEffectConditional(n,e);r&&(a=he.a.getConditionalNum(s,{srcKey:n,srcKey2:e}),Object.entries(M.a.getConditionalStats(n,e,a)).forEach((function(e){var n=Object(Q.a)(e,2),a=n[0],c=n[1];return t[a]=(t[a]||0)+c})));var i=Object(c.jsx)(se.a,{disabled:!!u,conditional:r,conditionalNum:a,setConditional:function(t){return function(e,t,n){return null===m||void 0===m?void 0:m((function(a){return{artifactConditionals:he.a.setConditional(a.artifactConditionals,{srcKey:e,srcKey2:t},n)}}))}(n,e,t)},defEle:Object(c.jsxs)(B.a,{variant:"success",children:[e,"-Set"]})});return Object(c.jsxs)(z.a,{xs:12,className:"mb-2",children:[Object(c.jsxs)("h6",{children:[i," ",M.a.getSetEffectText(n,e,p.finalStats)]}),t?Object(c.jsx)(U.a,{children:Object.entries(t).map((function(e){var t=Object(Q.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)(z.a,{xs:12,children:[ue.b.getStatName(n),": ",a,ue.b.getStatUnit(n)]},n)}))}):null]},e)}))})]},n)}))})})]})}),Object.values(p.artifactIds).map((function(e){return e?Object(c.jsx)(z.a,{sm:6,lg:4,className:"mb-2",children:Object(c.jsx)(le.a,{artifactId:e,forceUpdate:b,assumeFull:x})},e):null}))]})})})]})},fe=n(117),Oe=n(115),pe=n(107),xe=n(104),ge=n(100),_e=n(121),ye=function(e){var t=e.name,n=e.prependEle,r=e.value,i=e.placeholder,l=e.defaultValue,s=e.onValueChange,d=e.percent,j=e.disabled,b=oe(e,["name","prependEle","value","placeholder","defaultValue","onValueChange","percent","disabled"]);return Object(c.jsxs)(f.a,Object(a.a)(Object(a.a)({},b),{},{children:[n?Object(c.jsx)(f.a.Prepend,{children:n}):null,Object(c.jsx)(f.a.Prepend,{children:Object(c.jsx)(f.a.Text,{children:t})}),d?Object(c.jsx)(xe.a,{placeholder:i,value:r,onValueChange:s,disabled:j}):Object(c.jsx)(xe.b,{placeholder:i,value:r,onValueChange:s,disabled:j}),d?Object(c.jsx)(f.a.Append,{children:Object(c.jsx)(f.a.Text,{children:"%"})}):null,void 0!==l?Object(c.jsx)(f.a.Append,{children:Object(c.jsx)(fe.a,{placement:"top",overlay:Object(c.jsx)(Oe.a,{children:"Reset this override to the default value."}),children:Object(c.jsx)("span",{className:"d-inline-block",children:Object(c.jsx)(V.a,{onClick:function(){return s(l)},disabled:j||r===l,style:r===l?{pointerEvents:"none"}:{},children:Object(c.jsx)(u.a,{icon:o.D})})})})}):null]}))};function Se(e){var t,n=e.character,r=e.character,i=r.characterKey,l=r.constellation,s=e.editable,j=e.setOverride,m=e.setConstellation,h=Object(d.useState)(!1),v=Object(Q.a)(h,2),O=v[0],p=v[1],x=G.a.getElementalKey(i),g=G.a.getWeaponTypeKey(i),_=G.a.getStatValueWithOverride(n,"char_level");return Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{xs:12,md:3,children:Object(c.jsxs)(P.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(c.jsx)(P.a.Img,{src:G.a.getCard(i),className:"w-100 h-auto"}),Object(c.jsx)(P.a.Body,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsxs)(z.a,{xs:12,children:[Object(c.jsxs)("h3",{children:[G.a.getName(i)," ",Object(c.jsx)(b.a,{src:pe.a.elements[x],className:"inline-icon"})," ",Object(c.jsx)(b.a,{src:null===(t=pe.a.weaponTypes)||void 0===t?void 0:t[g],className:"inline-icon"})]}),Object(c.jsx)("h6",{children:Object(c.jsx)(ge.a,{stars:G.a.getStar(i),colored:!0})})]}),Object(c.jsx)(z.a,{children:O?Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(f.a.Prepend,{children:Object(c.jsx)(f.a.Text,{children:"Lvl."})}),Object(c.jsx)(xe.b,{onValueChange:function(e){return j("char_level",Object(R.a)(e,1,90))},value:_}),Object(c.jsx)(f.a.Append,{children:Object(c.jsx)(V.a,{children:Object(c.jsx)(u.a,{icon:o.D,size:"sm",onClick:function(){return j("char_level",G.a.getLevel(n.levelKey))}})})}),Object(c.jsx)(f.a.Append,{children:Object(c.jsx)(fe.a,{placement:"bottom",overlay:Object(c.jsx)(Oe.a,{children:"Override the level value for calculations. Does not change Stats."}),children:Object(c.jsx)(V.a,{variant:"danger",onClick:function(){return p(!O)},size:"sm",children:Object(c.jsx)("span",{children:Object(c.jsx)(u.a,{icon:o.s})})})})})]})})}):Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsxs)("h5",{children:["Level: ",_]})}),s?Object(c.jsx)(z.a,{xs:"auto",className:"pr-1 pl-1",children:Object(c.jsx)(V.a,{variant:"info",onClick:function(){return p(!O)},size:"sm",children:Object(c.jsx)("span",{children:Object(c.jsx)(u.a,{icon:o.g})})})}):null]})}),Object(c.jsx)(z.a,{xs:12,children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{xs:12,children:Object(c.jsx)("h5",{children:G.a.getConstellationName(i)})}),Object(c.jsx)(z.a,{children:Object(c.jsx)(U.a,{className:"px-2",children:Object(J.a)(Array(6).keys()).map((function(e){return Object(c.jsx)(z.a,{xs:4,className:"p-1",children:Object(c.jsx)(b.a,{src:G.a.getConstellationImg(i,e),className:"w-100 h-auto ".concat(l>e?"":"overlay-dark"),style:{cursor:"pointer"},roundedCircle:!0,onClick:s?function(){return m(e+1===l?e:e+1)}:null})},e)}))})})]})})]})})]})}),Object(c.jsxs)(z.a,{xs:12,md:9,children:[Object(c.jsx)(ke,Object(a.a)({},e)),Object(c.jsx)(Ne,Object(a.a)({},e))]})]})}function ke(e){var t=Object(d.useState)(!1),n=Object(Q.a)(t,2),a=n[0],r=n[1],i=Object(d.useState)(!1),l=Object(Q.a)(i,2),s=l[0],m=l[1],f=e.character,O=e.character,p=O.characterKey,x=O.weapon,g=e.editable,_=e.setState,y=e.equippedBuild,S=e.newBuild,k=S||y,N=function(e,t){return _((function(n){return"key"===e&&(n.weapon.conditionalNum=0),n.weapon[e]=t,{weapon:n.weapon}}))},C=H.a.getWeaponSubStatKey(x.key),E=G.a.getWeaponTypeKey(p),K=x.overrideMainVal||H.a.getWeaponMainStatVal(x.key,x.levelKey),L=x.overrideSubVal||H.a.getWeaponSubStatVal(x.key,x.levelKey),w=H.a.getWeaponPassiveName(x.key),A=H.a.getWeaponBonusStat(x.key,x.refineIndex),I=H.a.getWeaponConditionalStat(x.key,x.refineIndex,x.conditionalNum),T=H.a.getWeaponConditional(x.key),W=x.conditionalNum,B=Object(c.jsx)(se.a,{conditional:T,conditionalNum:W,setConditional:function(e){return N("conditionalNum",e)},defEle:Object(c.jsx)("span",{children:w})});return Object(c.jsxs)(P.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(c.jsx)(P.a.Header,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsx)("span",{children:"Weapon"})}),Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(V.a,{variant:"info",size:"sm",onClick:function(){return m(!s)},children:Object(c.jsxs)("span",{children:[Object(c.jsx)(u.a,{icon:o.r})," ",s?"Hide Desc.":"Show Desc."]})})}),g?Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(V.a,{variant:a?"danger":"info",onClick:function(){return r(!a)},size:"sm",children:Object(c.jsxs)("span",{children:[Object(c.jsx)(u.a,{icon:a?o.s:o.g})," ",a?"EXIT":"EDIT"]})})}):null]})}),Object(c.jsxs)(P.a.Body,{children:[Object(c.jsxs)(U.a,{className:"mb-2",children:[Object(c.jsx)(z.a,{xs:12,md:3,children:Object(c.jsx)(b.a,{src:H.a.getWeaponImg(x.key),className:"w-100 h-auto grad-".concat(H.a.getWeaponRarity(x.key),"star"),thumbnail:!0})}),a?Object(c.jsx)(z.a,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{lg:"auto",xs:6,className:"mb-2 pr-0",children:Object(c.jsx)(v.a,{title:H.a.getWeaponName(x.key),children:Object(J.a)(Array(5).keys()).reverse().map((function(e){return e+1})).map((function(e,t,n){return Object(c.jsxs)(j.a.Fragment,{children:[Object(c.jsx)(h.a.ItemText,{children:Object(c.jsx)(ge.a,{stars:e})},"star"+e),Object.entries(H.a.getWeaponsOfType(E)).filter((function(t){var n=Object(Q.a)(t,2);n[0];return n[1].rarity===e})).map((function(e){var t=Object(Q.a)(e,2),n=t[0],a=t[1];return Object(c.jsx)(h.a.Item,{onClick:function(){return N("key",n)},children:a.name},n)})),t!==n.length-1&&Object(c.jsx)(h.a.Divider,{})]},e)}))})}),Object(c.jsx)(z.a,{lg:"auto",xs:6,className:"mb-2 pr-0",children:Object(c.jsxs)(v.a,{title:H.a.getLevelName(x.levelKey),children:[Object(c.jsx)(h.a.ItemText,{children:Object(c.jsx)("span",{children:"Select Weapon Level"})}),Object.entries(F.a).map((function(e){var t=Object(Q.a)(e,2),n=t[0],a=t[1];return Object(c.jsx)(h.a.Item,{onClick:function(){return N("levelKey",n)},children:a},n)}))]})}),w&&Object(c.jsx)(z.a,{lg:"auto",xs:6,className:"mb-2",children:Object(c.jsxs)(v.a,{title:"Refinement ".concat(x.refineIndex+1),className:"w-100",children:[Object(c.jsx)(h.a.ItemText,{children:Object(c.jsx)("span",{children:"Select Weapon Refinment"})}),Object(J.a)(Array(5).keys()).map((function(e){return Object(c.jsx)(h.a.Item,{onClick:function(){return N("refineIndex",e)},children:"Refinement ".concat(e+1)},e)}))]})}),Object(c.jsx)(z.a,{xs:12,className:"mb-2",children:Object(c.jsx)(ye,{name:Object(c.jsxs)("span",{children:[Object(c.jsx)(u.a,{icon:o.k,className:"mr-2"}),"ATK"]}),placeholder:"Weapon Attack",value:K,percent:!1,onValueChange:function(e){return N("overrideMainVal",e)},defaultValue:H.a.getWeaponMainStatVal(x.key,x.levelKey)})}),C&&Object(c.jsx)(z.a,{xs:12,className:"mb-2",children:Object(c.jsx)(ye,{name:Object(c.jsxs)("span",{children:[Object(c.jsx)("span",{className:"mr-2",children:Object(de.a)(C)}),ue.b.getStatName(C)]}),placeholder:"Weapon Substat",value:L,percent:"%"===ue.b.getStatUnit(C),onValueChange:function(e){return N("overrideSubVal",e)},defaultValue:H.a.getWeaponSubStatVal(x.key,x.levelKey)})})]})}):Object(c.jsxs)(z.a,{children:[Object(c.jsx)(U.a,{className:"mb-2",children:Object(c.jsxs)(z.a,{children:[Object(c.jsxs)("h5",{className:"mb-0",children:[H.a.getWeaponName(x.key)," ",H.a.getLevelName(x.levelKey)," ",w&&"(Refinement ".concat(x.refineIndex+1,")")]}),Object(c.jsx)("small",{children:Object(c.jsx)(ge.a,{stars:H.a.getWeaponRarity(x.key)})})]})}),Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{children:B})}),Object(c.jsx)("p",{children:w&&H.a.getWeaponPassiveDescription(x.key,x.refineIndex,k.finalStats,f)}),Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{xs:12,md:6,children:Object(c.jsxs)("h5",{children:["ATK: ",K]})}),C&&Object(c.jsx)(z.a,{xs:12,md:6,children:Object(c.jsxs)("h5",{children:[ue.b.getStatName(C),": ",L,ue.b.getStatUnit(C)]})})]}),Object(c.jsxs)(U.a,{children:[(I||A)&&Object(c.jsx)(z.a,{xs:12,children:Object(c.jsx)("h6",{className:"mb-0",children:"Bonus Stats:"})}),A&&Object.entries(A).map((function(e){var t=Object(Q.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)(z.a,{xs:12,md:6,children:[ue.b.getStatName(n),": ",a,ue.b.getStatUnit(n)]},"bonu"+n)})),I&&Object.entries(I).map((function(e){var t=Object(Q.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)(z.a,{xs:12,md:6,children:[ue.b.getStatName(n),": ",a,ue.b.getStatUnit(n)]},"cond"+n)}))]})]})]}),s&&Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{children:Object(c.jsx)("small",{children:H.a.getWeaponDescription(x.key)})})})]})]})}function Ne(e){var t=e.editable,n=e.character,r=e.character.compareAgainstEquipped,i=e.setOverride,l=e.equippedBuild,s=e.newBuild,j=s||l,b=Object(d.useState)(!1),m=Object(Q.a)(b,2),O=m[0],p=m[1],x=Object(d.useState)(!1),g=Object(Q.a)(x,2),_=g[0],y=g[1],S=["ele_mas","crit_rate","crit_dmg","ener_rech","heal_bonu"],k=["hp_final","atk_final","def_final"];k.push.apply(k,S);var N=["hp_base","hp","hp_","atk_base","atk","atk_","def_base","def","def_"];N.push.apply(N,S);var C=["stam","inc_heal","pow_shield","red_cd","phy_dmg_bonus","phy_res"];G.a.getElementalKeys().forEach((function(e){C.push("".concat(e,"_ele_dmg_bonus")),C.push("".concat(e,"_ele_res"))}));var E=["norm_atk_dmg_bonus","char_atk_dmg_bonus","skill_dmg_bonus","burst_dmg_bonus","skill_crit_rate","burst_crit_rate","all_dmg_bonus","move_spd","atk_spd","weakspot_dmg"],K=G.a.getStatValueWithOverride(n,"specializedStatKey"),L=G.a.getStatValueWithOverride(n,"specializedStatVal"),w=ue.b.getStatUnit(K),A="%"===ue.b.getStatUnit(K),I={placeholder:"Character Special Stat",value:G.a.getStatValueWithOverride(n,"specializedStatVal"),onValueChange:function(e){return i("specializedStatVal",e)}},T=A?Object(c.jsx)(xe.a,Object(a.a)({},I)):Object(c.jsx)(xe.b,Object(a.a)({},I)),W={character:n,build:j,editable:t},B={character:n,equippedBuild:l,newBuild:s,editable:t};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(P.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(c.jsx)(P.a.Header,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsx)("span",{children:"Main Base Stats"})}),t?Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(V.a,{variant:O?"danger":"info",onClick:function(){return p(!O)},size:"sm",children:Object(c.jsxs)("span",{children:[Object(c.jsx)(u.a,{icon:O?o.s:o.g})," ",O?"EXIT":"EDIT"]})})}):null]})}),O?Object(c.jsx)(P.a.Body,{children:Object(c.jsxs)(U.a,{className:"mb-2",children:[N.map((function(e){return Object(c.jsx)(z.a,{lg:6,xs:12,children:Object(c.jsx)(ye,{className:"mb-2",name:Object(c.jsxs)("span",{children:[Object(de.a)(e)," ",ue.b.getStatNamePretty(e)]}),placeholder:"Base ".concat(ue.b.getStatName(e)),value:G.a.getStatValueWithOverride(n,e),percent:"%"===ue.b.getStatUnit(e),onValueChange:function(t){return i(e,t)},defaultValue:G.a.getBaseStatValue(n,e)})},e)})),Object(c.jsx)(z.a,{lg:6,xs:12,children:Object(c.jsxs)(f.a,{children:[Object(c.jsxs)(v.a,{title:ue.b.getStatNameWithPercent(K,"Specialized Stat"),as:f.a.Prepend,children:[Object(c.jsx)(h.a.ItemText,{children:"Select Specialized Stat "}),_e.c.map((function(e){return Object(c.jsx)(h.a.Item,{onClick:function(){return i("specializedStatKey",e)},children:ue.b.getStatNameWithPercent(e)},e)}))]}),T,A&&Object(c.jsx)(f.a.Append,{children:Object(c.jsx)(f.a.Text,{children:"%"})})]})})]})}):Object(c.jsx)(P.a.Body,{children:Object(c.jsxs)(U.a,{className:"mb-2",children:[s&&r?k.map((function(e){return Object(c.jsx)(be,Object(a.a)({xs:12,lg:6},Object(a.a)(Object(a.a)({},B),{},{statKey:e})),e)})):k.map((function(e){return Object(c.jsx)(je,Object(a.a)({xs:12,lg:6},Object(a.a)(Object(a.a)({},W),{},{statKey:e})),e)})),L?Object(c.jsxs)(z.a,{lg:6,xs:12,children:[Object(c.jsxs)("span",{children:[Object(c.jsx)("b",{children:"Specialized:"})," ",Object(c.jsx)("span",{className:G.a.hasOverride(n,"specializedStatKey")?"text-warning":"",children:ue.b.getStatName(K)})]}),Object(c.jsx)("span",{className:"float-right ".concat(G.a.hasOverride(n,"specializedStatVal")?"text-warning":""),children:"".concat(L).concat(w)})]}):null]})})]}),Object(c.jsxs)(P.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(c.jsx)(P.a.Header,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsx)("span",{children:"Other Stats"})}),t?Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(V.a,{variant:_?"danger":"info",onClick:function(){return y(!_)},size:"sm",children:Object(c.jsxs)("span",{children:[Object(c.jsx)(u.a,{icon:_?o.s:o.g})," ",_?"EXIT":"EDIT"]})})}):null]})}),_?Object(c.jsx)(P.a.Body,{children:Object(c.jsx)(U.a,{className:"mb-2",children:C.map((function(e){return Object(c.jsx)(z.a,{lg:6,xs:12,children:Object(c.jsx)(ye,{className:"mb-2",name:Object(c.jsxs)("span",{children:[Object(de.a)(e)," ",ue.b.getStatName(e)]}),placeholder:"Base ".concat(ue.b.getStatNameRaw(e)),value:G.a.getStatValueWithOverride(n,e),percent:"%"===ue.b.getStatUnit(e),onValueChange:function(t){return i(e,t)},defaultValue:G.a.getBaseStatValue(n,e)})},e)}))})}):Object(c.jsx)(P.a.Body,{children:Object(c.jsx)(U.a,{className:"mb-2",children:s&&r?C.map((function(e){return Object(c.jsx)(be,Object(a.a)({xs:12,lg:6},Object(a.a)(Object(a.a)({},B),{},{statKey:e})),e)})):C.map((function(e){return Object(c.jsx)(je,Object(a.a)({xs:12,lg:6},Object(a.a)(Object(a.a)({},W),{},{statKey:e})),e)}))})})]}),Object(c.jsxs)(P.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(c.jsx)(P.a.Header,{children:Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{children:Object(c.jsx)("span",{children:"Misc Stats"})})})}),Object(c.jsx)(P.a.Body,{children:Object(c.jsx)(U.a,{className:"mb-2",children:s&&r?E.map((function(e){return Object(c.jsx)(be,Object(a.a)({xs:12,lg:6},Object(a.a)(Object(a.a)({},B),{},{statKey:e})),e)})):E.map((function(e){return Object(c.jsx)(je,Object(a.a)({xs:12,lg:6},Object(a.a)(Object(a.a)({},W),{},{statKey:e})),e)}))})})]})]})}var Ce=n(209),Ee=n(202),Ke=n(168),Le=n(98);function we(e){var t=e.character,n=e.character,r=n.characterKey,i=n.levelKey,l=n.constellation,s=n.dmgMode,j=e.editable,b=e.setState,m=e.setOverride,h=e.newBuild,v=e.equippedBuild,f=h||v,O=G.a.getAscension(i),p=Object(a.a)(Object(a.a)({},e),{},{ascension:O}),x=function(e){var t=e.eventKey,n=e.callback,a=Object(d.useContext)(Z),r=$(t,(function(){return n&&n(t)})),i=a===t;return Object(c.jsxs)(V.a,{onClick:r,children:[Object(c.jsx)(u.a,{icon:i?o.F:o.E,className:"fa-fw ".concat(i?"fa-rotate-180":"")}),Object(c.jsx)("span",{children:" "}),i?"Retract":"Expand"]})};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{xs:12,className:"mb-2",children:Object(c.jsxs)(re,{children:[Object(c.jsxs)(P.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:[Object(c.jsx)(P.a.Header,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsxs)(z.a,{children:[Object(c.jsx)("span",{className:"d-block",children:"Damage Calculation Options"}),Object(c.jsx)("small",{children:"Expand below to edit enemy details."})]}),Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsxs)(Ce.a,{type:"radio",value:s,name:"dmgOptions",onChange:function(e){return b({dmgMode:e})},children:[Object(c.jsx)(Ee.a,{value:"avg_dmg",children:"Avg. DMG"}),Object(c.jsx)(Ee.a,{value:"dmg",children:"Normal Hit, No Crit"}),Object(c.jsx)(Ee.a,{value:"crit_dmg",children:"Crit Hit DMG"})]})}),Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(x,{as:V.a,eventKey:"1"})})]})}),Object(c.jsx)(re.Collapse,{eventKey:"1",children:Object(c.jsxs)(P.a.Body,{children:[Object(c.jsx)(U.a,{className:"mb-2",children:Object(c.jsx)(z.a,{children:Object(c.jsx)(V.a,{variant:"warning",children:Object(c.jsx)("a",{href:"https://genshin-impact.fandom.com/wiki/Damage#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})})}),Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{xs:12,xl:6,className:"mb-2",children:Object(c.jsx)(ye,{name:Object(c.jsx)("b",{children:"Enemy Level"}),value:G.a.getStatValueWithOverride(t,"enemy_level"),placeholder:ue.b.getStatNameRaw("enemy_level"),defaultValue:G.a.getBaseStatValue(t,"enemy_level"),onValueChange:function(e){return m("enemy_level",e)}})}),["physical"].concat(Object(J.a)(G.a.getElementalKeys())).map((function(e){var n="physical"===e?"enemy_phy_res":"".concat(e,"_enemy_ele_res"),a="physical"===e?"enemy_phy_immunity":"".concat(e,"_enemy_ele_immunity"),r=G.a.getStatValueWithOverride(t,a);return Object(c.jsx)(z.a,{xs:12,xl:6,className:"mb-2",children:Object(c.jsx)(ye,{prependEle:Object(c.jsxs)(V.a,{variant:e,onClick:function(){return m(a,!r)},className:"text-darkcontent",children:[Object(c.jsx)(u.a,{icon:r?o.b:o.x,className:"fa-fw"})," Immunity"]}),name:Object(c.jsx)("b",{children:ue.b.getStatNameRaw(n)}),value:G.a.getStatValueWithOverride(t,n),placeholder:ue.b.getStatNameRaw(n),defaultValue:G.a.getBaseStatValue(t,n),onValueChange:function(e){return m(n,e)},disabled:r})},e)}))]})]})})]}),Object(c.jsxs)(P.a,{bg:"lightcontent",text:"lightfont",children:[Object(c.jsx)(P.a.Header,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsxs)(z.a,{children:[Object(c.jsx)("span",{className:"d-block",children:"Damage Calculation Formulas"}),Object(c.jsx)("small",{children:"Expand below to see calculation details."})]}),Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(x,{as:V.a,eventKey:"2"})})]})}),Object(c.jsx)(re.Collapse,{eventKey:"2",children:Object(c.jsx)(P.a.Body,{children:Object(c.jsx)(U.a,{children:function(){var e=["hp_final","atk_final","def_final"],n=G.a.isAutoElemental(r),a=G.a.isAutoInfusable(r),c=["norm_atk","char_atk","plunge"];return n||c.forEach((function(n){return e.push(G.a.getTalentStatKey(n,t))})),n||a&&t.autoInfused?c.forEach((function(n){return e.push(G.a.getTalentStatKey(n,t,!0))})):"bow"===G.a.getWeaponTypeKey(r)&&e.push(G.a.getTalentStatKey("char_atk",t,!0)),["ele","skill","burst"].forEach((function(n){return e.push(G.a.getTalentStatKey(n,t))})),e=Object(J.a)(new Set(e.map((function(e){var t;return Object(me.b)(e,null===(t=f.finalStats)||void 0===t?void 0:t.formulaOverrides)})).flat())),Object.keys(ue.a).filter((function(t){return e.includes(t)}))}().map((function(e){return Object(c.jsx)(z.a,{xs:12,className:"mb-2",children:Object(c.jsxs)(P.a,{bg:"darkcontent",text:"lightfont",children:[Object(c.jsx)(P.a.Header,{className:"p-2",children:ue.b.printStat(e,f.finalStats)}),Object(c.jsx)(P.a.Body,{className:"p-2",children:Object(c.jsx)("small",{children:ue.b.printFormula(e,f.finalStats,f.finalStats.formulaOverrides,!1)})})]})},e)}))})})})]})]})})}),Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{children:Object(c.jsx)(Ie,Object(a.a)({},e))})}),Object(c.jsx)(U.a,{children:[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var t=Object(Q.a)(e,2),n=t[0],r=t[1];return Object(c.jsx)(z.a,{xs:12,md:6,lg:4,className:"mb-2",children:Object(c.jsx)(We,Object(a.a)(Object(a.a)({},p),{},{talentKey:n,subtitle:r}))},n)}))}),Object(c.jsx)(U.a,{children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var t=Object(Q.a)(e,3),n=t[0],r=t[1],i=t[2],l=O>=i;return Object(c.jsx)(z.a,{style:{opacity:l?1:.5},xs:12,md:4,className:"mb-2",children:Object(c.jsx)(We,Object(a.a)(Object(a.a)({},p),{},{talentKey:n,subtitle:r}))},n)}))}),Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{children:Object(c.jsxs)("h5",{className:"text-center",children:["Constellation Lv. ",l]})})}),Object(c.jsx)(U.a,{children:Object(J.a)(Array(6).keys()).map((function(e){var t="constellation".concat(e+1);return Object(c.jsx)(z.a,{xs:12,md:4,className:"mb-2",style:{opacity:l>e?1:.5},children:Object(c.jsx)(We,Object(a.a)(Object(a.a)({},p),{},{talentKey:t,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:j?function(){return b({constellation:e+1===l?e:e+1})}:void 0}))},e)}))})]})}var Ae={superconduct_dmg:function(e){var t=e.value;return Object(c.jsx)(P.a,{bg:"darkcontent",text:"lightfont",children:Object(c.jsxs)(P.a.Body,{className:"p-3",children:[Object(c.jsx)("h6",{children:ue.b.getStatName("superconduct_dmg")}),Object(c.jsxs)("h2",{className:"text-superconduct mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.electro,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.cryo,className:"inline-icon"})," ",t]})]})})},electrocharged_dmg:function(e){var t=e.value;return Object(c.jsx)(P.a,{bg:"darkcontent",text:"lightfont",children:Object(c.jsxs)(P.a.Body,{className:"p-3",children:[Object(c.jsx)("h6",{children:ue.b.getStatName("electrocharged_dmg")}),Object(c.jsxs)("h2",{className:"text-electrocharged mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.electro,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.hydro,className:"inline-icon"})," ",t]})]})})},overloaded_dmg:function(e){var t=e.value;return Object(c.jsx)(P.a,{bg:"darkcontent",text:"lightfont",children:Object(c.jsxs)(P.a.Body,{className:"p-3",children:[Object(c.jsx)("h6",{children:ue.b.getStatName("overloaded_dmg")}),Object(c.jsxs)("h2",{className:"text-overloaded mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.electro,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.pyro,className:"inline-icon"})," ",t]})]})})},swirl_dmg:function(e){var t=e.value;return Object(c.jsx)(P.a,{bg:"darkcontent",text:"lightfont",children:Object(c.jsxs)(P.a.Body,{className:"p-3",children:[Object(c.jsx)("h6",{children:ue.b.getStatName("swirl_dmg")}),Object(c.jsxs)("h2",{className:"text-swirl mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.electro,className:"inline-icon"}),"/",Object(c.jsx)(b.a,{src:pe.a.elements.hydro,className:"inline-icon"}),"/",Object(c.jsx)(b.a,{src:pe.a.elements.pyro,className:"inline-icon"}),"/",Object(c.jsx)(b.a,{src:pe.a.elements.cryo,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.anemo,className:"inline-icon"})," ",t]})]})})},shatter_dmg:function(e){var t=e.value,n=Object(c.jsx)(fe.a,{placement:"top",overlay:Object(c.jsxs)(Oe.a,{children:["Claymores, Plunging Attacks and ",Object(c.jsx)("span",{className:"text-geo",children:"Geo DMG"})]}),children:Object(c.jsx)(u.a,{icon:o.q,className:"ml-2",style:{cursor:"help"}})});return Object(c.jsx)(P.a,{bg:"darkcontent",text:"lightfont",children:Object(c.jsxs)(P.a.Body,{className:"p-3",children:[Object(c.jsx)("h6",{children:ue.b.getStatName("shatter_dmg")}),Object(c.jsxs)("h2",{className:"text-shatter mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.hydro,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.cryo,className:"inline-icon"}),"+ ",Object(c.jsxs)("small",{className:"text-physical",children:["Heavy Attack",n," "]})," ",t]})]})})},crystalize_dmg:function(e){var t=e.value;return Object(c.jsx)(P.a,{bg:"darkcontent",text:"lightfont",children:Object(c.jsxs)(P.a.Body,{className:"p-3",children:[Object(c.jsx)("h6",{children:ue.b.getStatName("crystalize_dmg")}),Object(c.jsxs)("h2",{className:"text-crystalize mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.electro,className:"inline-icon"}),"/",Object(c.jsx)(b.a,{src:pe.a.elements.hydro,className:"inline-icon"}),"/",Object(c.jsx)(b.a,{src:pe.a.elements.pyro,className:"inline-icon"}),"/",Object(c.jsx)(b.a,{src:pe.a.elements.cryo,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.geo,className:"inline-icon"})," ",t]})]})})}};function Ie(e){var t=e.character,n=t.characterKey,a=t.reactionMode,r=void 0===a?"none":a,i=e.newBuild,l=e.equippedBuild,s=e.setState,o=i||l,u=G.a.getElementalKey(n),d=Object(J.a)(Le.b[u]||[]);return d.includes("shatter_dmg")||"claymore"!==G.a.getWeaponTypeKey(n)||d.push("shatter_dmg"),Object(c.jsx)(P.a,{bg:"lightcontent",text:"lightfont",className:"mb-2",children:Object(c.jsx)(P.a.Body,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsx)(U.a,{className:"mb-n2",children:d.map((function(e){var t,n,a,r=Ae[e];if(!r)return null;var i=null===o||void 0===o||null===(t=o.finalStats)||void 0===t?void 0:t[e];return i=(null===(n=i)||void 0===n||null===(a=n.toFixed)||void 0===a?void 0:a.call(n,ue.b.fixedUnit(e)))||i,Object(c.jsx)(z.a,{xs:"auto",className:"mb-2",children:Object(c.jsx)(r,{value:i})},e)}))})}),Object(c.jsx)(z.a,{xs:"auto",children:["pyro","hydro","cryo"].includes(u)&&Object(c.jsxs)(Ce.a,{type:"radio",name:"reactionMode",defaultValue:r,onChange:function(e){return s({reactionMode:"none"===e?null:e})},children:[Object(c.jsxs)(Ee.a,{className:"p-3",value:"none",children:[" ",Object(c.jsx)("h6",{children:"No Elemental"})," ",Object(c.jsx)("h6",{children:"Interactions"})]}),"pyro"===u&&Object(c.jsxs)(Ee.a,{className:"p-3",value:"pyro_vaporize",children:[Object(c.jsx)("h6",{className:"text-vaporize",children:"Vaporize(Pyro)"}),Object(c.jsxs)("h2",{className:"text-vaporize mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.hydro,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.pyro,className:"inline-icon"})]})]}),"pyro"===u&&Object(c.jsxs)(Ee.a,{className:"p-3",value:"pyro_melt",children:[Object(c.jsx)("h6",{className:"text-melt",children:"Melt(Pyro)"}),Object(c.jsxs)("h2",{className:"text-melt mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.cryo,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.pyro,className:"inline-icon"})]})]}),"hydro"===u&&Object(c.jsxs)(Ee.a,{className:"p-3",value:"hydro_vaporize",children:[Object(c.jsx)("h6",{className:"text-vaporize",children:"Melt(Pyro)"}),Object(c.jsxs)("h2",{className:"text-vaporize mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.pyro,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.hydro,className:"inline-icon"})]})]}),"cryo"===u&&Object(c.jsxs)(Ee.a,{className:"p-3",value:"cryo_melt",children:[Object(c.jsx)("h6",{className:"text-melt",children:"Melt(Pyro)"}),Object(c.jsxs)("h2",{className:"text-melt mb-0",children:[Object(c.jsx)(b.a,{src:pe.a.elements.pyro,className:"inline-icon"}),"+",Object(c.jsx)(b.a,{src:pe.a.elements.cryo,className:"inline-icon"})]})]})]})})]})})})}var Te=[1,1,2,4,6,8,10];function We(e){var t=e.character,n=e.character,r=n.characterKey,i=n.constellation,l=n.autoInfused,s=void 0!==l&&l,o=e.talentKey,u=e.subtitle,d=e.ascension,j=e.equippedBuild,m=e.newBuild,f=e.editable,O=e.setState,p=e.onClickTitle,x=void 0===p?null:p,g=oe(e,["onClickTitle"]),_=m||j,y=null,S=G.a.getTalentLevelKey(t,o,i,!0),k=S.talentLvlKey,N=void 0===k?void 0:k,C=S.levelBoost,E=void 0===C?0:C,K=null;if("auto"===o&&G.a.isAutoInfusable(r)){var L=G.a.getElementalKey(r);K=Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(V.a,{variant:s?L:"secondary",className:"text-white",disabled:!f,onClick:f?function(){return O((function(e){return{autoInfused:!e.autoInfused}}))}:void 0,size:f?null:"sm",children:s?Object(c.jsxs)("span",{children:["Infused with ",Object(c.jsx)("b",{children:G.a.getElementalName(L)})]}):"Not Infused"})})}if("number"===typeof N)if(f){y=Object(c.jsx)(P.a.Header,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(v.a,{title:"Talent Lv. ".concat(N+1),children:Object(J.a)(Array(Te[d]).keys()).map((function(e){return Object(c.jsxs)(h.a.Item,{onClick:function(){return t=o,n=e,O((function(e){var a=e.talentLevelKeys||{};return a[t]=n,{talentLevelKeys:a}}));var t,n},children:["Talent Lv. ",e+E+1]},e)}))})}),K]})})}else y=Object(c.jsx)(P.a.Header,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{xs:"auto",children:"Talent Level: ".concat(N+1)}),Object(c.jsx)(z.a,{xs:"auto",children:K})]})});var w=null,A=G.a.getTalentStats(r,o,i,d);return A&&(w=Object(c.jsx)(U.a,{children:Object(c.jsx)(z.a,{children:Object(c.jsx)(P.a,{bg:"darkcontent",text:"lightfont",className:"mt-2 ml-n2 mr-n2",children:Object(c.jsx)(Ke.a,{className:"text-white",variant:"flush",children:Object.entries(A).map((function(e,t){var n=Object(Q.a)(e,2),a=n[0],r=n[1];return Object(c.jsx)(Ke.a.Item,{variant:t%2?"customdark":"customdarker",className:"p-2",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:Object(c.jsx)("b",{children:ue.b.getStatName(a)})}),Object(c.jsxs)("span",{className:"float-right text-right",children:[r,ue.b.getStatUnit(a)]})]})},a)}))})})})})),Object(c.jsxs)(P.a,{bg:"lightcontent",text:"lightfont",className:"h-100",children:[y,Object(c.jsxs)(P.a.Body,{children:[Object(c.jsxs)(U.a,{className:"d-flex flex-row mb-245",onClick:x,style:{cursor:f&&x?"pointer":"default"},children:[Object(c.jsx)(z.a,{xs:"auto",className:"flex-shrink-1 d-flex flex-column",children:Object(c.jsx)(b.a,{src:G.a.getTalentImg(r,o),className:"thumb-mid"})}),Object(c.jsxs)(z.a,{className:"flex-grow-1",children:[Object(c.jsx)(P.a.Title,{children:G.a.getTalentName(r,o)}),Object(c.jsx)(P.a.Subtitle,{children:u})]})]}),G.a.getTalentDocument(r,o).map((function(e,n){var r;if("function"===typeof e&&(e=e(i,d)),!e)return null;var l=e.text;"function"===typeof l&&(l=l(N,_.finalStats,t));var s=e.fields||[],u=e.conditional;"function"===typeof u&&(u=u(N,i,d));var j=null;if(u){var b=he.a.getConditionalNum(t.talentConditionals,{srcKey:o,srcKey2:u.conditionalKey}),m={},h=[];b&&(m=G.a.getTalentConditionalStats(u,b,{}),m=Object.fromEntries(Object.entries(m).filter((function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];return"formulaOverrides"!==n}))),h=G.a.getTalentConditionalFields(u,b,[]));j=Object(c.jsx)(z.a,{xs:12,children:Object(c.jsxs)(P.a,{bg:"darkcontent",text:"lightfont",className:"mb-2",children:[Object(c.jsx)(P.a.Header,{children:Object(c.jsx)(se.a,{disabled:!f,conditional:u,conditionalNum:b,setConditional:function(e){return O((function(t){return{talentConditionals:he.a.setConditional(t.talentConditionals,{srcKey:o,srcKey2:u.conditionalKey},e)}}))},defEle:Object(c.jsx)("span",{children:u.condition})})}),Object(c.jsxs)(Ke.a,{className:"text-white",variant:"flush",children:[Object.entries(m).map((function(e,t){var n=Object(Q.a)(e,2),a=n[0],r=n[1];return Object(c.jsx)(Ke.a.Item,{variant:t%2?"customdark":"customdarker",className:"p-2",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:Object(c.jsx)("b",{children:ue.b.getStatName(a)})}),Object(c.jsxs)("span",{className:"float-right text-right",children:[r,ue.b.getStatUnit(a)]})]})},a)})),h.map((function(e,t){var n,r;return Object(c.jsx)(Be,Object(a.a)({index:t+((null===(r=m)||void 0===r?void 0:r.length)||0)},Object(a.a)({field:e,talentLvlKey:N,ascension:d},g)),t+((null===(n=m)||void 0===n?void 0:n.length)||0))}))]})]})})}return Object(c.jsxs)(U.a,{className:"mt-2 mb-n2",children:[Object(c.jsxs)(z.a,{xs:12,children:[Object(c.jsx)("div",{className:"mb-2",children:l}),s.length>0&&Object(c.jsx)(Ke.a,{className:"text-white mb-2",children:null===s||void 0===s||null===(r=s.map)||void 0===r?void 0:r.call(s,(function(e,t){return Object(c.jsx)(Be,Object(a.a)({index:t},Object(a.a)({field:e,talentLvlKey:N,ascension:d},g)),t)}))})]}),j]},"section"+n)})),w]})]})}function Be(e){var t,n,a,r=e.character,i=e.character,l=i.compareAgainstEquipped,s=i.constellation,d=e.field,j=e.index,b=e.talentLvlKey,m=void 0===b?0:b,h=e.ascension,v=e.equippedBuild,f=e.newBuild,O=f||v;if("function"===typeof d&&(d=d(s,h)),!d)return null;var p=d.text;"function"===typeof p&&(p=null===(t=p)||void 0===t?void 0:t(m,O.finalStats,r));var x=d.variant||"";"function"===typeof x&&(x=null===(n=x)||void 0===n?void 0:n(m,O.finalStats,r));var g=d.basicVal;"function"===typeof g&&(g=null===(a=g)||void 0===a?void 0:a(m,O.finalStats,r)),g&&(g=Object(c.jsx)(fe.a,{placement:"top",overlay:Object(c.jsx)(Oe.a,{children:g}),children:Object(c.jsx)(u.a,{icon:o.q,className:"ml-2",style:{cursor:"help"}})}));var _,y=d.value?d.value:d.finalVal;"function"===typeof y&&(y=null===(_=y)||void 0===_?void 0:_(m,O.finalStats,r));if("number"===typeof y&&(y=Math.round(y)),l&&v&&"number"===typeof y){var S,k,N,C=d.value?d.value:d.finalVal;"function"===typeof C&&(C=parseInt(null===(S=C)||void 0===S||null===(k=S(m,v.finalStats,r))||void 0===k||null===(N=k.toFixed)||void 0===N?void 0:N.call(k,0)));var E=y-C;y=Object(c.jsxs)("span",{children:[C,E?Object(c.jsxs)("span",{className:E>0?"text-success":"text-danger",children:[" (",E>0?"+":"",E,")"]}):""]})}return Object(c.jsx)(Ke.a.Item,{variant:j%2?"customdark":"customdarker",className:"p-2",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("span",{children:[Object(c.jsx)("b",{children:p}),g]}),Object(c.jsx)("span",{className:"float-right text-right text-".concat(x),children:y})]})})}var Ve=j.a.forwardRef((function(e,t){var n=e.children,a=e.style,r=e.className,i=e["aria-labelledby"];return Object(c.jsx)("div",{ref:t,style:{style:a,minWidth:"25rem"},className:r,"aria-labelledby":i,children:Object(c.jsx)(U.a,{children:j.a.Children.toArray(n).map((function(e,t){return Object(c.jsx)(z.a,{xs:6,children:e},t)}))})})})),Pe=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).forceUpdateComponent=function(){a.state.id&&a.setState(X.a.getCharacter(a.state.id)),a.props.forceUpdate?a.props.forceUpdate():a.forceUpdate()},a.setSetState=function(e){return a.setState(e)},a.setCharacterKey=function(e){return a.setState({characterKey:e,name:Object(R.g)(G.a.getTitles(e)),weapon:n.getIntialWeapon(e),reactionMode:null,autoInfused:!1})},a.setLevelKey=function(e){return a.setState({levelKey:e})},a.setOverride=function(e,t){return a.setState((function(n){var c=n.baseStatOverrides;return G.a.getBaseStatValue(a.state,e)===t?(delete c[e],{baseStatOverrides:c}):(c[e]=t,{baseStatOverrides:c})}))},a.setConstellation=function(e){return a.setState({constellation:e})},Object(q.a)(),e.characterId?a.state=X.a.getCharacter(e.characterId):a.state=n.getInitialState(),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;Promise.all([G.a.getCharacterDataImport(),H.a.getWeaponDataImport(),M.a.getDataImport()]).then((function(){return e.forceUpdate()}))}},{key:"componentDidUpdate",value:function(){if(this.props.characterId&&this.state.id!==this.props.characterId&&this.setState(X.a.getCharacter(this.props.characterId)),this.props.editable){var e=Object(R.e)(this.state);if(delete e.compareAgainstEquipped,this.state.id)X.a.updateCharacter(e);else{var t=X.a.addCharacter(e);this.setState({id:t})}}}},{key:"render",value:function(){var e,t,n,r,i,l,s=this,d=this.props,j=d.footer,p=d.newBuild,x=d.editable,g=d.onClose,_=this.state,y=this.state,S=y.characterKey,k=y.levelKey,N=y.compareAgainstEquipped,C=G.a.calculateBuild(this.state),E=Object(c.jsxs)("span",{children:[Object(c.jsx)(b.a,{src:G.a.getThumb(S),className:"thumb-small my-n1 ml-n2",roundedCircle:!0}),Object(c.jsxs)("h6",{className:"d-inline",children:[" ",G.a.getName(S)," "]})]});return Object(c.jsxs)(P.a,{bg:"darkcontent",text:"lightfont",children:[Object(c.jsx)(P.a.Header,{children:Object(c.jsxs)(U.a,{children:[Object(c.jsx)(z.a,{xs:"auto",children:x?Object(c.jsxs)(m.a,{children:[Object(c.jsxs)(h.a,{children:[Object(c.jsx)(D.a,{as:V.a,children:E}),Object(c.jsx)(h.a.Menu,{as:Ve,children:G.a.getAllCharacterKeys().map((function(e){return Object(c.jsx)(h.a.Item,{onClick:function(){return s.setCharacterKey(e)},children:Object(c.jsxs)("span",{children:[Object(c.jsx)(b.a,{src:G.a.getThumb(e),className:"thumb-small p-0 m-n1 grad-".concat(G.a.getStar(e),"star"),thumbnail:!0}),Object(c.jsxs)("h6",{className:"d-inline ml-2",children:[G.a.getName(e)," "]})]})},e)}))})]}),Object(c.jsxs)(v.a,{as:m.a,title:Object(c.jsxs)("h6",{className:"d-inline",children:[G.a.getlevelNames(k)," "]}),children:[Object(c.jsx)(h.a.ItemText,{children:Object(c.jsx)("span",{children:"Select Base Stat Template"})}),G.a.getlevelKeys().map((function(e){return Object(c.jsx)(h.a.Item,{onClick:function(){return s.setLevelKey(e)},children:Object(c.jsxs)("h6",{children:[G.a.getlevelNames(e)," "]})},e)}))]})]}):Object(c.jsxs)("span",{children:[E," Lvl. ",G.a.getStatValueWithOverride(this.state,"char_level")]})}),Object(c.jsx)(z.a,{className:"pl-0 pr-0",children:x?Object(c.jsxs)(f.a,{children:[Object(c.jsx)(f.a.Prepend,{children:Object(c.jsxs)(f.a.Text,{children:[Object(c.jsx)(u.a,{icon:o.u})," Name"]})}),Object(c.jsx)(O.a,{placeholder:"Name",value:this.state.name,onChange:function(e){return s.setState({name:e.target.value})}})]}):Object(c.jsx)(P.a.Title,{className:"mb-0 align-self-center",children:Object(c.jsx)("span",{children:this.state.name})})}),p?Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsxs)(m.a,{children:[Object(c.jsx)(V.a,{variant:N?"primary":"success",disabled:!N,onClick:function(){return s.setState({compareAgainstEquipped:!1})},children:Object(c.jsx)("small",{children:"Show New artifact Stats"})}),Object(c.jsx)(V.a,{variant:N?"success":"primary",disabled:N,onClick:function(){return s.setState({compareAgainstEquipped:!0})},children:Object(c.jsx)("small",{children:"Compare against equipped artifact"})})]})}):null,Object(c.jsx)(z.a,{xs:"auto",children:Object(c.jsx)(V.a,{variant:"danger",onClick:g,children:Object(c.jsx)(u.a,{icon:o.A})})})]})}),Object(c.jsx)(P.a.Body,{children:Object(c.jsxs)(T.Container,{defaultActiveKey:p?"newartifacts":"character",mountOnEnter:!0,unmountOnExit:!0,children:[Object(c.jsxs)(W.a,{variant:"pills",className:"mb-2 ml-2",children:[Object(c.jsx)(W.a.Item,{children:Object(c.jsx)(W.a.Link,{eventKey:"character",children:"Character"})}),p?Object(c.jsx)(W.a.Item,{children:Object(c.jsx)(W.a.Link,{eventKey:"newartifacts",children:"New Artifacts"})}):null,Object(c.jsx)(W.a.Item,{children:Object(c.jsx)(W.a.Link,{eventKey:"artifacts",children:p?"Current Artifacts":"Artifacts"})}),Object(c.jsx)(W.a.Item,{children:Object(c.jsxs)(W.a.Link,{eventKey:"talent",disabled:"TEMPLATE"===((null===(e=G.a.getCDataObj(S))||void 0===e||null===(t=e.talent)||void 0===t||null===(n=t.skill)||void 0===n?void 0:n.name)||"TEMPLATE"),children:["Talents ","TEMPLATE"===((null===(r=G.a.getCDataObj(S))||void 0===r||null===(i=r.talent)||void 0===i||null===(l=i.skill)||void 0===l?void 0:l.name)||"TEMPLATE")&&Object(c.jsx)(B.a,{variant:"warning",children:"WIP"})]})}),Object(c.jsx)(W.a.Item,{children:Object(c.jsxs)(W.a.Link,{eventKey:"team",disabled:!0,children:["Team ",Object(c.jsx)(B.a,{variant:"warning",children:"WIP"})]})})]}),Object(c.jsxs)(T.Content,{children:[Object(c.jsx)(T.Pane,{eventKey:"character",children:Object(c.jsx)(Se,Object(a.a)({setState:this.setSetState,setOverride:this.setOverride,setConstellation:this.setConstellation},{character:_,editable:x,equippedBuild:C,newBuild:p}))}),Object(c.jsx)(T.Pane,{eventKey:"artifacts",children:Object(c.jsx)(ve,Object(a.a)(Object(a.a)({},{character:_,equippedBuild:C,editable:x,forceUpdate:this.forceUpdateComponent}),{},{setState:this.setSetState}))}),p?Object(c.jsx)(T.Pane,{eventKey:"newartifacts",children:Object(c.jsx)(ve,Object(a.a)({},{character:_,newBuild:p,equippedBuild:C,editable:x,forceUpdate:this.forceUpdateComponent}))}):null,Object(c.jsx)(T.Pane,{eventKey:"talent",children:Object(c.jsx)(we,Object(a.a)(Object(a.a)({},{character:_,newBuild:p,equippedBuild:C,editable:x}),{},{setState:this.setSetState,setOverride:this.setOverride}))})]})]})}),j&&Object(c.jsx)(P.a.Footer,{children:j})]})}}]),n}(j.a.Component);Pe.initialState={name:"",characterKey:"",levelKey:"L1",dmgMode:"dmg",reactionMode:null,equippedArtifacts:{},artifactConditionals:[],baseStatOverrides:{},weapon:{key:"",levelKey:F.d[0],refineIndex:0,overrideMainVal:0,overrideSubVal:0,conditionalNum:0},talentLevelKeys:{auto:0,skill:0,burst:0},autoInfused:!1,talentConditionals:[],constellation:0,compareAgainstEquipped:!1},Pe.getIntialWeapon=function(e){var t=Object(R.e)(Pe.initialState.weapon);return t.key=Object.keys(H.a.getWeaponsOfType(G.a.getWeaponTypeKey(e)))[0],t},Pe.getInitialState=function(){var e=Object(R.e)(Pe.initialState);return e.characterKey=Object(R.g)(G.a.getAllCharacterKeys()),e.name=Object(R.g)(G.a.getTitles(e.characterKey)),e.weapon=Pe.getIntialWeapon(e.characterKey),e}},168:function(e,t,n){"use strict";var a=n(1),c=n(2),r=n(5),i=n.n(r),l=n(0),s=n.n(l),o=(n(59),n(24)),u=n(6),d=n(46),j=n(49),b=n(13),m={variant:void 0,active:!1,disabled:!1},h=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,o=e.disabled,d=e.className,m=e.variant,h=e.action,v=e.as,f=e.eventKey,O=e.onClick,p=Object(c.a)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);n=Object(u.a)(n,"list-group-item");var x=Object(l.useCallback)((function(e){if(o)return e.preventDefault(),void e.stopPropagation();O&&O(e)}),[o,O]);return o&&void 0===p.tabIndex&&(p.tabIndex=-1,p["aria-disabled"]=!0),s.a.createElement(j.a,Object(a.a)({ref:t},p,{eventKey:Object(b.b)(f,p.href),as:v||(h?p.href?"a":"button":"div"),onClick:x,className:i()(d,n,r&&"active",o&&"disabled",m&&n+"-"+m,h&&n+"-action")}))}));h.defaultProps=m,h.displayName="ListGroupItem";var v=h,f={variant:void 0,horizontal:void 0},O=s.a.forwardRef((function(e,t){var n,r=Object(o.a)(e,{activeKey:"onSelect"}),l=r.className,j=r.bsPrefix,b=r.variant,m=r.horizontal,h=r.as,v=void 0===h?"div":h,f=Object(c.a)(r,["className","bsPrefix","variant","horizontal","as"]),O=Object(u.a)(j,"list-group");return n=m?!0===m?"horizontal":"horizontal-"+m:null,s.a.createElement(d.a,Object(a.a)({ref:t},f,{as:v,className:i()(l,O,b&&O+"-"+b,n&&O+"-"+n)}))}));O.defaultProps=f,O.displayName="ListGroup",O.Item=v;t.a=O},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(85),c=n(89),r=n(79),i=n(82),l=n(93),s=n(91),o=n(94),u=n(121),d=n(95),j=n(98),b=n(92),m=n(84),h=n(101),v=n(90),f=function(){function e(){if(Object(i.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(l.a)(e,null,[{key:"removeCharacter",value:function(e){var t=v.a.getCharacter(e);t.equippedArtifacts&&Object.values(t.equippedArtifacts).forEach((function(e){return o.a.moveToNewLocation(e,"")})),v.a.removeCharacterById(e)}}]),e}();f.getCharacterDataImport=function(){return u.b},f.getBaseStatValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=e.characterKey,c=e.levelKey;if("specializedStatKey"===t)return f.getSpecializedStatKey(a);if("specializedStatVal"===t)return f.getSpeicalizedStatVal(a,c);if("atk_weapon"===t)return h.a.getWeaponMainStatValWithOverride(null===e||void 0===e?void 0:e.weapon);if("char_level"===t||"enemy_level"===t)return f.getLevel(c);if("enemy_phy_res"===t||t.includes("enemy_ele_res"))return 10;if(t in u.e)return u.e[t];var r=f.getCDataObj(a);return r&&t in r.baseStat?r.baseStat[t][f.getIndexFromlevelkey(c)]:n},f.getCDataObj=function(e){return u.a[e]},f.getElementalName=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"physical"===e?"Physical":(null===d.a||void 0===d.a||null===(t=d.a[e])||void 0===t?void 0:t.name)||n},f.getAllCharacterKeys=function(){return Object.keys(u.a)},f.getName=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=f.getCDataObj(e))||void 0===t?void 0:t.name)||n},f.getStar=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===(t=f.getCDataObj(e))||void 0===t?void 0:t.star)||n},f.getElementalKey=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=f.getCDataObj(e))||void 0===t?void 0:t.elementKey)||n},f.getElementalKeys=function(){return Object.keys(d.a)},f.getWeaponTypeKey=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=f.getCDataObj(e))||void 0===t?void 0:t.weaponTypeKey)||n},f.getConstellationName=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=f.getCDataObj(e))||void 0===t?void 0:t.constellationName)||n},f.getTitles=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null===(t=f.getCDataObj(e))||void 0===t?void 0:t.titles)||n},f.getlevelKeys=function(){return Object.keys(u.d)},f.getlevelNames=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===u.d||void 0===u.d||null===(t=u.d[e])||void 0===t?void 0:t.name)||n},f.getIndexFromlevelkey=function(e){return f.getlevelKeys().indexOf(e)},f.getLevel=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(null===u.d||void 0===u.d||null===(t=u.d[e])||void 0===t?void 0:t.level)||n},f.getAscension=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===u.d||void 0===u.d||null===(t=u.d[e])||void 0===t?void 0:t.asend)||n},f.getSpecializedStat=function(e){var t;return null===(t=f.getCDataObj(e))||void 0===t?void 0:t.specializeStat},f.getSpecializedStatKey=function(e){var t;return null===(t=f.getSpecializedStat(e))||void 0===t?void 0:t.key},f.getSpeicalizedStatVal=function(e,t){var n,a;return null===(n=f.getSpecializedStat(e))||void 0===n||null===(a=n.value)||void 0===a?void 0:a[f.getIndexFromlevelkey(t)]},f.getThumb=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=f.getCDataObj(e))||void 0===t?void 0:t.thumbImg)||n},f.getCard=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===(t=f.getCDataObj(e))||void 0===t?void 0:t.cardImg)||n},f.getTalentImg=function(e,t){var n,a,c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(n=f.getCDataObj(e))||void 0===n||null===(a=n.talent)||void 0===a||null===(c=a[t])||void 0===c?void 0:c.img)||r},f.getConstellationImg=function(e,t){var n,a,c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(n=f.getCDataObj(e))||void 0===n||null===(a=n.talent)||void 0===a||null===(c=a["constellation".concat(t+1)])||void 0===c?void 0:c.img)||r},f.getTalentName=function(e,t){var n,a,c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(null===(n=f.getCDataObj(e))||void 0===n||null===(a=n.talent)||void 0===a||null===(c=a[t])||void 0===c?void 0:c.name)||r},f.getTalentLevelBoost=function(e,t,n){var a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("burst"!==t&&"skill"!==t)return c;for(var i=(null===(a=f.getCDataObj(e))||void 0===a?void 0:a.talent)||{},l=1;l<=n;l++){var s,o=(null===(s=i["constellation".concat(l)])||void 0===s?void 0:s.talentBoost)||{},u=Object.entries(o).find((function(e){var n=Object(r.a)(e,2),a=n[0];n[1];return a===t}));if(u)return u[1]}return c},f.getTalentLevelKey=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("auto"===t||"skill"===t||"burst"===t){var c,r=(null===e||void 0===e||null===(c=e.talentLevelKeys)||void 0===c?void 0:c[t])||0,i=f.getTalentLevelBoost(null===e||void 0===e?void 0:e.characterKey,t,n);return r=Object(m.a)(r+i,0,14),a?{talentLvlKey:r,levelBoost:i}:r}return a?{}:null},f.getTalentDocument=function(e,t){var n,a,c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(null===(n=f.getCDataObj(e))||void 0===n||null===(a=n.talent)||void 0===a||null===(c=a[t])||void 0===c?void 0:c.document)||r},f.getTalentFields=function(e,t){var n,a,c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(null===(n=f.getCDataObj(e))||void 0===n||null===(a=n.talent)||void 0===a||null===(c=a[t])||void 0===c?void 0:c.fields)||r},f.getTalentStats=function(e,t,n,a){var c,r,i,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=null===(c=f.getCDataObj(e))||void 0===c||null===(r=c.talent)||void 0===r||null===(i=r[t])||void 0===i?void 0:i.stats;return"function"===typeof s?s(n,a):s||l},f.getTalentStatsAll=function(e,t,n){var a,c=(null===(a=f.getCDataObj(e))||void 0===a?void 0:a.talent)||{},r=[];return Object.keys(c).forEach((function(a){var c=f.getTalentStats(e,a,t,n);c&&r.push(c)})),r},f.getTalentConditional=function(e,t,n,a,r,i){var l,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=f.getTalentDocument(e,t),u=null,d=Object(c.a)(o);try{for(d.s();!(l=d.n()).done;){var j,b=l.value,m=b.conditional;if("function"===typeof m&&(m=m(a,r,i)),(null===(j=m)||void 0===j?void 0:j.conditionalKey)===n){u=m;break}}}catch(h){d.e(h)}finally{d.f()}return u||s},f.getTalentConditionalStats=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t||!e)return n;var a=b.a.getConditionalProp(e,"stats",t),c=Object(r.a)(a,2),i=c[0],l=void 0===i?{}:i,s=c[1];return s?Object.fromEntries(Object.entries(l).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return"formulaOverrides"===n?[n,a]:[n,a*s]}))):n},f.getTalentConditionalFields=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t||!e)return n;var a=b.a.getConditionalProp(e,"fields",t)[0];return a||n},f.getTalentStatKey=function(e,t){var n,a,c,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.dmgMode,l=void 0===i?"":i,s=t.autoInfused,o=void 0!==s&&s,u=t.characterKey,d=t.reactionMode,j=void 0===d?null:d;if("phy"===e)return"phy_".concat(l);var b=f.getElementalKey(u);r||(r=f.isAutoElemental(u)||o&&((null===(n=f.getCDataObj(u))||void 0===n||null===(a=n.talent)||void 0===a||null===(c=a.auto)||void 0===c?void 0:c.infusable)||!1));var m="";return("ele"===e||"burst"===e||"skill"===e||r)&&(m=(j||b)+"_"),"".concat(m).concat(e,"_").concat(l)},f.getTalentStatKeyVariant=function(e,t){var n,a,c,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("phy"===e)return"physical";var i=t.autoInfused,l=void 0!==i&&i,s=t.characterKey,o=t.reactionMode,u=void 0===o?null:o,d=f.getElementalKey(s);["pyro_vaporize","hydro_vaporize"].includes(u)?u="vaporize":["pyro_melt","cryo_melt"].includes(u)&&(u="melt"),r||(r=f.isAutoElemental(s)||l&&((null===(n=f.getCDataObj(s))||void 0===n||null===(a=n.talent)||void 0===a||null===(c=a.auto)||void 0===c?void 0:c.infusable)||!1));var j="physical";return("ele"===e||"burst"===e||"skill"===e||r)&&(j=u||d),j},f.isAutoElemental=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"catalyst"===f.getWeaponTypeKey(e)||t},f.isAutoInfusable=function(e){var t,n,a,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null===(t=f.getCDataObj(e))||void 0===t||null===(n=t.talent)||void 0===n||null===(a=n.auto)||void 0===a?void 0:a.infusable)||c},f.getDisplayStatKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;var n=f.getElementalKey(e);if(!n)return t;var c=["hp_final","atk_final","def_final","ele_mas","crit_rate","crit_dmg","heal_bonu","ener_rech","".concat(n,"_ele_dmg_bonus")],r=f.isAutoElemental(e),i=f.isAutoInfusable(e),l=[];r||l.push("phy_dmg_bonus"),r||l.push("norm_atk_avg_dmg","char_atk_avg_dmg"),r||i?l.push("".concat(n,"_norm_atk_avg_dmg"),"".concat(n,"_char_atk_avg_dmg")):"bow"===f.getWeaponTypeKey(e)&&l.push("".concat(n,"_char_atk_avg_dmg")),l.push("".concat(n,"_skill_avg_dmg"),"".concat(n,"_burst_avg_dmg")),c.push.apply(c,l),"pyro"===n?(c.push.apply(c,Object(a.a)(l.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_vaporize_"))})))),c.push.apply(c,Object(a.a)(l.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_melt_"))}))))):"cryo"===n?c.push.apply(c,Object(a.a)(l.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_melt_"))})))):"hydro"===n&&c.push.apply(c,Object(a.a)(l.filter((function(e){return e.startsWith("".concat(n,"_"))})).map((function(e){return e.replace("".concat(n,"_"),"".concat(n,"_vaporize_"))})))),c.push.apply(c,Object(a.a)(j.b[n]));var s=f.getWeaponTypeKey(e);return c.includes("shatter_dmg")||"claymore"!==s||c.push("shatter_dmg"),c},f.hasOverride=function(e,t){return"hp_final"===t?f.hasOverride(e,"hp")||f.hasOverride(e,"hp_")||f.hasOverride(e,"hp_base")||!1:"def_final"===t?f.hasOverride(e,"def")||f.hasOverride(e,"def_")||f.hasOverride(e,"def_base")||!1:"atk_final"===t?f.hasOverride(e,"atk")||f.hasOverride(e,"atk_")||f.hasOverride(e,"atk_base")||!1:!(!e||!e.baseStatOverrides)&&t in e.baseStatOverrides},f.getStatValueWithOverride=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f.hasOverride(e,t)?null===e||void 0===e||null===(n=e.baseStatOverrides)||void 0===n?void 0:n[t]:f.getBaseStatValue(e,t,a)},f.equipArtifacts=function(e,t){var n=v.a.getCharacter(e);if(n){var a=n.equippedArtifacts,c=t;s.a.getSlotKeys().forEach((function(t){var n=o.a.getArtifact(null===c||void 0===c?void 0:c[t]);if(n.location!==e){var r=o.a.getArtifact(null===a||void 0===a?void 0:a[t]),i=(null===n||void 0===n?void 0:n.location)||"";r&&o.a.moveToNewLocation(r.id,i),i&&v.a.equipArtifact(i,r),n&&o.a.moveToNewLocation(n.id,e)}})),n.equippedArtifacts={},Object.entries(t).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],c=t[1];return n.equippedArtifacts[a]=c})),v.a.updateCharacter(n)}},f.calculateBuild=function(e){var t=Object.fromEntries(Object.entries(e.equippedArtifacts).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,o.a.getArtifact(a)]}))),n=f.calculateCharacterWithWeaponStats(e);return f.calculateBuildWithObjs(e.artifactConditionals,n,t)},f.calculateBuildWithObjs=function(e,t,n){var a=s.a.setToSlots(n),c=s.a.getArtifactSetEffectsStats(a),i=Object(m.e)(t);return Object.values(n).forEach((function(e){e&&(i[e.mainStatKey]=(i[e.mainStatKey]||0)+s.a.getMainStatValue(e.mainStatKey,e.numStars,i.artifactsAssumeFull?4*e.numStars:e.level),e.substats.forEach((function(e){return e&&e.key&&(i[e.key]=(i[e.key]||0)+e.value)})))})),c.forEach((function(e){return i[e.key]=(i[e.key]||0)+e.statVal})),e&&e.forEach((function(e){var t=e.srcKey,n=e.srcKey2;Object.entries(s.a.getConditionalStats(t,n,e.conditionalNum)).forEach((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return i[n]=(i[n]||0)+a}))})),Object(j.a)(i),{artifactIds:Object.fromEntries(Object.entries(n).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,null===a||void 0===a?void 0:a.id]}))),setToSlots:a,finalStats:i,artifactConditionals:e}},f.calculateCharacterWithWeaponStats=function(e){var t,n,c,i,l,s,o=["hp_base","atk_base","def_base","atk_weapon","char_level","enemy_level","enemy_phy_res","enemy_phy_immunity"].concat(Object(a.a)(Object.keys(u.e))),d=Object.fromEntries(o.map((function(t){return[t,f.getStatValueWithOverride(e,t)]})));d.char_ele_key=f.getElementalKey(e.characterKey),f.getElementalKeys().forEach((function(t){var n="".concat(t,"_enemy_ele_res");d[n]=f.getStatValueWithOverride(e,n),n="".concat(t,"_enemy_ele_immunity"),d[n]=f.getStatValueWithOverride(e,n)}));var j=(null===e||void 0===e?void 0:e.baseStatOverrides)||{};Object.entries(j).forEach((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return!d.hasOwnProperty(n)&&(d[n]=a)}));var b=f.getStatValueWithOverride(e,"specializedStatKey");if(b){var m=f.getStatValueWithOverride(e,"specializedStatVal");d[b]=(d[b]||0)+m}var v=function(e){return e&&Object.entries(e).forEach((function(e){var t=Object(r.a)(e,2),n=t[0],c=t[1];"formulaOverrides"!==n?d[n]=(d[n]||0)+c:d.formulaOverrides=[].concat(Object(a.a)(d.formulaOverrides||[]),Object(a.a)(c))}))},O=e.characterKey,p=e.levelKey,x=e.constellation,g=e.talentConditionals,_=void 0===g?[]:g,y=f.getAscension(p);_.forEach((function(t){var n=t.srcKey,a=t.srcKey2,c=t.conditionalNum,r=f.getTalentLevelKey(e,n),i=f.getTalentConditional(O,n,a,r,x,y);v(f.getTalentConditionalStats(i,c,{}))})),f.getTalentStatsAll(O,x,y).forEach(v);var S={subKey:h.a.getWeaponSubStatKey(null===e||void 0===e||null===(t=e.weapon)||void 0===t?void 0:t.key),subVal:h.a.getWeaponSubStatValWithOverride(null===e||void 0===e?void 0:e.weapon),bonusStats:h.a.getWeaponBonusStat(null===e||void 0===e||null===(n=e.weapon)||void 0===n?void 0:n.key,null===e||void 0===e||null===(c=e.weapon)||void 0===c?void 0:c.refineIndex),conditionalStats:h.a.getWeaponConditionalStat(null===e||void 0===e||null===(i=e.weapon)||void 0===i?void 0:i.key,null===e||void 0===e||null===(l=e.weapon)||void 0===l?void 0:l.refineIndex,null===e||void 0===e||null===(s=e.weapon)||void 0===s?void 0:s.conditionalNum)};return S.subKey&&(d[S.subKey]=(d[S.subKey]||0)+S.subVal),S.bonusStats&&v(S.bonusStats),S.conditionalStats&&v(S.conditionalStats),d}},81:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return j}));var a=n(3),c=n(79),r=n(89),i=n(82),l=n(95),s=n(98),o=function e(){if(Object(i.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};o.getStatName=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u[e]||(null===(t=s.f[e])||void 0===t?void 0:t.name)||n},o.getStatNamePretty=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u[e]||(null===(t=s.f[e])||void 0===t?void 0:t.pretty)||(null===(n=s.f[e])||void 0===n?void 0:n.name)||a},o.getStatNameRaw=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=s.f[e])||void 0===t?void 0:t.name)||n},o.getStatNameWithPercent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=o.getStatName(e,t);return n===t||"hp_"!==e&&"atk_"!==e&&"def_"!==e||(n+="%"),n},o.getStatVariant=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===(t=s.f[e])||void 0===t?void 0:t.variant)||n},o.getStatUnit=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"multi"===(null===(t=s.f[e])||void 0===t?void 0:t.unit)?a:(null===(n=s.f[e])||void 0===n?void 0:n.unit)||a},o.fixedUnit=function(e){var t;return"multi"===(null===(t=s.f[e])||void 0===t?void 0:t.unit)?3:"%"===o.getStatUnit(e)?1:0},o.printStat=function(e,t){return d({stats:t,expand:!1},e)},o.printFormula=function(e,t){var n,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=Object(r.a)(c);try{for(l.s();!(n=l.n()).done;){var u,d=n.value;if((null===(u=s.d[null===d||void 0===d?void 0:d.key])||void 0===u?void 0:u.key)===e)return o.printOverrideFormula(t,d.key,d.options,!1)}}catch(b){l.e(b)}finally{l.f()}return(null===j||void 0===j?void 0:j[e])&&"function"===typeof(null===j||void 0===j?void 0:j[e])&&Object(a.jsx)("span",{children:j[e]({stats:t,expand:i})})},o.printOverrideFormula=function(e,t,n){var c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(null===h||void 0===h?void 0:h[t])&&"function"===typeof(null===h||void 0===h?void 0:h[t].formulaText)&&Object(a.jsx)("span",{children:h[t].formulaText(n)({stats:e,expand:c})})};var u=Object.fromEntries(Object.entries(s.f).filter((function(e){var t=Object(c.a)(e,2);t[0];return t[1].variant})).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return[n,Object(a.jsx)("span",{className:"text-".concat(r.variant," text-nowrap"),children:r.name})]})));function d(e,t){var n,c,r=e.stats,i=e.expand;if(r){if((void 0===i||i)&&(null===j||void 0===j?void 0:j[t]))return Object(a.jsxs)("span",{children:["( ",j[t](e)," )"]});var l=o.getStatNamePretty(t),s=o.getStatUnit(t),u=o.fixedUnit(t),d=(null===r||void 0===r||null===(n=r[t])||void 0===n||null===(c=n.toFixed)||void 0===c?void 0:c.call(n,u))||(null===r||void 0===r?void 0:r[t]);return Object(a.jsxs)("span",{className:"text-nowrap",children:[Object(a.jsx)("b",{children:l})," ",Object(a.jsxs)("span",{className:"text-info",children:[d,s]})]})}}var j={hp_final:function(e){return Object(a.jsxs)("span",{children:[d(e,"hp_base")," * ( 1 + ",d(e,"hp_")," ) + ",d(e,"hp")]})},atk_final:function(e){return Object(a.jsxs)("span",{children:["( ",d(e,"atk_base")," + ",d(e,"atk_weapon")," ) * ( 1 + ",d(e,"atk_")," ) + ",d(e,"atk")]})},def_final:function(e){return Object(a.jsxs)("span",{children:[d(e,"def_base")," * ( 1 + ",d(e,"def_")," ) + ",d(e,"def")]})},norm_atk_dmg:function(e){return Object(a.jsxs)("span",{children:[d(e,"atk_final")," * ",d(e,"norm_atk_bonus_multi")," * ",d(e,"enemy_level_multi")," * ",d(e,"enemy_phy_res_multi")]})},norm_atk_crit_dmg:function(e){return Object(a.jsxs)("span",{children:[d(e,"norm_atk_dmg")," * ",d(e,"crit_dmg_multi")]})},norm_atk_avg_dmg:function(e){return Object(a.jsxs)("span",{children:[d(e,"norm_atk_dmg")," * ",d(e,"norm_atk_crit_multi")]})},norm_atk_crit_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + Min[( ",d(e,"crit_rate")," + ",d(e,"norm_atk_crit_rate")," ), 100%] * ",d(e,"crit_dmg")," )"]})},norm_atk_bonus_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"phy_dmg_bonus")," + ",d(e,"norm_atk_dmg_bonus")," + ",d(e,"all_dmg_bonus")," )"]})},char_atk_dmg:function(e){return Object(a.jsxs)("span",{children:[d(e,"atk_final")," * ",d(e,"char_atk_bonus_multi")," * ",d(e,"enemy_level_multi")," * ",d(e,"enemy_phy_res_multi")]})},char_atk_crit_dmg:function(e){return Object(a.jsxs)("span",{children:[d(e,"char_atk_dmg")," * ",d(e,"crit_dmg_multi")]})},char_atk_avg_dmg:function(e){return Object(a.jsxs)("span",{children:[d(e,"char_atk_dmg")," * ",d(e,"char_atk_crit_multi")]})},char_atk_crit_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + Min[( ",d(e,"crit_rate")," + ",d(e,"char_atk_crit_rate")," ), 100%] * ",d(e,"crit_dmg")," )"]})},char_atk_bonus_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"phy_dmg_bonus")," + ",d(e,"char_atk_dmg_bonus")," + ",d(e,"all_dmg_bonus")," )"]})},plunge_dmg:function(e){return Object(a.jsx)("span",{children:d(e,"phy_dmg")})},plunge_crit_dmg:function(e){return Object(a.jsx)("span",{children:d(e,"phy_crit_dmg")})},plunge_avg_dmg:function(e){return Object(a.jsx)("span",{children:d(e,"phy_avg_dmg")})},plunge_bonus_multi:function(e){return Object(a.jsx)("span",{children:d(e,"phy_bonus_multi")})},phy_dmg:function(e){return Object(a.jsxs)("span",{children:[d(e,"atk_final")," * ",d(e,"phy_bonus_multi")," * ",d(e,"enemy_level_multi")," * ",d(e,"enemy_phy_res_multi")]})},phy_crit_dmg:function(e){return Object(a.jsxs)("span",{children:[d(e,"phy_dmg")," * ",d(e,"crit_dmg_multi")]})},phy_avg_dmg:function(e){return Object(a.jsxs)("span",{children:[d(e,"phy_dmg")," * ",d(e,"crit_multi")]})},phy_bonus_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"phy_dmg_bonus")," + ",d(e,"all_dmg_bonus")," )"]})},crit_dmg_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"crit_dmg")," )"]})},crit_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + Min[ ",d(e,"crit_rate")," , 100%] * ",d(e,"crit_dmg")," )"]})},skill_crit_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + Min[( ",d(e,"crit_rate")," + ",d(e,"skill_crit_rate")," ), 100%] * ",d(e,"crit_dmg")," )"]})},burst_crit_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + Min[( ",d(e,"crit_rate")," + ",d(e,"burst_crit_rate")," ), 100%] * ",d(e,"crit_dmg")," )"]})},enemy_level_multi:function(e){return Object(a.jsxs)("span",{children:["( 100 + ",d(e,"char_level"),") / ( 100 + ",d(e,"enemy_level")," + 100 + ",d(e,"char_level"),")"]})},enemy_phy_res_multi:function(e){if(e.stats.enemy_phy_immunity)return Object(a.jsx)("span",{children:"0 due to immunity"});var t=(e.stats.enemy_phy_res||0)/100;return t<0?Object(a.jsxs)("span",{children:[" 1 - ",d(e,"enemy_phy_res")," / 2"]}):t>=.75?Object(a.jsxs)("span",{children:[" 1 / ( ",d(e,"enemy_phy_res")," * 4 + 1)"]}):Object(a.jsxs)("span",{children:[" 1 - ",d(e,"enemy_phy_res")," "]})},overloaded_dmg:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"overloaded_dmg_bonus")," ) * ",d(e,"ele_mas_multi_y")," * ",d(e,"overloaded_multi")," * ",d(e,"pyro_enemy_ele_res_multi")]})},overloaded_multi:function(e){return s.e.overloaded.map((function(t,n){return b(e,t,n)}))},electrocharged_dmg:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"electrocharged_dmg_bonus")," ) * ",d(e,"ele_mas_multi_y")," * ",d(e,"electrocharged_multi")," * ",d(e,"electro_enemy_ele_res_multi")]})},electrocharged_multi:function(e){return s.e.electrocharged.map((function(t,n){return b(e,t,n)}))},superconduct_dmg:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"superconduct_dmg_bonus")," ) * ",d(e,"ele_mas_multi_y")," * ",d(e,"superconduct_multi")," * ",d(e,"cryo_enemy_ele_res_multi")]})},superconduct_multi:function(e){return s.e.superconduct.map((function(t,n){return b(e,t,n)}))},swirl_dmg:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"swirl_dmg_bonus")," ) * ",d(e,"ele_mas_multi_y")," * ",d(e,"swirl_multi")," * ",d(e,"anemo_enemy_ele_res_multi")]})},swirl_multi:function(e){return s.e.swirl.map((function(t,n){return b(e,t,n)}))},shatter_dmg:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"shatter_dmg_bonus")," ) * ",d(e,"ele_mas_multi_y")," * ",d(e,"shatter_multi")," * ",d(e,"enemy_phy_res_multi")]})},shatter_multi:function(e){return s.e.shattered.map((function(t,n){return b(e,t,n)}))},crystalize_dmg:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"crystalize_dmg_bonus")," ) * ",d(e,"ele_mas_multi_z")," * ",d(e,"crystalize_multi")]})},crystalize_multi:function(e){return s.e.crystalize.map((function(t,n){return b(e,t,n)}))},pyro_vaporize_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"vaporize_dmg_bonus")," ) * ",d(e,"ele_mas_multi_x")," * 1.5 * ",d(e,"trans_reaction_base_multi")]})},hydro_vaporize_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"vaporize_dmg_bonus")," ) * ",d(e,"ele_mas_multi_x")," * 2 * ",d(e,"trans_reaction_base_multi")]})},pyro_melt_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"melt_dmg_bonus")," ) * ",d(e,"ele_mas_multi_x")," * 2 * ",d(e,"trans_reaction_base_multi")]})},cryo_melt_multi:function(e){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"melt_dmg_bonus")," ) * ",d(e,"ele_mas_multi_x")," * 1.5 * ",d(e,"trans_reaction_base_multi")]})},trans_reaction_base_multi:function(e){return Object(a.jsxs)("span",{children:["1 + 0.189266831 * ",d(0,"ele_mas")," * exp^(-0.000505 * ",d(0,"ele_mas"),") / 100 "]})},ele_mas_multi_x:function(e){return Object(a.jsxs)("span",{children:[" 1 + (25 / 9 * ",d(e,"ele_mas")," / (1401 + ",d(e,"ele_mas")," ))"]})},ele_mas_multi_y:function(e){return Object(a.jsxs)("span",{children:[" 1 + (60 / 9 * ",d(e,"ele_mas")," / (1401 + ",d(e,"ele_mas")," ))"]})},ele_mas_multi_z:function(e){return Object(a.jsxs)("span",{children:[" 1 + (40 / 9 * ",d(e,"ele_mas")," / (1401 + ",d(e,"ele_mas")," ))"]})}};function b(e,t,n){var c=t<0?" - ":" + ",r=Math.abs(t),i="";return n>1&&(i=Object(a.jsxs)("span",{children:[" * ( ",d(e,"char_level")," )^",n]})),1===n&&(i=Object(a.jsxs)("span",{children:[" * ",d(e,"char_level")]})),Object(a.jsxs)("span",{children:[c,r,i]},n)}[["pyro_vaporize","pyro"],["hydro_vaporize","hydro"],["pyro_melt","pyro"],["cryo_melt","cryo"]].forEach((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];[["norm_atk","Nomal Attack"],["char_atk","Charged Attack"],["plunge","Plunging Attack"],["skill","Ele. Skill"],["burst","Ele. Burst"],["ele","Elemental"]].forEach((function(e){var t=Object(c.a)(e,2),i=t[0];t[1];return["dmg","avg_dmg","crit_dmg"].forEach((function(e){var t="".concat(n,"_").concat(i,"_").concat(e),c="".concat(r,"_").concat(i,"_").concat(e);j[t]=function(e){return Object(a.jsxs)("span",{children:[d(e,"".concat(n,"_multi"))," * ",d(e,c)]})}}))}))}));var m={norm_atk_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"atk_final")," * ",d(e,"".concat(t,"_norm_atk_bonus_multi"))," * ",d(e,"enemy_level_multi")," * ",d(e,"".concat(t,"_enemy_phy_res_multi"))]})},norm_atk_crit_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_norm_atk_dmg"))," * ",d(e,"crit_dmg_multi")]})},norm_atk_avg_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_norm_atk_dmg"))," * ",d(e,"norm_atk_crit_multi")]})},norm_atk_bonus_multi:function(e,t){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"".concat(t,"_ele_dmg_bonus"))," + ",d(e,"norm_atk_dmg_bonus")," + ",d(e,"all_dmg_bonus")," )"]})},char_atk_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"atk_final")," * ",d(e,"".concat(t,"_char_atk_bonus_multi"))," * ",d(e,"enemy_level_multi")," * ",d(e,"".concat(t,"_enemy_ele_res_multi"))]})},char_atk_crit_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_char_atk_dmg"))," * ",d(e,"crit_dmg_multi")]})},char_atk_avg_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_char_atk_dmg"))," * ",d(e,"char_atk_crit_multi")]})},char_atk_bonus_multi:function(e,t){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"".concat(t,"_ele_dmg_bonus"))," + ",d(e,"char_atk_dmg_bonus")," + ",d(e,"all_dmg_bonus")," )"]})},plunge_dmg:function(e,t){return Object(a.jsx)("span",{children:d(e,"".concat(t,"_ele_dmg"))})},plunge_crit_dmg:function(e,t){return Object(a.jsx)("span",{children:d(e,"".concat(t,"_ele_crit_dmg"))})},plunge_avg_dmg:function(e,t){return Object(a.jsx)("span",{children:d(e,"".concat(t,"_ele_avg_dmg"))})},plunge_bonus_multi:function(e,t){return Object(a.jsx)("span",{children:d(e,"".concat(t,"_ele_bonus_multi"))})},ele_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"atk_final")," * ",d(e,"".concat(t,"_ele_bonus_multi"))," * ",d(e,"enemy_level_multi")," * ",d(e,"".concat(t,"_enemy_phy_res_multi"))]})},ele_crit_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_ele_dmg"))," * ",d(e,"crit_dmg_multi")]})},ele_avg_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_ele_dmg"))," * ",d(e,"crit_multi")]})},ele_bonus_multi:function(e,t){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"".concat(t,"_ele_dmg_bonus"))," + ",d(e,"all_dmg_bonus")," )"]})},skill_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"atk_final")," * ",d(e,"".concat(t,"_skill_bonus_multi"))," * ",d(e,"enemy_level_multi")," * ",d(e,"".concat(t,"_enemy_ele_res_multi"))]})},skill_crit_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_skill_dmg"))," * ",d(e,"crit_dmg_multi")]})},skill_avg_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_skill_dmg"))," * ",d(e,"skill_crit_multi")]})},skill_bonus_multi:function(e,t){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"".concat(t,"_ele_dmg_bonus"))," + ",d(e,"skill_dmg_bonus")," + ",d(e,"all_dmg_bonus")," )"]})},burst_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"atk_final")," * ",d(e,"".concat(t,"_burst_bonus_multi"))," * ",d(e,"enemy_level_multi")," * ",d(e,"".concat(t,"_enemy_ele_res_multi"))]})},burst_crit_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_burst_dmg"))," * ",d(e,"crit_dmg_multi")]})},burst_avg_dmg:function(e,t){return Object(a.jsxs)("span",{children:[d(e,"".concat(t,"_burst_dmg"))," * ",d(e,"burst_crit_multi")]})},burst_bonus_multi:function(e,t){return Object(a.jsxs)("span",{children:["( 1 + ",d(e,"".concat(t,"_ele_dmg_bonus"))," + ",d(e,"burst_dmg_bonus")," + ",d(e,"all_dmg_bonus")," )"]})},enemy_ele_res_multi:function(e,t){if(e.stats["".concat(t,"_enemy_ele_immunity")])return Object(a.jsx)("span",{children:"0 due to immunity"});var n=(e.stats["".concat(t,"_enemy_ele_res")]||0)/100;return n<0?Object(a.jsxs)("span",{children:[" 1 - ",d(e,"".concat(t,"_enemy_ele_res"))," / 2"]}):n>=.75?Object(a.jsxs)("span",{children:[" 1 / ( ",d(e,"".concat(t,"_enemy_ele_res"))," * 4 + 1)"]}):Object(a.jsxs)("span",{children:[" 1 - ",d(e,"".concat(t,"_enemy_ele_res"))," "]})}};Object.keys(l.a).forEach((function(e){return Object.entries(m).forEach((function(t){var n=Object(c.a)(t,2),a=n[0],r=n[1];return Object.defineProperty(j,"".concat(e,"_").concat(a),{configurable:!0,enumerable:!0,writable:!0,value:function(t){return r(t,e)}})}))}));var h={noelle_burst_atk:{formulaText:function(e){return function(t){return Object(a.jsxs)("span",{children:["( ",d(t,"atk_base")," + ",d(t,"atk_weapon")," ) * ( 1 + ",d(t,"atk_")," ) + ",d(t,"atk")," + ",d(t,"def_final")," * ",e.value,"%"]})}}}}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(3),c=n(79),r=n(89),i=n(85),l=n(82),s=n(93),o=n(23),u=n(90),d=n(83),j={flower:d.a,plume:d.h,sands:d.l,goblet:d.G,circlet:d.d},b=n(95),m={},h=Promise.all([n.e(0),n.e(16)]).then(n.bind(null,213));h.then((function(e){m=e.default,h=null}));var v=["hp","hp_","atk","atk_","def","def_","ele_mas","ener_rech","crit_rate","crit_dmg","heal_bonu","phy_dmg_bonus"];Object.keys(b.a).forEach((function(e){return v.push("".concat(e,"_ele_dmg_bonus"))}));var f={3:{subsBaselow:1,subBaseHigh:2,numUpgradesOrUnlocks:3},4:{subsBaselow:2,subBaseHigh:3,numUpgradesOrUnlocks:4},5:{subsBaselow:3,subBaseHigh:4,numUpgradesOrUnlocks:5}},O={1:{hp:[129,178,227,275,324],atk:[8,12,15,18,21],hp_:[3.1,4.3,5.5,6.7,7.9],atk_:[3.1,4.3,5.5,6.7,7.9],def_:[3.9,5.4,6.9,8.4,9.9],phy_dmg_bonus:[3.9,5.4,6.9,8.4,9.9],ele_dmg_bonus:[3.1,4.3,5.5,6.7,7.9],ele_mas:[13,17,22,27,32],ener_rech:[3.5,4.8,6.1,7.5,8.8],crit_rate:[2.1,2.9,3.7,4.5,5.3],crit_dmg:[4.2,5.8,7.4,9,10.5],heal_bonu:[2.4,3.3,4.3,5.2,6.1]},2:{hp:[258,331,404,478,551,624,697,770,843],atk:[17,22,26,31,36,41,45,50,55],hp_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7],atk_:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7],def_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1],phy_dmg_bonus:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1],ele_dmg_bonus:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7],ele_mas:[17,22,26,31,36,41,45,50,55],ener_rech:[4.7,6,7.3,8.6,9.9,11.3,12.6,13.9,15.2],crit_rate:[2.8,3.6,4.4,5.2,6,6.8,7.6,8.3,9.1],crit_dmg:[5.6,7.2,8.8,10.4,11.9,13.5,15.1,16.7,18.3],heal_bonu:[3.2,4.1,5.1,6,6.9,7.8,8.7,9.6,10.5]},3:{hp:[430,552,674,796,918,1040,1162,1283,1405,1527,1649,1771,1893],atk:[28,36,44,52,60,68,76,84,91,99,107,115,123],hp_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],atk_:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],def_:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],phy_dmg_bonus:[6.6,8.4,10.3,12.1,14,15.8,17.7,19.6,21.4,23.3,25.1,27,28.8],ele_dmg_bonus:[5.2,6.7,8.2,9.7,11.2,12.7,14.2,15.6,17.1,18.6,20.1,21.6,23.1],ele_mas:[21,27,33,39,45,51,57,63,69,75,80,86,92],ener_rech:[5.8,7.5,9.1,10.8,12.4,14.1,15.7,17.4,19,20.7,22.3,24,25.6],crit_rate:[3.5,4.5,5.5,6.5,7.5,8.4,9.4,10.4,11.4,12.4,13.4,14.4,15.4],crit_dmg:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8],heal_bonu:[4,5.2,6.3,7.5,8.6,9.8,10.9,12,13.2,14.3,15.5,16.6,17.8]},4:{hp:[645,828,1011,1194,1377,1559,1742,1925,2108,2291,2474,2657,2839,3022,3205,3388,3571],atk:[42,54,66,78,90,102,113,125,137,149,161,173,185,197,209,221,232],hp_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],atk_:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],def_:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],phy_dmg_bonus:[7.9,10.1,12.3,14.6,16.8,19,21.2,23.5,25.7,27.9,30.2,32.4,34.6,36.8,39.1,41.3,43.5],ele_dmg_bonus:[6.3,8.1,9.9,11.6,13.4,15.2,17,18.8,20.6,22.3,24.1,25.9,27.7,29.5,31.3,33,34.8],ele_mas:[25,32,39,47,54,61,68,75,82,89,97,104,111,118,125,132,139],ener_rech:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7],crit_rate:[4.2,5.4,6.6,7.8,9,10.1,11.3,12.5,13.7,14.9,16.1,17.3,18.5,19.7,20.8,22,23.2],crit_dmg:[8.4,10.8,13.1,15.5,17.9,20.3,22.7,25,27.4,29.8,32.2,34.5,36.9,39.3,41.7,44.1,46.4],heal_bonu:[4.8,6.2,7.6,9,10.3,11.7,13.1,14.4,15.8,17.2,18.6,19.9,21.3,22.7,24,25.4,26.8]},5:{hp:[717,920,1123,1326,1530,1733,1936,2139,2342,2545,2749,2952,3155,3358,3561,3764,3967,4171,4374,4577,4780],atk:[47,60,73,86,100,113,126,139,152,166,179,192,205,219,232,245,258,272,285,298,311],hp_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],atk_:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],def_:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],phy_dmg_bonus:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],ele_dmg_bonus:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],ele_mas:[28,36,44,52,60,68,76,84,91,99,107,115,123,131,139,147,155,163,171,179,187],ener_rech:[7.8,10,12.2,14.4,16.6,18.8,21,23.2,25.4,27.6,29.8,32,34.2,36.4,38.6,40.8,43,45.2,47.4,49.6,51.8],crit_rate:[4.7,6,7.3,8.6,9.9,11.3,12.6,13.9,15.2,16.6,17.9,19.2,20.5,21.8,23.2,24.5,25.8,27.1,28.4,29.8,31.1],crit_dmg:[9.3,11.9,14.6,17.2,19.9,22.5,25.5,27.8,30.5,33.1,35.8,38.4,41.1,43.7,46.3,49,51.6,54.3,56.9,59.6,62.2],heal_bonu:[5.4,6.9,8.4,10,11.5,13,14.5,16.1,17.6,19.1,20.6,22.2,23.7,25.2,26.7,28.3,29.8,31.3,32.8,34.4,35.9]}},p={hp:{2:[50,61,72],3:[100,115,129,143],4:[167,191,215,239],5:[209,239,269,299]},hp_:{2:[1.6,2,2.3],3:[2.5,2.8,3.2,3.5],4:[3.3,3.7,4.2,4.7],5:[4.1,4.7,5.3,5.8]},atk:{2:[3,4,5],3:[7,8,9],4:[11,12,14,16],5:[14,16,18,19]},atk_:{2:[1.6,2,2.3],3:[2.5,2.8,3.2,3.5],4:[3.3,3.7,4.2,4.7],5:[4.1,4.7,5.3,5.8]},def:{2:[4,5,6],3:[8,9,10,11],4:[13,15,17,19],5:[16,19,21,23]},def_:{2:[2,2.5,2.9],3:[3.1,3.5,3.9,4.4],4:[4.1,4.7,5.3,5.8],5:[5.1,5.8,6.6,7.3]},ele_mas:{2:[7,8,9],3:[10,11,13,14],4:[13,15,17,19],5:[16,19,21,23]},ener_rech:{2:[1.8,2.2,2.6],3:[2.7,3.1,3.5,3.9],4:[3.6,4.1,4.7,5.2],5:[4.5,5.2,5.8,6.5]},crit_rate:{2:[1.1,1.3,1.6],3:[1.6,1.9,2.1,2.3],4:[2.2,2.5,2.8,3.1],5:[2.7,3.1,3.5,3.9]},crit_dmg:{2:[2.2,2.6,3.1],3:[3.3,3.7,4.2,4.7],4:[4.4,5,5.6,6.2],5:[5.4,6.2,7,7.8]}},x={flower:{name:"Flower of Life",stats:["hp"]},plume:{name:"Plume of Death",stats:["atk"]},sands:{name:"Sands of Eon",stats:["hp_","def_","atk_","ele_mas","ener_rech"]},goblet:{name:"Goblet of Eonothem",stats:["hp_","def_","atk_","ele_mas","phy_dmg_bonus","anemo_ele_dmg_bonus","geo_ele_dmg_bonus","electro_ele_dmg_bonus","hydro_ele_dmg_bonus","pyro_ele_dmg_bonus","cryo_ele_dmg_bonus"]},circlet:{name:"Circlet of Logos",stats:["hp_","def_","atk_","ele_mas","crit_rate","crit_dmg","heal_bonu"]}},g=n(81),_=n(92),y=n(84),S=function e(){if(Object(l.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")};S.setToSlots=function(e){var t={};return Object.entries(e).forEach((function(e){var n=Object(c.a)(e,2),a=n[0],r=n[1];r&&(t[r.setKey]?t[r.setKey].push(a):t[r.setKey]=[a])})),t};var k=n(94),N=function(){function e(){if(Object(l.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(s.a)(e,null,[{key:"getRolls",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=null,c=Math.round(e/t[0]);if(!c)return null;var r=function r(l,s){if(!a){if(s.length){if(s.length>c)return;var o=s.reduce((function(e,t){return e+t}),0);if(n){if(o-l>=.101)return;if(Object(y.c)(o,l))return void(a=s)}else{if(o-l>1)return;if(Object(y.d)(o,l))return void(a=s)}}t.slice().reverse().forEach((function(t){r(e,[].concat(Object(i.a)(s),[t]))}))}};return r(e,[]),a}},{key:"validateSubStat",value:function(e,t){var n,a;if(!t||!t.value)return{valid:!0};var c=parseFloat(t.value);if(isNaN(c))return{valid:!1,msg:"Invalid Input"};var r=e.numStars;if(!r)return{valid:!1,msg:"Artifact Stars not set."};var i="%"===g.b.getStatUnit(t.key),l=this.getSubstatRollData(t.key,r),s=this.getRolls(c,l,i);if(!s||0===s.length)return{valid:!1,msg:"Substat cannot be rolled 0 times."};var o=(null===(n=f[r])||void 0===n?void 0:n.numUpgradesOrUnlocks)-(4-(null===(a=f[r])||void 0===a?void 0:a.subBaseHigh))+1;if(s.length>o)return{valid:!1,msg:"Substat cannot be rolled more than ".concat(o," times.")};var u=l[0]*s.length,d=l[l.length-1]*s.length;return{valid:!0,efficiency:Object(y.b)((c-u)/(d-u)*100),msg:"This substat was rolled ".concat(s.length," time(s). Values: [").concat(s.join(", "),"]"),rolls:s}}},{key:"artifactValidation",value:function(t){var n,a=0,c=0,i=t.substats.map((function(n){return e.validateSubStat(t,n)})),l=Object(r.a)(i);try{for(l.s();!(n=l.n()).done;){if(!n.value.valid)return{subStatValidations:i,valid:!1,msg:"One of the substat is invalid.",currentEfficiency:a,maximumEfficiency:c}}}catch(j){l.e(j)}finally{l.f()}if(i.some((function(e){var t;return(null===e||void 0===e||null===(t=e.rolls)||void 0===t?void 0:t.length)>1}))&&i.some((function(e){return!e.rolls})))return{subStatValidations:i,valid:!1,msg:"One of the substat have >1 rolls, but not all substats are unlocked.",currentEfficiency:a,maximumEfficiency:c};var s=i.reduce((function(e,t){return e+(t.valid&&t.rolls?t.rolls.length:0)}),0),o=e.rollsRemaining(t.level,t.numStars),u=e.totalPossibleRolls(t.numStars);if(s+o>u)return{subStatValidations:i,valid:!1,msg:"Current number of substat rolles(".concat(s,") + Rolls remaining from level up (").concat(o,") is greater than the total possible roll of this artifact (").concat(u,") "),currentEfficiency:a,maximumEfficiency:c};var d=i.reduce((function(e,t){return e+(t.valid&&t.rolls&&t.efficiency?t.efficiency*t.rolls.length:0)}),0);return{valid:!0,subStatValidations:i,currentNumOfRolls:s,rollsRemaining:o,totalPossbleUpgrade:u,currentEfficiency:a=Object(y.b)(d/u),maximumEfficiency:c=Object(y.b)((d+100*o)/u)}}},{key:"equipArtifactOnChar",value:function(e,t){var n=k.a.getArtifact(e);if(n){var a=n.location,c=t||"";if(a!==c){var r=n.slotKey,i=u.a.getArtifactIDFromSlot(c,r),l=k.a.getArtifact(i);l?k.a.swapLocations(n,l):k.a.moveToNewLocation(n.id,c),c&&u.a.equipArtifact(c,n),a&&(l?u.a.equipArtifact(a,l):u.a.unequipArtifactOnSlot(a,r))}}}}]),e}();N.getDataImport=function(){return h},N.getSetKeys=function(){return Object.keys(m||{})},N.getSetName=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===m||void 0===m||null===(t=m[e])||void 0===t?void 0:t.name)||n},N.getSetsByMaxStarEntries=function(e){return Object.entries(m||{}).filter((function(t){var n=Object(c.a)(t,2)[1];return n.rarity[n.rarity.length-1]===e}))},N.getPieces=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(null===m||void 0===m||null===(t=m[e])||void 0===t?void 0:t.pieces)||n},N.getPieceName=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return N.getPieces(e)[t]||n},N.getPieceIcon=function(e,t){var n,a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===m||void 0===m||null===(n=m[e])||void 0===n||null===(a=n.icons)||void 0===a?void 0:a[t])||c},N.getSetEffectsObj=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(null===m||void 0===m||null===(t=m[e])||void 0===t?void 0:t.setEffects)||n},N.getArtifactSetNumStats=function(e,t){var n,a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(y.e)((null===(n=N.getSetEffectsObj(e))||void 0===n||null===(a=n[t])||void 0===a?void 0:a.stats)||c)},N.getArtifactSetEffectsStats=function(e){var t=[];return Object.entries(e).forEach((function(e){var n=Object(c.a)(e,2),a=n[0],r=n[1];return Object.entries(N.getSetEffectsObj(a)).forEach((function(e){var n=Object(c.a)(e,2),a=n[0],i=n[1];return parseInt(a)<=r.length&&i.stats&&Object.keys(i.stats).length&&Object.entries(i.stats).forEach((function(e){var n=Object(c.a)(e,2),a=n[0],r=n[1];return t.push({key:a,statVal:r})}))}))})),t},N.getSetEffects=function(e){var t={};return Object.entries(e).forEach((function(e){var n=Object(c.a)(e,2),a=n[0],r=n[1],i=Object.keys(N.getSetEffectsObj(a)).filter((function(e){return parseInt(e)<=r.length}));i.length&&(t[a]=i)})),t},N.getSetEffectText=function(e,t,n){var a,c,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=null===(a=N.getSetEffectsObj(e))||void 0===a||null===(c=a[t])||void 0===c?void 0:c.text;return i?"function"===typeof i?i(n):i||r:r},N.getSetEffectConditional=function(e,t){var n,a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(n=N.getSetEffectsObj(e))||void 0===n||null===(a=n[t])||void 0===a?void 0:a.conditional)||c},N.getSlotKeys=function(){return Object.keys(x||{})},N.getSlotName=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===x||void 0===x||null===(t=x[e])||void 0===t?void 0:t.name)||n},N.getSlotIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&j[e]?Object(a.jsx)(o.a,{icon:j[e],className:"fa-fw"},e):t},N.getSlotMainStatKeys=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null===x||void 0===x||null===(t=x[e])||void 0===t?void 0:t.stats)||n},N.getSlotNameWithIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return t;var n=N.getSlotName(e);if(!n)return t;var c=N.getSlotIcon(e);return c?Object(a.jsxs)("span",{children:[c," ",n]}):t},N.splitArtifactsBySlot=function(e){return Object.fromEntries(N.getSlotKeys().map((function(t){return[t,Object.values(e).filter((function(e){return e.slotKey===t}))]})))},N.getStars=function(){return Object.keys(f||{})},N.getRarityArr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null===m||void 0===m||null===(t=m[e])||void 0===t?void 0:t.rarity)||n},N.getMainStatKeys=function(){return Object(y.e)(v)},N.getMainStatValues=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(null===O||void 0===O||null===(n=O[e])||void 0===n?void 0:n[t])||a},N.getMainStatValue=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=N.getMainStatValues(t,e)[n];return c||((null===e||void 0===e?void 0:e.includes("_ele_dmg_bonus"))?N.getMainStatValue("ele_dmg_bonus",t,n,a):a)},N.getBaseSubRollNumLow=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===f||void 0===f||null===(t=f[e])||void 0===t?void 0:t.subsBaselow)||n},N.getBaseSubRollNumHigh=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===f||void 0===f||null===(t=f[e])||void 0===t?void 0:t.subBaseHigh)||n},N.getNumUpgradesOrUnlocks=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null===f||void 0===f||null===(t=f[e])||void 0===t?void 0:t.numUpgradesOrUnlocks)||n},N.getSubStatKeys=function(){return Object.keys(p||{})},N.totalPossibleRolls=function(e){return f[e]?f[e].subBaseHigh+f[e].numUpgradesOrUnlocks:0},N.rollsRemaining=function(e,t){return Math.ceil((4*t-e)/4)},N.numberOfSubstatUnlocked=function(e){return e.substats.reduce((function(e,t){return e+(t&&t.value?1:0)}),0)},N.getSubstatRollData=function(e,t){return e&&t?p[e][t]:[]},N.setToSlots=S.setToSlots,N.getConditionalStats=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!n)return a;var r=N.getSetEffectConditional(e,t);if(!r)return a;var i=_.a.getConditionalProp(r,"stats",n),l=Object(c.a)(i,2),s=l[0],o=l[1];return o?Object.fromEntries(Object.entries(s).map((function(e){var t=Object(c.a)(e,2);return[t[0],t[1]*o]}))):a},N.getAllArtifactSetEffectsObj=function(e){var t={};return Object.entries(m).forEach((function(n){var a=Object(c.a)(n,2),r=a[0],i=a[1],l={},s=!1;i.setEffects&&Object.entries(i.setEffects).forEach((function(t){var n=Object(c.a)(t,2),a=n[0],i=n[1];if(i.stats&&Object.keys(i.stats).length>0&&(l[a]=Object(y.e)(i.stats),s=!0),i.conditional){var o=_.a.getConditionalNum(e,{srcKey:r,srcKey2:a});if(o){var u=N.getConditionalStats(r,a,o);Object.keys(u)>0&&(l[a]=Object(y.e)(u),s=!0)}}})),s&&(t[r]=l)})),t}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(89),c=n(82),r=n(93),i=n(84),l=function(){function e(){if(Object(c.a)(this,e),this instanceof e)throw Error("A static class cannot be instantiated.")}return Object(r.a)(e,null,[{key:"getConditionalNum",value:function(e,t){var n,a=t.srcKey,c=t.srcKey2;if(e)return(null===(n=e.find((function(e){return e.srcKey===a&&(!c||c&&e.srcKey2===c)})))||void 0===n?void 0:n.conditionalNum)||0}},{key:"setConditional",value:function(e,t,n){var a=t.srcKey,c=t.srcKey2;e||(e=[]);var r=e.findIndex((function(e){return e.srcKey===a&&(!c||c&&e.srcKey2===c)}));if(!n&&r>=0)e.splice(r,1);else{var i={srcKey:a,conditionalNum:n};c&&(i.srcKey2=c),r>=0?e[r]=i:e.push(i)}return e}},{key:"getConditionalProp",value:function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[{},0];if(Array.isArray(e)){var r,l=n,s=null,o=Object(a.a)(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(!(l>u.maxStack)){s=u;break}l-=u.maxStack}}catch(b){o.e(b)}finally{o.f()}if(!s)return c;var d=Object(i.a)(l,1,s.maxStack);return[s[t],d]}var j=Object(i.a)(n,1,e.maxStack);return[e[t],j]}}]),e}()}}]);
//# sourceMappingURL=11.0d5286d0.chunk.js.map