(this["webpackJsonpgenshin-optimizer"]=this["webpackJsonpgenshin-optimizer"]||[]).push([[16,33],{231:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a(137),r=a(64),i=a(113),l=a(16),s=a(0),o=function(e){return Object(s.jsx)(r.b,{ns:"resonance_gen",key18:e})},u=[{header:{title:o("ProtectiveCanopy.name"),action:Object(s.jsxs)("span",{children:[c.a.anemo," ",c.a.geo," ",c.a.pyro," ",c.a.hydro," ",c.a.cryo," ",c.a.electro," x4"]})},description:o("ProtectiveCanopy.desc"),canShow:function(e){return 4===new Set([].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return e}))).size},conditionals:[{key:"pc",partyBuff:"partyAll",canShow:function(e){return 4===new Set([].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle])).size},maxStack:0,stats:Object.fromEntries([].concat(Object(n.a)(l.d),["physical"]).map((function(e){return["".concat(e,"_res_"),15]})))}]},{header:{title:o("FerventFlames.name"),action:Object(s.jsxs)("span",{children:[c.a.pyro," ",c.a.pyro]})},description:o("FerventFlames.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"pyro"===e})).length>=2},conditionals:[{key:"ff",partyBuff:"partyAll",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"pyro"===e})).length>=2},maxStack:0,stats:{atk_:25},fields:[{text:"Cryo affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("SoothingWater.name"),action:Object(s.jsxs)("span",{children:[c.a.hydro," ",c.a.hydro]})},canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"hydro"===e})).length>=2},description:o("SoothingWater.desc"),conditionals:[{key:"sw",maxStack:0,canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"hydro"===e})).length>=2},partyBuff:"partyAll",stats:{incHeal_:30},fields:[{text:"Pyro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("ShatteringIce.name"),action:Object(s.jsxs)("span",{children:[c.a.cryo," ",c.a.cryo]})},canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"cryo"===e})).length>=2},description:o("ShatteringIce.desc"),conditionals:[{key:"si",name:"Against enemies that are Frozen or affected by Cryo",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"cryo"===e})).length>=2},partyBuff:"partyAll",stats:{critRate_:15},fields:[{text:"Electro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("HighVoltage.name"),action:Object(s.jsxs)("span",{children:[c.a.electro," ",c.a.electro]})},description:o("HighVoltage.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"electro"===e})).length>=2},conditionals:[{key:"hv",partyBuff:"partyAll",maxStack:0,canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"electro"===e})).length>=2},fields:[{text:"Hydro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("ImpetuousWinds.name"),action:Object(s.jsxs)("span",{children:[c.a.anemo," ",c.a.anemo]})},description:o("ImpetuousWinds.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"anemo"===e})).length>=2},conditionals:[{key:"iw",partyBuff:"partyAll",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"anemo"===e})).length>=2},maxStack:0,stats:{staminaDec_:15,moveSPD_:10,skillCDRed_:5},fields:[{text:"Pyro affect Duration",value:-40,unit:"%"}]}]},{header:{title:o("EnduringRock.name"),action:Object(s.jsxs)("span",{children:[c.a.geo," ",c.a.geo]})},description:o("EnduringRock.desc"),canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},conditionals:[{key:"er",name:"Increases shield strength",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},partyBuff:"partyAll",stats:{shield_:15}},{key:"ers",name:"characters protected by a shield",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},partyBuff:"partyAll",stats:{dmg_:15}},{key:"erd",name:"characters protected by a shield: dealing DMG to enemies",canShow:function(e){return[].concat(Object(n.a)(e.teamStats.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.characterEle)&&void 0!==t?t:""}))),[e.characterEle]).filter((function(e){return"geo"===e})).length>=2},partyBuff:"partyAll",stats:{geo_enemyRes_:-20},fields:[{text:Object(i.h)("duration"),value:15,unit:"s"}]}]}];t.default=u},288:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(11),c=a(4),r=a(1),i=a(177),l=a(57);function s(e){var t=Object(r.useContext)(i.b);return Object(r.useCallback)((function(a){if(e)if("type"in a)switch(a.type){case"weapon":t.setWeaponLocation(a.id,e);break;case"editStats":var r,i=t._getChar(e),s=a.statKey,o=a.value,u=i.bonusStats;if(u[s]===o)return;if(l.h.includes(s))(null!==(r=Object(l.a)(i)[s])&&void 0!==r?r:0)===o?delete u[s]:u[s]=o;else o?u[s]=o:delete u[s];t.updateChar(Object(c.a)(Object(c.a)({},i),{},{bonusStats:u}));break;case"resetStats":var j=t._getChar(e),d=a.statKey,b=j.bonusStats;delete b[d],t.updateChar(Object(c.a)(Object(c.a)({},j),{},{bonusStats:b}));break;case"team":var h=t._getChar(e),O=h.team,x=a.index,f=a.charKey,v=O[x];if(O[x]=f,v){var p=t._getChar(v);p&&t.updateChar(Object(c.a)(Object(c.a)({},p),{},{team:["","",""]}))}if(f){var m=t._getChar(f);m&&m.team.forEach((function(e){if(e){var a=t._getChar(e);a&&t.updateChar(Object(c.a)(Object(c.a)({},a),{},{team:a.team.map((function(e){return e===f?"":e}))}))}}))}O.forEach((function(a,r){if(a){var i=t._getChar(a);i&&t.updateChar(Object(c.a)(Object(c.a)({},i),{},{team:[e].concat(Object(n.a)(O)).filter((function(e,t){return t!==r+1}))}))}})),t.updateChar(Object(c.a)(Object(c.a)({},h),{},{team:O}))}else t.updateChar(Object(c.a)(Object(c.a)({},t._getChar(e)),a))}),[e,t])}},292:function(e,t,a){"use strict";a.d(t,"b",(function(){return k})),a.d(t,"a",(function(){return w}));var n,c,r,i,l=a(4),s=a(41),o=a(65),u=a(368),j=a(369),d=a(1031),b=a(259),h=a(80),O=a(260),x=a(1),f=a(133),v=a(138),p=a(177),m=a(135),y=a(285),g=a(308),S=a(0);function k(e){var t,a=e.value,k=e.onChange,C=e.unSelectText,_=e.unSelectIcon,B=e.inventory,E=void 0!==B&&B,A=e.noUnselect,K=void 0!==A&&A,T=e.filter,F=void 0===T?function(){return!0}:T,V=Object(o.a)(e,["value","onChange","unSelectText","unSelectIcon","inventory","noUnselect","filter"]),D=Object(f.a)("ui").t,N=Object(x.useContext)(p.b),M=Object(m.a)(v.b.getAll(),[]),R=Object(m.a)(v.b.get(a),[a]),W=N._getCharKeys().filter((function(e){return(null===M||void 0===M?void 0:M[e])&&F(M[e],e)})).sort();return Object(S.jsxs)(y.a,Object(l.a)(Object(l.a)({},V),{},{title:null!==(t=null===R||void 0===R?void 0:R.name)&&void 0!==t?t:E?D(n||(n=Object(s.a)(["inventory"]))):null!==C&&void 0!==C?C:D(c||(c=Object(s.a)(["unselect"]))),color:a?"success":"primary",startIcon:(null===R||void 0===R?void 0:R.thumbImg)?Object(S.jsx)(g.a,{src:R.thumbImgSide}):E?Object(S.jsx)(u.a,{}):null!==_&&void 0!==_?_:Object(S.jsx)(j.a,{}),children:[!K&&(E?Object(S.jsxs)(d.a,{onClick:function(){return k("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(u.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:D(r||(r=Object(s.a)(["inventory"])))})]}):Object(S.jsxs)(d.a,{onClick:function(){return k("")},selected:""===a,disabled:""===a,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:D(i||(i=Object(s.a)(["unselect"])))})]})),!K&&Object(S.jsx)(O.a,{},"div"),!!M&&w(M,W,k,a)]}))}function w(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t.map((function(t){var c;return Object(S.jsxs)(d.a,{onClick:function(){return a(t)},selected:n===t,disabled:n===t,children:[Object(S.jsx)(b.a,{children:Object(S.jsx)(g.a,{src:e[t].thumbImgSide})}),Object(S.jsx)(h.a,{variant:"inherit",noWrap:!0,children:null===e||void 0===e||null===(c=e[t])||void 0===c?void 0:c.name})]},t)}))}},293:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return b})),a.d(t,"c",(function(){return h}));var n=a(3),c=a(4),r=a(65),i=a(10),l=a(483),s=a(278),o=a(1),u=a(0),j=Object(i.a)(l.c)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.main,transition:"all 0.5s ease","&:hover":{backgroundColor:t.palette.primary.dark},"&.Mui-focused":{backgroundColor:t.palette.primary.dark},"&.Mui-disabled":{backgroundColor:t.palette.primary.dark}}})),d=Object(i.a)(s.a)((function(e){return{backgroundColor:e.theme.palette.primary.main,padding:0,overflow:"hidden",div:{width:"100%",height:"100%"}}}));function b(e){var t=e.children,a=(e.disableRipple,e.disableFocusRipple,e.disableTouchRipple,Object(r.a)(e,["children","disableRipple","disableFocusRipple","disableTouchRipple"]));return Object(u.jsx)(d,Object(c.a)(Object(c.a)({disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0},a),{},{children:t}))}function h(e){var t=e.value,a=void 0===t?0:t,i=e.onChange,l=e.disabled,s=void 0!==l&&l,d=e.float,b=void 0!==d&&d,h=Object(r.a)(e,["value","onChange","disabled","float"]),O=Object(o.useState)(a),x=Object(n.a)(O,2),f=x[0],v=x[1],p=Object(o.useState)(!1),m=Object(n.a)(p,2),y=m[0],g=m[1],S=Object(o.useMemo)((function(){return b?parseFloat:parseInt}),[b]),k=Object(o.useCallback)((function(){i(f),g(!1)}),[i,f,g]),w=Object(o.useCallback)((function(){g(!0)}),[g]);Object(o.useEffect)((function(){return v(a)}),[a,v]);var C=Object(o.useCallback)((function(e){return v(S(e.target.value)||0)}),[v,S]),_=Object(o.useCallback)((function(e){return"Enter"===e.key&&k()}),[k]);return Object(u.jsx)(j,Object(c.a)({value:y&&!f?"":f,"aria-label":"custom-input",type:"number",onChange:C,onBlur:k,onFocus:w,disabled:s,onKeyDown:_},h))}},296:function(e,t,a){"use strict";a.d(t,"b",(function(){return x})),a.d(t,"a",(function(){return f}));var n=a(51),c=a(17),r=a(80),i=a(220),l=a(406),s=a(10),o=a(276),u=a(1),j=a(21),d=a(286),b=a(300),h=a(31),O=a(0);function x(e){var t,a,s=e.field,o=Object(u.useContext)(j.a),x=o.newBuild,f=o.equippedBuild,v=o.compareBuild,p=x||f,m=Object(u.useMemo)((function(){var e;return!!p&&(null===s||void 0===s||null===(e=s.canShow)||void 0===e?void 0:e.call(s,p))}),[s,p]),y=(null===s||void 0===s?void 0:s.fixed)||0,g=Object(u.useMemo)((function(){if(s.value)return d.a.getTalentFieldValue(s,"value",p);if(s.formula){var e,t,a=null===(e=d.a.getTalentFieldValue(s,"formula",p))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.call(e,p);if(v&&f&&"number"===typeof a){var n,c,r,i,l,o,u,j,b,x=s.value?s.value:null===(n=s.formula)||void 0===n||null===(c=n.call(s,f))||void 0===c||null===(r=c[0])||void 0===r?void 0:r.call(c,f);"function"===typeof x&&(x=parseInt(null===(i=x)||void 0===i||null===(l=i(f))||void 0===l||null===(o=l.toFixed)||void 0===o?void 0:o.call(l,y)));var m=a-x;a=Object(O.jsxs)("span",{children:[null!==(u=null===(j=x)||void 0===j?void 0:j.toFixed(y))&&void 0!==u?u:x,m?Object(O.jsxs)(h.a,{color:m>0?"success":"error",children:[" (",m>0?"+":"",(null===m||void 0===m||null===(b=m.toFixed)||void 0===b?void 0:b.call(m,y))||m,")"]}):""]})}return a}}),[v,y,f,s,p]),S=Object(u.useMemo)((function(){return d.a.getTalentFieldValue(s,"text",p)}),[s,p]),k=Object(u.useMemo)((function(){return d.a.getTalentFieldValue(s,"variant",p)}),[s,p]),w=Object(u.useMemo)((function(){var e=d.a.getTalentFieldValue(s,"formulaText",p);return e?Object(O.jsx)(b.a,{placement:"top",title:Object(O.jsx)(r.a,{children:e}),children:Object(O.jsx)(i.a,{component:"span",sx:{cursor:"help",ml:1},children:Object(O.jsx)(c.a,{icon:n.v})})}):null}),[s,p]),C=Object(u.useMemo)((function(){return d.a.getTalentFieldValue(s,"unit",p)}),[s,p]);return m?Object(O.jsxs)(l.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("b",{children:S}),w]}),Object(O.jsxs)(r.a,{color:"".concat(k,".main"),children:[null!==(t=null===g||void 0===g||null===(a=g.toFixed)||void 0===a?void 0:a.call(g,y))&&void 0!==t?t:g,C]})]}):null}var f=Object(s.a)(o.a)((function(e){var t=e.theme;return{borderRadius:t.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:t.palette.contentDark.main},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:t.palette.contentDarker.main}}}))},300:function(e,t,a){"use strict";var n=a(6),c=a(4),r=a(65),i=a(10),l=a(1014),s=a(610),o=a(0),u=Object(i.a)((function(e){var t=e.className,a=Object(r.a)(e,["className"]);return Object(o.jsx)(l.a,Object(c.a)(Object(c.a)({},a),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,a=e.theme;return t={},Object(n.a)(t,"& .".concat(s.a.arrow),{color:a.palette.common.black}),Object(n.a)(t,"& .".concat(s.a.tooltip),{backgroundColor:a.palette.common.black}),t}));t.a=u},305:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(220),c=a(1),r=a(21),i=a(114),l=a(288),s=a(12),o=a(318),u=a(296),j=a(0);function d(e){var t=e.sections,a=e.characterKey,d=e.skipConditionalEquipmentCheck,b=Object(c.useContext)(r.a),h=b.newBuild,O=b.equippedBuild,x=h||O,f=Object(l.a)(a),v=Object(c.useCallback)((function(e){return f({conditionalValues:e})}),[f]);if(!x)return null;var p=null===t||void 0===t?void 0:t.map((function(e,t){var a,c;if(!e.canShow(x))return null;var r=Object(s.f)(e.text,x),l=null!==(a=e.fields)&&void 0!==a?a:[],b=e.conditional&&"partyOnly"!==e.conditional.partyBuff&&i.a.canShow(e.conditional,x,d);return r||l.length||b?Object(j.jsxs)(n.a,{display:"flex",flexDirection:"column",gap:1,children:[r&&Object(j.jsx)("div",{children:r}),l.length>0&&Object(j.jsx)(u.a,{children:null===l||void 0===l||null===(c=l.map)||void 0===c?void 0:c.call(l,(function(e,t){return Object(j.jsx)(u.b,{field:e},t)}))}),!!e.conditional&&b&&Object(j.jsx)(o.a,{conditional:e.conditional,stats:x,onChange:v,hideDesc:!0,skipConditionalEquipmentCheck:d})]},"section"+t):null})).filter((function(e){return e}));return p.length?Object(j.jsx)(n.a,{display:"flex",flexDirection:"column",gap:1,children:p}):null}},306:function(e,t,a){"use strict";var n=a(4),c=a(65),r=a(10),i=a(279),l=a(0),s=Object(r.a)((function(e){e.expand;var t=Object(c.a)(e,["expand"]);return Object(l.jsx)(i.a,Object(n.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));t.a=s},307:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return u}));var n=a(3),c=a(74),r=a(136),i=a(16),l=a(12),s=a(0);function o(e,t,a){if("basicKeys"===e)return{title:"Basic Stats"};if("genericAvgHit"===e)return{title:"Generic Optimization Values"};if("transReactions"===e)return{title:"Transformation Reaction"};if(e.startsWith("talentKey_")){var c,i=e.split("talentKey_")[1],l=t.characterSheets[a.characterKey].getTalentOfKey(i,a.characterEle);return{icon:null===l||void 0===l?void 0:l.img,title:null!==(c=null===l||void 0===l?void 0:l.name)&&void 0!==c?c:i}}if(e.startsWith("weapon_")){var o,u=e.split("weapon_")[1],j=t.weaponSheets[a.weapon.key];return{icon:a.weapon.refineIndex<2?null===j||void 0===j?void 0:j.img:null===j||void 0===j?void 0:j.imgAwaken,title:null!==(o=j.name)&&void 0!==o?o:u}}if(e.startsWith("artifact_")){var d=e.split("_"),b=Object(n.a)(d,3),h=b[1],O=b[2],x=t.artifactSheets[h];return{icon:x.defIconSrc,title:Object(s.jsxs)("span",{children:[x.name," ",Object(s.jsxs)(r.a,{color:"success",children:[O,"-Set"]})]})}}return{title:""}}function u(e){return{key:e,level:1,ascension:0,hitMode:"avgHit",reactionMode:"",equippedArtifacts:Object(l.o)(i.i,(function(){return""})),equippedWeapon:"",conditionalValues:{},bonusStats:{},buildSettings:Object(c.a)(),talent:{auto:1,skill:1,burst:1},infusionAura:"",constellation:0,team:["","",""]}}},308:function(e,t,a){"use strict";var n=a(367),c=Object(n.a)("img")((function(e){var t=e.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:t.spacing(-3),marginLeft:t.spacing(-1.25),marginRight:t.spacing(-1),marginBottom:t.spacing(-1)}}));t.a=c},309:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n,c=a(41),r=a(368),i=a(80),l=a(133),s=a(138),o=a(135),u=a(0);function j(e){var t=e.location,a=Object(l.a)("ui").t,j=Object(o.a)(s.b.get(null!==t&&void 0!==t?t:""),[t]);return Object(u.jsx)(i.a,{component:"span",children:(null===j||void 0===j?void 0:j.name)?j.nameWIthIcon:Object(u.jsxs)("span",{children:[Object(u.jsx)(r.a,{sx:{verticalAlign:"text-bottom"}})," ",a(n||(n=Object(c.a)(["inventory"])))]})})}},313:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(220),c=a(80),r=a(1),i=a(286),l=a(113),s=a(141),o=a(135),u=a(22),j=a(57),d=a(31),b=a(137),h=a(0);function O(e){var t,a,r=e.label,i=void 0===r?"":r,l=e.val,s=e.oldVal,o=e.fixed,u=void 0===o?0:o,j=e.unit,b=void 0===j?"":j,O=e.hasBonus,x=void 0!==O&&O;"undefined"===typeof s&&"number"===typeof l&&(s=l,l=void 0);var f=void 0!==l?l-s:0,v="",p="";s||0===f?v=null===(t=s)||void 0===t?void 0:t.toFixed(u):void 0===s&&(v=null===(a=l)||void 0===a?void 0:a.toFixed(u)),v&&(v=Object(h.jsxs)("span",{children:[v,b]})),0!==f&&(p=Object(h.jsxs)(d.a,{color:f>0?"success":"error",children:[f>0?"+":"",null===f||void 0===f?void 0:f.toFixed(u),b]}));var m=Object(h.jsxs)(h.Fragment,{children:[v,p]});return Object(h.jsxs)(n.a,{display:"flex",justifyContent:"space-between",children:[Object(h.jsx)(c.a,{children:i}),Object(h.jsx)(c.a,{children:x?Object(h.jsx)("strong",{children:m}):m})]})}function x(e){var t=e.character,a=e.equippedBuild,x=e.newBuild,f=e.statKey,v=e.partyBuff,p=void 0!==v&&v,m=Object(o.a)(Array.isArray(f)?s.a.get(f):void 0,[f]),y=Object(r.useMemo)((function(){var e,n,c,r,l="";if("string"===typeof f){if(x&&a){var s,o,O,v,y,g;if(e=null!==(s=null===x||void 0===x?void 0:x[f])&&void 0!==s?s:0,n=null!==(o=null===a||void 0===a?void 0:a[f])&&void 0!==o?o:0,p)e=null!==(O=null===x||void 0===x||null===(v=x.partyBuff)||void 0===v?void 0:v[f])&&void 0!==O?O:0,n=null!==(y=null===a||void 0===a||null===(g=a.partyBuff)||void 0===g?void 0:g[f])&&void 0!==y?y:0}else{var S,k,w,C=x||a;if(e=null!==(S=null===C||void 0===C?void 0:C[f])&&void 0!==S?S:0,p)e=null!==(k=null===C||void 0===C||null===(w=C.partyBuff)||void 0===w?void 0:w[f])&&void 0!==k?k:0;p||(n=Object(j.a)(t)[f],C&&("finalHP"===f?n=C.characterHP:"finalDEF"===f?n=C.characterDEF:"finalATK"===f&&(n=C.characterATK+C.weaponATK)))}r=u.b.getStatUnit(f),c=u.b.fixedUnit(f),l=Object(h.jsxs)("span",{children:[b.a[f]," ",u.b.getStatName(f)]})}else if(m){var _,B,E,A,K=x||a,T=m.field,F=i.a.getTalentFieldValue(T,"variant",K);if(l=Object(h.jsx)(d.a,{color:F,children:i.a.getTalentFieldValue(T,"text",K)}),c=i.a.getTalentFieldValue(T,"fixed",K,0),r=i.a.getTalentFieldValue(T,"unit",K,""),e=null===(_=i.a.getTalentFieldValue(T,"formula",K))||void 0===_||null===(B=_[0])||void 0===B?void 0:B.call(_,K),x&&a)n=null===(E=i.a.getTalentFieldValue(T,"formula",a))||void 0===E||null===(A=E[0])||void 0===A?void 0:A.call(E,a)}return{val:e,oldVal:n,fixed:c,unit:r,label:l,hasBonus:!p&&i.a.hasBonusStats(t,f)}}),[t,a,x,f,p,m]),g=y.val,S=y.oldVal,k=y.fixed,w=y.unit,C=y.label,_=y.hasBonus;if(g&&"number"!==typeof g||S&&"number"!==typeof S){var B=g;return"infusionAura"===f&&(B=Object(h.jsx)(d.a,{color:g,children:Object(l.h)("element.".concat(g))})),Object(h.jsxs)(n.a,{display:"flex",justifyContent:"space-between",children:[Object(h.jsx)(c.a,{children:C}),Object(h.jsx)(c.a,{children:Object(h.jsx)("strong",{children:B})})]})}return Object(h.jsx)(O,{val:g,oldVal:S,fixed:k,unit:w,label:C,hasBonus:_})}},315:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(3),c=a(1),r=a(177);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(c.useContext)(r.b),a=Object(c.useState)(t._getWeapon(e)),i=Object(n.a)(a,2),l=i[0],s=i[1];return Object(c.useEffect)((function(){return s(t._getWeapon(e))}),[t,e]),Object(c.useEffect)((function(){return e?t.followWeapon(e,s):void 0}),[e,s,t]),l}},318:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(3),c=a(11),r=a(360),i=a(260),l=a(485),s=a(220),o=a(1),u=a(114),j=a(374),d=a(375),b=a(1031),h=a(80),O=a(278),x=a(285),f=a(136),v=a(12),p=a(0);function m(e){var t=e.conditional,a=e.conditionalValue,r=e.setConditional,l=e.name,s=e.disabled,o=void 0!==s&&s,u=e.stats,m=Object(n.a)(a,2),y=m[0],g=void 0===y?0:y,S=m[1];if(!t)return l;if("states"in t){var k=S?t.states[S]:Object.values(t.states)[0],w=0===g?"Not Active":Object(p.jsxs)("span",{children:[k.name," ",Object(v.f)(k.maxStack,u)>1?": ".concat(g," stack").concat(g>1?"s":""):""]}),C=Object(p.jsx)(f.a,{color:0===g?"secondary":"success",children:w});return Object(p.jsxs)(x.a,{fullWidth:!0,size:"small",title:Object(p.jsxs)("span",{children:[l," ",C]}),disabled:o,children:[Object(p.jsx)(b.a,{onClick:function(){return r([0])},selected:0===g,disabled:0===g,children:Object(p.jsx)("span",{children:"Not Active"})}),Object(p.jsx)(i.a,{}),Object.entries(t.states).flatMap((function(e,t){var a=Object(n.a)(e,2),i=a[0],l=a[1];return Object(c.a)(Array(l.maxStack).keys()).map((function(e){return e+1})).map((function(e,t){return Object(p.jsxs)(b.a,{onClick:function(){return r([e,i])},selected:S===i&&g===e,disabled:S===i&&g===e,children:[l.name,l.maxStack>1?": ".concat(e," stack").concat(e>1?"s":""):""]},i+t)}))}))]})}var _=Object(v.f)(t.maxStack,u);if(0===_)return l?Object(p.jsx)(h.a,{children:l}):null;if(1===_)return Object(p.jsx)(O.a,{fullWidth:!0,size:"small",onClick:function(){return r([g?0:1])},disabled:o,startIcon:g?Object(p.jsx)(j.a,{}):Object(p.jsx)(d.a,{}),children:l});if(_>1){var B=Object(p.jsx)(f.a,{color:0===g?"secondary":"success",children:g>0?"".concat(g," stack").concat(g>1?"s":""):"Not Active"});return Object(p.jsxs)(x.a,{fullWidth:!0,size:"small",title:Object(p.jsxs)("span",{children:[l," ",B]}),disabled:o,children:[Object(p.jsx)(b.a,{onClick:function(){return r([0])},selected:0===g,disabled:0===g,children:Object(p.jsx)("span",{children:"Not Active"})}),Object(p.jsx)(i.a,{}),Object(c.a)(Array(_).keys()).map((function(e){return e+1})).map((function(e){return Object(p.jsx)(b.a,{onClick:function(){return r([e])},selected:g===e,disabled:g===e,children:"".concat(e," stack").concat(e>1?"s":"")},e)}))]})}return null}var y=a(115),g=a(284),S=a(296);function k(e){var t=e.conditional,a=e.stats,j=e.hideHeader,d=void 0!==j&&j,b=e.hideDesc,h=void 0!==b&&b,O=e.onChange,x=e.skipConditionalEquipmentCheck,f=void 0!==x&&x,k=Object(o.useMemo)((function(){return u.a.canShow(t,a,f)}),[t,a,f]),w=Object(o.useMemo)((function(){return k?u.a.resolve(t,a):{stats:{},fields:[],conditionalValue:[0]}}),[k,t,a]),C=w.stats,_=void 0===C?{}:C,B=w.fields,E=void 0===B?[]:B,A=w.conditionalValue,K=Object(o.useMemo)((function(){return k?[].concat(Object(c.a)(Object(y.a)(_,a)),Object(c.a)(E)):[]}),[k,_,a,E]),T=Object(o.useCallback)((function(e){var c=Object(n.a)(e,1)[0];(void 0===c?0:c)?t.keys&&Object(v.k)(a.conditionalValues,t.keys,e):(Object(v.e)(a.conditionalValues,t.keys),Object(v.l)(a.conditionalValues)),O(a.conditionalValues)}),[t,a,O]),F=!h&&t.description&&Object(v.f)(t.description,a);return k&&a?Object(p.jsxs)(g.a,{children:[!d&&t.header&&Object(p.jsx)(r.a,{avatar:t.header.icon&&Object(v.f)(t.header.icon,a),title:t.header.title,action:t.header.action,titleTypographyProps:{variant:"subtitle2"}}),!d&&t.header&&Object(p.jsx)(i.a,{}),!!t.name&&Object(p.jsxs)(l.a,{children:[F&&Object(p.jsx)(s.a,{mb:1,children:F}),Object(p.jsx)(m,{conditional:t,conditionalValue:A,setConditional:T,name:t.name,stats:a})]}),Object(p.jsx)(S.a,{sx:{m:0},children:K.map((function(e,t){return Object(p.jsx)(S.b,{field:e},t)}))})]}):null}},324:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(3),c=a(20),r=a(6),i=a(4),l=a(11),s=a(12),o=a(82),u=a(117),j=[3,4,6],d={hp:6,atk:6,def:6,hp_:4,atk_:4,def_:4,eleMas:4,enerRech_:4,critRate_:3,critDMG_:3},b={};function h(e,t,a,n){if(5!==e.length)for(var c=0,o=j;c<o.length;c++){var u=o[c];t[u]>0&&h([].concat(Object(l.a)(e),[u]),Object(i.a)(Object(i.a)({},t),{},Object(r.a)({},u,t[u]-u)),a-u,n*t[u]/a)}else Object(s.k)(b,e,n)}h([0],{3:6,4:20,6:18},44,1),h([3],{3:3,4:20,6:18},41,1),h([4],{3:6,4:16,6:18},40,1),h([6],{3:6,4:20,6:12},38,1);for(var O=Array(6).fill(0).map((function(e,t){for(var a=[1],n=0,c=1;++n<=t;)c*=t-n+1,c/=n,a.push(c);return a})),x=[[1]],f=function(){var e=x[x.length-1],t=Array(e.length+3).fill(0);e.forEach((function(e,a){for(var n=0,c=[0,1,2,3];n<c.length;n++){t[a+c[n]]+=e}})),x.push(t.map((function(e){return e/4})))};x.length<6;)f();for(var v=function(){var e=m[p],t=e.reduce((function(e,t){return e+t}));e.forEach((function(e,a,n){n[a]=t,t-=e}))},p=0,m=x;p<m.length;p++)v();function y(e,t){if(e.rarity<=2)return NaN;var a=e.rarity,l=e.level,h=e.substats,f=Object(i.a)({},t),v=new Set(Object.keys(f)),p=0,m=e.mainStatKey;if(m in f){var y=4*a;if(u[a][m][y]<f[m])return 0;delete f[m],v.delete(m)}var g,S=Object(c.a)(h);try{for(S.s();!(g=S.n()).done;){var k=g.value,w=k.key,C=k.value;w?v.has(w)&&(v.delete(w),f[w]>C?f[w]-=C:delete f[w]):p+=1}}catch(M){S.e(M)}finally{S.f()}if(p+=4-h.length,v.size>p||Object.keys(f).length>4)return 0;for(var _=o.a.rollsRemaining(l,a)-p,B=0,E=Object.entries(f);B<E.length;B++){var A=Object(n.a)(E[B],2),K=A[0],T=A[1];f[K]=Math.max(Math.ceil(10*T/o.a.maxSubstatValues(K,a)),1)}var F=0,V=Object.entries(f).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],r=v.has(a)?1:0,i=Math.ceil(c/10)-r;return F+=i,{target:c,filler:r,minUpgrade:i}})).reverse();if(F>_)return 0;var D=Object(r.a)({},_,1),N=_-F;return V.forEach((function(e,t){for(var a,c,r,i=e.target,l=e.filler,s=e.minUpgrade,o={},u=s;u<=s+N;u++)for(var j=i-7*(u+l),d=j>0?x[u+l][j]:1,b=0,h=Object.entries(D);b<h.length;b++){var f,v=Object(n.a)(h[b],2),p=v[0],m=v[1],y=parseInt(p);if(!(y<u)){var g=(c=u,r=4-t,O[a=y][c]*Math.pow(r-1,a-c)/Math.pow(r,a)),S=y-u;o[S]=(null!==(f=o[S])&&void 0!==f?f:0)+m*d*g}}D=o})),function(e,t,a){var n,r,i=null!==(n=d[e])&&void 0!==n?n:0,l=0,o={3:2,4:5,6:3},u=b[i],h=Object(c.a)(t);try{for(h.s();!(r=h.n()).done;){var x=r.value.key;if(x){var f=d[x];u=u[f],o[f]-=1}}}catch(M){h.e(M)}finally{h.f()}i&&(o[i]-=1);var v,p={3:0,4:0,6:0},m=Object(c.a)(a);try{for(m.s();!(v=m.n()).done;){var y=v.value;p[d[y]]+=1}}catch(M){m.e(M)}finally{m.f()}var g=0;Object(s.c)(u,[],(function(e){return"number"===typeof e}),(function(e,t){g+=e;var a,n={3:0,4:0,6:0},r=Object(c.a)(t);try{for(r.s();!(a=r.n()).done;){n[a.value]+=1}}catch(M){r.e(M)}finally{r.f()}var i,s=e,o=Object(c.a)(j);try{for(o.s();!(i=o.n()).done;){var u=i.value,d=n[u],b=p[u];if(d<b)return;s*=O[d][b]}}catch(M){o.e(M)}finally{o.f()}l+=s}));var S,k=Object(c.a)(j);try{for(k.s();!(S=k.n()).done;){var w=S.value;l/=O[o[w]][p[w]]}}catch(M){k.e(M)}finally{k.f()}return l/g}(e.mainStatKey,h,v)*Object.values(D).reduce((function(e,t){return e+t}))}},325:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),c=a(136),r=a(12),i=a(0);function l(e){var t=e.value,a=e.valid,l="number"===typeof t?["roll".concat(Object(r.a)(Math.floor(.05*t)+1,1,6)),t.toFixed(2)+"%"]:["secondary",t],s=Object(n.a)(l,2),o=s[0],u=s[1];return a||(o="error"),Object(i.jsx)(c.a,{color:o,children:u})}},326:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(4),c=a(65),r=a(10),i=a(278),l=a(0),s=Object(r.a)(i.a)((function(e){var t=e.theme;return{"&.Mui-disabled":{backgroundColor:t.palette.primary.dark,color:t.palette.text.secondary}}}));function o(e){var t=e.children,a=(e.disabled,Object(c.a)(e,["children","disabled"]));return Object(l.jsx)(s,Object(n.a)(Object(n.a)({},a),{},{disabled:!0,children:t}))}},327:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(4),c=a(65),r=a(369),i=a(10),l=a(981),s=a(278),o=a(293),u=a(326),j=a(0),d=Object(i.a)(l.a)({display:"flex"});function b(e){var t=e.name,a=e.children,i=e.value,l=e.placeholder,b=e.defaultValue,h=void 0===b?0:b,O=e.onValueChange,x=e.percent,f=void 0!==x&&x,v=e.disabled,p=void 0!==v&&v,m=e.onReset,y=Object(c.a)(e,["name","children","value","placeholder","defaultValue","onValueChange","percent","disabled","onReset"]);return Object(j.jsxs)(d,Object(n.a)(Object(n.a)({},y),{},{children:[a,Object(j.jsx)(u.a,{sx:{whiteSpace:"nowrap"},children:t}),Object(j.jsx)(o.a,{sx:{flexBasis:30,flexGrow:1},children:Object(j.jsx)(o.c,{sx:{px:1},inputProps:{sx:{textAlign:"right"}},float:f,placeholder:l,value:i,onChange:O,disabled:p,endAdornment:f?"%":void 0})}),Object(j.jsx)(s.a,{onClick:function(){return m?m():O(h)},disabled:p||i===h,children:Object(j.jsx)(r.a,{})})]}))}},330:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(11),c=a(3),r=a(485),i=a(272),l=a(260),s=a(410),o=a(220),u=a(80),j=a(1),d=a(289),b=a(135),h=a(16),O=a(140),x=a(284),f=a(282),v=a(290),p=a(71),m=a(291),y=a(287),g=a(311),S=a(0);function k(e){var t=e.show,a=e.onHide,k=e.onSelect,w=e.filter,C=void 0===w?function(){return!0}:w,_=e.weaponFilter,B=Object(b.a)(O.a.getAll(),[]),E=Object(j.useState)(null!==_&&void 0!==_?_:""),A=Object(c.a)(E,2),K=A[0],T=A[1];Object(j.useEffect)((function(){return _&&T(_)}),[_]);var F=B?Object(n.a)(new Set(h.j)).filter((function(e){return C(B[e])})).filter((function(e){var t;return!K||K===(null===B||void 0===B||null===(t=B[e])||void 0===t?void 0:t.weaponType)})).sort((function(e,t){var a,n,c,r;return(null!==(a=null===B||void 0===B||null===(n=B[t])||void 0===n?void 0:n.rarity)&&void 0!==a?a:0)-(null!==(c=null===B||void 0===B||null===(r=B[e])||void 0===r?void 0:r.rarity)&&void 0!==c?c:0)})):[];return B?Object(S.jsx)(m.a,{open:t,onClose:a,children:Object(S.jsxs)(x.a,{children:[Object(S.jsx)(r.a,{sx:{py:1},children:Object(S.jsxs)(i.a,{container:!0,children:[Object(S.jsx)(i.a,{item:!0,flexGrow:1,children:Object(S.jsx)(g.a,{value:K,onChange:T,disabled:!!_,size:"small"})}),Object(S.jsx)(i.a,{item:!0,children:Object(S.jsx)(v.a,{onClick:a})})]})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(r.a,{children:Object(S.jsx)(i.a,{container:!0,spacing:1,children:F.map((function(e){var t,n=B[e];return Object(S.jsx)(i.a,{item:!0,lg:3,md:4,children:Object(S.jsx)(f.a,{sx:{height:"100%"},children:Object(S.jsxs)(s.a,{onClick:function(){a(),k(e)},sx:{display:"flex"},children:[Object(S.jsx)(o.a,{component:"img",src:n.img,sx:{width:100,height:"auto"},className:" grad-".concat(n.rarity,"star")}),Object(S.jsxs)(o.a,{sx:{flexGrow:1,px:1},children:[Object(S.jsx)(u.a,{variant:"subtitle1",children:n.name}),Object(S.jsxs)(u.a,{children:[Object(S.jsx)(p.a,{src:null===(t=d.a.weaponTypes)||void 0===t?void 0:t[n.weaponType]})," ",Object(S.jsx)(y.a,{stars:n.rarity,colored:!0})]})]})]})})},e)}))})}),Object(S.jsx)(l.a,{}),Object(S.jsx)(r.a,{sx:{py:1},children:Object(S.jsx)(v.a,{large:!0,onClick:a})})]})}):null}},331:function(e,t,a){"use strict";a.d(t,"a",(function(){return V}));var n=a(3),c=a(51),r=a(17),i=a(386),l=a(387),s=a(410),o=a(175),u=a(360),j=a(279),d=a(272),b=a(80),h=a(220),O=a(485),x=a(981),f=a(278),v=a(1),p=a(289),m=a(282),y=a(292),g=a(309),S=a(304),k=a(71),w=a(287),C=a(137),_=a(46),B=a(177),E=a(135),A=a(315),K=a(22),T=a(140),F=a(0);function V(e){var t,a=e.weaponId,V=e.onClick,D=e.onEdit,N=e.onDelete,M=e.canEquip,R=void 0!==M&&M,W=Object(v.useContext)(B.b),I=Object(A.a)(a),q=Object(E.a)((null===I||void 0===I?void 0:I.key)&&T.a.get(I.key),[null===I||void 0===I?void 0:I.key]),z=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===q||void 0===q?void 0:q.weaponType)}),[q]),L=Object(v.useCallback)((function(e){return Object(F.jsx)(s.a,{onClick:function(){return null===V||void 0===V?void 0:V(a)},sx:{height:"100%"},children:e})}),[V,a]),P=Object(v.useCallback)((function(e){return W.setWeaponLocation(a,e)}),[W,a]);if(!I||!q)return null;var G=I.level,U=I.ascension,H=I.refinement,J=I.id,X=I.location,Q=void 0===X?"":X,Y=I.lock,Z=q.weaponType,$=q.getMainStatValue(G,U).toFixed(K.b.fixedUnit("atk")),ee=q.getSubStatKey(),te=q.getSubStatValue(G,U).toFixed(K.b.fixedUnit(ee)),ae=[["weaponATK",$]];(null===q||void 0===q?void 0:q.passiveName)&&ae.push([ee,te]);var ne=U<2?null===q||void 0===q?void 0:q.img:null===q||void 0===q?void 0:q.imgAwaken;return Object(F.jsx)(v.Suspense,{fallback:Object(F.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:Object(F.jsx)(S.a,{condition:!!V,wrapper:L,children:Object(F.jsxs)(m.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(F.jsxs)("div",{className:"grad-".concat(q.rarity,"star"),children:[Object(F.jsx)(u.a,{title:q.name,avatar:Object(F.jsx)(k.a,{sx:{fontSize:"2em"},src:null===(t=p.a.weaponTypes)||void 0===t?void 0:t[Z]}),titleTypographyProps:{variant:"h6"},action:!V&&Object(F.jsx)(j.a,{color:"primary",onClick:function(){return W.updateWeapon({lock:!Y},J)},children:Y?Object(F.jsx)(i.a,{}):Object(F.jsx)(l.a,{})})}),Object(F.jsxs)(d.a,{container:!0,sx:{flexWrap:"nowrap",pl:2},children:[Object(F.jsxs)(d.a,{item:!0,flexGrow:1,children:[Object(F.jsxs)(b.a,{component:"span",variant:"h4",children:["Lv. ",G]}),Object(F.jsxs)(b.a,{component:"span",variant:"h4",color:"text.secondary",children:["/",_.b[U]]}),Object(F.jsxs)(b.a,{variant:"h6",children:["Refinement ",Object(F.jsx)("strong",{children:H})]}),Object(F.jsx)(b.a,{children:Object(F.jsx)(w.a,{stars:q.rarity,colored:!0})})]}),Object(F.jsx)(d.a,{item:!0,container:!0,maxWidth:"40%",alignContent:"flex-end",sx:{mt:-3},children:Object(F.jsx)(h.a,{component:"img",src:ne,width:"100%",height:"auto"})})]})]}),Object(F.jsx)(O.a,{children:ae.map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],r=K.b.getStatUnit(a);return Object(F.jsxs)(h.a,{sx:{display:"flex"},children:[Object(F.jsxs)(b.a,{flexGrow:1,children:[C.a[a]," ",K.b.getStatName(a)]}),Object(F.jsx)(b.a,{children:c+r})]},a)}))}),Object(F.jsx)(h.a,{flexGrow:1}),Object(F.jsx)(O.a,{sx:{py:1},children:Object(F.jsxs)(d.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(F.jsx)(d.a,{item:!0,xs:"auto",flexShrink:1,children:R?Object(F.jsx)(y.b,{size:"small",noUnselect:!0,inventory:!0,value:Q,onChange:P,filter:z}):Object(F.jsx)(g.a,{location:Q})}),Object(F.jsx)(d.a,{item:!0,flexGrow:1,sx:{mr:1}}),Object(F.jsx)(d.a,{item:!0,xs:"auto",children:Object(F.jsxs)(x.a,{sx:{height:"100%"},children:[!!D&&Object(F.jsx)(f.a,{color:"info",size:"small",onClick:function(){return D(J)},children:Object(F.jsx)(r.a,{icon:c.m,className:"fa-fw"})}),!!N&&Object(F.jsx)(f.a,{color:"error",size:"small",onClick:function(){return N(J)},disabled:!!Q||Y,children:Object(F.jsx)(r.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})})}},333:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var n=a(41),c=a(51),r=a(17),i=a(386),l=a(387),s=a(80),o=a(175),u=a(485),j=a(220),d=a(407),b=a(279),h=a(272),O=a(408),x=a(486),f=a(981),v=a(278),p=a(1014),m=a(1),y=a(133),g=a(300),S=a(282),k=a(292),w=a(309),C=a(31),_=a(136),B=a(287),E=a(177),A=a(3);var K,T,F,V=a(135),D=a(22),N=a(73),M=a(144),R=a(12),W=a(82),I=a(139),q=a(145),z=a(325),L=a(324),P=a(0),G=new Set(N.b);function U(e){var t,a,N,U,H=e.artifactId,J=e.artifactObj,X=e.onEdit,Q=e.onDelete,Y=e.mainStatAssumptionLevel,Z=void 0===Y?0:Y,$=e.effFilter,ee=void 0===$?G:$,te=e.probabilityFilter,ae=Object(y.a)(["artifact"]).t,ne=Object(m.useContext)(E.b),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(m.useContext)(E.b),a=Object(m.useState)(t._getArt(e)),n=Object(A.a)(a,2),c=n[0],r=n[1];return Object(m.useEffect)((function(){return r(t._getArt(e))}),[t,e]),Object(m.useEffect)((function(){return e?t.followArt(e,r):void 0}),[e,r,t]),c}(H),re=Object(V.a)(I.a.get(null===(t=null!==J&&void 0!==J?J:ce)||void 0===t?void 0:t.setKey),[J,ce]),ie=!J&&ne===E.c,le=null!==J&&void 0!==J?J:ce;if(!le)return null;var se=le.id,oe=le.lock,ue=le.slotKey,je=le.rarity,de=le.level,be=le.mainStatKey,he=le.substats,Oe=le.exclude,xe=le.location,fe=void 0===xe?"":xe,ve=Math.max(Math.min(Z,4*je),de),pe="roll"+(Math.floor(Math.max(de,0)/4)+1),me=Object(P.jsx)(C.a,{color:ve!==de?"warning":void 0,children:Object(M.b)(null!==(a=W.a.mainStatValue(be,je,ve))&&void 0!==a?a:0,D.b.getStatUnit(be))}),ye=W.a.getArtifactEfficiency(le,ee),ge=ye.currentEfficiency,Se=ye.maxEfficiency,ke=0!==Se,we=(null===re||void 0===re?void 0:re.getSlotName(ue))||"Unknown Piece Name",Ce=null===re||void 0===re?void 0:re.getSlotDesc(ue),_e=Ce&&Object(P.jsx)(g.a,{placement:"top",title:Object(P.jsx)(s.a,{children:Ce}),children:Object(P.jsx)("span",{children:Object(P.jsx)(r.a,{icon:c.s})})}),Be=null===re||void 0===re?void 0:re.setEffects,Ee=re&&Be&&Object(P.jsx)(g.a,{placement:"top",title:Object(P.jsx)("span",{children:Object.keys(Be).map((function(e){return Object(P.jsxs)("span",{children:[Object(P.jsx)(s.a,{variant:"h6",children:Object(P.jsx)(_.a,{color:"success",children:ae("setEffectNum",{setNum:e})})}),Object(P.jsx)(s.a,{children:re.setEffectDesc(e)})]},e)}))}),children:Object(P.jsx)("span",{children:Object(P.jsx)(r.a,{icon:c.s})})});return Object(P.jsx)(m.Suspense,{fallback:Object(P.jsx)(o.a,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:Object(P.jsxs)(S.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(P.jsxs)(u.a,{className:"grad-".concat(je,"star"),sx:{pt:1,pb:0,pr:0},children:[Object(P.jsxs)(j.a,{component:"div",sx:{display:"flex",alignItems:"center",pr:1},children:[Object(P.jsx)(d.a,{size:"small",label:Object(P.jsx)("strong",{children:" +".concat(de)}),color:pe}),Object(P.jsxs)(s.a,{sx:{pl:1,flexGrow:1},children:[we," ",_e]}),Object(P.jsx)(b.a,{color:"primary",disabled:!ie,onClick:function(){return ne.updateArt({lock:!oe},se)},children:oe?Object(P.jsx)(i.a,{}):Object(P.jsx)(l.a,{})})]}),Object(P.jsxs)(h.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(P.jsxs)(h.a,{item:!0,flexGrow:1,children:[Object(P.jsx)(s.a,{color:"text.secondary",variant:"body2",children:Object(P.jsx)(q.c,{slotKey:ue})}),Object(P.jsx)(s.a,{variant:"h6",children:D.b.getStatName(be)}),Object(P.jsx)(s.a,{variant:"h5",children:Object(P.jsx)("strong",{children:me})}),Object(P.jsx)(B.a,{stars:je,colored:!0})]}),Object(P.jsx)(h.a,{item:!0,maxWidth:"40%",sx:{mt:-3,mb:-1,pl:-2},alignSelf:"flex-end",children:Object(P.jsx)(O.a,{component:"img",image:null!==(N=null===re||void 0===re?void 0:re.slotIcons[ue])&&void 0!==N?N:"",width:"100%",height:"auto"})})]})]}),Object(P.jsxs)(u.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0},children:[he.map((function(e,t){var a,n,c;if(!e.value)return null;var r=null!==(a=null===(n=e.rolls)||void 0===n?void 0:n.length)&&void 0!==a?a:0,i="roll".concat(Object(R.a)(r,1,6)),l=null!==(c=e.efficiency)&&void 0!==c?c:0,o=.3+l/100*.7,u=D.b.getStatName(e.key);return Object(P.jsxs)(j.a,{sx:{display:"flex"},children:[Object(P.jsxs)(j.a,{sx:{flexGrow:1},children:[Object(P.jsx)(_.a,{color:r?i:"error",sx:{mr:1},children:Object(P.jsx)("strong",{children:r||"?"})}),Object(P.jsxs)(s.a,{color:r?"".concat(i,".main"):"error.main",component:"span",children:[u,"+".concat(Object(M.b)(e.value,D.b.getStatUnit(e.key)))]})]}),Object(P.jsx)(s.a,{sx:{opacity:o},children:e.key&&ee.has(e.key)?Object(M.b)(l,"eff"):"-"})]},t)})),Object(P.jsxs)(j.a,{sx:{display:"flex",my:1},children:[Object(P.jsx)(s.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ae(K||(K=Object(n.a)(["editor.curSubEff"])))}),Object(P.jsx)(z.a,{value:ge,valid:ke})]}),ge!==Se&&Object(P.jsxs)(j.a,{sx:{display:"flex",mb:1},children:[Object(P.jsx)(s.a,{color:"text.secondary",component:"span",variant:"caption",sx:{flexGrow:1},children:ae(T||(T=Object(n.a)(["editor.maxSubEff"])))}),Object(P.jsx)(z.a,{value:Se,valid:ke})]}),Object(P.jsx)(j.a,{flexGrow:1}),te&&Object(P.jsxs)("strong",{children:["Probability: ",(100*Object(L.a)(le,te)).toFixed(2),"%"]}),Object(P.jsxs)(s.a,{color:"success.main",children:[null!==(U=null===re||void 0===re?void 0:re.name)&&void 0!==U?U:"Artifact Set"," ",Ee]})]}),Object(P.jsx)(x.a,{children:Object(P.jsxs)(h.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(P.jsx)(h.a,{item:!0,xs:"auto",flexShrink:1,children:ie?Object(P.jsx)(k.b,{size:"small",inventory:!0,value:fe,onChange:function(e){return ne.setArtLocation(H,e)}}):Object(P.jsx)(w.a,{location:fe})}),Object(P.jsx)(h.a,{item:!0,flexGrow:1,sx:{mr:1}}),ie&&Object(P.jsx)(h.a,{item:!0,xs:"auto",children:Object(P.jsxs)(f.a,{sx:{height:"100%"},children:[!!X&&Object(P.jsx)(v.a,{color:"info",onClick:function(){return X(se)},size:"small",children:Object(P.jsx)(r.a,{icon:c.m,className:"fa-fw"})}),Object(P.jsx)(p.a,{title:Object(P.jsx)(s.a,{children:ae(F||(F=Object(n.a)(["excludeArtifactTip"])))}),placement:"top",arrow:!0,children:Object(P.jsx)(v.a,{onClick:function(){return ne.updateArt({exclude:!Oe},se)},color:Oe?"error":"success",size:"small",children:Object(P.jsx)(r.a,{icon:Oe?c.b:c.e,className:"fa-fw"})})}),!!Q&&Object(P.jsx)(v.a,{color:"error",size:"small",onClick:function(){return Q(se)},disabled:oe,children:Object(P.jsx)(r.a,{icon:c.D,className:"fa-fw"})})]})})]})})]})})}},339:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(220),c=a(485),r=a(80),i=a(284),l=a(305),s=a(296),o=a(136),u=a(135),j=a(115),d=a(139),b=a(0);function h(e){var t=e.setKey,a=e.setNumKey,h=e.equippedBuild,O=e.newBuild,x=e.skipConditionalEquipmentCheck,f=Object(u.a)(d.a.get(t),[t]);if(!f)return null;var v=null!==O&&void 0!==O?O:h,p=f.setEffectDesc(a),m=f.setNumStats(a,v),y=Object(j.a)(m,v),g=f.setEffectDocument(a);return Object(b.jsxs)(n.a,{display:"flex",flexDirection:"column",gap:1,children:[Object(b.jsxs)(i.a,{children:[Object(b.jsx)(c.a,{children:Object(b.jsxs)(r.a,{children:[Object(b.jsxs)(o.a,{color:"success",children:[a,"-Set"]})," ",p]})}),Object(b.jsx)(s.a,{sx:{m:0},children:y.map((function(e,t){return Object(b.jsx)(s.b,{field:e},t)}))})]}),g?Object(b.jsx)(l.a,{sections:g,characterKey:v.characterKey,skipConditionalEquipmentCheck:x}):null]})}},349:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(3),c=a(482),r=a(360),i=a(260),l=a(485),s=a(442),o=a(284),u=a(71),j=a(313),d=a(307),b=a(0);function h(e){var t=e.sheets,a=e.character,h=e.equippedBuild,O=e.newBuild,x=e.statsDisplayKeys,f=O||h;return Object(b.jsx)(s.a,{sx:{mr:-1,mb:-1},children:Object(b.jsx)(c.a,{columns:{xs:1,sm:2,md:3},spacing:1,children:Object.entries(x).map((function(e){var c=Object(n.a)(e,2),s=c[0],x=c[1],v=Object(d.a)(s,t,f);return Object(b.jsxs)(o.a,{children:[Object(b.jsx)(r.a,{avatar:v.icon&&Object(b.jsx)(u.a,{size:2,sx:{m:-1},src:v.icon}),title:v.title,titleTypographyProps:{variant:"subtitle1"}}),Object(b.jsx)(i.a,{}),Object(b.jsx)(l.a,{children:x.map((function(e){return Object(b.jsx)(j.a,{character:a,equippedBuild:h,newBuild:O,statKey:e},JSON.stringify(e))}))})]},s)}))})})}},350:function(e,t,a){"use strict";a.d(t,"b",(function(){return C})),a.d(t,"c",(function(){return _})),a.d(t,"a",(function(){return B}));var n=a(4),c=a(3),r=a(51),i=a(17),l=a(363),s=a(485),o=a(272),u=a(407),j=a(80),d=a(383),b=a(278),h=a(1),O=a(286),x=a(327),f=a(288),v=a(22),p=a(16),m=a(57),y=a(282),g=a(31),S=a(306),k=a(137),w=a(0);function C(e){var t=e.character,a=Object(h.useState)(!1),n=Object(c.a)(a,2),r=n[0],i=n[1],b=Object(h.useCallback)((function(){return i(!r)}),[i,r]);return Object(w.jsxs)(y.a,{children:[Object(w.jsx)(s.a,{children:Object(w.jsxs)(o.a,{container:!0,children:[Object(w.jsx)(o.a,{item:!0,flexGrow:1,alignItems:"center",children:Object(w.jsxs)(o.a,{container:!0,spacing:1,children:[Object(w.jsx)(o.a,{item:!0,children:Object(w.jsx)(u.a,{size:"small",color:"success",label:Object(w.jsxs)("span",{children:[v.b.getStatName("enemyLevel")," ",Object(w.jsx)("strong",{children:O.a.getStatValueWithBonus(t,"enemyLevel")})]})})}),p.e.map((function(e){return Object(w.jsx)(o.a,{item:!0,children:Object(w.jsx)(j.a,{children:Object(w.jsx)(_,{element:e,character:t})},e)},e)})),Object(w.jsx)(o.a,{item:!0,children:Object(w.jsxs)(j.a,{children:["DEF Reduction ",O.a.getStatValueWithBonus(t,"enemyDEFRed_"),"%"]})})]})}),Object(w.jsx)(o.a,{item:!0,children:Object(w.jsx)(S.a,{expand:r,onClick:b,"aria-expanded":r,"aria-label":"show more",size:"small",sx:{p:0},children:Object(w.jsx)(l.a,{})})})]})}),Object(w.jsx)(d.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(w.jsx)(s.a,{sx:{pt:0},children:Object(w.jsx)(B,{character:t})})})]})}function _(e){var t=e.character,a=e.element,n=!!O.a.getStatValueWithBonus(t,"".concat(a,"_enemyImmunity")),c="".concat(a,"_enemyRes_"),r=n?Object(w.jsxs)("span",{children:[k.b[a]," IMMUNE"]}):Object(w.jsxs)("span",{children:[k.b[a],"RES ",Object(w.jsxs)("strong",{children:[O.a.getStatValueWithBonus(t,c),"%"]})]});return Object(w.jsx)(g.a,{color:a,children:r})}function B(e){var t=e.character,a=e.character.key,c=e.bsProps,l=void 0===c?{xs:12,md:6}:c,s=Object(f.a)(a),u=Object(m.a)(t);return Object(w.jsxs)(o.a,{container:!0,spacing:1,children:[Object(w.jsx)(o.a,Object(n.a)(Object(n.a)({item:!0},l),{},{children:Object(w.jsx)(b.a,{fullWidth:!0,sx:{height:"100%"},size:"small",component:"a",color:"warning",href:"https://genshin-impact.fandom.com/wiki/Resistance#Base_Enemy_Resistances",target:"_blank",rel:"noreferrer",children:"To get the specific resistance values of enemies, please visit the wiki."})})),Object(w.jsx)(o.a,Object(n.a)(Object(n.a)({item:!0},l),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:"Enemy Level"}),value:O.a.getStatValueWithBonus(t,"enemyLevel"),placeholder:v.b.getStatNameRaw("enemyLevel"),defaultValue:u.enemyLevel,onValueChange:function(e){return s({type:"editStats",statKey:"enemyLevel",value:e})}})})),p.e.map((function(e){var a="".concat(e,"_enemyRes_"),c="".concat(e,"_enemyImmunity"),j=O.a.getStatValueWithBonus(t,c);return Object(w.jsx)(o.a,Object(n.a)(Object(n.a)({item:!0},l),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:v.b.getStatName(a)}),value:O.a.getStatValueWithBonus(t,a),placeholder:v.b.getStatNameRaw(a),defaultValue:u[a],onValueChange:function(e){return s({type:"editStats",statKey:a,value:e})},disabled:j,percent:!0,children:Object(w.jsxs)(b.a,{color:e,onClick:function(){return s({type:"editStats",statKey:c,value:!j})},children:[Object(w.jsx)(i.a,{icon:j?r.f:r.z,className:"fa-fw"})," Immunity"]})})}),e)})),Object(w.jsx)(o.a,Object(n.a)(Object(n.a)({item:!0},l),{},{children:Object(w.jsx)(x.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main},width:"100%"},name:Object(w.jsx)("b",{children:v.b.getStatName("enemyDEFRed_")}),value:O.a.getStatValueWithBonus(t,"enemyDEFRed_"),placeholder:v.b.getStatNameRaw("enemyDEFRed_"),defaultValue:u.enemyDEFRed_,onValueChange:function(e){return s({type:"editStats",statKey:"enemyDEFRed_",value:e})},percent:!0})})),Object(w.jsx)(o.a,{item:!0,xs:12,children:Object(w.jsx)("small",{children:"Note: Genshin Impact halves resistance shred values below 0%. For the sake of calculations enter the RAW value and GO will do the rest. (e.g. 10% - 20% = -10%)"})})]})}},351:function(e,t,a){"use strict";a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return S})),a.d(t,"b",(function(){return k})),a.d(t,"a",(function(){return w}));var n=a(4),c=a(3),r=a(65),i=a(1031),l=a(1032),s=a(485),o=a(272),u=a(1),j=a(21),d=a(138),b=a(288),h=a(135),O=a(282),x=a(31),f=a(285),v=a(299),p=a(137),m=a(0),y={"":Object(m.jsx)("span",{children:"No External Infusion"}),pyro:Object(m.jsxs)("span",{children:[p.b.pyro," Pyro Infusion"]}),cryo:Object(m.jsxs)("span",{children:[p.b.cryo," Cryo Infusion"]})};function g(e){var t=e.character,a=t.infusionAura,l=void 0===a?"":a,s=t.key,o=Object(r.a)(e,["character"]),u=Object(h.a)(d.b.get(s),[s]),j=Object(b.a)(s);return(null===u||void 0===u?void 0:u.isMelee())?Object(m.jsx)(f.a,Object(n.a)(Object(n.a)({title:y[l],color:l||"secondary"},o),{},{children:Object.entries(y).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(m.jsx)(i.a,{sx:a?{color:"".concat(a,".main")}:void 0,selected:a===l,disabled:a===l,onClick:function(){return j({infusionAura:a})},children:n},a)}))})):null}function S(e){var t=e.character,a=t.reactionMode,c=void 0===a?"":a,i=t.infusionAura,s=t.key,o=e.build,u=Object(r.a)(e,["character","build"]),j=Object(b.a)(s);if(!o)return null;var d=o.characterEle;return["pyro","hydro","cryo"].includes(d)||["pyro","hydro","cryo"].includes(i)?Object(m.jsxs)(v.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return j({reactionMode:t})}},u),{},{children:[Object(m.jsx)(l.a,{value:"",children:"No Reactions"}),("pyro"===d||"pyro"===i)&&Object(m.jsx)(l.a,{value:"pyro_vaporize",children:Object(m.jsxs)(x.a,{color:"vaporize",children:["Vaporize(Pyro)",p.a.hydro,"+",p.a.pyro]})}),("pyro"===d||"pyro"===i)&&Object(m.jsx)(l.a,{value:"pyro_melt",children:Object(m.jsxs)(x.a,{color:"melt",children:["Melt(Pyro) ",p.a.cryo,"+",p.a.pyro]})}),("hydro"===d||"hydro"===i)&&Object(m.jsx)(l.a,{value:"hydro_vaporize",children:Object(m.jsxs)(x.a,{color:"vaporize",children:["Vaporize(Hydro) ",p.a.pyro,"+",p.a.hydro]})}),("cryo"===d||"cryo"===i)&&Object(m.jsx)(l.a,{value:"cryo_melt",children:Object(m.jsxs)(x.a,{color:"melt",children:["Melt(Cryo) ",p.a.pyro,"+",p.a.cryo]})})]})):null}function k(e){var t=e.character,a=t.hitMode,c=void 0===a?"avgHit":a,i=t.key,s=Object(r.a)(e,["character"]),o=Object(b.a)(i);return Object(m.jsxs)(v.a,Object(n.a)(Object(n.a)({exclusive:!0,baseColor:"secondary",value:c,onChange:function(e,t){return o({hitMode:t})}},s),{},{children:[Object(m.jsx)(l.a,{value:"avgHit",children:"Avg. DMG"}),Object(m.jsx)(l.a,{value:"hit",children:"Non Crit DMG"}),Object(m.jsx)(l.a,{value:"critHit",children:"Crit Hit DMG"})]}))}function w(e){var t=e.character,a=Object(u.useContext)(j.a),n=a.newBuild,c=a.equippedBuild,r=n||c;return Object(m.jsx)(O.a,{children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(o.a,{container:!0,spacing:1,children:[Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(k,{character:t,size:"small"})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(g,{character:t})}),Object(m.jsx)(o.a,{item:!0,children:Object(m.jsx)(S,{character:t,build:r,size:"small"})})]})})})}},353:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return G}));var n=a(6),c=a(11),r=a(3),i=a(4),l=a(386),s=a(387),o=a(443),u=a(485),j=a(272),d=a(981),b=a(278),h=a(1031),O=a(260),x=a(220),f=a(80),v=a(1),p=a(289),m=a(21),y=a(138),g=a(284),S=a(282),k=a(292),w=a(290),C=(a(31),a(293)),_=a(305),B=a(285),E=a(71),A=a(291),K=a(136),T=a(287),F=a(330),V=a(46),D=a(177),N=a(135),M=a(315),R=a(12),W=a(331),I=a(140),q=a(296),z=a(115),L=a(0);function P(e){var t=e.title,a=e.statsVals,n=void 0===a?{}:a,c=e.stats;if(0===Object.keys(n).filter((function(e){return"modifiers"!==e})).length)return null;var r=Object(z.a)(n,c);return Object(L.jsxs)(g.a,{children:[Object(L.jsx)(u.a,{children:Object(L.jsx)(f.a,{children:t})}),Object(L.jsx)(q.a,{children:r.map((function(e,t){return Object(L.jsx)(q.b,{field:e},t)}))})]})}function G(e){var t,a,o=e.weaponId,p=e.charData,g=e.footer,E=void 0!==g&&g,A=e.onClose,W=Object(v.useContext)(D.b),q=Object(v.useContext)(m.a),z=Object(M.a)(o),G=null!==z&&void 0!==z?z:{},H=G.key,J=void 0===H?"":H,X=G.level,Q=G.refinement,Y=void 0===Q?0:Q,Z=G.ascension,$=void 0===Z?0:Z,ee=G.lock,te=G.location,ae=void 0===te?"":te,ne=G.id,ce=Object(N.a)(I.a.get(J),[J]),re=null===ce||void 0===ce?void 0:ce.weaponType,ie=Object(v.useCallback)((function(e){W.updateWeapon(e,o)}),[o,W]),le=Object(v.useCallback)((function(e){e=Object(R.a)(e,1,90);var t=V.b.findIndex((function(t){return e<=t}));ie({level:e,ascension:t})}),[ie]),se=Object(v.useCallback)((function(){var e=V.b.findIndex((function(e){return 90!==X&&X===e}));ie($===e?{ascension:$+1}:{ascension:e})}),[ie,$,X]),oe=Object(i.a)({},p?null!==(t=p.newBuild)&&void 0!==t?t:p.equippedBuild:{weapon:{refineIndex:Y-1,level:X,ascension:$}}),ue=Object(N.a)(ae?y.b.get(ae):void 0,[ae]),je=ue?function(e){return e.weaponType===ue.weaponTypeKey}:void 0,de=ue&&ue.weaponTypeKey,be=Object(v.useCallback)((function(e){return ne&&W.setWeaponLocation(ne,e)}),[W,ne]),he=Object(v.useCallback)((function(e){return e.weaponTypeKey===(null===ce||void 0===ce?void 0:ce.weaponType)}),[ce]),Oe=Object(v.useState)(!1),xe=Object(r.a)(Oe,2),fe=xe[0],ve=xe[1],pe=$<2?null===ce||void 0===ce?void 0:ce.img:null===ce||void 0===ce?void 0:ce.imgAwaken;return Object(L.jsxs)(S.a,{children:[Object(L.jsx)(u.a,{sx:{py:1},children:Object(L.jsxs)(j.a,{container:!0,spacing:1,children:[Object(L.jsx)(j.a,{item:!0,flexGrow:1,children:Object(L.jsxs)(j.a,{container:!0,spacing:1,children:[Object(L.jsxs)(j.a,{item:!0,children:[Object(L.jsx)(F.a,{show:fe,onHide:function(){return ve(!1)},onSelect:function(e){return ie({key:e})},filter:je,weaponFilter:de}),Object(L.jsxs)(d.a,{children:[Object(L.jsx)(b.a,{onClick:function(){return ve(!0)},children:null!==(a=null===ce||void 0===ce?void 0:ce.name)&&void 0!==a?a:"Select a Weapon"}),Object(L.jsxs)(B.a,{title:"Refinement ".concat(Y),children:[Object(L.jsx)(h.a,{children:"Select Weapon Refinement"}),Object(L.jsx)(O.a,{}),Object(c.a)(Array(5).keys()).map((function(e){return Object(L.jsx)(h.a,{onClick:function(){return ie({refinement:e+1})},selected:Y===e+1,disabled:Y===e+1,children:"Refinement ".concat(e+1)},e)}))]})]})]}),Object(L.jsx)(j.a,{item:!0,children:Object(L.jsxs)(d.a,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[Object(L.jsx)(C.a,{children:Object(L.jsx)(C.c,{onChange:le,value:X,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),Object(L.jsx)(b.a,{sx:{pl:1},disabled:!Object(V.a)(X),onClick:se,children:Object(L.jsxs)("strong",{children:["/ ",V.b[$]]})}),Object(L.jsx)(B.a,{title:"Select Level",children:V.c.map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1],c=a===V.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(V.b[n]),i=a===X&&n===$;return Object(L.jsx)(h.a,{selected:i,disabled:i,onClick:function(){return ie({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})}),Object(L.jsx)(j.a,{item:!0,children:Object(L.jsx)(b.a,{color:"error",onClick:function(){return ne&&W.updateWeapon({lock:!ee},ne)},startIcon:ee?Object(L.jsx)(l.a,{}):Object(L.jsx)(s.a,{}),children:ee?"Locked":"Unlocked"})})]})}),!!A&&Object(L.jsx)(j.a,{item:!0,children:Object(L.jsx)(w.a,{onClick:A})}),!!p&&W===D.c&&Object(L.jsx)(j.a,{item:!0,children:Object(L.jsx)(U,{weaponTypeKey:re,onChangeId:function(e){return W.setWeaponLocation(e,p.character.key)}})})]})}),Object(L.jsx)(O.a,{}),Object(L.jsx)(u.a,{children:function(){if(!ce)return null;var e=ce.getSubStatKey(),t=ce.getMainStatValue(X,$),a=ce.getSubStatValue(X,$),c=ce.passiveName,r=ce.stats(oe),i=ce.document;return Object(L.jsxs)(x.a,{display:"flex",gap:{xs:1,md:1.5,lg:2},children:[Object(L.jsxs)(x.a,{sx:{maxWidth:256},flexShrink:1,minWidth:"25%",children:[Object(L.jsx)(x.a,{component:"img",src:pe,className:"grad-".concat(ce.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}}),Object(L.jsx)(f.a,{children:Object(L.jsx)("small",{children:ce.description})})]}),Object(L.jsxs)(x.a,{sx:{mb:-1},flexGrow:1,children:[Object(L.jsxs)(f.a,{variant:"h6",children:[!1,ce.name," Lv. ",z&&I.a.getLevelString(z)," ",c&&Object(L.jsxs)(K.a,{color:"info",children:["Refinement ",Y]})]}),Object(L.jsx)(f.a,{children:Object(L.jsx)(T.a,{stars:ce.rarity})}),Object(L.jsx)(f.a,{variant:"subtitle1",children:c}),Object(L.jsx)(f.a,{gutterBottom:!0,children:c&&ce.passiveDescription(oe)}),oe&&Object(L.jsx)(m.a.Provider,{value:p?q:{equippedBuild:oe,newBuild:void 0,compareBuild:!1,setCompareBuild:void 0},children:Object(L.jsxs)(x.a,{display:"flex",flexDirection:"column",gap:1,children:[Object(L.jsx)(P,{title:"Main Stats",statsVals:Object(n.a)({atk:t},e,e?a:void 0),stats:oe}),Object(L.jsx)(P,{title:"Bonus Stats",statsVals:r,stats:oe})]})}),p&&i?function(){var e,t=p.equippedBuild,a=p.newBuild,n=null===(e=a||t)||void 0===e?void 0:e.characterKey;return!!n&&Object(L.jsx)(_.a,{sections:i,characterKey:n})}():null]})]})}()}),E&&ne&&Object(L.jsx)(u.a,{sx:{py:1},children:Object(L.jsxs)(j.a,{container:!0,children:[Object(L.jsx)(j.a,{item:!0,flexGrow:1,children:Object(L.jsx)(k.b,{noUnselect:!0,inventory:!0,value:ae,onChange:be,filter:he})}),!!A&&Object(L.jsx)(j.a,{item:!0,children:Object(L.jsx)(w.a,{large:!0,onClick:A})})]})})]})}function U(e){var t=e.onChangeId,a=e.weaponTypeKey,n=Object(v.useContext)(D.b),c=Object(v.useState)(!1),i=Object(r.a)(c,2),l=i[0],s=i[1],d=function(){return s(!1)},h=function(e){t(e),d()},x=Object(N.a)(I.a.getAll(),[]),m=n.weapons.keys.filter((function(e){var t,c=n._getWeapon(e);return!!c&&(!a||a===(null===x||void 0===x||null===(t=x[c.key])||void 0===t?void 0:t.weaponType))}));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(b.a,{color:"info",onClick:function(){return s(!0)},startIcon:Object(L.jsx)(o.a,{}),children:"SWAP WEAPON"}),Object(L.jsx)(A.a,{open:l,onClose:d,children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)(u.a,{sx:{py:1},children:Object(L.jsxs)(j.a,{container:!0,children:[Object(L.jsx)(j.a,{item:!0,flexGrow:1,children:Object(L.jsxs)(f.a,{variant:"h6",children:[a?Object(L.jsx)(E.a,{src:p.a.weaponTypes[a]}):null," Swap Weapon"]})}),Object(L.jsx)(j.a,{item:!0,children:Object(L.jsx)(w.a,{onClick:d})})]})}),Object(L.jsx)(O.a,{}),Object(L.jsx)(u.a,{children:Object(L.jsx)(j.a,{container:!0,spacing:1,children:m.map((function(e){return Object(L.jsx)(j.a,{item:!0,xs:6,sm:6,md:4,lg:3,children:Object(L.jsx)(W.a,{weaponId:e,onClick:h})},e)}))})})]})})]})}},382:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ot}));var n=a(52),c=a.n(n),r=a(100),i=a(3),l=a(4),s=a(65),o=a(175),u=a(485),j=a(272),d=a(484),b=a(80),h=a(269),O=a(275),x=a(260),f=a(278),v=a(981),p=a(1031),m=a(1),y=a(21),g=a(284),S=a(282),k=a(343),w=a(308),C=a(290),_=a(31),B=a(293),E=a(285),A=a(350),K=a(363),T=a(383),F=a(360),V=a(594),D=a(595),N=a(596),M=a(220),R=a(286),W=a(307),I=a(141),q=a(135),z=a(22),L=a(314),P=a(306),G=a(71),U=a(0);function H(e){var t=e.sheets,a=Object(m.useState)(!1),n=Object(i.a)(a,2),c=n[0],r=n[1],l=Object(m.useCallback)((function(){return r(!c)}),[r,c]);return Object(U.jsxs)(S.a,{children:[Object(U.jsx)(u.a,{children:Object(U.jsxs)(j.a,{container:!0,children:[Object(U.jsxs)(j.a,{item:!0,flexGrow:1,children:[Object(U.jsxs)(b.a,{children:["Formulas ","&"," Calculations"]}),Object(U.jsx)(b.a,{variant:"caption",color:"text.secondary",children:"Expand to see every formula and all their calculations."})]}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(P.a,{expand:c,onClick:l,"aria-expanded":c,"aria-label":"show more",children:Object(U.jsx)(K.a,{})})})]})}),Object(U.jsx)(T.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(U.jsx)(u.a,{sx:{pt:0},children:Object(U.jsx)(J,{sheets:t})})})]})}function J(e){var t=e.sheets,a=Object(m.useContext)(y.a),n=a.newBuild,c=a.equippedBuild,r=n||c,l=Object(m.useMemo)((function(){return R.a.getDisplayStatKeys(r,t)}),[r,t]);return r&&l?Object(U.jsx)(m.Suspense,{fallback:Object(U.jsx)(o.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object.entries(l).map((function(e){var a=Object(i.a)(e,2),n=a[0],c=a[1],l=Object(W.a)(n,t,r);return Object(U.jsxs)(g.a,{sx:{mb:1},children:[Object(U.jsx)(F.a,{avatar:l.icon&&Object(U.jsx)(G.a,{size:2,sx:{m:-1},src:l.icon}),title:l.title,titleTypographyProps:{variant:"subtitle1"}}),Object(U.jsx)(x.a,{}),Object(U.jsx)(u.a,{children:c.map((function(e,t){if(Array.isArray(e))return Object(U.jsx)(X,{fieldKeys:e,build:r},t);if("string"===typeof e){var a=z.b.getPrintableFormulaStatKeyList(Object(L.a)(r,null===r||void 0===r?void 0:r.modifiers,[e]),null===r||void 0===r?void 0:r.modifiers).reverse();return Boolean(a.length)&&Object(U.jsxs)(V.a,{sx:{bgcolor:"contentLight.main"},children:[Object(U.jsx)(D.a,{expandIcon:Object(U.jsx)(K.a,{}),children:Object(U.jsx)(b.a,{children:z.b.printStat(e,r)})}),Object(U.jsx)(N.a,{children:a.map((function(e){return Object(U.jsxs)(b.a,{children:[z.b.printStat(e,r)," = ",Object(U.jsx)("small",{children:Object(U.jsx)(z.a,{statKey:e,stats:r,modifiers:r.modifiers,expand:!1})})]},e)}))})]},t)}return null}))})]},n)}))}):null}function X(e){var t,a,n,c,r=e.fieldKeys,l=e.build,s=Object(q.a)(I.a.get(r),[r]);if(!s)return null;var o=s.field,u=R.a.getTalentFieldValue(o,"text",l),j=R.a.getTalentFieldValue(o,"variant",l),d=R.a.getTalentFieldValue(o,"formulaText",l),h=null!==(t=R.a.getTalentFieldValue(o,"fixed",l))&&void 0!==t?t:0,O=null!==(a=R.a.getTalentFieldValue(o,"unit",l))&&void 0!==a?a:"",x=R.a.getTalentFieldValue(o,"formula",l,[]),f=Object(i.a)(x,2),v=f[0],p=f[1];if(!v||!p)return null;var m=null===v||void 0===v||null===(n=v(l))||void 0===n||null===(c=n.toFixed)||void 0===c?void 0:c.call(n,h),y=z.b.getPrintableFormulaStatKeyList(Object(L.a)(l,null===l||void 0===l?void 0:l.modifiers,p),null===l||void 0===l?void 0:l.modifiers).reverse();return Object(U.jsxs)(V.a,{sx:{bgcolor:"contentLight.main"},children:[Object(U.jsx)(D.a,{expandIcon:Object(U.jsx)(K.a,{}),children:Object(U.jsxs)(b.a,{children:[Object(U.jsx)(M.a,{color:"".concat(j,".main"),component:"strong",children:u})," ",Object(U.jsxs)(_.a,{color:"info",children:[m,O]})]})}),Object(U.jsxs)(N.a,{children:[Object(U.jsxs)(b.a,{children:[Object(U.jsx)(M.a,{color:"".concat(j,".main"),component:"strong",children:u})," ",Object(U.jsx)(_.a,{color:"info",children:m})," = ",Object(U.jsx)("small",{children:d})]}),y.map((function(e){return Object(U.jsxs)(b.a,{children:[z.b.printStat(e,l)," = ",Object(U.jsx)("small",{children:Object(U.jsx)(z.a,{statKey:e,stats:l,modifiers:l.modifiers,expand:!1})})]},e)}))]})]})}var Q=a(351),Y=a(113),Z=a(46),$=a(177),ee=a(321),te=a(288),ae=a(316),ne=a(302),ce=a(301),re=a(57),ie=a(12),le=a(143),se=a(1032),oe=a(24),ue=a(333),je=a(139),de=a(339),be=a(299),he=a(16),Oe=a(349);var xe=function(e){var t,a=e.sheets,n=e.character,c=e.character.key,r=Object(m.useContext)(y.a),l=r.newBuild,s=r.equippedBuild,o=r.compareBuild,h=r.setCompareBuild,O=Object(m.useContext)($.b),v=Object(oe.g)(),p=l||s,g=null!==(t=null===p||void 0===p?void 0:p.mainStatAssumptionLevel)&&void 0!==t?t:0,k=Object(m.useMemo)((function(){return p&&a&&R.a.getDisplayStatKeys(p,a)}),[p,a]),w=Object(m.useCallback)((function(e){return v.push({pathname:"/artifact",artToEditId:e})}),[v]),C=Object(q.a)(je.a.getAll(),[]),_=Object(ne.a)(),B=Object(i.a)(_,2)[1];Object(m.useEffect)((function(){return O.followAnyArt(B)}));var E=Object(m.useCallback)((function(){window.confirm("Do you want to equip this artifact build to this character?")&&l&&l.equippedArtifacts&&O.equipArtifacts(c,l.equippedArtifacts)}),[c,l,O]),A=Object(m.useCallback)((function(){window.confirm("Do you want to move all the artifacts equipped to inventory?")&&O.equipArtifacts(c,Object(ie.o)(he.i,(function(){return""})))}),[c,O]);return p?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(S.a,{sx:{mb:1},children:[Object(U.jsx)(u.a,{children:Object(U.jsx)(Oe.a,{sheets:a,character:n,equippedBuild:l&&!o?void 0:s,newBuild:l,statsDisplayKeys:k})}),Object(U.jsx)(x.a,{}),Object(U.jsx)(u.a,{sx:{py:1},children:Object(U.jsxs)(j.a,{container:!0,spacing:1,children:[Object(U.jsx)(j.a,{item:!0,children:l?Object(U.jsx)(f.a,{onClick:E,className:"mr-2",children:"Equip artifacts"}):O===$.c&&Object(U.jsx)(f.a,{color:"error",onClick:A,children:"Unequip all artifacts"})}),Object(U.jsx)(j.a,{item:!0,children:!!l&&Object(U.jsxs)(be.a,{exclusive:!0,value:o,onChange:function(e,t){return null===h||void 0===h?void 0:h(t)},size:"small",children:[Object(U.jsx)(se.a,{value:!1,disabled:!o,children:Object(U.jsx)("small",{children:"Show New artifact Stats"})}),Object(U.jsx)(se.a,{value:!0,disabled:o,children:Object(U.jsx)("small",{children:"Compare against equipped artifacts"})})]})}),Object(U.jsx)(j.a,{item:!0,flexGrow:1}),Object(U.jsx)(j.a,{item:!0,children:!!g&&Object(U.jsx)(d.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(U.jsx)(b.a,{children:Object(U.jsxs)("strong",{children:["Assume Main Stats are Level ",g]})})})})]})})]}),Object(U.jsxs)(j.a,{container:!0,spacing:1,children:[Object(U.jsx)(j.a,{item:!0,xs:12,sm:6,md:4,children:Object(U.jsx)(S.a,{sx:{height:"100%"},children:Object(U.jsx)(u.a,{sx:{height:"100%"},children:Object(U.jsx)(j.a,{container:!0,spacing:1,flexDirection:"column",height:"100%",children:C&&Object.entries(je.a.setEffects(C,p.setToSlots)).map((function(e){var t,a=Object(i.a)(e,2),n=a[0],c=a[1];return Object(U.jsxs)(j.a,{item:!0,display:"flex",flexDirection:"column",gap:1,children:[Object(U.jsx)(b.a,{variant:"subtitle1",children:null!==(t=null===C||void 0===C?void 0:C[n].name)&&void 0!==t?t:""}),c.map((function(e){return Object(U.jsx)(de.a,{setKey:n,setNumKey:e,equippedBuild:s,newBuild:l},n+e)}))]},n)}))})})})}),he.i.map((function(e){var t,a,n;return!!(null===p||void 0===p||null===(t=p.equippedArtifacts)||void 0===t?void 0:t[e])&&Object(U.jsx)(j.a,{item:!0,xs:6,md:4,children:Object(U.jsx)(ue.a,{artifactId:null===p||void 0===p||null===(n=p.equippedArtifacts)||void 0===n?void 0:n[e],mainStatAssumptionLevel:g,onEdit:function(){var t;return w(null===p||void 0===p||null===(t=p.equippedArtifacts)||void 0===t?void 0:t[e])}})},null===p||void 0===p||null===(a=p.equippedArtifacts)||void 0===a?void 0:a[e])}))]})]}):null},fe=a(11),ve=a(51),pe=a(17),me=a(408),ye=a(593),ge=a(289),Se=a(287),ke=a(313),we=a(137),Ce=a(353),_e=a(327);function Be(e){var t,a=e.characterSheet,n=e.character,c=e.character,r=c.constellation,i=c.key,s=Object(m.useContext)(y.a),o=s.newBuild,d=s.equippedBuild,h=Object(te.a)(i),O=o||d;if(!O)return null;var x=O.tlvl,f=O.characterEle,v=a.weaponTypeKey;return Object(U.jsxs)(j.a,{container:!0,spacing:1,children:[Object(U.jsx)(j.a,{item:!0,xs:12,md:3,children:Object(U.jsxs)(S.a,{children:[Object(U.jsx)(me.a,{src:a.cardImg,component:"img",width:"100%",height:"auto"}),Object(U.jsxs)(u.a,{children:[Object(U.jsxs)(b.a,{variant:"h4",children:[a.name," ",Object(U.jsx)(G.a,{src:null===(t=ge.a.weaponTypes)||void 0===t?void 0:t[v]})," ",we.a[f]," "]}),Object(U.jsx)(b.a,{variant:"h6",children:Object(U.jsx)(Se.a,{stars:a.rarity,colored:!0})}),Object(U.jsxs)(b.a,{variant:"h5",children:["Lvl. ",R.a.getLevelString(n)]}),Object(U.jsx)(j.a,{container:!0,spacing:1,mt:1,children:["auto","skill","burst"].map((function(e){var t;return Object(U.jsx)(j.a,{item:!0,xs:4,children:Object(U.jsx)(ye.a,{badgeContent:x[e]+1,color:"skill"===e&&O.skillBoost||"burst"===e&&O.burstBoost?"info":"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& > .MuiBadge-badge":{fontSize:"1.25em",padding:".25em .4em",borderRadius:".5em",lineHeight:1,height:"1.25em"}},children:Object(U.jsx)(M.a,{component:"img",src:null===(t=a.getTalentOfKey(e,O.characterEle))||void 0===t?void 0:t.img,width:"100%",height:"auto"})})},e)}))}),Object(U.jsx)(b.a,{sx:{textAlign:"center",mt:1},variant:"h6",children:a.constellationName}),Object(U.jsx)(j.a,{container:!0,spacing:1,children:Object(fe.a)(Array(6).keys()).map((function(e){var t;return Object(U.jsx)(j.a,{item:!0,xs:4,children:Object(U.jsx)(M.a,{component:"img",src:null===(t=a.getTalentOfKey("constellation".concat(e+1),O.characterEle))||void 0===t?void 0:t.img,sx:Object(l.a)({cursor:"pointer"},r>e?{}:{filter:"brightness(50%)"}),width:"100%",height:"auto",onClick:function(){return h({constellation:e+1===r?e:e+1})}})},e)}))})]})]})}),Object(U.jsxs)(j.a,{item:!0,xs:12,md:9,sx:{"> div:not(:last-child)":{mb:1}},children:[Object(U.jsx)(Ce.default,{charData:{character:n,characterSheet:a,equippedBuild:d,newBuild:o,characterDispatch:h},weaponId:n.equippedWeapon}),Object(U.jsx)(Ne,{characterSheet:a,character:n,equippedBuild:d,newBuild:o})]})]})}var Ee=["eleMas","critRate_","critDMG_","enerRech_","heal_"],Ae=["characterATK","finalATK","finalHP","finalDEF"];Ae.push.apply(Ae,Ee);var Ke=["hp","hp_","def","def_","atk","atk_"];Ke.push.apply(Ke,Ee);var Te=[];he.e.forEach((function(e){Te.push("".concat(e,"_dmg_")),Te.push("".concat(e,"_res_"))})),Te.push("stamina","incHeal_","shield_","cdRed_");var Fe=["normal_dmg_","normal_critRate_","charged_dmg_","charged_critRate_","plunging_dmg_","plunging_critRate_","skill_dmg_","skill_critRate_","burst_dmg_","burst_critRate_","dmg_","electrocharged_dmg_","vaporize_dmg_","swirl_dmg_","moveSPD_","atkSPD_","weakspotDMG_"],Ve={characterATK:"Override Base ATK",characterHP:"Override Base HP",characterDEF:"Override Base DEF"},De={xs:12,sm:6,md:6,lg:4};function Ne(e){var t=e.characterSheet,a=e.character,n=e.character,c=n.key,r=n.level,i=n.ascension,s=e.equippedBuild,o=e.newBuild,u=Object(te.a)(c),d=t.getSpecializedStat(a.ascension),b=t.getSpecializedStatVal(a.ascension),h=z.b.getStatUnit(d),O={character:a,equippedBuild:s,newBuild:o};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Re,{character:a}),Object(U.jsx)(Me,{title:"Main Stats",content:Object(U.jsxs)(j.a,{container:!0,columnSpacing:{xs:2,lg:3},rowSpacing:1,children:[Ae.map((function(e){return Object(U.jsx)(j.a,Object(l.a)(Object(l.a)({item:!0},De),{},{children:Object(U.jsx)(ke.a,Object(l.a)({statKey:e},O))}),e)})),Object(U.jsxs)(j.a,Object(l.a)(Object(l.a)({item:!0},De),{},{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(U.jsxs)("span",{children:[Object(U.jsx)("b",{children:"Specialized:"})," ",Object(U.jsxs)("span",{children:[d&&we.a[d]," ",z.b.getStatName(d)]})]}),Object(U.jsx)("span",{children:"".concat(b.toFixed(z.b.fixedUnit(d))).concat(h)})]}))]}),editContent:Object(U.jsxs)(j.a,{container:!0,columnSpacing:2,rowSpacing:1,children:[re.b.map((function(e){var n,c=Math.round(t.getBase(e,r,i));return Object(U.jsx)(j.a,{item:!0,xs:12,lg:6,children:Object(U.jsx)(_e.a,{name:Object(U.jsxs)("span",{children:[we.a[e]," ",Ve[e]]}),placeholder:z.b.getStatNameRaw(e),value:null!==(n=a.bonusStats[e])&&void 0!==n?n:c,defaultValue:c,percent:"%"===z.b.getStatUnit(e),onValueChange:function(t){return u({type:"editStats",statKey:e,value:t})},onReset:function(){return u({type:"resetStats",statKey:e})}})},e)})),Ke.map((function(e){var t;return Object(U.jsx)(j.a,{item:!0,xs:12,lg:6,children:Object(U.jsx)(_e.a,{name:Object(U.jsxs)("span",{children:[we.a[e]," ",z.b.getStatNameWithPercent(e)]}),placeholder:z.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===z.b.getStatUnit(e),onValueChange:function(t){return u({type:"editStats",statKey:e,value:t})}})},e)}))]})}),Object(U.jsx)(Me,{title:"Other Stats",content:Object(U.jsx)(j.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Te.map((function(e){return Object(m.createElement)(j.a,Object(l.a)(Object(l.a)({item:!0},De),{},{key:e}),Object(U.jsx)(ke.a,Object(l.a)({statKey:e},O)))}))}),editContent:Object(U.jsx)(j.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Te.map((function(e){var t;return Object(U.jsx)(j.a,{item:!0,xs:12,lg:6,children:Object(U.jsx)(_e.a,{name:Object(U.jsxs)("span",{children:[we.a[e]," ",z.b.getStatName(e)]}),placeholder:z.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:"stamina"===e?100:0,percent:"%"===z.b.getStatUnit(e),defaultValue:"stamina"===e?100:void 0,onValueChange:function(t){return u({type:"editStats",statKey:e,value:t})}})},e)}))})}),Object(U.jsx)(Me,{title:"Misc Stats",content:Object(U.jsx)(j.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Fe.map((function(e){return Object(m.createElement)(j.a,Object(l.a)(Object(l.a)({item:!0},De),{},{key:e}),Object(U.jsx)(ke.a,Object(l.a)({statKey:e},O)))}))}),editContent:Object(U.jsx)(j.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Fe.map((function(e){var t;return Object(U.jsx)(j.a,{item:!0,xs:12,lg:6,children:Object(U.jsx)(_e.a,{name:Object(U.jsxs)("span",{children:[we.a[e]," ",z.b.getStatName(e)]}),placeholder:z.b.getStatNameRaw(e),value:null!==(t=a.bonusStats[e])&&void 0!==t?t:0,percent:"%"===z.b.getStatUnit(e),onValueChange:function(t){return u({type:"editStats",statKey:e,value:t})}})},e)}))})})]})}function Me(e){var t=e.title,a=e.content,n=e.editContent,c=Object(m.useState)(!1),r=Object(i.a)(c,2),l=r[0],s=r[1];return Object(U.jsxs)(S.a,{children:[Object(U.jsx)(u.a,{sx:{py:1},children:Object(U.jsxs)(M.a,{display:"flex",justifyContent:"space-between",children:[Object(U.jsx)(b.a,{variant:"subtitle1",children:t}),Object(U.jsx)(f.a,{size:"small",color:l?"error":"info",onClick:function(){return s(!l)},children:Object(U.jsxs)("span",{children:[Object(U.jsx)(pe.a,{icon:l?ve.w:ve.m})," ",l?"EXIT":"Edit Stats"]})})]})}),Object(U.jsx)(x.a,{}),Object(U.jsx)(u.a,{children:l?n:a})]})}function Re(e){var t=e.character,a=Object(m.useContext)(y.a),n=a.newBuild,c=a.equippedBuild,r=n||c;return Object.keys(r.partyBuff).length?Object(U.jsxs)(S.a,{children:[Object(U.jsx)(u.a,{children:"Team Buffs"}),Object(U.jsx)(x.a,{}),Object(U.jsx)(u.a,{children:Object(U.jsx)(j.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Object.entries(r.partyBuff).map((function(e){var a=Object(i.a)(e,2),r=a[0];a[1];return Object(m.createElement)(j.a,Object(l.a)(Object(l.a)({item:!0},De),{},{key:r}),Object(U.jsx)(ke.a,{character:t,newBuild:n,equippedBuild:c,statKey:r,partyBuff:!0}))}))})})]}):null}var We=a(410),Ie=a(300),qe=a(304),ze=a(305),Le=a(47);function Pe(e){var t=e.characterSheet,a=e.character,n=e.character,c=n.ascension,r=n.constellation,l=n.key,s=Object(m.useContext)(y.a),o=s.newBuild,u=s.equippedBuild,d=Object(te.a)(l),h=o||u;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Ue,{characterSheet:t}),Object(U.jsxs)(j.a,{container:!0,spacing:1,sx:{mb:1},children:[[["auto","Normal/Charged Attack"],["skill","Elemental Skill"],["burst","Elemental Burst"]].map((function(e){var n=Object(i.a)(e,2),c=n[0],r=n[1];return Object(U.jsx)(j.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:c,subtitle:r})},c)})),!!t.getTalentOfKey("sprint",null===h||void 0===h?void 0:h.characterEle)&&Object(U.jsx)(j.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:"sprint",subtitle:"Alternative Sprint"})}),!!t.getTalentOfKey("passive",null===h||void 0===h?void 0:h.characterEle)&&Object(U.jsx)(j.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:"passive",subtitle:"Passive"})})]}),Object(U.jsx)(j.a,{container:!0,spacing:1,children:[["passive1","Unlocked at Ascension 1",1],["passive2","Unlocked at Ascension 4",4],["passive3","Unlocked by Default",0]].map((function(e){var n=Object(i.a)(e,3),r=n[0],l=n[1],s=n[2],o=c>=s;return t.getTalentOfKey(r,null===h||void 0===h?void 0:h.characterEle)?Object(U.jsx)(j.a,{item:!0,style:{opacity:o?1:.5},xs:12,md:4,children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:r,subtitle:l})},r):null}))}),Object(U.jsxs)(b.a,{variant:"h6",sx:{textAlign:"center"},children:["Constellation Lv. ",r]}),Object(U.jsx)(j.a,{container:!0,spacing:1,children:Object(fe.a)(Array(6).keys()).map((function(e){var n="constellation".concat(e+1);return Object(U.jsx)(j.a,{item:!0,xs:12,md:4,sx:{opacity:r>e?1:.5},children:Object(U.jsx)(Ye,{characterSheet:t,character:a,characterDispatch:d,talentKey:n,subtitle:"Contellation Lv. ".concat(e+1),onClickTitle:function(){return d({constellation:e+1===r?e:e+1})}})},e)}))})]})}var Ge={superconduct_hit:function(e){var t,a=e.stats,n="superconduct_hit";return Object(U.jsx)(g.a,{children:Object(U.jsx)(u.a,{sx:{p:1},children:Object(U.jsxs)(b.a,{color:"superconduct.main",children:[z.b.getStatName(n)," ",we.a.electro,"+",we.a.cryo," ",Object(U.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(n))})]})})})},electrocharged_hit:function(e){var t,a=e.stats,n="electrocharged_hit";return Object(U.jsx)(g.a,{children:Object(U.jsx)(u.a,{sx:{p:1},children:Object(U.jsxs)(b.a,{color:"electrocharged.main",children:[z.b.getStatName(n)," ",we.a.electro,"+",we.a.hydro," ",Object(U.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(n))})]})})})},overloaded_hit:function(e){var t,a=e.stats,n="overloaded_hit";return Object(U.jsx)(g.a,{children:Object(U.jsx)(u.a,{sx:{p:1},children:Object(U.jsxs)(b.a,{color:"overloaded.main",children:[z.b.getStatName(n)," ",we.a.electro,"+",we.a.pyro," ",Object(U.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(n))})]})})})},pyro_swirl_hit:Je,cryo_swirl_hit:Je,electro_swirl_hit:Je,hydro_swirl_hit:Je,shattered_hit:function(e){var t,a=e.stats,n="shattered_hit",c=Object(U.jsx)(Ie.a,{placement:"top",title:Object(U.jsxs)(b.a,{children:["Claymores, Plunging Attacks and ",Object(U.jsx)(_.a,{color:"geo",children:"Geo DMG"})]}),children:Object(U.jsx)(M.a,{component:"span",sx:{cursor:"help"},children:Object(U.jsx)(pe.a,{icon:ve.v})})});return Object(U.jsx)(g.a,{children:Object(U.jsx)(u.a,{sx:{p:1},children:Object(U.jsxs)(_.a,{color:"shattered",children:[z.b.getStatName(n)," ",we.a.hydro,"+",we.a.cryo,"+ ",Object(U.jsx)(_.a,{color:"physical",children:Object(U.jsxs)("small",{children:["Heavy Attack",c," "]})})," ",Object(U.jsx)("strong",{children:null===(t=a[n])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(n))})]})})})},crystalize_hit:function(e){var t,a=e.stats,n=Object(m.useState)(Object.keys(Xe)[0]),c=Object(i.a)(n,2),r=c[0],l=c[1],s="default"===r?"crystalize_hit":"".concat(r,"_crystalize_hit");return Object(U.jsxs)(g.a,{sx:{display:"flex"},children:[Object(U.jsx)(E.a,{size:"small",title:Xe[r],color:"success",children:Object.entries(Xe).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(U.jsx)(p.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:n},a)}))}),Object(U.jsx)(M.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(U.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(s))})})]})}};function Ue(e){var t=e.characterSheet,a=Object(m.useContext)(y.a),n=a.newBuild,c=a.equippedBuild,r=n||c;if(!r)return null;var i=r.characterEle,l=Object(fe.a)(Le.a[i]||[]);return l.includes("shattered_hit")||"claymore"!==t.weaponTypeKey||l.push("shattered_hit"),Object(U.jsx)(S.a,{sx:{mb:1},children:Object(U.jsx)(u.a,{children:Object(U.jsx)(j.a,{container:!0,spacing:1,children:l.map((function(e){var t=Ge[e];return t?Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(t,{stats:r})},e):null}))})})})}var He={pyro:Object(U.jsxs)("span",{children:[z.b.getStatName("pyro_swirl_hit")," ",we.a.pyro," + ",we.a.anemo]}),electro:Object(U.jsxs)("span",{children:[z.b.getStatName("electro_swirl_hit")," ",we.a.electro,"+",we.a.anemo]}),cryo:Object(U.jsxs)("span",{children:[z.b.getStatName("cryo_swirl_hit")," ",we.a.cryo," + ",we.a.anemo]}),hydro:Object(U.jsxs)("span",{children:[z.b.getStatName("hydro_swirl_hit")," ",we.a.hydro," + ",we.a.anemo]})};function Je(e){var t,a=e.stats,n=Object(m.useState)(Object.keys(He)[0]),c=Object(i.a)(n,2),r=c[0],l=c[1],s="".concat(r,"_swirl_hit");return Object(U.jsxs)(g.a,{sx:{display:"flex"},children:[Object(U.jsx)(E.a,{size:"small",title:He[r],color:"success",children:Object.entries(He).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(U.jsx)(p.a,{selected:r===a,disabled:r===a,onClick:function(){return l(a)},children:n},a)}))}),Object(U.jsx)(M.a,{sx:{color:"".concat(r,".main"),p:1},children:Object(U.jsx)("strong",{children:null===(t=a[s])||void 0===t?void 0:t.toFixed(z.b.fixedUnit(s))})})]})}var Xe={default:Object(U.jsxs)(_.a,{color:"crystalize",children:[z.b.getStatName("crystalize_hit")," ",we.a.electro,"/",we.a.hydro,"/",we.a.pyro,"/",we.a.cryo,"+",we.a.geo]}),pyro:Object(U.jsxs)("span",{children:[z.b.getStatName("pyro_crystalize_hit")," ",we.a.pyro,"+",we.a.geo]}),electro:Object(U.jsxs)("span",{children:[z.b.getStatName("electro_crystalize_hit")," ",we.a.electro,"+",we.a.geo]}),cryo:Object(U.jsxs)("span",{children:[z.b.getStatName("cryo_crystalize_hit")," ",we.a.cryo,"+",we.a.geo]}),hydro:Object(U.jsxs)("span",{children:[z.b.getStatName("hydro_crystalize_hit")," ",we.a.hydro,"+",we.a.geo]})};var Qe=[1,1,2,4,6,8,10];function Ye(e){var t=e.characterSheet,a=e.character,n=a.talent,c=a.ascension,r=a.key,i=e.characterDispatch,l=e.talentKey,s=e.subtitle,o=e.onClickTitle,d=Object(m.useContext)(y.a),h=d.newBuild,O=d.equippedBuild,f=h||O,v=Object(m.useCallback)((function(e){return Object(U.jsx)(We.a,{onClick:o,children:e})}),[o]);if(!f)return null;var g=null;if(l in n){var k,w=null!==(k=f["".concat(l,"Boost")])&&void 0!==k?k:0,C=n[l]+w;g=Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(u.a,{sx:{py:1},children:Object(U.jsx)(E.a,{fullWidth:!0,title:"Talent Lv. ".concat(C),color:w?"info":"primary",children:Object(fe.a)(Array(Qe[c]).keys()).map((function(e){return Object(U.jsxs)(p.a,{selected:n[l]===e+1,disabled:n[l]===e+1,onClick:function(){return t=e+1,n[l]=t,void i({talent:n});var t},children:["Talent Lv. ",e+w+1]},e)}))})}),Object(U.jsx)(x.a,{})]})}var _=t.getTalentOfKey(l,f.characterEle);return Object(U.jsxs)(S.a,{sx:{height:"100%"},children:[g,Object(U.jsxs)(u.a,{children:[Object(U.jsx)(qe.a,{condition:!!o,wrapper:v,children:Object(U.jsxs)(j.a,{container:!0,sx:{flexWrap:"nowrap"},children:[Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(M.a,{component:"img",src:null===_||void 0===_?void 0:_.img,sx:{width:60,height:"auto"}})}),Object(U.jsxs)(j.a,{item:!0,flexGrow:1,sx:{pl:1},children:[Object(U.jsx)(b.a,{variant:"h6",children:null===_||void 0===_?void 0:_.name}),Object(U.jsx)(b.a,{variant:"subtitle1",children:s})]})]})}),(null===_||void 0===_?void 0:_.sections)?Object(U.jsx)(ze.a,{sections:_.sections,characterKey:r}):null]})]})}var Ze=a(546),$e=a(442),et=a(292),tt=a(318),at=a(114),nt=a(231),ct=a(336);function rt(e){var t=e.character,a=e.character,n=a.key,c=(a.team,Object(m.useContext)(y.a)),r=c.newBuild,i=c.equippedBuild,l=r||i,s=Object(ce.a)();return Object(U.jsxs)($e.a,{display:"flex",flexDirection:"column",gap:1,alignItems:"stretch",children:[Object(U.jsx)(lt,{character:t}),Object(U.jsx)(st,{characterKey:n,build:l}),Object(U.jsx)(j.a,{container:!0,spacing:1,children:s&&l.teamStats.map((function(e,a){return Object(U.jsx)(j.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsx)(ot,{character:t,sheets:s,index:a})},a)}))})]})}var it={xs:12,sm:6,md:6,lg:4};function lt(e){var t=e.character,a=Object(m.useContext)(y.a),n=a.newBuild,c=a.equippedBuild,r=n||c;return Object.keys(r.partyBuff).length?Object(U.jsxs)(S.a,{children:[Object(U.jsx)(u.a,{children:"Team Buffs"}),Object(U.jsx)(x.a,{}),Object(U.jsx)(u.a,{children:Object(U.jsx)(j.a,{container:!0,columnSpacing:2,rowSpacing:1,children:Object.entries(r.partyBuff).map((function(e){var a=Object(i.a)(e,2),r=a[0];a[1];return Object(m.createElement)(j.a,Object(l.a)(Object(l.a)({item:!0},it),{},{key:r}),Object(U.jsx)(ke.a,{character:t,newBuild:n,equippedBuild:c,statKey:r,partyBuff:!0}))}))})})]}):null}function st(e){var t=e.build,a=e.characterKey,n=Object(te.a)(a);return Object(U.jsxs)(S.a,{children:[Object(U.jsx)(u.a,{children:"Team Resonance"}),Object(U.jsx)(x.a,{}),Object(U.jsx)(u.a,{children:Object(U.jsx)(j.a,{container:!0,spacing:1,children:nt.default.map((function(e,a){var c,r,i;return Object(U.jsx)(j.a,{item:!0,xs:12,md:6,lg:4,children:Object(U.jsxs)(g.a,{sx:{opacity:e.canShow(t)?1:.5,height:"100%"},children:[Object(U.jsx)(F.a,{avatar:null===e||void 0===e||null===(c=e.header)||void 0===c?void 0:c.icon,title:null===e||void 0===e||null===(r=e.header)||void 0===r?void 0:r.title,action:null===e||void 0===e||null===(i=e.header)||void 0===i?void 0:i.action,titleTypographyProps:{variant:"subtitle2"}}),Object(U.jsx)(x.a,{}),Object(U.jsx)(u.a,{children:e.description}),e.conditionals.map((function(e){return Object(U.jsx)(tt.a,{conditional:e,stats:t,onChange:function(e){return n({conditionalValues:e})}},e.key)}))]})},a)}))})})]})}function ot(e){var t,a,n,c=e.character,r=e.character,i=r.key,l=r.team,s=e.sheets,o=e.index,j=Object(ae.a)(),d=Object(te.a)(i),b=Object(m.useContext)(y.a),h=b.newBuild,O=b.equippedBuild,x=null===O||void 0===O?void 0:O.teamStats[o];return Object(U.jsx)(y.a.Provider,{value:{equippedBuild:null!==(t=null===O||void 0===O?void 0:O.teamStats[o])&&void 0!==t?t:void 0,newBuild:null!==(a=null===h||void 0===h?void 0:h.teamStats[o])&&void 0!==a?a:void 0},children:Object(U.jsxs)(S.a,{children:[Object(U.jsx)(u.a,{children:Object(U.jsx)(et.b,{fullWidth:!0,value:null!==(n=null===x||void 0===x?void 0:x.characterKey)&&void 0!==n?n:"",onChange:function(e){return d({type:"team",index:o,charKey:e})},filter:function(e,t){return t!==i&&!l.includes(t)},unSelectText:"Teammate ".concat(o+1),unSelectIcon:Object(U.jsx)(Ze.a,{})})}),x&&Object(U.jsx)(ct.a,{characterKey:x.characterKey,onClickHeader:j,build:x,artifactChildren:Object(U.jsx)(ut,{condCharStats:x}),weaponChildren:Object(U.jsx)(jt,{condCharStats:x}),footer:s&&c&&Object(U.jsx)(dt,{condCharStats:x,character:c,sheets:s})})]})})}function ut(e){var t=e.condCharStats,a=Object(te.a)(t.characterKey);return Object(U.jsx)($e.a,{children:Object.entries(t.setToSlots).map((function(e){var n,c,r,l=Object(i.a)(e,2),s=l[0],o=l[1];return Object.entries(null!==(n=null===(c=at.a.partyConditionals)||void 0===c||null===(r=c.artifact)||void 0===r?void 0:r[s])&&void 0!==n?n:{}).filter((function(e){var t=Object(i.a)(e,2),a=t[0];t[1];return parseInt(a)<=o.length})).flatMap((function(e){var n=Object(i.a)(e,2),c=(n[0],n[1]);return Object.entries(c).map((function(e){var n=Object(i.a)(e,2),c=(n[0],n[1]);return Object(U.jsx)(tt.a,{conditional:c,stats:t,onChange:function(e){return a({conditionalValues:e})}},c.key)}))}))}))})}function jt(e){var t,a,n,c=e.condCharStats,r=Object(te.a)(c.characterKey);return Object(U.jsx)($e.a,{children:Object.entries(null!==(t=null===(a=at.a.partyConditionals)||void 0===a||null===(n=a.weapon)||void 0===n?void 0:n[c.weapon.key])&&void 0!==t?t:{}).map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return Object(U.jsx)(tt.a,{conditional:a,stats:c,onChange:function(e){return r({conditionalValues:e})}},a.key)}))})}function dt(e){e.character;var t,a,n,c=e.condCharStats,r=(e.sheets,Object(te.a)(c.characterKey)),l=c.characterKey,s="Traveler"===l?"Traveler_".concat(c.characterEle):l,o=Object.entries(null!==(t=null===(a=at.a.partyConditionals)||void 0===a||null===(n=a.character)||void 0===n?void 0:n[s])&&void 0!==t?t:{}).filter((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return at.a.canShow(a,c)}));return Object(U.jsx)(u.a,{sx:{display:"flex",flexDirection:"column",gap:1,pt:0},children:o.map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(U.jsx)(tt.a,{conditional:n,stats:c,onChange:function(e){return r({conditionalValues:e})}},a)}))})}var bt=a(138);function ht(e){var t=e.children,a=e.current,n=e.value,c=Object(s.a)(e,["children","current","value"]);return n!==a?null:Object(U.jsx)(m.Suspense,{fallback:Object(U.jsx)(o.a,{variant:"rectangular",width:"100%",height:1e3}),children:Object(U.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),{},{children:t}))})}function Ot(e){var t,a,n,l=e.characterKey,s=e.footer,o=e.newBuild,f=e.onClose,v=e.tabName,p=e.isFlex,k=e.compareBuild,w=Object(m.useContext)($.b),_=Object(m.useState)(null!==k&&void 0!==k&&k),B=Object(i.a)(_,2),E=B[0],K=B[1],T=Object(ee.a)(l),F=Object(ne.a)(),V=Object(i.a)(F,2),D=V[0],N=V[1];Object(m.useEffect)((function(){"boolean"===typeof k&&K(k)}),[k,K]);var M=Object(ce.a)(),I=null!==(t=null===T||void 0===T?void 0:T.team)&&void 0!==t?t:[],q=Object(i.a)(I,3),z=q[0],L=q[1],P=q[2];Object(m.useEffect)((function(){return z?w.followChar(z,N):void 0}),[z,N,w]),Object(m.useEffect)((function(){return L?w.followChar(L,N):void 0}),[L,N,w]),Object(m.useEffect)((function(){return P?w.followChar(P,N):void 0}),[P,N,w]),Object(m.useEffect)((function(){l&&(w._getChar(l)||Object(r.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(W.b)(l),w.updateChar(t),e.next=4,bt.b.get(l);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return");case 7:n=Object(le.a)(a.weaponTypeKey),r=w.createWeapon(n),w.setWeaponLocation(r,l);case 10:case"end":return e.stop()}}),e)})))())}),[w,l]);var G=null===M||void 0===M||null===(a=M.characterSheets)||void 0===a?void 0:a[null!==l&&void 0!==l?l:""];Object(m.useEffect)((function(){return T&&w.followWeapon(T.equippedWeapon,N)}),[T,null===T||void 0===T?void 0:T.equippedWeapon,N,w]);var J=Object(m.useMemo)((function(){if(o)return Object(re.c)(o)}),[o]),X=Object(m.useState)(v||(J?"newartifacts":"character")),Y=Object(i.a)(X,2),Z=Y[0],te=Y[1],ae=Object(m.useCallback)((function(e,t){return te(t)}),[te]),ie=null!==(n=null===J||void 0===J?void 0:J.mainStatAssumptionLevel)&&void 0!==n?n:0,se=Object(m.useMemo)((function(){return T&&D&&M&&R.a.calculateBuild(T,w,M,ie)}),[D,T,M,ie,w]);return T?Object(U.jsx)(g.a,{children:Object(U.jsxs)(y.a.Provider,{value:{newBuild:J,equippedBuild:se,compareBuild:E,setCompareBuild:K},children:[Object(U.jsxs)(u.a,{sx:{"> div:not(:last-child)":{mb:1}},children:[Object(U.jsxs)(j.a,{container:!0,spacing:1,children:[Object(U.jsx)(j.a,{item:!0,flexGrow:1,children:Object(U.jsx)(xt,{characterSheet:G,character:T})}),!!ie&&Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(d.a,{sx:{p:1,bgcolor:function(e){return e.palette.warning.dark}},children:Object(U.jsx)(b.a,{children:Object(U.jsxs)("strong",{children:["Assume Main Stats are Level ",ie]})})})}),!!f&&Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(C.a,{onClick:f})})]}),Object(U.jsx)(S.a,{children:Object(U.jsxs)(h.a,{onChange:ae,value:Z,variant:"fullWidth",children:[Object(U.jsx)(O.a,{value:"character",label:"Character"}),!!J&&Object(U.jsx)(O.a,{value:"newartifacts",label:"New Artifacts"}),Object(U.jsx)(O.a,{value:"artifacts",label:J?"Current Artifacts":"Artifacts"}),!p&&Object(U.jsx)(O.a,{value:"buffs",label:"Team Buffs"}),Object(U.jsx)(O.a,{value:"talent",label:"Talents"})]})}),Object(U.jsx)(Q.a,{character:T}),M&&Object(U.jsx)(H,{sheets:M}),Object(U.jsx)(A.b,{character:T}),G&&Object(U.jsx)(ht,{value:"character",current:Z,children:Object(U.jsx)(Be,{characterSheet:G,character:T})}),M&&Object(U.jsx)(y.a.Provider,{value:{newBuild:void 0,equippedBuild:se,compareBuild:E,setCompareBuild:K},children:Object(U.jsx)(ht,{value:"artifacts",current:Z,children:Object(U.jsx)(xe,{character:T,sheets:M})})}),J&&M&&Object(U.jsx)(ht,{value:"newartifacts",current:Z,children:Object(U.jsx)(xe,{character:T,sheets:M})}),G&&Object(U.jsx)(ht,{value:"buffs",current:Z,children:Object(U.jsx)(rt,{characterSheet:G,character:T})}),G&&Object(U.jsx)(ht,{value:"talent",current:Z,children:Object(U.jsx)(Pe,{characterSheet:G,character:T})})]}),!!s&&Object(U.jsx)(x.a,{}),s&&Object(U.jsx)(u.a,{children:s})]})}):Object(U.jsx)(U.Fragment,{})}function xt(e){var t,a=e.characterSheet,n=e.character,c=e.character,r=c.key,l=c.elementKey,s=void 0===l?"anemo":l,o=c.level,u=void 0===o?1:o,d=c.ascension,h=void 0===d?0:d,O=e.disabled,x=Object(m.useState)(!1),y=Object(i.a)(x,2),g=y[0],S=y[1],C=Object(ae.a)(),A=Object(te.a)(r),K=a?Object(U.jsxs)("span",{children:[Object(U.jsx)(G.a,{src:a.thumbImg,sx:{mr:1}}),a.name]}):Object(U.jsx)("span",{children:"Select a Character"}),T=Object(m.useCallback)((function(e){e=Object(ie.a)(e,1,90);var t=Z.b.findIndex((function(t){return e<=t}));A({level:e,ascension:t})}),[A]),F=Object(m.useCallback)((function(){var e=Z.b.findIndex((function(e){return 90!==u&&u===e}));A(h===e?{ascension:h+1}:{ascension:e})}),[A,h,u]);return Object(U.jsx)(U.Fragment,{children:O?Object(U.jsxs)(b.a,{variant:"h6",children:[K," ",a&&R.a.getLevelString(n)]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(k.a,{show:g,onHide:function(){return S(!1)},onSelect:C}),Object(U.jsxs)(j.a,{container:!0,spacing:1,children:[Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(f.a,{onClick:function(){return S(!0)},startIcon:Object(U.jsx)(w.a,{src:null===a||void 0===a?void 0:a.thumbImgSide}),children:null!==(t=null===a||void 0===a?void 0:a.name)&&void 0!==t?t:"Select a Character"})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsxs)(v.a,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[(null===a||void 0===a?void 0:a.sheet)&&"talents"in(null===a||void 0===a?void 0:a.sheet)&&Object(U.jsx)(E.a,{title:Object(U.jsx)("strong",{children:Object(U.jsx)(_.a,{color:s,children:Object(Y.h)("element.".concat(s))})}),children:Object.keys(a.sheet.talents).map((function(e){return Object(U.jsx)(p.a,{selected:s===e,disabled:s===e,onClick:function(){return A({elementKey:e})},children:Object(U.jsx)("strong",{children:Object(U.jsx)(_.a,{color:e,children:Object(Y.h)("element.".concat(e))})})},e)}))}),Object(U.jsx)(B.a,{children:Object(U.jsx)(B.c,{onChange:T,value:u,startAdornment:"Lvl. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2},disabled:!a})}),Object(U.jsx)(f.a,{sx:{pl:1},disabled:!Object(Z.a)(u)||!a,onClick:F,children:Object(U.jsxs)("strong",{children:["/ ",Z.b[h]]})}),Object(U.jsx)(E.a,{title:"Select Level",disabled:!a,children:Z.c.map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1],c=a===Z.b[n]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(Z.b[n]),r=a===u&&n===h;return Object(U.jsx)(p.a,{selected:r,disabled:r,onClick:function(){return A({level:a,ascension:n})},children:c},"".concat(a,"/").concat(n))}))})]})})]})]})})}}}]);
//# sourceMappingURL=16.4255c07d.chunk.js.map